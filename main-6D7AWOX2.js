var _w=Object.create;var yu=Object.defineProperty,vw=Object.defineProperties,yw=Object.getOwnPropertyDescriptor,Cw=Object.getOwnPropertyDescriptors,ww=Object.getOwnPropertyNames,ug=Object.getOwnPropertySymbols,Ew=Object.getPrototypeOf,fg=Object.prototype.hasOwnProperty,Dw=Object.prototype.propertyIsEnumerable;var dg=(e,n,t)=>n in e?yu(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,S=(e,n)=>{for(var t in n||={})fg.call(n,t)&&dg(e,t,n[t]);if(ug)for(var t of ug(n))Dw.call(n,t)&&dg(e,t,n[t]);return e},ne=(e,n)=>vw(e,Cw(n));var bw=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Sw=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of ww(n))!fg.call(e,i)&&i!==t&&yu(e,i,{get:()=>n[i],enumerable:!(r=yw(n,i))||r.enumerable});return e};var Iw=(e,n,t)=>(t=e!=null?_w(Ew(e)):{},Sw(n||!e||!e.__esModule?yu(t,"default",{value:e,enumerable:!0}):t,e));var Tt=(e,n,t)=>new Promise((r,i)=>{var o=a=>{try{l(t.next(a))}catch(c){i(c)}},s=a=>{try{l(t.throw(a))}catch(c){i(c)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,s);l((t=t.apply(e,n)).next())});var AC=bw((Wp,qp)=>{"use strict";((e,n)=>{typeof define=="function"&&define.amd?define([],n):typeof qp=="object"&&typeof Wp<"u"?qp.exports=n():e.Papa=n()})(Wp,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},t,r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},s=0,l={};function a(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(d){var v=U(d);v.chunkSize=parseInt(v.chunkSize),d.step||d.chunk||(v.chunkSize=null),this._handle=new m(v),(this._handle.streamer=this)._config=v}).call(this,_),this.parseChunk=function(d,v){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let W=this._config.newline;W||(T=this._config.quoteChar||'"',W=this._handle.guessLineEndings(d,T)),d=[...d.split(W).slice(M)].join(W)}this.isFirstChunk&&z(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(d))!==void 0&&(d=T),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+d,T=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(d=T.meta.cursor,M=(this._finished||(this._partialLine=M.substring(d-this._baseIndex),this._baseIndex=d),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:T,workerId:l.WORKER_ID,finished:M});else if(z(this._config.chunk)&&!v){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!M||!z(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(d){z(this._config.error)?this._config.error(d):i&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:d,finished:!1})}}function c(_){var d;(_=_||{}).chunkSize||(_.chunkSize=l.RemoteChunkSize),a.call(this,_),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(v){this._input=v,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),r||(d.onload=G(this._chunkLoaded,this),d.onerror=G(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var v,M=this._config.downloadRequestHeaders;for(v in M)d.setRequestHeader(v,M[v])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,d.setRequestHeader("Range","bytes="+this._start+"-"+T));try{d.send(this._config.downloadRequestBody)}catch(W){this._chunkError(W.message)}r&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize||d.responseText.length,this._finished=!this._config.chunkSize||this._start>=(v=>(v=v.getResponseHeader("Content-Range"))!==null?parseInt(v.substring(v.lastIndexOf("/")+1)):-1)(d),this.parseChunk(d.responseText)))},this._chunkError=function(v){v=d.statusText||v,this._sendError(new Error(v))}}function u(_){(_=_||{}).chunkSize||(_.chunkSize=l.LocalChunkSize),a.call(this,_);var d,v,M=typeof FileReader<"u";this.stream=function(T){this._input=T,v=T.slice||T.webkitSlice||T.mozSlice,M?((d=new FileReader).onload=G(this._chunkLoaded,this),d.onerror=G(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,W=(this._config.chunkSize&&(W=Math.min(this._start+this._config.chunkSize,this._input.size),T=v.call(T,this._start,W)),d.readAsText(T,this._config.encoding));M||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(d.error)}}function f(_){var d;a.call(this,_=_||{}),this.stream=function(v){return d=v,this._nextChunk()},this._nextChunk=function(){var v,M;if(!this._finished)return v=this._config.chunkSize,d=v?(M=d.substring(0,v),d.substring(v)):(M=d,""),this._finished=!d,this.parseChunk(M)}}function C(_){a.call(this,_=_||{});var d=[],v=!0,M=!1;this.pause=function(){a.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){a.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):v=!0},this._streamData=G(function(T){try{d.push(typeof T=="string"?T:T.toString(this._config.encoding)),v&&(v=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(W){this._streamError(W)}},this),this._streamError=G(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=G(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=G(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(_){var d,v,M,T,W=Math.pow(2,53),_e=-W,ve=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,R=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,x=this,L=0,$=0,we=!1,Z=!1,J=[],K={data:[],errors:[],meta:{}};function Ye(he){return _.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function ke(){if(K&&M&&(Ct("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),M=!1),_.skipEmptyLines&&(K.data=K.data.filter(function(je){return!Ye(je)})),Re()){let je=function(nt,Be){z(_.transformHeader)&&(nt=_.transformHeader(nt,Be)),J.push(nt)};var pe=je;if(K)if(Array.isArray(K.data[0])){for(var he=0;Re()&&he<K.data.length;he++)K.data[he].forEach(je);K.data.splice(0,1)}else K.data.forEach(je)}function be(je,nt){for(var Be=_.header?{}:[],Ae=0;Ae<je.length;Ae++){var ge=Ae,ut=je[Ae],ut=((Te,He)=>(et=>(_.dynamicTypingFunction&&_.dynamicTyping[et]===void 0&&(_.dynamicTyping[et]=_.dynamicTypingFunction(et)),(_.dynamicTyping[et]||_.dynamicTyping)===!0))(Te)?He==="true"||He==="TRUE"||He!=="false"&&He!=="FALSE"&&((et=>{if(ve.test(et)&&(et=parseFloat(et),_e<et&&et<W))return 1})(He)?parseFloat(He):R.test(He)?new Date(He):He===""?null:He):He)(ge=_.header?Ae>=J.length?"__parsed_extra":J[Ae]:ge,ut=_.transform?_.transform(ut,ge):ut);ge==="__parsed_extra"?(Be[ge]=Be[ge]||[],Be[ge].push(ut)):Be[ge]=ut}return _.header&&(Ae>J.length?Ct("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+Ae,$+nt):Ae<J.length&&Ct("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+Ae,$+nt)),Be}var qe;K&&(_.header||_.dynamicTyping||_.transform)&&(qe=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(be),qe=K.data.length):K.data=be(K.data,0),_.header&&K.meta&&(K.meta.fields=J),$+=qe)}function Re(){return _.header&&J.length===0}function Ct(he,be,qe,pe){he={type:he,code:be,message:qe},pe!==void 0&&(he.row=pe),K.errors.push(he)}z(_.step)&&(T=_.step,_.step=function(he){K=he,Re()?ke():(ke(),K.data.length!==0&&(L+=he.data.length,_.preview&&L>_.preview?v.abort():(K.data=K.data[0],T(K,x))))}),this.parse=function(he,be,qe){var pe=_.quoteChar||'"',pe=(_.newline||(_.newline=this.guessLineEndings(he,pe)),M=!1,_.delimiter?z(_.delimiter)&&(_.delimiter=_.delimiter(he),K.meta.delimiter=_.delimiter):((pe=((je,nt,Be,Ae,ge)=>{var ut,Te,He,et;ge=ge||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var di=0;di<ge.length;di++){for(var pn,To=ge[di],dt=0,gn=0,rt=0,It=(He=void 0,new V({comments:Ae,delimiter:To,newline:nt,preview:10}).parse(je)),Ln=0;Ln<It.data.length;Ln++)Be&&Ye(It.data[Ln])?rt++:(pn=It.data[Ln].length,gn+=pn,He===void 0?He=pn:0<pn&&(dt+=Math.abs(pn-He),He=pn));0<It.data.length&&(gn/=It.data.length-rt),(Te===void 0||dt<=Te)&&(et===void 0||et<gn)&&1.99<gn&&(Te=dt,ut=To,et=gn)}return{successful:!!(_.delimiter=ut),bestDelimiter:ut}})(he,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=pe.bestDelimiter:(M=!0,_.delimiter=l.DefaultDelimiter),K.meta.delimiter=_.delimiter),U(_));return _.preview&&_.header&&pe.preview++,d=he,v=new V(pe),K=v.parse(d,be,qe),ke(),we?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return we},this.pause=function(){we=!0,v.abort(),d=z(_.chunk)?"":d.substring(v.getCharIndex())},this.resume=function(){x.streamer._halted?(we=!1,x.streamer.parseChunk(d,!0)):setTimeout(x.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,v.abort(),K.meta.aborted=!0,z(_.complete)&&_.complete(K),d=""},this.guessLineEndings=function(je,pe){je=je.substring(0,1048576);var pe=new RegExp(b(pe)+"([^]*?)"+b(pe),"gm"),qe=(je=je.replace(pe,"")).split("\r"),pe=je.split(`
`),je=1<pe.length&&pe[0].length<qe[0].length;if(qe.length===1||je)return`
`;for(var nt=0,Be=0;Be<qe.length;Be++)qe[Be][0]===`
`&&nt++;return nt>=qe.length/2?`\r
`:"\r"}}function b(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function V(_){var d=(_=_||{}).delimiter,v=_.newline,M=_.comments,T=_.step,W=_.preview,_e=_.fastMode,ve=null,R=!1,x=_.quoteChar==null?'"':_.quoteChar,L=x;if(_.escapeChar!==void 0&&(L=_.escapeChar),(typeof d!="string"||-1<l.BAD_DELIMITERS.indexOf(d))&&(d=","),M===d)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<l.BAD_DELIMITERS.indexOf(M))&&(M=!1),v!==`
`&&v!=="\r"&&v!==`\r
`&&(v=`
`);var $=0,we=!1;this.parse=function(Z,J,K){if(typeof Z!="string")throw new Error("Input must be a string");var Ye=Z.length,ke=d.length,Re=v.length,Ct=M.length,he=z(T),be=[],qe=[],pe=[],je=$=0;if(!Z)return dt();if(_e||_e!==!1&&Z.indexOf(x)===-1){for(var nt=Z.split(v),Be=0;Be<nt.length;Be++){if(pe=nt[Be],$+=pe.length,Be!==nt.length-1)$+=v.length;else if(K)return dt();if(!M||pe.substring(0,Ct)!==M){if(he){if(be=[],et(pe.split(d)),gn(),we)return dt()}else et(pe.split(d));if(W&&W<=Be)return be=be.slice(0,W),dt(!0)}}return dt()}for(var Ae=Z.indexOf(d,$),ge=Z.indexOf(v,$),ut=new RegExp(b(L)+b(x),"g"),Te=Z.indexOf(x,$);;)if(Z[$]===x)for(Te=$,$++;;){if((Te=Z.indexOf(x,Te+1))===-1)return K||qe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:$}),pn();if(Te===Ye-1)return pn(Z.substring($,Te).replace(ut,x));if(x===L&&Z[Te+1]===L)Te++;else if(x===L||Te===0||Z[Te-1]!==L){Ae!==-1&&Ae<Te+1&&(Ae=Z.indexOf(d,Te+1));var He=di((ge=ge!==-1&&ge<Te+1?Z.indexOf(v,Te+1):ge)===-1?Ae:Math.min(Ae,ge));if(Z.substr(Te+1+He,ke)===d){pe.push(Z.substring($,Te).replace(ut,x)),Z[$=Te+1+He+ke]!==x&&(Te=Z.indexOf(x,$)),Ae=Z.indexOf(d,$),ge=Z.indexOf(v,$);break}if(He=di(ge),Z.substring(Te+1+He,Te+1+He+Re)===v){if(pe.push(Z.substring($,Te).replace(ut,x)),To(Te+1+He+Re),Ae=Z.indexOf(d,$),Te=Z.indexOf(x,$),he&&(gn(),we))return dt();if(W&&be.length>=W)return dt(!0);break}qe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:$}),Te++}}else if(M&&pe.length===0&&Z.substring($,$+Ct)===M){if(ge===-1)return dt();$=ge+Re,ge=Z.indexOf(v,$),Ae=Z.indexOf(d,$)}else if(Ae!==-1&&(Ae<ge||ge===-1))pe.push(Z.substring($,Ae)),$=Ae+ke,Ae=Z.indexOf(d,$);else{if(ge===-1)break;if(pe.push(Z.substring($,ge)),To(ge+Re),he&&(gn(),we))return dt();if(W&&be.length>=W)return dt(!0)}return pn();function et(rt){be.push(rt),je=$}function di(rt){var It=0;return It=rt!==-1&&(rt=Z.substring(Te+1,rt))&&rt.trim()===""?rt.length:It}function pn(rt){return K||(rt===void 0&&(rt=Z.substring($)),pe.push(rt),$=Ye,et(pe),he&&gn()),dt()}function To(rt){$=rt,et(pe),pe=[],ge=Z.indexOf(v,$)}function dt(rt){if(_.header&&!J&&be.length&&!R){var It=be[0],Ln=Object.create(null),vu=new Set(It);let lg=!1;for(let fi=0;fi<It.length;fi++){let mn=It[fi];if(Ln[mn=z(_.transformHeader)?_.transformHeader(mn,fi):mn]){let xo,cg=Ln[mn];for(;xo=mn+"_"+cg,cg++,vu.has(xo););vu.add(xo),It[fi]=xo,Ln[mn]++,lg=!0,(ve=ve===null?{}:ve)[xo]=mn}else Ln[mn]=1,It[fi]=mn;vu.add(mn)}lg&&console.warn("Duplicate headers found and renamed."),R=!0}return{data:be,errors:qe,meta:{delimiter:d,linebreak:v,aborted:we,truncated:!!rt,cursor:je+(J||0),renamedHeaders:ve}}}function gn(){T(dt()),be=[],qe=[]}},this.abort=function(){we=!0},this.getCharIndex=function(){return $}}function I(_){var d=_.data,v=o[d.workerId],M=!1;if(d.error)v.userError(d.error,d.file);else if(d.results&&d.results.data){var T={abort:function(){M=!0,P(d.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Y,resume:Y};if(z(v.userStep)){for(var W=0;W<d.results.data.length&&(v.userStep({data:d.results.data[W],errors:d.results.errors,meta:d.results.meta},T),!M);W++);delete d.results}else z(v.userChunk)&&(v.userChunk(d.results,T,d.file),delete d.results)}d.finished&&!M&&P(d.workerId,d.results)}function P(_,d){var v=o[_];z(v.userComplete)&&v.userComplete(d),v.terminate(),delete o[_]}function Y(){throw new Error("Not implemented.")}function U(_){if(typeof _!="object"||_===null)return _;var d,v=Array.isArray(_)?[]:{};for(d in _)v[d]=U(_[d]);return v}function G(_,d){return function(){_.apply(d,arguments)}}function z(_){return typeof _=="function"}return l.parse=function(_,d){var v=(d=d||{}).dynamicTyping||!1;if(z(v)&&(d.dynamicTypingFunction=v,v={}),d.dynamicTyping=v,d.transform=!!z(d.transform)&&d.transform,!d.worker||!l.WORKERS_SUPPORTED)return v=null,l.NODE_STREAM_INPUT,typeof _=="string"?(_=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(_),v=new(d.download?c:f)(d)):_.readable===!0&&z(_.read)&&z(_.on)?v=new C(d):(n.File&&_ instanceof File||_ instanceof Object)&&(v=new u(d)),v.stream(_);(v=(()=>{var M;return!!l.WORKERS_SUPPORTED&&(M=(()=>{var T=n.URL||n.webkitURL||null,W=e.toString();return l.BLOB_URL||(l.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))})(),(M=new n.Worker(M)).onmessage=I,M.id=s++,o[M.id]=M)})()).userStep=d.step,v.userChunk=d.chunk,v.userComplete=d.complete,v.userError=d.error,d.step=z(d.step),d.chunk=z(d.chunk),d.complete=z(d.complete),d.error=z(d.error),delete d.worker,v.postMessage({input:_,config:d,workerId:v.id})},l.unparse=function(_,d){var v=!1,M=!0,T=",",W=`\r
`,_e='"',ve=_e+_e,R=!1,x=null,L=!1,$=((()=>{if(typeof d=="object"){if(typeof d.delimiter!="string"||l.BAD_DELIMITERS.filter(function(J){return d.delimiter.indexOf(J)!==-1}).length||(T=d.delimiter),typeof d.quotes!="boolean"&&typeof d.quotes!="function"&&!Array.isArray(d.quotes)||(v=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(R=d.skipEmptyLines),typeof d.newline=="string"&&(W=d.newline),typeof d.quoteChar=="string"&&(_e=d.quoteChar),typeof d.header=="boolean"&&(M=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");x=d.columns}d.escapeChar!==void 0&&(ve=d.escapeChar+_e),d.escapeFormulae instanceof RegExp?L=d.escapeFormulae:typeof d.escapeFormulae=="boolean"&&d.escapeFormulae&&(L=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(_e),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return we(null,_,R);if(typeof _[0]=="object")return we(x||Object.keys(_[0]),_,R)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||x),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),we(_.fields||[],_.data||[],R);throw new Error("Unable to serialize unrecognized input");function we(J,K,Ye){var ke="",Re=(typeof J=="string"&&(J=JSON.parse(J)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(J)&&0<J.length),Ct=!Array.isArray(K[0]);if(Re&&M){for(var he=0;he<J.length;he++)0<he&&(ke+=T),ke+=Z(J[he],he);0<K.length&&(ke+=W)}for(var be=0;be<K.length;be++){var qe=(Re?J:K[be]).length,pe=!1,je=Re?Object.keys(K[be]).length===0:K[be].length===0;if(Ye&&!Re&&(pe=Ye==="greedy"?K[be].join("").trim()==="":K[be].length===1&&K[be][0].length===0),Ye==="greedy"&&Re){for(var nt=[],Be=0;Be<qe;Be++){var Ae=Ct?J[Be]:Be;nt.push(K[be][Ae])}pe=nt.join("").trim()===""}if(!pe){for(var ge=0;ge<qe;ge++){0<ge&&!je&&(ke+=T);var ut=Re&&Ct?J[ge]:ge;ke+=Z(K[be][ut],ge)}be<K.length-1&&(!Ye||0<qe&&!je)&&(ke+=W)}}return ke}function Z(J,K){var Ye,ke;return J==null?"":J.constructor===Date?JSON.stringify(J).slice(1,25):(ke=!1,L&&typeof J=="string"&&L.test(J)&&(J="'"+J,ke=!0),Ye=J.toString().replace($,ve),(ke=ke||v===!0||typeof v=="function"&&v(J,K)||Array.isArray(v)&&v[K]||((Re,Ct)=>{for(var he=0;he<Ct.length;he++)if(-1<Re.indexOf(Ct[he]))return!0;return!1})(Ye,l.BAD_DELIMITERS)||-1<Ye.indexOf(T)||Ye.charAt(0)===" "||Ye.charAt(Ye.length-1)===" ")?_e+Ye+_e:Ye)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=V,l.ParserHandle=m,l.NetworkStreamer=c,l.FileStreamer=u,l.StringStreamer=f,l.ReadableStreamStreamer=C,n.jQuery&&((t=n.jQuery).fn.parse=function(_){var d=_.config||{},v=[];return this.each(function(W){if(!(t(this).prop("tagName").toUpperCase()==="INPUT"&&t(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var _e=0;_e<this.files.length;_e++)v.push({file:this.files[_e],inputElem:this,instanceConfig:t.extend({},d)})}),M(),this;function M(){if(v.length===0)z(_.complete)&&_.complete();else{var W,_e,ve,R,x=v[0];if(z(_.before)){var L=_.before(x.file,x.inputElem);if(typeof L=="object"){if(L.action==="abort")return W="AbortError",_e=x.file,ve=x.inputElem,R=L.reason,void(z(_.error)&&_.error({name:W},_e,ve,R));if(L.action==="skip")return void T();typeof L.config=="object"&&(x.instanceConfig=t.extend(x.instanceConfig,L.config))}else if(L==="skip")return void T()}var $=x.instanceConfig.complete;x.instanceConfig.complete=function(we){z($)&&$(we,x.file,x.inputElem),T()},l.parse(x.file,x.instanceConfig)}}function T(){v.splice(0,1),M()}}),i&&(n.onmessage=function(_){_=_.data,l.WORKER_ID===void 0&&_&&(l.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:l.WORKER_ID,results:l.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=l.parse(_.input,_.config))&&n.postMessage({workerId:l.WORKER_ID,results:_,finished:!0})}),(c.prototype=Object.create(a.prototype)).constructor=c,(u.prototype=Object.create(a.prototype)).constructor=u,(f.prototype=Object.create(f.prototype)).constructor=f,(C.prototype=Object.create(a.prototype)).constructor=C,l})});var Cu;function la(){return Cu}function _n(e){let n=Cu;return Cu=e,n}var hg=Symbol("NotFound");function hi(e){return e===hg||e?.name==="\u0275NotFound"}function ha(e,n){return Object.is(e,n)}var ft=null,ca=!1,wu=1,Tw=null,ht=Symbol("SIGNAL");function ce(e){let n=ft;return ft=e,n}function pa(){return ft}var Mr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pi(e){if(ca)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(e);let n=ft.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=ft.recomputing;if(r&&(t=n!==void 0?n.nextProducer:ft.producers,t!==void 0&&t.producer===e)){ft.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===ft&&(!r||Mw(i,ft)))return;let o=mi(ft),s={producer:e,consumer:ft,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};ft.producersTail=s,n!==void 0?n.nextProducer=s:ft.producers=s,o&&gg(e,s)}function pg(){wu++}function ga(e){if(!(mi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===wu)){if(!e.producerMustRecompute(e)&&!Ro(e)){fa(e);return}e.producerRecomputeValue(e),fa(e)}}function Eu(e){if(e.consumers===void 0)return;let n=ca;ca=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||xw(r)}}finally{ca=n}}function Du(){return ft?.consumerAllowSignalWrites!==!1}function xw(e){e.dirty=!0,Eu(e),e.consumerMarkedDirty?.(e)}function fa(e){e.dirty=!1,e.lastCleanEpoch=wu}function Rr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),ce(e)}function gi(e,n){if(ce(n),!e)return;e.recomputing=!1;let t=e.producersTail,r=t!==void 0?t.nextProducer:e.producers;if(r!==void 0){if(mi(e))do r=bu(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function Ro(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(ga(t),r!==t.version))return!0}return!1}function Ao(e){if(mi(e)){let n=e.producers;for(;n!==void 0;)n=bu(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function gg(e,n){let t=e.consumersTail,r=mi(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)gg(i.producer,i)}function bu(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!mi(n)){let o=n.producers;for(;o!==void 0;)o=bu(o)}return t}function mi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function ma(e){Tw?.(e)}function Mw(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function _a(e,n){let t=Object.create(Rw);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(ga(t),pi(t),t.value===Mo)throw t.error;return t.value};return r[ht]=t,ma(t),r}var ua=Symbol("UNSET"),da=Symbol("COMPUTING"),Mo=Symbol("ERRORED"),Rw=ne(S({},Mr),{value:ua,dirty:!0,error:null,equal:ha,kind:"computed",producerMustRecompute(e){return e.value===ua||e.value===da},producerRecomputeValue(e){if(e.value===da)throw new Error("");let n=e.value;e.value=da;let t=Rr(e),r,i=!1;try{r=e.computation(),ce(null),i=n!==ua&&n!==Mo&&r!==Mo&&e.equal(n,r)}catch(o){r=Mo,e.error=o}finally{gi(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function Aw(){throw new Error}var mg=Aw;function _g(e){mg(e)}function Su(e){mg=e}var Pw=null;function Iu(e,n){let t=Object.create(va);t.value=e,n!==void 0&&(t.equal=n);let r=()=>vg(t);return r[ht]=t,ma(t),[r,s=>_i(t,s),s=>Tu(t,s)]}function vg(e){return pi(e),e.value}function _i(e,n){Du()||_g(e),e.equal(e.value,n)||(e.value=n,Nw(e))}function Tu(e,n){Du()||_g(e),_i(e,n(e.value))}var va=ne(S({},Mr),{equal:ha,value:void 0,kind:"signal"});function Nw(e){e.version++,pg(),Eu(e),Pw?.(e)}function se(e){return typeof e=="function"}function vi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ya=vi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ar(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Se=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){n=o instanceof ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yg(o)}catch(s){n=n??[],s instanceof ya?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ya(n)}}add(n){var t;if(n&&n!==this)if(this.closed)yg(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ar(t,n)}remove(n){let{_finalizers:t}=this;t&&Ar(t,n),n instanceof e&&n._removeParent(this)}};Se.EMPTY=(()=>{let e=new Se;return e.closed=!0,e})();var xu=Se.EMPTY;function Ca(e){return e instanceof Se||e&&"closed"in e&&se(e.remove)&&se(e.add)&&se(e.unsubscribe)}function yg(e){se(e)?e():e.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yi={setTimeout(e,n,...t){let{delegate:r}=yi;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=yi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function wa(e){yi.setTimeout(()=>{let{onUnhandledError:n}=Qt;if(n)n(e);else throw e})}function Pr(){}var Cg=Mu("C",void 0,void 0);function wg(e){return Mu("E",void 0,e)}function Eg(e){return Mu("N",e,void 0)}function Mu(e,n,t){return{kind:e,value:n,error:t}}var Nr=null;function Ci(e){if(Qt.useDeprecatedSynchronousErrorHandling){let n=!Nr;if(n&&(Nr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Nr;if(Nr=null,t)throw r}}else e()}function Dg(e){Qt.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=e)}var Or=class extends Se{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ca(n)&&n.add(this)):this.destination=Fw}static create(n,t,r){return new wi(n,t,r)}next(n){this.isStopped?Au(Eg(n),this):this._next(n)}error(n){this.isStopped?Au(wg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Au(Cg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ow=Function.prototype.bind;function Ru(e,n){return Ow.call(e,n)}var Pu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ea(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ea(r)}else Ea(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ea(t)}}},wi=class extends Or{constructor(n,t,r){super();let i;if(se(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ru(n.next,o),error:n.error&&Ru(n.error,o),complete:n.complete&&Ru(n.complete,o)}):i=n}this.destination=new Pu(i)}};function Ea(e){Qt.useDeprecatedSynchronousErrorHandling?Dg(e):wa(e)}function kw(e){throw e}function Au(e,n){let{onStoppedNotification:t}=Qt;t&&yi.setTimeout(()=>t(e,n))}var Fw={closed:!0,next:Pr,error:kw,complete:Pr};var Ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(e){return e}function Nu(...e){return Ou(e)}function Ou(e){return e.length===0?Pt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ee=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Vw(t)?t:new wi(t,r,i);return Ci(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=bg(r),new r((i,o)=>{let s=new wi({next:l=>{try{t(l)}catch(a){o(a),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ei](){return this}pipe(...t){return Ou(t)(this)}toPromise(t){return t=bg(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function bg(e){var n;return(n=e??Qt.Promise)!==null&&n!==void 0?n:Promise}function Lw(e){return e&&se(e.next)&&se(e.error)&&se(e.complete)}function Vw(e){return e&&e instanceof Or||Lw(e)&&Ca(e)}function ku(e){return se(e?.lift)}function me(e){return n=>{if(ku(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(e,n,t,r,i){return new Fu(e,n,t,r,i)}var Fu=class extends Or{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(l){try{t(l)}catch(a){n.error(a)}}:super._next,this._error=i?function(l){try{i(l)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Di(){return me((e,n)=>{let t=null;e._refCount++;let r=ue(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var bi=class extends ee{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ku(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Se;let t=this.getSubject();n.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Se.EMPTY)}return n}refCount(){return Di()(this)}};var Si={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Si;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=n(o=>{t=void 0,e(o)});return new Se(()=>t?.(i))},requestAnimationFrame(...e){let{delegate:n}=Si;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:n}=Si;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var Sg=vi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=(()=>{class e extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Da(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Sg}next(t){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xu:(this.currentObservers=null,o.push(t),new Se(()=>{this.currentObservers=null,Ar(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return e.create=(n,t)=>new Da(n,t),e})(),Da=class extends te{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:xu}};var it=class extends te{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Lu={now(){return(Lu.delegate||Date).now()},delegate:void 0};var ba=class extends Se{constructor(n,t){super()}schedule(n,t=0){return this}};var Po={setInterval(e,n,...t){let{delegate:r}=Po;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=Po;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Ii=class extends ba{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return Po.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Po.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ar(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var Ti=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};Ti.now=Lu.now;var xi=class extends Ti{constructor(n,t=Ti.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var No=new xi(Ii),Ig=No;var Sa=class extends Ii{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return r!==null&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=Si.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);let{actions:o}=n;t!=null&&t===n._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Si.cancelAnimationFrame(t),n._scheduled=void 0)}};var Ia=class extends xi{flush(n){this._active=!0;let t;n?t=n.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}};var Ta=new Ia(Sa);var pt=new ee(e=>e.complete());function xa(e){return e&&se(e.schedule)}function Vu(e){return e[e.length-1]}function Ma(e){return se(Vu(e))?e.pop():void 0}function vn(e){return xa(Vu(e))?e.pop():void 0}function Tg(e,n){return typeof Vu(e)=="number"?e.pop():n}function Mg(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(u){try{c(r.next(u))}catch(f){s(f)}}function a(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(l,a)}c((r=r.apply(e,n||[])).next())})}function xg(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(e){return this instanceof kr?(this.v=e,this):new kr(e)}function Rg(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(b){return Promise.resolve(b).then(m,f)}}function l(m,b){r[m]&&(i[m]=function(V){return new Promise(function(I,P){o.push([m,V,I,P])>1||a(m,V)})},b&&(i[m]=b(i[m])))}function a(m,b){try{c(r[m](b))}catch(V){C(o[0][3],V)}}function c(m){m.value instanceof kr?Promise.resolve(m.value.v).then(u,f):C(o[0][2],m)}function u(m){a("next",m)}function f(m){a("throw",m)}function C(m,b){m(b),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ag(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof xg=="function"?xg(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(l,a){s=e[o](s),i(l,a,s.done,s.value)})}}function i(o,s,l,a){Promise.resolve(a).then(function(c){o({value:c,done:l})},s)}}var Ra=e=>e&&typeof e.length=="number"&&typeof e!="function";function Aa(e){return se(e?.then)}function Pa(e){return se(e[Ei])}function Na(e){return Symbol.asyncIterator&&se(e?.[Symbol.asyncIterator])}function Oa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ka=jw();function Fa(e){return se(e?.[ka])}function La(e){return Rg(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield kr(t.read());if(i)return yield kr(void 0);yield yield kr(r)}}finally{t.releaseLock()}})}function Va(e){return se(e?.getReader)}function Ue(e){if(e instanceof ee)return e;if(e!=null){if(Pa(e))return Bw(e);if(Ra(e))return Hw(e);if(Aa(e))return Uw(e);if(Na(e))return Pg(e);if(Fa(e))return $w(e);if(Va(e))return zw(e)}throw Oa(e)}function Bw(e){return new ee(n=>{let t=e[Ei]();if(se(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hw(e){return new ee(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Uw(e){return new ee(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,wa)})}function $w(e){return new ee(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Pg(e){return new ee(n=>{Gw(e,n).catch(t=>n.error(t))})}function zw(e){return Pg(La(e))}function Gw(e,n){var t,r,i,o;return Mg(this,void 0,void 0,function*(){try{for(t=Ag(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function xt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ja(e,n=0){return me((t,r)=>{t.subscribe(ue(r,i=>xt(r,e,()=>r.next(i),n),()=>xt(r,e,()=>r.complete(),n),i=>xt(r,e,()=>r.error(i),n)))})}function Ba(e,n=0){return me((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ng(e,n){return Ue(e).pipe(Ba(n),ja(n))}function Og(e,n){return Ue(e).pipe(Ba(n),ja(n))}function kg(e,n){return new ee(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Fg(e,n){return new ee(t=>{let r;return xt(t,n,()=>{r=e[ka](),xt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function Ha(e,n){if(!e)throw new Error("Iterable cannot be null");return new ee(t=>{xt(t,n,()=>{let r=e[Symbol.asyncIterator]();xt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Lg(e,n){return Ha(La(e),n)}function Vg(e,n){if(e!=null){if(Pa(e))return Ng(e,n);if(Ra(e))return kg(e,n);if(Aa(e))return Og(e,n);if(Na(e))return Ha(e,n);if(Fa(e))return Fg(e,n);if(Va(e))return Lg(e,n)}throw Oa(e)}function Fe(e,n){return n?Vg(e,n):Ue(e)}function Q(...e){let n=vn(e);return Fe(e,n)}function Mi(e,n){let t=se(e)?e:()=>e,r=i=>i.error(t());return new ee(n?i=>n.schedule(r,0,i):r)}function Ua(e){return!!e&&(e instanceof ee||se(e.lift)&&se(e.subscribe))}var Vn=vi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function jg(e){return e instanceof Date&&!isNaN(e)}function X(e,n){return me((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:Ww}=Array;function qw(e,n){return Ww(n)?e(...n):e(n)}function $a(e){return X(n=>qw(e,n))}var{isArray:Yw}=Array,{getPrototypeOf:Kw,prototype:Zw,keys:Qw}=Object;function za(e){if(e.length===1){let n=e[0];if(Yw(n))return{args:n,keys:null};if(Jw(n)){let t=Qw(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Jw(e){return e&&typeof e=="object"&&Kw(e)===Zw}function Ga(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Oo(...e){let n=vn(e),t=Ma(e),{args:r,keys:i}=za(e);if(r.length===0)return Fe([],n);let o=new ee(Xw(r,n,i?s=>Ga(i,s):Pt));return t?o.pipe($a(t)):o}function Xw(e,n,t=Pt){return r=>{Bg(n,()=>{let{length:i}=e,o=new Array(i),s=i,l=i;for(let a=0;a<i;a++)Bg(n,()=>{let c=Fe(e[a],n),u=!1;c.subscribe(ue(r,f=>{o[a]=f,u||(u=!0,l--),l||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Bg(e,n,t){e?xt(t,e,n):n()}function Hg(e,n,t,r,i,o,s,l){let a=[],c=0,u=0,f=!1,C=()=>{f&&!a.length&&!c&&n.complete()},m=V=>c<r?b(V):a.push(V),b=V=>{o&&n.next(V),c++;let I=!1;Ue(t(V,u++)).subscribe(ue(n,P=>{i?.(P),o?m(P):n.next(P)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;a.length&&c<r;){let P=a.shift();s?xt(n,s,()=>b(P)):b(P)}C()}catch(P){n.error(P)}}))};return e.subscribe(ue(n,m,()=>{f=!0,C()})),()=>{l?.()}}function Ke(e,n,t=1/0){return se(n)?Ke((r,i)=>X((o,s)=>n(r,o,i,s))(Ue(e(r,i))),t):(typeof n=="number"&&(t=n),me((r,i)=>Hg(r,i,e,t)))}function or(e=1/0){return Ke(Pt,e)}function Ug(){return or(1)}function Ri(...e){return Ug()(Fe(e,vn(e)))}function ko(e){return new ee(n=>{Ue(e()).subscribe(n)})}function ju(...e){let n=Ma(e),{args:t,keys:r}=za(e),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let l=new Array(s),a=s,c=s;for(let u=0;u<s;u++){let f=!1;Ue(t[u]).subscribe(ue(o,C=>{f||(f=!0,c--),l[u]=C},()=>a--,void 0,()=>{(!a||!f)&&(c||o.next(r?Ga(r,l):l),o.complete())}))}});return n?i.pipe($a(n)):i}function Wa(e=0,n,t=Ig){let r=-1;return n!=null&&(xa(n)?t=n:r=n),new ee(i=>{let o=jg(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Bu(e=0,n=No){return e<0&&(e=0),Wa(e,e,n)}function Hu(...e){let n=vn(e),t=Tg(e,1/0),r=e;return r.length?r.length===1?Ue(r[0]):or(t)(Fe(r,n)):pt}var jn=new ee(Pr);function Qe(e,n){return me((t,r)=>{let i=0;t.subscribe(ue(r,o=>e.call(n,o,i++)&&r.next(o)))})}function $g(e){return me((n,t)=>{let r=!1,i=null,o=null,s=!1,l=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}s&&t.complete()},a=()=>{o=null,s&&t.complete()};n.subscribe(ue(t,c=>{r=!0,i=c,o||Ue(e(c)).subscribe(o=ue(t,l,a))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Uu(e,n=No){return $g(()=>Wa(e,n))}function Bn(e){return me((n,t)=>{let r=null,i=!1,o;r=n.subscribe(ue(t,void 0,void 0,s=>{o=Ue(e(s,Bn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function zg(e,n,t,r,i){return(o,s)=>{let l=t,a=n,c=0;o.subscribe(ue(s,u=>{let f=c++;a=l?e(a,u,f):(l=!0,u),r&&s.next(a)},i&&(()=>{l&&s.next(a),s.complete()})))}}function yn(e,n){return se(n)?Ke(e,n,1):Ke(e,1)}function sr(e){return me((n,t)=>{let r=!1;n.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function gt(e){return e<=0?()=>pt:me((n,t)=>{let r=0;n.subscribe(ue(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function qa(e=eE){return me((n,t)=>{let r=!1;n.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function eE(){return new Vn}function ar(e){return me((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Hn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Qe((i,o)=>e(i,o,r)):Pt,gt(1),t?sr(n):qa(()=>new Vn))}function Ai(e){return e<=0?()=>pt:me((n,t)=>{let r=[];n.subscribe(ue(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $u(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Qe((i,o)=>e(i,o,r)):Pt,Ai(1),t?sr(n):qa(()=>new Vn))}function zu(e,n){return me(zg(e,n,arguments.length>=2,!0))}function Fo(...e){let n=vn(e);return me((t,r)=>{(n?Ri(e,t,n):Ri(e,t)).subscribe(r)})}function Ee(e,n){return me((t,r)=>{let i=null,o=0,s=!1,l=()=>s&&!i&&r.complete();t.subscribe(ue(r,a=>{i?.unsubscribe();let c=0,u=o++;Ue(e(a,u)).subscribe(i=ue(r,f=>r.next(n?n(a,f,u,c++):f),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function Fr(e){return me((n,t)=>{Ue(e).subscribe(ue(t,()=>t.complete(),Pr)),!t.closed&&n.subscribe(t)})}function Pe(e,n,t){let r=se(e)||n||t?{next:e,error:n,complete:t}:e;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let l=!0;i.subscribe(ue(o,a=>{var c;(c=r.next)===null||c===void 0||c.call(r,a),o.next(a)},()=>{var a;l=!1,(a=r.complete)===null||a===void 0||a.call(r),o.complete()},a=>{var c;l=!1,(c=r.error)===null||c===void 0||c.call(r,a),o.error(a)},()=>{var a,c;l&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Pt}function Gg(e){let n=ce(null);try{return e()}finally{ce(n)}}var Ja="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(n,t){super(Xt(n,t)),this.code=n}};function tE(e){return`NG0${Math.abs(e)}`}function Xt(e,n){return`${tE(e)}${n?": "+n:""}`}var mt=globalThis;function xe(e){for(let n in e)if(e[n]===xe)return n;throw Error("")}function Yg(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function $n(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($n).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function rd(e,n){return e?n?`${e} ${n}`:e:n||""}var nE=xe({__forward_ref__:xe});function Cn(e){return e.__forward_ref__=Cn,e.toString=function(){return $n(this())},e}function at(e){return id(e)?e():e}function id(e){return typeof e=="function"&&e.hasOwnProperty(nE)&&e.__forward_ref__===Cn}function Kg(e,n){e==null&&od(n,e,null,"!=")}function od(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}function N(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ve(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ho(e){return rE(e,Xa)}function sd(e){return Ho(e)!==null}function rE(e,n){return e.hasOwnProperty(n)&&e[n]||null}function iE(e){let n=e?.[Xa]??null;return n||null}function Wu(e){return e&&e.hasOwnProperty(Ka)?e[Ka]:null}var Xa=xe({\u0275prov:xe}),Ka=xe({\u0275inj:xe}),F=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ad(e){return e&&!!e.\u0275providers}var ld=xe({\u0275cmp:xe}),cd=xe({\u0275dir:xe}),ud=xe({\u0275pipe:xe}),dd=xe({\u0275mod:xe}),jo=xe({\u0275fac:xe}),Hr=xe({__NG_ELEMENT_ID__:xe}),Wg=xe({__NG_ENV_ID__:xe});function jt(e){return typeof e=="string"?e:e==null?"":String(e)}function Za(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():jt(e)}var fd=xe({ngErrorCode:xe}),Zg=xe({ngErrorMessage:xe}),Vo=xe({ngTokenPath:xe});function hd(e,n){return Qg("",-200,n)}function el(e,n){throw new A(-201,!1)}function oE(e,n){e[Vo]??=[];let t=e[Vo],r;typeof n=="object"&&"multi"in n&&n?.multi===!0?(Kg(n.provide,"Token with multi: true should have a provide property"),r=Za(n.provide)):r=Za(n),t[0]!==r&&e[Vo].unshift(r)}function sE(e,n){let t=e[Vo],r=e[fd],i=e[Zg]||e.message;return e.message=lE(i,r,t,n),e}function Qg(e,n,t){let r=new A(n,e);return r[fd]=n,r[Zg]=e,t&&(r[Vo]=t),r}function aE(e){return e[fd]}function lE(e,n,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Xt(n,`${e}${o}${i}`)}var qu;function Jg(){return qu}function wt(e){let n=qu;return qu=e,n}function pd(e,n,t){let r=Ho(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;el(e,"Injector")}var cE={},Lr=cE,Yu="__NG_DI_FLAG__",Ku=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Vr(t)||0;try{return this.injector.get(n,r&8?null:Lr,r)}catch(i){if(hi(i))return i;throw i}}};function uE(e,n=0){let t=la();if(t===void 0)throw new A(-203,!1);if(t===null)return pd(e,void 0,n);{let r=dE(n),i=t.retrieve(e,r);if(hi(i)){if(r.optional)return null;throw i}return i}}function B(e,n=0){return(Jg()||uE)(at(e),n)}function D(e,n){return B(e,Vr(n))}function Vr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function dE(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Zu(e){let n=[];for(let t=0;t<e.length;t++){let r=at(e[t]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let l=r[s],a=fE(l);typeof a=="number"?a===-1?i=l.token:o|=a:i=l}n.push(B(i,o))}else n.push(B(r))}return n}function gd(e,n){return e[Yu]=n,e.prototype[Yu]=n,e}function fE(e){return e[Yu]}function lr(e,n){let t=e.hasOwnProperty(jo);return t?e[jo]:null}function tl(e,n){e.forEach(t=>Array.isArray(t)?tl(t,n):n(t))}function md(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Uo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Xg(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function em(e,n,t){let r=Ni(e,n);return r>=0?e[r|1]=t:(r=~r,Xg(e,r,n,t)),r}function nl(e,n){let t=Ni(e,n);if(t>=0)return e[t|1]}function Ni(e,n){return hE(e,n,1)}function hE(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var ur={},Nt=[],Gn=new F(""),_d=new F("",-1),vd=new F(""),Bo=class{get(n,t=Lr){if(t===Lr){let i=Qg("",-201);throw i.name="\u0275NotFound",i}return t}};function yd(e){return e[dd]||null}function wn(e){return e[ld]||null}function Cd(e){return e[cd]||null}function wd(e){return e[ud]||null}function Wn(e){return{\u0275providers:e}}function tm(...e){return{\u0275providers:Ed(!0,e),\u0275fromNgModule:!0}}function Ed(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return tl(n,s=>{let l=s;Qa(l,o,[],r)&&(i||=[],i.push(l))}),i!==void 0&&nm(i,o),t}function nm(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Dd(i,o=>{n(o,r)})}}function Qa(e,n,t,r){if(e=at(e),!e)return!1;let i=null,o=Wu(e),s=!o&&wn(e);if(!o&&!s){let a=e.ngModule;if(o=Wu(a),o)i=a;else return!1}else{if(s&&!s.standalone)return!1;i=e}let l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){let a=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of a)Qa(c,n,t,r)}}else if(o){if(o.imports!=null&&!l){r.add(i);let c;try{tl(o.imports,u=>{Qa(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&nm(c,n)}if(!l){let c=lr(i)||(()=>new i);n({provide:i,useFactory:c,deps:Nt},i),n({provide:vd,useValue:i,multi:!0},i),n({provide:Gn,useValue:()=>B(i),multi:!0},i)}let a=o.providers;if(a!=null&&!l){let c=e;Dd(a,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Dd(e,n){for(let t of e)ad(t)&&(t=t.\u0275providers),Array.isArray(t)?Dd(t,n):n(t)}var pE=xe({provide:String,useValue:xe});function rm(e){return e!==null&&typeof e=="object"&&pE in e}function gE(e){return!!(e&&e.useExisting)}function mE(e){return!!(e&&e.useFactory)}function jr(e){return typeof e=="function"}function im(e){return!!e.useClass}var $o=new F(""),Ya={},qg={},Gu;function Oi(){return Gu===void 0&&(Gu=new Bo),Gu}var Ge=class{},Br=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ju(n,s=>this.processProvider(s)),this.records.set(_d,Pi(void 0,this)),i.has("environment")&&this.records.set(Ge,Pi(void 0,this));let o=this.records.get($o);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vd,Nt,{self:!0}))}retrieve(n,t){let r=Vr(t)||0;try{return this.get(n,Lr,r)}catch(i){if(hi(i))return i;throw i}}destroy(){Lo(this),this._destroyed=!0;let n=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(n)}}onDestroy(n){return Lo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Lo(this);let t=_n(this),r=wt(void 0),i;try{return n()}finally{_n(t),wt(r)}}get(n,t=Lr,r){if(Lo(this),n.hasOwnProperty(Wg))return n[Wg](this);let i=Vr(r),o,s=_n(this),l=wt(void 0);try{if(!(i&4)){let c=this.records.get(n);if(c===void 0){let u=wE(n)&&Ho(n);u&&this.injectableDefInScope(u)?c=Pi(Qu(n),Ya):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,i)}let a=i&2?Oi():this.parent;return t=i&8&&t===Lr?null:t,a.get(n,t)}catch(a){let c=aE(a);throw c===-200||c===-201?new A(c,null):a}finally{wt(l),_n(s)}}resolveInjectorInitializers(){let n=ce(null),t=_n(this),r=wt(void 0),i;try{let o=this.get(Gn,Nt,{self:!0});for(let s of o)s()}finally{_n(t),wt(r),ce(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push($n(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=at(n);let t=jr(n)?n:at(n&&n.provide),r=vE(n);if(!jr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Pi(void 0,Ya,!0),i.factory=()=>Zu(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=ce(null);try{if(t.value===qg)throw hd($n(n));return t.value===Ya&&(t.value=qg,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&CE(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=at(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qu(e){let n=Ho(e),t=n!==null?n.factory:lr(e);if(t!==null)return t;if(e instanceof F)throw new A(204,!1);if(e instanceof Function)return _E(e);throw new A(204,!1)}function _E(e){if(e.length>0)throw new A(204,!1);let t=iE(e);return t!==null?()=>t.factory(e):()=>new e}function vE(e){if(rm(e))return Pi(void 0,e.useValue);{let n=bd(e);return Pi(n,Ya)}}function bd(e,n,t){let r;if(jr(e)){let i=at(e);return lr(i)||Qu(i)}else if(rm(e))r=()=>at(e.useValue);else if(mE(e))r=()=>e.useFactory(...Zu(e.deps||[]));else if(gE(e))r=(i,o)=>B(at(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=at(e&&(e.useClass||e.provide));if(yE(e))r=()=>new i(...Zu(e.deps));else return lr(i)||Qu(i)}return r}function Lo(e){if(e.destroyed)throw new A(205,!1)}function Pi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function yE(e){return!!e.deps}function CE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function wE(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ju(e,n){for(let t of e)Array.isArray(t)?Ju(t,n):t&&ad(t)?Ju(t.\u0275providers,n):n(t)}function ot(e,n){let t;e instanceof Br?(Lo(e),t=e):t=new Ku(e);let r,i=_n(t),o=wt(void 0);try{return n()}finally{_n(i),wt(o)}}function Sd(){return Jg()!==void 0||la()!=null}var en=0,ie=1,re=2,lt=3,Bt=4,Ht=5,zo=6,ki=7,_t=8,Ur=9,En=10,We=11,Fi=12,Id=13,$r=14,Ut=15,zr=16,Gr=17,Wr=18,Go=19,Td=20,Un=21,rl=22,Wo=23,Ot=24,qr=25,ct=26,om=1;var dr=7,qo=8,Yo=9,Mt=10;function Dn(e){return Array.isArray(e)&&typeof e[om]=="object"}function tn(e){return Array.isArray(e)&&e[om]===!0}function xd(e){return(e.flags&4)!==0}function fr(e){return e.componentOffset>-1}function Li(e){return(e.flags&1)===1}function bn(e){return!!e.template}function Vi(e){return(e[re]&512)!==0}function Yr(e){return(e[re]&256)===256}var sm="svg",am="math";function $t(e){for(;Array.isArray(e);)e=e[en];return e}function Md(e,n){return $t(n[e])}function nn(e,n){return $t(n[e.index])}function il(e,n){return e.data[n]}function Rd(e,n){return e[n]}function Ad(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function zt(e,n){let t=n[e];return Dn(t)?t:t[en]}function ol(e){return(e[re]&128)===128}function lm(e){return tn(e[lt])}function Ko(e,n){return n==null?null:e[n]}function Pd(e){e[Gr]=0}function Nd(e){e[re]&1024||(e[re]|=1024,ol(e)&&ji(e))}function cm(e,n){for(;e>0;)n=n[$r],e--;return n}function Zo(e){return!!(e[re]&9216||e[Ot]?.dirty)}function sl(e){e[En].changeDetectionScheduler?.notify(8),e[re]&64&&(e[re]|=1024),Zo(e)&&ji(e)}function ji(e){e[En].changeDetectionScheduler?.notify(0);let n=cr(e);for(;n!==null&&!(n[re]&8192||(n[re]|=8192,!ol(n)));)n=cr(n)}function Od(e,n){if(Yr(e))throw new A(911,!1);e[Un]===null&&(e[Un]=[]),e[Un].push(n)}function um(e,n){if(e[Un]===null)return;let t=e[Un].indexOf(n);t!==-1&&e[Un].splice(t,1)}function cr(e){let n=e[lt];return tn(n)?n[lt]:n}function dm(e){return e[ki]??=[]}function fm(e){return e.cleanup??=[]}var de={lFrame:Tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Qo=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Qo||{}),EE=0,Xu=!1;function hm(){return de.lFrame.elementDepthCount}function pm(){de.lFrame.elementDepthCount++}function gm(){de.lFrame.elementDepthCount--}function al(){return de.bindingsEnabled}function mm(){return de.skipHydrationRootTNode!==null}function _m(e){return de.skipHydrationRootTNode===e}function vm(){de.skipHydrationRootTNode=null}function fe(){return de.lFrame.lView}function Et(){return de.lFrame.tView}function O(e){return de.lFrame.contextLView=e,e[_t]}function k(e){return de.lFrame.contextLView=null,e}function vt(){let e=kd();for(;e!==null&&e.type===64;)e=e.parent;return e}function kd(){return de.lFrame.currentTNode}function ym(){let e=de.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Bi(e,n){let t=de.lFrame;t.currentTNode=e,t.isParent=n}function Fd(){return de.lFrame.isParent}function Cm(){de.lFrame.isParent=!1}function Ld(e){od("Must never be called in production mode"),EE=e}function Vd(){return Xu}function jd(e){let n=Xu;return Xu=e,n}function Hi(){let e=de.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Bd(){return de.lFrame.bindingIndex}function wm(e){return de.lFrame.bindingIndex=e}function Ui(){return de.lFrame.bindingIndex++}function ll(e){let n=de.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Em(){return de.lFrame.inI18n}function Dm(e,n){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=e,cl(n)}function bm(){return de.lFrame.currentDirectiveIndex}function cl(e){de.lFrame.currentDirectiveIndex=e}function Sm(e){let n=de.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Hd(e){de.lFrame.currentQueryIndex=e}function DE(e){let n=e[ie];return n.type===2?n.declTNode:n.type===1?e[Ht]:null}function Ud(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=DE(o),i===null||(o=o[$r],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=de.lFrame=Im();return r.currentTNode=n,r.lView=e,!0}function ul(e){let n=Im(),t=e[ie];de.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Im(){let e=de.lFrame,n=e===null?null:e.child;return n===null?Tm(e):n}function Tm(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function xm(){let e=de.lFrame;return de.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var $d=xm;function dl(){let e=xm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Mm(e){return(de.lFrame.contextLView=cm(e,de.lFrame.contextLView))[_t]}function qn(){return de.lFrame.selectedIndex}function hr(e){de.lFrame.selectedIndex=e}function fl(){let e=de.lFrame;return il(e.tView,e.selectedIndex)}function Rm(){return de.lFrame.currentNamespace}var Am=!0;function hl(){return Am}function Jo(e){Am=e}function ed(e,n=null,t=null,r){let i=zd(e,n,t,r);return i.resolveInjectorInitializers(),i}function zd(e,n=null,t=null,r,i=new Set){let o=[t||Nt,tm(e)];return r=r||(typeof e=="object"?void 0:$n(e)),new Br(o,n||Oi(),r||null,i)}var Le=class e{static THROW_IF_NOT_FOUND=Lr;static NULL=new Bo;static create(n,t){if(Array.isArray(n))return ed({name:""},t,n,"");{let r=n.name??"";return ed({name:r},n.parent,n.providers,r)}}static \u0275prov=N({token:e,providedIn:"any",factory:()=>B(_d)});static __NG_ELEMENT_ID__=-1},Ne=new F(""),Gt=(()=>{class e{static __NG_ELEMENT_ID__=bE;static __NG_ENV_ID__=t=>t}return e})(),td=class extends Gt{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Yr(this._lView)}onDestroy(n){let t=this._lView;return Od(t,n),()=>um(t,n)}};function bE(){return new td(fe())}var Jt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},kt=new F("",{providedIn:"root",factory:()=>{let e=D(Ge),n;return t=>{e.destroyed&&!n?setTimeout(()=>{throw t}):(n??=e.get(Jt),n.handleError(t))}}}),Pm={provide:Gn,useValue:()=>void D(Jt),multi:!0};function Gd(e){return typeof e=="function"&&e[ht]!==void 0}function rn(e,n){let[t,r,i]=Iu(e,n?.equal),o=t,s=o[ht];return o.set=r,o.update=i,o.asReadonly=Nm.bind(o),o}function Nm(){let e=this[ht];if(e.readonlyFn===void 0){let n=()=>this();n[ht]=e,e.readonlyFn=n}return e.readonlyFn}function Wd(e){return Gd(e)&&typeof e.set=="function"}var zn=class{},Xo=new F("",{providedIn:"root",factory:()=>!1});var qd=new F(""),Yd=new F("");var pl=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=SE}return e})();function SE(){return new pl(fe(),vt())}var Sn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),es=(()=>{class e{internalPendingTasks=D(Sn);scheduler=D(zn);errorHandler=D(kt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})();function ts(...e){}var Kd=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>new nd})}return e})(),nd=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function qi(e){return{toString:e}.toString()}var gl="__parameters__";function NE(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function h_(e,n,t){return qi(()=>{let r=NE(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return l.annotation=s,l;function l(a,c,u){let f=a.hasOwnProperty(gl)?a[gl]:Object.defineProperty(a,gl,{value:[]})[gl];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),a}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var us=gd(h_("Optional"),8);var Of=gd(h_("SkipSelf"),4);function p_(e){let n=mt.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function OE(e){return typeof e=="function"}var bl=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function g_(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Zn=(()=>{let e=()=>m_;return e.ngInherit=!0,e})();function m_(e){return e.type.prototype.ngOnChanges&&(e.setInput=FE),kE}function kE(){let e=v_(this),n=e?.current;if(n){let t=e.previous;if(t===ur)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function FE(e,n,t,r,i){let o=this.declaredInputs[r],s=v_(e)||LE(e,{previous:ur,current:null}),l=s.current||(s.current={}),a=s.previous,c=a[o];l[o]=new bl(c&&c.currentValue,t,a===ur),g_(e,n,i,t)}var __="__ngSimpleChanges__";function v_(e){return e[__]||null}function LE(e,n){return e[__]=n}var Om=[];var Oe=function(e,n=null,t){for(let r=0;r<Om.length;r++){let i=Om[r];i(e,n,t)}};function VE(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=m_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function y_(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:a,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),a&&(e.viewHooks??=[]).push(-t,a),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function wl(e,n,t){C_(e,n,3,t)}function El(e,n,t,r){(e[re]&3)===t&&C_(e,n,t,r)}function Zd(e,n){let t=e[re];(t&3)===n&&(t&=16383,t+=1,e[re]=t)}function C_(e,n,t,r){let i=r!==void 0?e[Gr]&65535:0,o=r??-1,s=n.length-1,l=0;for(let a=i;a<s;a++)if(typeof n[a+1]=="number"){if(l=n[a],r!=null&&l>=r)break}else n[a]<0&&(e[Gr]+=65536),(l<o||o==-1)&&(jE(e,t,n,a),e[Gr]=(e[Gr]&4294901760)+a+2),a++}function km(e,n){Oe(4,e,n);let t=ce(null);try{n.call(e)}finally{ce(t),Oe(5,e,n)}}function jE(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],l=e[s];i?e[re]>>14<e[Gr]>>16&&(e[re]&3)===n&&(e[re]+=16384,km(l,o)):km(l,o)}var zi=-1,Zr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function BE(e){return(e.flags&8)!==0}function HE(e){return(e.flags&16)!==0}function UE(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],l=t[r++];e.setAttribute(n,s,l,o)}else{let o=i,s=t[++r];zE(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function $E(e){return e===3||e===4||e===6}function zE(e){return e.charCodeAt(0)===64}function is(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Fm(e,t,i,null,n[++r]):Fm(e,t,i,null,null))}}return e}function Fm(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let l=e[o++];if(typeof l=="number"){if(l===n){s=-1;break}else if(l>n){s=o-1;break}}}for(;o<e.length;){let l=e[o];if(typeof l=="number")break;if(l===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function w_(e){return e!==zi}function Sl(e){return e&32767}function GE(e){return e>>16}function Il(e,n){let t=GE(e),r=n;for(;t>0;)r=r[$r],t--;return r}var af=!0;function Tl(e){let n=af;return af=e,n}var WE=256,E_=WE-1,D_=5,qE=0,In={};function YE(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hr)&&(r=t[Hr]),r==null&&(r=t[Hr]=qE++);let i=r&E_,o=1<<i;n.data[e+(i>>D_)]|=o}function xl(e,n){let t=b_(e,n);if(t!==-1)return t;let r=n[ie];r.firstCreatePass&&(e.injectorIndex=n.length,Qd(r.data,e),Qd(n,null),Qd(r.blueprint,null));let i=kf(e,n),o=e.injectorIndex;if(w_(i)){let s=Sl(i),l=Il(i,n),a=l[ie].data;for(let c=0;c<8;c++)n[o+c]=l[s+c]|a[s+c]}return n[o+8]=i,o}function Qd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function b_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function kf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=M_(i),r===null)return zi;if(t++,i=i[$r],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return zi}function lf(e,n,t){YE(e,n,t)}function S_(e,n,t){if(t&8||e!==void 0)return e;el(n,"NodeInjector")}function I_(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[Ur],o=wt(void 0);try{return i?i.get(n,r,t&8):pd(n,r,t&8)}finally{wt(o)}}return S_(r,n,t)}function T_(e,n,t,r=0,i){if(e!==null){if(n[re]&2048&&!(r&2)){let s=XE(e,n,t,r,In);if(s!==In)return s}let o=x_(e,n,t,r,In);if(o!==In)return o}return I_(n,t,r,i)}function x_(e,n,t,r,i){let o=QE(t);if(typeof o=="function"){if(!Ud(n,e,r))return r&1?S_(i,t,r):I_(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))el(t);else return s}finally{$d()}}else if(typeof o=="number"){let s=null,l=b_(e,n),a=zi,c=r&1?n[Ut][Ht]:null;for((l===-1||r&4)&&(a=l===-1?kf(e,n):n[l+8],a===zi||!Vm(r,!1)?l=-1:(s=n[ie],l=Sl(a),n=Il(a,n)));l!==-1;){let u=n[ie];if(Lm(o,l,u.data)){let f=KE(l,n,t,s,r,c);if(f!==In)return f}a=n[l+8],a!==zi&&Vm(r,n[ie].data[l+8]===c)&&Lm(o,l,n)?(s=u,l=Sl(a),n=Il(a,n)):l=-1}}return i}function KE(e,n,t,r,i,o){let s=n[ie],l=s.data[e+8],a=r==null?fr(l)&&af:r!=s&&(l.type&3)!==0,c=i&1&&o===l,u=ZE(l,s,t,a,c);return u!==null?Ml(n,s,u,l,i):In}function ZE(e,n,t,r,i){let o=e.providerIndexes,s=n.data,l=o&1048575,a=e.directiveStart,c=e.directiveEnd,u=o>>20,f=r?l:l+u,C=i?l+u:c;for(let m=f;m<C;m++){let b=s[m];if(m<a&&t===b||m>=a&&b.type===t)return m}if(i){let m=s[a];if(m&&bn(m)&&m.type===t)return a}return null}function Ml(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof Zr){let l=o;if(l.resolving){let m=Za(s[t]);throw hd(m)}let a=Tl(l.canSeeViewProviders);l.resolving=!0;let c=s[t].type||s[t],u,f=l.injectImpl?wt(l.injectImpl):null,C=Ud(e,r,0);try{o=e[t]=l.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&VE(t,s[t],n)}finally{f!==null&&wt(f),Tl(a),l.resolving=!1,$d()}}return o}function QE(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Hr)?e[Hr]:void 0;return typeof n=="number"?n>=0?n&E_:JE:n}function Lm(e,n,t){let r=1<<e;return!!(t[n+(e>>D_)]&r)}function Vm(e,n){return!(e&2)&&!(e&1&&n)}var Kr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return T_(this._tNode,this._lView,n,Vr(r),t)}};function JE(){return new Kr(vt(),fe())}function mr(e){return qi(()=>{let n=e.prototype.constructor,t=n[jo]||cf(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[jo]||cf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cf(e){return id(e)?()=>{let n=cf(at(e));return n&&n()}:lr(e)}function XE(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[re]&2048&&!Vi(s);){let l=x_(o,s,t,r|2,In);if(l!==In)return l;let a=o.parent;if(!a){let c=s[Td];if(c){let u=c.get(t,In,r);if(u!==In)return u}a=M_(s),s=s[$r]}o=a}return i}function M_(e){let n=e[ie],t=n.type;return t===2?n.declTNode:t===1?e[Ht]:null}function eD(){return Bl(vt(),fe())}function Bl(e,n){return new yt(nn(e,n))}var yt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eD}return e})();function R_(e){return(e.flags&128)===128}var Ff=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ff||{}),A_=new Map,tD=0;function nD(){return tD++}function rD(e){A_.set(e[Go],e)}function uf(e){A_.delete(e[Go])}var jm="__ngContext__";function Gi(e,n){Dn(n)?(e[jm]=n[Go],rD(n)):e[jm]=n}function P_(e){return O_(e[Fi])}function N_(e){return O_(e[Bt])}function O_(e){for(;e!==null&&!tn(e);)e=e[Bt];return e}var df;function Lf(e){df=e}function Vf(){if(df!==void 0)return df;if(typeof document<"u")return document;throw new A(210,!1)}var Hl=new F("",{providedIn:"root",factory:()=>iD}),iD="ng",Ul=new F(""),_r=new F("",{providedIn:"platform",factory:()=>"unknown"});var $l=new F("",{providedIn:"root",factory:()=>Vf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oD="h",sD="b";var k_=!1,F_=new F("",{providedIn:"root",factory:()=>k_});var aD=(e,n,t,r)=>{};function lD(e,n,t,r){aD(e,n,t,r)}function jf(e){return(e.flags&32)===32}var cD=()=>null;function L_(e,n,t=!1){return cD(e,n,t)}function V_(e,n){let t=e.contentQueries;if(t!==null){let r=ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let l=e.data[s];Hd(o),l.contentQueries(2,n[s],s)}}}finally{ce(r)}}}function ff(e,n,t){Hd(0);let r=ce(null);try{n(e,t)}finally{ce(r)}}function Bf(e,n,t){if(xd(n)){let r=ce(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let l=e.data[s];if(l.contentQueries){let a=t[s];l.contentQueries(1,a,s)}}}finally{ce(r)}}}var Yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yn||{}),ml;function uD(){if(ml===void 0&&(ml=null,mt.trustedTypes))try{ml=mt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ml}function zl(e){return uD()?.createHTML(e)||e}var _l;function dD(){if(_l===void 0&&(_l=null,mt.trustedTypes))try{_l=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _l}function Bm(e){return dD()?.createHTML(e)||e}var Kn=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ja})`}},hf=class extends Kn{getTypeName(){return"HTML"}},pf=class extends Kn{getTypeName(){return"Style"}},gf=class extends Kn{getTypeName(){return"Script"}},mf=class extends Kn{getTypeName(){return"URL"}},_f=class extends Kn{getTypeName(){return"ResourceURL"}};function an(e){return e instanceof Kn?e.changingThisBreaksApplicationSecurity:e}function Qn(e,n){let t=j_(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Ja})`)}return t===n}function j_(e){return e instanceof Kn&&e.getTypeName()||null}function Hf(e){return new hf(e)}function Uf(e){return new pf(e)}function $f(e){return new gf(e)}function zf(e){return new mf(e)}function Gf(e){return new _f(e)}function fD(e){let n=new yf(e);return hD()?new vf(n):n}var vf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(zl(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},yf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=zl(n),t}};function hD(){try{return!!new window.DOMParser().parseFromString(zl(""),"text/html")}catch{return!1}}var pD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ds(e){return e=String(e),e.match(pD)?e:"unsafe:"+e}function Jn(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function fs(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var B_=Jn("area,br,col,hr,img,wbr"),H_=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U_=Jn("rp,rt"),gD=fs(U_,H_),mD=fs(H_,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_D=fs(U_,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hm=fs(B_,mD,_D,gD),$_=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vD=Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yD=Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),CD=fs($_,vD,yD),wD=Jn("script,style,template"),Cf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=bD(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=DD(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(n){let t=Um(n).toLowerCase();if(!Hm.hasOwnProperty(t))return this.sanitizedSomething=!0,!wD.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,l=s.toLowerCase();if(!CD.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let a=o.value;$_[l]&&(a=ds(a)),this.buf.push(" ",s,'="',$m(a),'"')}return this.buf.push(">"),!0}endElement(n){let t=Um(n).toLowerCase();Hm.hasOwnProperty(t)&&!B_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push($m(n))}};function ED(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function DD(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw z_(n);return n}function bD(e){let n=e.firstChild;if(n&&ED(e,n))throw z_(n);return n}function Um(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function z_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var SD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ID=/([^\#-~ |!])/g;function $m(e){return e.replace(/&/g,"&amp;").replace(SD,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(ID,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var vl;function Gl(e,n){let t=null;try{vl=vl||fD(e);let r=n?String(n):"";t=vl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=vl.getInertBodyElement(r)}while(r!==o);let l=new Cf().sanitizeChildren(zm(t)||t);return zl(l)}finally{if(t){let r=zm(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function zm(e){return"content"in e&&TD(e)?e.content:null}function TD(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var ln=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ln||{});function qt(e){let n=G_();return n?Bm(n.sanitize(ln.HTML,e)||""):Qn(e,"HTML")?Bm(an(e)):Gl(Vf(),jt(e))}function $e(e){let n=G_();return n?n.sanitize(ln.URL,e)||"":Qn(e,"URL")?an(e):ds(jt(e))}function G_(){let e=fe();return e&&e[En].sanitizer}var xD=/^>|^->|<!--|-->|--!>|<!-$/g,MD=/(<|>)/g,RD="\u200B$1\u200B";function AD(e){return e.replace(xD,n=>n.replace(MD,RD))}function W_(e){return e instanceof Function?e():e}function PD(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var q_="ng-template";function ND(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&PD(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Wf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Wf(e){return e.type===4&&e.value!==q_}function OD(e,n,t){let r=e.type===4&&!t?q_:e.value;return n===r}function kD(e,n,t){let r=4,i=e.attrs,o=i!==null?VD(i):0,s=!1;for(let l=0;l<n.length;l++){let a=n[l];if(typeof a=="number"){if(!s&&!on(r)&&!on(a))return!1;if(s&&on(a))continue;s=!1,r=a|r&1;continue}if(!s)if(r&4){if(r=2|r&1,a!==""&&!OD(e,a,t)||a===""&&n.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!ND(e,i,a,t)){if(on(r))return!1;s=!0}}else{let c=n[++l],u=FD(a,i,Wf(e),t);if(u===-1){if(on(r))return!1;s=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(e){return(e&1)===0}function FD(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=n[++i];for(;typeof l=="string";)l=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jD(n,e)}function LD(e,n,t=!1){for(let r=0;r<n.length;r++)if(kD(e,n[r],t))return!0;return!1}function VD(e){for(let n=0;n<e.length;n++){let t=e[n];if($E(t))return n}return e.length}function jD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Gm(e,n){return e?":not("+n.trim()+")":n}function BD(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let l=e[++t];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(n+=Gm(o,i),i=""),r=s,o=o||!on(r);t++}return i!==""&&(n+=Gm(o,i)),n}function HD(e){return e.map(BD).join(",")}function UD(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!on(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Dt={};function $D(e,n){return e.createText(n)}function zD(e,n,t){e.setValue(n,t)}function GD(e,n){return e.createComment(AD(n))}function Y_(e,n,t){return e.createElement(n,t)}function Rl(e,n,t,r,i){e.insertBefore(n,t,r,i)}function K_(e,n,t){e.appendChild(n,t)}function Wm(e,n,t,r,i){r!==null?Rl(e,n,t,r,i):K_(e,n,t)}function WD(e,n,t){e.removeChild(null,n,t)}function qD(e,n,t){e.setAttribute(n,"style",t)}function YD(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Z_(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&UE(e,n,r),i!==null&&YD(e,n,i),o!==null&&qD(e,n,o)}function qf(e,n,t,r,i,o,s,l,a,c,u){let f=ct+r,C=f+i,m=KD(f,C),b=typeof c=="function"?c():c;return m[ie]={type:e,blueprint:m,template:t,queries:null,viewQuery:l,declTNode:n,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:a,consts:b,incompleteFirstPass:!1,ssrId:u}}function KD(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Dt);return t}function ZD(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=qf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Yf(e,n,t,r,i,o,s,l,a,c,u){let f=n.blueprint.slice();return f[en]=i,f[re]=r|4|128|8|64|1024,(c!==null||e&&e[re]&2048)&&(f[re]|=2048),Pd(f),f[lt]=f[$r]=e,f[_t]=t,f[En]=s||e&&e[En],f[We]=l||e&&e[We],f[Ur]=a||e&&e[Ur]||null,f[Ht]=o,f[Go]=nD(),f[zo]=u,f[Td]=c,f[Ut]=n.type==2?e[Ut]:f,f}function QD(e,n,t){let r=nn(n,e),i=ZD(t),o=e[En].rendererFactory,s=Kf(e,Yf(e,i,null,Q_(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function Q_(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function J_(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Kf(e,n){return e[Fi]?e[Id][Bt]=n:e[Fi]=n,e[Id]=n,n}function h(e=1){X_(Et(),fe(),qn()+e,!1)}function X_(e,n,t,r){if(!r)if((n[re]&3)===3){let o=e.preOrderCheckHooks;o!==null&&wl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&El(n,o,0,t)}hr(t)}var Wl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Wl||{});function wf(e,n,t,r){let i=ce(null);try{let[o,s,l]=e.inputs[t],a=null;(s&Wl.SignalBased)!==0&&(a=n[o][ht]),a!==null&&a.transformFn!==void 0?r=a.transformFn(r):l!==null&&(r=l.call(n,r)),e.setInput!==null?e.setInput(n,a,r,t,o):g_(n,a,o,r)}finally{ce(i)}}var sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sn||{}),JD;function Zf(e,n){return JD(e,n)}function $i(e,n,t,r,i){if(r!=null){let o,s=!1;tn(r)?o=r:Dn(r)&&(s=!0,r=r[en]);let l=$t(r);e===0&&t!==null?i==null?K_(n,t,l):Rl(n,t,l,i||null,!0):e===1&&t!==null?Rl(n,t,l,i||null,!0):e===2?WD(n,l,s):e===3&&n.destroyNode(l),o!=null&&ub(n,e,o,t,i)}}function XD(e,n){ev(e,n),n[en]=null,n[Ht]=null}function eb(e,n,t,r,i,o){r[en]=i,r[Ht]=n,ql(e,r,t,1,i,o)}function ev(e,n){n[En].changeDetectionScheduler?.notify(9),ql(e,n,n[We],2,null,null)}function tb(e){let n=e[Fi];if(!n)return Jd(e[ie],e);for(;n;){let t=null;if(Dn(n))t=n[Fi];else{let r=n[Mt];r&&(t=r)}if(!t){for(;n&&!n[Bt]&&n!==e;)Dn(n)&&Jd(n[ie],n),n=n[lt];n===null&&(n=e),Dn(n)&&Jd(n[ie],n),t=n&&n[Bt]}n=t}}function Qf(e,n){let t=e[Yo],r=t.indexOf(n);t.splice(r,1)}function tv(e,n){if(Yr(n))return;let t=n[We];t.destroyNode&&ql(e,n,t,3,null,null),tb(n)}function Jd(e,n){if(Yr(n))return;let t=ce(null);try{n[re]&=-129,n[re]|=256,n[Ot]&&Ao(n[Ot]),rb(e,n),nb(e,n),n[ie].type===1&&n[We].destroy();let r=n[zr];if(r!==null&&tn(n[lt])){r!==n[lt]&&Qf(r,n);let i=n[Wr];i!==null&&i.detachView(e)}uf(n)}finally{ce(t)}}function nb(e,n){let t=e.cleanup,r=n[ki];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let l=t[s+3];l>=0?r[l]():r[-l].unsubscribe(),s+=2}else{let l=r[t[s+1]];t[s].call(l)}r!==null&&(n[ki]=null);let i=n[Un];if(i!==null){n[Un]=null;for(let s=0;s<i.length;s++){let l=i[s];l()}}let o=n[Wo];if(o!==null){n[Wo]=null;for(let s of o)s.destroy()}}function rb(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof Zr)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=i[o[s]],a=o[s+1];Oe(4,l,a);try{a.call(l)}finally{Oe(5,l,a)}}else{Oe(4,i,o);try{o.call(i)}finally{Oe(5,i,o)}}}}}function ib(e,n,t){return ob(e,n.parent,t)}function ob(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[en];if(fr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Yn.None||i===Yn.Emulated)return null}return nn(r,t)}function sb(e,n,t){return lb(e,n,t)}function ab(e,n,t){return e.type&40?nn(e,t):null}var lb=ab,qm;function Jf(e,n,t,r){let i=ib(e,r,n),o=n[We],s=r.parent||n[Ht],l=sb(s,r,n);if(i!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)Wm(o,i,t[a],l,!1);else Wm(o,i,t,l,!1);qm!==void 0&&qm(o,r,n,t,i)}function ns(e,n){if(n!==null){let t=n.type;if(t&3)return nn(n,e);if(t&4)return Ef(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return ns(e,r);{let i=e[n.index];return tn(i)?Ef(-1,i):$t(i)}}else{if(t&128)return ns(e,n.next);if(t&32)return Zf(n,e)()||$t(e[n.index]);{let r=nv(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=cr(e[Ut]);return ns(i,r)}else return ns(e,n.next)}}}return null}function nv(e,n){if(n!==null){let r=e[Ut][Ht],i=n.projection;return r.projection[i]}return null}function Ef(e,n){let t=Mt+e+1;if(t<n.length){let r=n[t],i=r[ie].firstChild;if(i!==null)return ns(r,i)}return n[dr]}function Xf(e,n,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let l=r[t.index],a=t.type;if(s&&n===0&&(l&&Gi($t(l),r),t.flags|=2),!jf(t))if(a&8)Xf(e,n,t.child,r,i,o,!1),$i(n,e,i,l,o);else if(a&32){let c=Zf(t,r),u;for(;u=c();)$i(n,e,i,u,o);$i(n,e,i,l,o)}else a&16?cb(e,n,r,t,i,o):$i(n,e,i,l,o);t=s?t.projectionNext:t.next}}function ql(e,n,t,r,i,o){Xf(t,r,e.firstChild,n,i,o,!1)}function cb(e,n,t,r,i,o){let s=t[Ut],a=s[Ht].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++){let u=a[c];$i(n,e,i,u,o)}else{let c=a,u=s[lt];R_(r)&&(c.flags|=128),Xf(e,n,c,u,i,o,!0)}}function ub(e,n,t,r,i){let o=t[dr],s=$t(t);o!==s&&$i(n,e,r,o,i);for(let l=Mt;l<t.length;l++){let a=t[l];ql(a[ie],a,e,n,r,o)}}function db(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),e.setStyle(t,r,i,o))}}function rv(e,n,t,r,i){let o=qn(),s=r&2;try{hr(-1),s&&n.length>ct&&X_(e,n,ct,!1),Oe(s?2:0,i,t),t(r,i)}finally{hr(o),Oe(s?3:1,i,t)}}function Yl(e,n,t){vb(e,n,t),(t.flags&64)===64&&yb(e,n,t)}function eh(e,n,t=nn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],l=s===-1?t(n,e):e[s];e[i++]=l}}}function fb(e,n,t,r){let o=r.get(F_,k_)||t===Yn.ShadowDom,s=e.selectRootElement(n,o);return hb(s),s}function hb(e){pb(e)}var pb=()=>null;function gb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function iv(e,n,t,r,i,o){let s=n[ie];if(nh(e,s,n,t,r)){fr(e)&&_b(n,e.index);return}e.type&3&&(t=gb(t)),mb(e,n,t,r,i,o)}function mb(e,n,t,r,i,o){if(e.type&3){let s=nn(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function _b(e,n){let t=zt(n,e);t[re]&16||(t[re]|=64)}function vb(e,n,t){let r=t.directiveStart,i=t.directiveEnd;fr(t)&&QD(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||xl(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let l=e.data[s],a=Ml(n,e,s,t);if(Gi(a,n),o!==null&&Db(n,s-r,a,l,t,o),bn(l)){let c=zt(t.index,n);c[_t]=Ml(n,e,s,t)}}}function yb(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=bm();try{hr(o);for(let l=r;l<i;l++){let a=e.data[l],c=n[l];cl(l),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&Cb(a,c)}}finally{hr(-1),cl(s)}}function Cb(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function th(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];LD(n,o.selectors,!1)&&(r??=[],bn(o)?r.unshift(o):r.push(o))}return r}function wb(e,n,t,r,i,o){let s=nn(e,n);Eb(n[We],s,o,e.value,t,r,i)}function Eb(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let l=s==null?jt(o):s(o,r||"",i);e.setAttribute(n,i,l,t)}}function Db(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let l=0;l<s.length;l+=2){let a=s[l],c=s[l+1];wf(r,t,a,c)}}function ov(e,n,t,r,i){let o=ct+t,s=n[ie],l=i(s,n,e,r,t);n[o]=l,Bi(e,!0);let a=e.type===2;return a?(Z_(n[We],l,e),(hm()===0||Li(e))&&Gi(l,n),pm()):Gi(l,n),hl()&&(!a||!jf(e))&&Jf(s,n,l,e),e}function sv(e){let n=e;return Fd()?Cm():(n=n.parent,Bi(n,!1)),n}function bb(e,n){let t=e[Ur];if(!t)return;t.get(kt,null)?.(n)}function nh(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],l=!1;if(s)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1],f=n.data[c];wf(f,t[c],u,i),l=!0}if(o)for(let a of o){let c=t[a],u=n.data[a];wf(u,c,r,i),l=!0}return l}function Sb(e,n){let t=zt(n,e),r=t[ie];Ib(r,t);let i=t[en];i!==null&&t[zo]===null&&(t[zo]=L_(i,t[Ur])),Oe(18),rh(r,t,t[_t]),Oe(19,t[_t])}function Ib(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function rh(e,n,t){ul(n);try{let r=e.viewQuery;r!==null&&ff(1,r,t);let i=e.template;i!==null&&rv(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Wr]?.finishViewCreation(e),e.staticContentQueries&&V_(e,n),e.staticViewQueries&&ff(2,e.viewQuery,t);let o=e.components;o!==null&&Tb(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[re]&=-5,dl()}}function Tb(e,n){for(let t=0;t<n.length;t++)Sb(e,n[t])}function xb(e,n,t,r){let i=ce(null);try{let o=n.tView,l=e[re]&4096?4096:16,a=Yf(e,o,t,l,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];a[zr]=c;let u=e[Wr];return u!==null&&(a[Wr]=u.createEmbeddedView(o)),rh(o,a,t),a}finally{ce(i)}}function Ym(e,n){return!n||n.firstChild===null||R_(e)}var Km=!1,Mb=new F("");function os(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push($t(o)),tn(o)&&av(o,r);let s=t.type;if(s&8)os(e,n,t.child,r);else if(s&32){let l=Zf(t,n),a;for(;a=l();)r.push(a)}else if(s&16){let l=nv(n,t);if(Array.isArray(l))r.push(...l);else{let a=cr(n[Ut]);os(a[ie],a,l,r,!0)}}t=i?t.projectionNext:t.next}return r}function av(e,n){for(let t=Mt;t<e.length;t++){let r=e[t],i=r[ie].firstChild;i!==null&&os(r[ie],r,i,n)}e[dr]!==e[en]&&n.push(e[dr])}function lv(e){if(e[qr]!==null){for(let n of e[qr])n.impl.addSequence(n);e[qr].length=0}}var cv=[];function Rb(e){return e[Ot]??Ab(e)}function Ab(e){let n=cv.pop()??Object.create(Nb);return n.lView=e,n}function Pb(e){e.lView[Ot]!==e&&(e.lView=null,cv.push(e))}var Nb=ne(S({},Mr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ji(e.lView)},consumerOnSignalRead(){this.lView[Ot]=this}});function Ob(e){let n=e[Ot]??Object.create(kb);return n.lView=e,n}var kb=ne(S({},Mr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=cr(e.lView);for(;n&&!uv(n[ie]);)n=cr(n);n&&Nd(n)},consumerOnSignalRead(){this.lView[Ot]=this}});function uv(e){return e.type!==2}function dv(e){if(e[Wo]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Wo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[re]&8192)}}var Fb=100;function ih(e,n=0){let r=e[En].rendererFactory,i=!1;i||r.begin?.();try{Lb(e,n)}finally{i||r.end?.()}}function Lb(e,n){let t=Vd();try{jd(!0),Df(e,n);let r=0;for(;Zo(e);){if(r===Fb)throw new A(103,!1);r++,Df(e,1)}}finally{jd(t)}}function fv(e,n){Ld(n?Qo.Exhaustive:Qo.OnlyDirtyViews);try{ih(e)}finally{Ld(Qo.Off)}}function Vb(e,n,t,r){if(Yr(n))return;let i=n[re],o=!1,s=!1;ul(n);let l=!0,a=null,c=null;o||(uv(e)?(c=Rb(n),a=Rr(c)):pa()===null?(l=!1,c=Ob(n),a=Rr(c)):n[Ot]&&(Ao(n[Ot]),n[Ot]=null));try{Pd(n),wm(e.bindingStartIndex),t!==null&&rv(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let m=e.preOrderCheckHooks;m!==null&&wl(n,m,null)}else{let m=e.preOrderHooks;m!==null&&El(n,m,0,null),Zd(n,0)}if(s||jb(n),dv(n),hv(n,0),e.contentQueries!==null&&V_(e,n),!o)if(u){let m=e.contentCheckHooks;m!==null&&wl(n,m)}else{let m=e.contentHooks;m!==null&&El(n,m,1),Zd(n,1)}Hb(e,n);let f=e.components;f!==null&&gv(n,f,0);let C=e.viewQuery;if(C!==null&&ff(2,C,r),!o)if(u){let m=e.viewCheckHooks;m!==null&&wl(n,m)}else{let m=e.viewHooks;m!==null&&El(n,m,2),Zd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[rl]){for(let m of n[rl])m();n[rl]=null}o||(lv(n),n[re]&=-73)}catch(u){throw o||ji(n),u}finally{c!==null&&(gi(c,a),l&&Pb(c)),dl()}}function hv(e,n){for(let t=P_(e);t!==null;t=N_(t))for(let r=Mt;r<t.length;r++){let i=t[r];pv(i,n)}}function jb(e){for(let n=P_(e);n!==null;n=N_(n)){if(!(n[re]&2))continue;let t=n[Yo];for(let r=0;r<t.length;r++){let i=t[r];Nd(i)}}}function Bb(e,n,t){Oe(18);let r=zt(n,e);pv(r,t),Oe(19,r[_t])}function pv(e,n){ol(e)&&Df(e,n)}function Df(e,n){let r=e[ie],i=e[re],o=e[Ot],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ro(o)),s||=!1,o&&(o.dirty=!1),e[re]&=-9217,s)Vb(r,e,r.template,e[_t]);else if(i&8192){let l=ce(null);try{dv(e),hv(e,1);let a=r.components;a!==null&&gv(e,a,1),lv(e)}finally{ce(l)}}}function gv(e,n,t){for(let r=0;r<n.length;r++)Bb(e,n[r],t)}function Hb(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)hr(~i);else{let o=i,s=t[++r],l=t[++r];Dm(s,o);let a=n[o];Oe(24,a),l(2,a),Oe(25,a)}}}finally{hr(-1)}}function oh(e,n){let t=Vd()?64:1088;for(e[En].changeDetectionScheduler?.notify(n);e;){e[re]|=t;let r=cr(e);if(Vi(e)&&!r)return e;e=r}return null}function mv(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Ub(e,n,t,r=!0){let i=n[ie];if($b(i,n,e,t),r){let s=Ef(t,e),l=n[We],a=l.parentNode(e[dr]);a!==null&&eb(i,e[Ht],l,n,a,s)}let o=n[zo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bf(e,n){if(e.length<=Mt)return;let t=Mt+n,r=e[t];if(r){let i=r[zr];i!==null&&i!==e&&Qf(i,r),n>0&&(e[t-1][Bt]=r[Bt]);let o=Uo(e,Mt+n);XD(r[ie],r);let s=o[Wr];s!==null&&s.detachView(o[ie]),r[lt]=null,r[Bt]=null,r[re]&=-129}return r}function $b(e,n,t,r){let i=Mt+r,o=t.length;r>0&&(t[i-1][Bt]=n),r<o-Mt?(n[Bt]=t[i],md(t,Mt+r,n)):(t.push(n),n[Bt]=null),n[lt]=t;let s=n[zr];s!==null&&t!==s&&_v(s,n);let l=n[Wr];l!==null&&l.insertView(e),sl(n),n[re]|=128}function _v(e,n){let t=e[Yo],r=n[lt];if(Dn(r))e[re]|=2;else{let i=r[lt][Ut];n[Ut]!==i&&(e[re]|=2)}t===null?e[Yo]=[n]:t.push(n)}var pr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[ie];return os(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[_t]}set context(n){this._lView[_t]=n}get destroyed(){return Yr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[lt];if(tn(n)){let t=n[qo],r=t?t.indexOf(this):-1;r>-1&&(bf(n,r),Uo(t,r))}this._attachedToViewContainer=!1}tv(this._lView[ie],this._lView)}onDestroy(n){Od(this._lView,n)}markForCheck(){oh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){sl(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,ih(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ur].get(Mb,Km)}catch{this.exhaustive=Km}}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Vi(this._lView),t=this._lView[zr];t!==null&&!n&&Qf(t,this._lView),ev(this._lView[ie],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=n;let t=Vi(this._lView),r=this._lView[zr];r!==null&&!t&&_v(r,this._lView),sl(this._lView)}};var Xr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=zb;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=xb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new pr(o)}}return e})();function zb(){return Gb(vt(),fe())}function Gb(e,n){return e.type&4?new Xr(n,e,Bl(e,n)):null}function sh(e,n,t,r,i){let o=e.data[n];if(o===null)o=Wb(e,n,t,r,i),Em()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ym();o.injectorIndex=s===null?-1:s.injectorIndex}return Bi(o,!0),o}function Wb(e,n,t,r,i){let o=kd(),s=Fd(),l=s?o:o&&o.parent,a=e.data[n]=Yb(e,l,t,n,r,i);return qb(e,a,o,s),a}function qb(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function Yb(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,l=0;return mm()&&(l|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var uj=new RegExp(`^(\\d+)*(${sD}|${oD})*(.*)`);var Kb=()=>null;function Zm(e,n){return Kb(e,n)}var vv=class{},Kl=class{},Sf=class{resolveComponentFactory(n){throw new A(917,!1)}},hs=class{static NULL=new Sf},Wt=class{},Rt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Zb()}return e})();function Zb(){let e=fe(),n=vt(),t=zt(n.index,e);return(Dn(t)?t:e)[We]}var yv=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>null})}return e})();var Dl={},If=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Dl,r);return i!==Dl||t===Dl?i:this.parentInjector.get(n,t,r)}};function Qm(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number")o=l;else if(o==1)i=rd(i,l);else if(o==2){let a=l,c=n[++s];r=rd(r,a+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function oe(e,n=0){let t=fe();if(t===null)return B(e,n);let r=vt();return T_(r,t,at(e),n)}function ah(){let e="invalid";throw new Error(e)}function Cv(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let l=s,a=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[l,a,c]=u.resolveHostDirectives(s);break}Xb(e,n,t,l,o,a,c)}o!==null&&r!==null&&Qb(t,r,o)}function Qb(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new A(-301,!1);r.push(n[i],o)}}function Jb(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Xb(e,n,t,r,i,o,s){let l=r.length,a=!1;for(let C=0;C<l;C++){let m=r[C];!a&&bn(m)&&(a=!0,Jb(e,t,C)),lf(xl(t,n),e,m.type)}oS(t,e.data.length,l);for(let C=0;C<l;C++){let m=r[C];m.providersResolver&&m.providersResolver(m)}let c=!1,u=!1,f=J_(e,n,l,null);l>0&&(t.directiveToIndex=new Map);for(let C=0;C<l;C++){let m=r[C];if(t.mergedAttrs=is(t.mergedAttrs,m.hostAttrs),tS(e,t,n,f,m),iS(f,m,i),s!==null&&s.has(m)){let[V,I]=s.get(m);t.directiveToIndex.set(m.type,[f,V+t.directiveStart,I+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let b=m.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}eS(e,t,o)}function eS(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Jm(0,n,i,r),Jm(1,n,i,r),e_(n,r,!1);else{let o=t.get(i);Xm(0,n,o,r),Xm(1,n,o,r),e_(n,r,!0)}}}function Jm(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),wv(n,o)}}function Xm(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],l;e===0?l=n.hostDirectiveInputs??={}:l=n.hostDirectiveOutputs??={},l[s]??=[],l[s].push(r,o),wv(n,s)}}function wv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function e_(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Wf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,l=0;for(;l<r.length;){let a=r[l];if(a===0){l+=4;continue}else if(a===5){l+=2;continue}else if(typeof a=="number")break;if(!t&&i.hasOwnProperty(a)){let c=i[a];for(let u of c)if(u===n){s??=[],s.push(a,r[l+1]);break}}else if(t&&o.hasOwnProperty(a)){let c=o[a];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[l+1]);break}}l+=2}e.initialInputs??=[],e.initialInputs.push(s)}function tS(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=lr(i.type,!0)),s=new Zr(o,bn(i),oe,null);e.blueprint[r]=s,t[r]=s,nS(e,n,r,J_(e,t,i.hostVars,Dt),i)}function nS(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let l=~n.index;rS(s)!=l&&s.push(l),s.push(t,r,o)}}function rS(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function iS(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;bn(n)&&(t[""]=e)}}function oS(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function lh(e,n,t,r,i,o,s,l){let a=n[ie],c=a.consts,u=Ko(c,s),f=sh(a,e,t,r,u);return o&&Cv(a,n,f,Ko(c,l),i),f.mergedAttrs=is(f.mergedAttrs,f.attrs),f.attrs!==null&&Qm(f,f.attrs,!1),f.mergedAttrs!==null&&Qm(f,f.mergedAttrs,!0),a.queries!==null&&a.queries.elementStart(a,f),f}function ch(e,n){y_(e,n),xd(n)&&e.queries.elementEnd(n)}function uh(e){return Zl(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Ev(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function Zl(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function dh(e,n,t){return e[n]=t}function sS(e,n){return e[n]}function Tn(e,n,t){if(t===Dt)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function fh(e,n,t,r){let i=Tn(e,n,t);return Tn(e,n+1,r)||i}function aS(e,n,t,r,i){let o=fh(e,n,t,r);return Tn(e,n+2,i)||o}function Xd(e,n,t){return function r(i){let o=fr(e)?zt(e.index,n):n;oh(o,5);let s=n[_t],l=t_(n,s,t,i),a=r.__ngNextListenerFn__;for(;a;)l=t_(n,s,a,i)&&l,a=a.__ngNextListenerFn__;return l}}function t_(e,n,t,r){let i=ce(null);try{return Oe(6,n,t),t(r)!==!1}catch(o){return bb(e,o),!1}finally{Oe(7,n,t),ce(i)}}function lS(e,n,t,r,i,o,s,l){let a=Li(e),c=!1,u=null;if(!r&&a&&(u=cS(n,t,o,e.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let f=nn(e,t),C=r?r(f):f;lD(t,C,o,l);let m=i.listen(C,o,l),b=r?V=>r($t(V[e.index])):e.index;Dv(b,n,t,o,l,m,!1)}return c}function cS(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let l=n[ki],a=i[o+2];return l&&l.length>a?l[a]:null}typeof s=="string"&&(o+=2)}return null}function Dv(e,n,t,r,i,o,s){let l=n.firstCreatePass?fm(n):null,a=dm(t),c=a.length;a.push(i,o),l&&l.push(r,e,c,(c+1)*(s?-1:1))}function n_(e,n,t,r,i,o){let s=n[t],l=n[ie],c=l.data[t].outputs[r],f=s[c].subscribe(o);Dv(e.index,l,n,i,o,f,!0)}var Tf=Symbol("BINDING");var Al=class extends hs{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=wn(n);return new gr(t,this.ngModule)}};function uS(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&Wl.SignalBased)!==0};return i&&(o.transform=i),o})}function dS(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function fS(e,n,t){let r=n instanceof Ge?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new If(t,r):t}function hS(e){let n=e.get(Wt,null);if(n===null)throw new A(407,!1);let t=e.get(yv,null),r=e.get(zn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function pS(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Y_(n,t,t==="svg"?sm:t==="math"?am:null)}var gr=class extends Kl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dS(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=HD(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){Oe(22);let l=ce(null);try{let a=this.componentDef,c=gS(r,a,s,o),u=fS(a,i||this.ngModule,n),f=hS(u),C=f.rendererFactory.createRenderer(null,a),m=r?fb(C,r,a.encapsulation,u):pS(a,C),b=s?.some(r_)||o?.some(P=>typeof P!="function"&&P.bindings.some(r_)),V=Yf(null,c,null,512|Q_(a),null,null,f,C,u,null,L_(m,u,!0));V[ct]=m,ul(V);let I=null;try{let P=lh(ct,V,2,"#host",()=>c.directiveRegistry,!0,0);m&&(Z_(C,m,P),Gi(m,V)),Yl(c,V,P),Bf(c,P,V),ch(c,P),t!==void 0&&_S(P,this.ngContentSelectors,t),I=zt(P.index,V),V[_t]=I[_t],rh(c,V,null)}catch(P){throw I!==null&&uf(I),uf(V),P}finally{Oe(23),dl()}return new Pl(this.componentType,V,!!b)}finally{ce(l)}}};function gS(e,n,t,r){let i=e?["ng-version","20.1.7"]:UD(n.selectors[0]),o=null,s=null,l=0;if(t)for(let u of t)l+=u[Tf].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let C of f.bindings){l+=C[Tf].requiredVars;let m=u+1;C.create&&(C.targetIdx=m,(o??=[]).push(C)),C.update&&(C.targetIdx=m,(s??=[]).push(C))}}let a=[n];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,C=Cd(f);a.push(C)}return qf(0,null,mS(o,s),1,l,a,null,null,null,[i],null)}function mS(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function r_(e){let n=e[Tf].kind;return n==="input"||n==="twoWay"}var Pl=class extends vv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=il(t[ie],ct),this.location=Bl(this._tNode,t),this.instance=zt(this._tNode.index,t)[_t],this.hostView=this.changeDetectorRef=new pr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=nh(r,i[ie],i,n,t);this.previousInputValues.set(n,t);let s=zt(r.index,i);oh(s,1)}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function _S(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xn=(()=>{class e{static __NG_ELEMENT_ID__=vS}return e})();function vS(){let e=vt();return CS(e,fe())}var yS=Xn,bv=class extends yS{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){let n=kf(this._hostTNode,this._hostLView);if(w_(n)){let t=Il(n,this._hostLView),r=Sl(n),i=t[ie].data[r+8];return new Kr(i,t)}else return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=i_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Zm(this._lContainer,n.ssrId),l=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(l,i,Ym(this._hostTNode,s)),l}createComponent(n,t,r,i,o,s,l){let a=n&&!OE(n),c;if(a)c=t;else{let I=t||{};c=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,s=I.directives,l=I.bindings}let u=a?n:new gr(wn(n)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(a?f:this.parentInjector).get(Ge,null);P&&(o=P)}let C=wn(u.componentType??{}),m=Zm(this._lContainer,C?.id??null),b=m?.firstChild??null,V=u.create(f,i,b,o,s,l);return this.insertImpl(V.hostView,c,Ym(this._hostTNode,m)),V}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(lm(i)){let l=this.indexOf(n);if(l!==-1)this.detach(l);else{let a=i[lt],c=new bv(a,a[Ht],a[lt]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Ub(s,i,o,r),n.attachToViewContainerRef(),md(ef(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=i_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=bf(this._lContainer,t);r&&(Uo(ef(this._lContainer),t),tv(r[ie],r))}detach(n){let t=this._adjustIndex(n,-1),r=bf(this._lContainer,t);return r&&Uo(ef(this._lContainer),t)!=null?new pr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function i_(e){return e[qo]}function ef(e){return e[qo]||(e[qo]=[])}function CS(e,n){let t,r=n[e.index];return tn(r)?t=r:(t=mv(r,n,null,e),n[e.index]=t,Kf(n,t)),ES(t,n,e,r),new bv(t,e,n)}function wS(e,n){let t=e[We],r=t.createComment(""),i=nn(n,e),o=t.parentNode(i);return Rl(t,o,r,t.nextSibling(i),!1),r}var ES=SS,DS=()=>!1;function bS(e,n,t){return DS(e,n,t)}function SS(e,n,t,r){if(e[dr])return;let i;t.type&8?i=$t(r):i=wS(n,t),e[dr]=i}function Sv(e){let n=[],t=new Map;function r(i){let o=t.get(i);if(!o){let s=e(i);t.set(i,o=s.then(l=>TS(i,l)))}return o}return Nl.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(c=>{i.template=c}));let l=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=l,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((f,C)=>{l.push(""),s.push(r(f).then(m=>{l[c+C]=m,u.splice(u.indexOf(f),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(c=>{l.push(c),i.styleUrl=void 0}));let a=Promise.all(s).then(()=>xS(o));n.push(a)}),Iv(),Promise.all(n).then(()=>{})}var Nl=new Map,IS=new Set;function Iv(){let e=Nl;return Nl=new Map,e}function Tv(){return Nl.size===0}function TS(e,n){return typeof n=="string"?n:n.status!==void 0&&n.status!==200?Promise.reject(new A(918,!1)):n.text()}function xS(e){IS.delete(e)}var o_=new Set;function Yi(e){o_.has(e)||(o_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Qr=class{},Ql=class{};var ss=class extends Qr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Al(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=yd(n);this._bootstrapComponents=W_(o.bootstrap),this._r3Injector=zd(n,t,[{provide:Qr,useValue:this},{provide:hs,useValue:this.componentFactoryResolver},...r],$n(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},as=class extends Ql{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ss(this.moduleType,n,[])}};function xv(e,n,t){return new ss(e,n,t,!1)}var Ol=class extends Qr{injector;componentFactoryResolver=new Al(this);instance=null;constructor(n){super();let t=new Br([...n.providers,{provide:Qr,useValue:this},{provide:hs,useValue:this.componentFactoryResolver}],n.parent||Oi(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ki(e,n,t=null){return new Ol({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var MS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ed(!1,t.type),i=r.length>0?Ki([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(B(Ge))})}return e})();function vr(e){return qi(()=>{let n=Rv(e),t=ne(S({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ff.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(MS).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,styles:e.styles||Nt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Yi("NgStandalone"),Av(t);let r=e.dependencies;return t.directiveDefs=kl(r,Mv),t.pipeDefs=kl(r,wd),t.id=PS(t),t})}function Mv(e){return wn(e)||Cd(e)}function ze(e){return qi(()=>({type:e.type,bootstrap:e.bootstrap||Nt,declarations:e.declarations||Nt,imports:e.imports||Nt,exports:e.exports||Nt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function RS(e,n){if(e==null)return ur;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,l,a;Array.isArray(i)?(l=i[0],o=i[1],s=i[2]??o,a=i[3]||null):(o=i,s=i,l=Wl.None,a=null),t[o]=[r,l,a],n[o]=s}return t}function AS(e){if(e==null)return ur;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ze(e){return qi(()=>{let n=Rv(e);return Av(n),n})}function ei(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ur,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Nt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:RS(e.inputs,n),outputs:AS(e.outputs),debugInfo:null}}function Av(e){e.features?.forEach(n=>n(e))}function kl(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function PS(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function NS(e){return Object.getPrototypeOf(e.prototype).constructor}function xn(e){let n=NS(e.type),t=!0,r=[e];for(;n;){let i;if(bn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new A(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=tf(e.inputs),s.declaredInputs=tf(e.declaredInputs),s.outputs=tf(e.outputs);let l=i.hostBindings;l&&VS(e,l);let a=i.viewQuery,c=i.contentQueries;if(a&&FS(e,a),c&&LS(e,c),OS(e,i),Yg(e.outputs,i.outputs),bn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let l=o[s];l&&l.ngInherit&&l(e),l===xn&&(t=!1)}}n=Object.getPrototypeOf(n)}kS(r)}function OS(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function kS(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=is(i.hostAttrs,t=is(t,i.hostAttrs))}}function tf(e){return e===ur?{}:e===Nt?[]:e}function FS(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function LS(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function VS(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function jS(e,n,t,r,i,o,s,l){if(t.firstCreatePass){e.mergedAttrs=is(e.mergedAttrs,e.attrs);let u=e.tView=qf(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}l&&(e.flags|=l),Bi(e,!1);let a=HS(t,n,e,r);hl()&&Jf(t,n,a,e),Gi(a,n);let c=mv(a,n,a,e);n[r+ct]=c,Kf(n,c),bS(c,e,n)}function BS(e,n,t,r,i,o,s,l,a,c,u){let f=t+ct,C;return n.firstCreatePass?(C=sh(n,f,4,s||null,l||null),al()&&Cv(n,e,C,Ko(n.consts,c),th),y_(n,C)):C=n.data[f],jS(C,e,n,t,r,i,o,a),Li(C)&&Yl(n,e,C),c!=null&&eh(e,C,u),C}function H(e,n,t,r,i,o,s,l){let a=fe(),c=Et(),u=Ko(c.consts,o);return BS(a,c,e,n,t,r,i,u,void 0,s,l),H}var HS=US;function US(e,n,t,r){return Jo(!0),n[We].createComment("")}var Jl=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Jl||{}),ti=new F(""),Pv=!1,xf=class extends te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Sd()&&(this.destroyRef=D(Gt,{optional:!0})??void 0,this.pendingTasks=D(Sn,{optional:!0})??void 0)}emit(n){let t=ce(null);try{super.next(n)}finally{ce(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let a=n;i=a.next?.bind(a),o=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:i,error:o,complete:s});return n instanceof Se&&n.add(l),l}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Je=xf;function Nv(e){let n,t;function r(){e=ts;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function s_(e){return queueMicrotask(()=>e()),()=>{e=ts}}var hh="isAngularZone",Fl=hh+"_ID",$S=0,ye=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Je(!1);onMicrotaskEmpty=new Je(!1);onStable=new Je(!1);onError=new Je(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Pv}=n;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,WS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,zS,ts,ts);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},zS={};function ph(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function GS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Nv(()=>{e.callbackScheduled=!1,Mf(e),e.isCheckStableRunning=!0,ph(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Mf(e)}function WS(e){let n=()=>{GS(e)},t=$S++;e._inner=e._inner.fork({name:"angular",properties:{[hh]:!0,[Fl]:t,[Fl+t]:!0},onInvokeTask:(r,i,o,s,l,a)=>{if(qS(a))return r.invokeTask(o,s,l,a);try{return a_(e),r.invokeTask(o,s,l,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),l_(e)}},onInvoke:(r,i,o,s,l,a,c)=>{try{return a_(e),r.invoke(o,s,l,a,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!YS(a)&&n(),l_(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Mf(e),ph(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Mf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function a_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function l_(e){e._nesting--,ph(e)}var ls=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Je;onMicrotaskEmpty=new Je;onStable=new Je;onError=new Je;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function qS(e){return Ov(e,"__ignore_ng_zone__")}function YS(e){return Ov(e,"__scheduler_tick__")}function Ov(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}function kv(e="zone.js",n){return e==="noop"?new ls:e==="zone.js"?new ye(n):e}var gh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),Fv=[0,1,2,3],Lv=(()=>{class e{ngZone=D(ye);scheduler=D(zn);errorHandler=D(Jt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(ti,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Oe(16),this.executing=!0;for(let r of Fv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Oe(17)}register(t){let{view:r}=t;r!==void 0?((r[qr]??=[]).push(t),ji(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Jl.AFTER_NEXT_RENDER,t):t()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ll=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[qr];n&&(this.view[qr]=n.filter(t=>t!==this))}};function ni(e,n){let t=n?.injector??D(Le);return Yi("NgAfterNextRender"),ZS(e,t,n,!0)}function KS(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function ZS(e,n,t,r){let i=n.get(gh);i.impl??=n.get(Lv);let o=n.get(ti,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(Gt):null,l=n.get(pl,null,{optional:!0}),a=new Ll(i.impl,KS(e),l?.view,r,s,o?.snapshot(null));return i.impl.register(a),a}var Xl=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ec=new F(""),Zi=new F(""),ps=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,Sd()&&(this._destroyRef=D(Gt,{optional:!0})??void 0),mh||(Vv(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||e)(B(ye),B(gs),B(Zi))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),gs=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return mh?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Vv(e){mh=e}var mh;function yr(e){return!!e&&typeof e.then=="function"}function _h(e){return!!e&&typeof e.subscribe=="function"}var vh=new F("");function Qi(e){return Wn([{provide:vh,multi:!0,useValue:e}])}var yh=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=D(vh,{optional:!0})??[];injector=D(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ot(this.injector,i);if(yr(o))t.push(o);else if(_h(o)){let s=new Promise((l,a)=>{o.subscribe({complete:l,error:a})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tc=new F("");function jv(){Su(()=>{let e="";throw new A(600,e)})}function Bv(e){return e.isBoundToModule}var QS=10;function Ch(e,n){return Array.isArray(n)?n.reduce(Ch,e):S(S({},e),n)}var st=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(kt);afterRenderManager=D(gh);zonelessEnabled=D(Xo);rootEffectScheduler=D(Kd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new te;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Sn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){D(ti,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=D(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){return this._injector.get(ye).run(()=>{Oe(10);let s=t instanceof Kl;if(!this._injector.get(yh).done){let b="";throw new A(405,b)}let a;s?a=t:a=this._injector.get(hs).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=Bv(a)?void 0:this._injector.get(Qr),u=r||a.selector,f=a.create(i,[],u,c),C=f.location.nativeElement,m=f.injector.get(ec,null);return m?.registerApplication(C),f.onDestroy(()=>{this.detachView(f.hostView),rs(this.components,f),m?.unregisterApplication(C)}),this._loadComponent(f),Oe(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new A(101,!1);let t=ce(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(t),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Wt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<QS;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Zo(i))continue;let o=r&&!this.zonelessEnabled?0:1;ih(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zo(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;rs(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(tc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rs(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rs(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Mn(e,n,t,r){let i=fe(),o=Ui();if(Tn(i,o,n)){let s=Et(),l=fl();wb(l,i,e,n,t,r)}return Mn}function E(e,n,t){let r=fe(),i=Ui();if(Tn(r,i,n)){let o=Et(),s=fl();iv(s,r,e,n,r[We],t)}return E}function c_(e,n,t,r,i){nh(n,e,t,i?"class":"style",r)}function g(e,n,t,r){let i=fe(),o=i[ie],s=e+ct,l=o.firstCreatePass?lh(s,i,2,n,th,al(),t,r):o.data[s];if(ov(l,i,e,n,JS),Li(l)){let a=i[ie];Yl(a,i,l),Bf(a,l,i)}return r!=null&&eh(i,l),g}function p(){let e=Et(),n=vt(),t=sv(n);return e.firstCreatePass&&ch(e,t),_m(t)&&vm(),gm(),t.classesWithoutHost!=null&&BE(t)&&c_(e,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&HE(t)&&c_(e,t,fe(),t.stylesWithoutHost,!1),p}function q(e,n,t,r){return g(e,n,t,r),p(),q}var JS=(e,n,t,r,i)=>(Jo(!0),Y_(n[We],r,Rm()));function nc(e,n,t){let r=fe(),i=r[ie],o=e+ct,s=i.firstCreatePass?lh(o,r,8,"ng-container",th,al(),n,t):i.data[o];if(ov(s,r,e,"ng-container",XS),Li(s)){let l=r[ie];Yl(l,r,s),Bf(l,s,r)}return t!=null&&eh(r,s),nc}function rc(){let e=Et(),n=vt(),t=sv(n);return e.firstCreatePass&&ch(e,t),rc}var XS=(e,n,t,r,i)=>(Jo(!0),GD(n[We],""));function De(){return fe()}var ms="en-US";var eI=ms;function Hv(e){typeof e=="string"&&(eI=e.toLowerCase().replace(/_/g,"-"))}function j(e,n,t){let r=fe(),i=Et(),o=vt();return Uv(i,r,r[We],o,e,n,t),j}function Uv(e,n,t,r,i,o,s){let l=!0,a=null;if((r.type&3||s)&&(a??=Xd(r,n,o),lS(r,e,n,s,t,i,o,a)&&(l=!1)),l){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let f=0;f<u.length;f+=2){let C=u[f],m=u[f+1];a??=Xd(r,n,o),n_(r,n,C,m,i,a)}if(c&&c.length)for(let f of c)a??=Xd(r,n,o),n_(r,n,f,i,i,a)}}function y(e=1){return Mm(e)}function yl(e,n){return e<<17|n<<2}function Jr(e){return e>>17&32767}function tI(e){return(e&2)==2}function nI(e,n){return e&131071|n<<17}function Rf(e){return e|2}function Wi(e){return(e&131068)>>2}function nf(e,n){return e&-131069|n<<2}function rI(e){return(e&1)===1}function Af(e){return e|1}function iI(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,l=Jr(s),a=Wi(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||Ni(f,u)>0)&&(c=!0)}else u=t;if(i)if(a!==0){let C=Jr(e[l+1]);e[r+1]=yl(C,l),C!==0&&(e[C+1]=nf(e[C+1],r)),e[l+1]=nI(e[l+1],r)}else e[r+1]=yl(l,0),l!==0&&(e[l+1]=nf(e[l+1],r)),l=r;else e[r+1]=yl(a,0),l===0?l=r:e[a+1]=nf(e[a+1],r),a=r;c&&(e[r+1]=Rf(e[r+1])),u_(e,u,r,!0),u_(e,u,r,!1),oI(n,u,e,r,o),s=yl(l,a),o?n.classBindings=s:n.styleBindings=s}function oI(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Ni(o,n)>=0&&(t[r+1]=Af(t[r+1]))}function u_(e,n,t,r){let i=e[t+1],o=n===null,s=r?Jr(i):Wi(i),l=!1;for(;s!==0&&(l===!1||o);){let a=e[s],c=e[s+1];sI(a,n)&&(l=!0,e[s+1]=r?Af(c):Rf(c)),s=r?Jr(c):Wi(c)}l&&(e[t+1]=r?Rf(i):Af(i))}function sI(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Ni(e,n)>=0:!1}function Ji(e,n,t){return $v(e,n,t,!1),Ji}function Me(e,n){return $v(e,n,null,!0),Me}function $v(e,n,t,r){let i=fe(),o=Et(),s=ll(2);if(o.firstUpdatePass&&lI(o,e,s,r),n!==Dt&&Tn(i,s,n)){let l=o.data[qn()];hI(o,l,i,i[We],e,i[s+1]=pI(n,t),r,s)}}function aI(e,n){return n>=e.expandoStartIndex}function lI(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[qn()],s=aI(e,t);gI(o,r)&&n===null&&!s&&(n=!1),n=cI(i,o,n,r),iI(i,o,n,t,s,r)}}function cI(e,n,t,r){let i=Sm(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=rf(null,e,n,t,r),t=cs(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=rf(i,e,n,t,r),o===null){let a=uI(e,n,r);a!==void 0&&Array.isArray(a)&&(a=rf(null,e,n,a[1],r),a=cs(a,n.attrs,r),dI(e,n,r,a))}else o=fI(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function uI(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Wi(r)!==0)return e[Jr(r)]}function dI(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Jr(i)]=r}function fI(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=cs(r,s,t)}return cs(r,n.attrs,t)}function rf(e,n,t,r,i){let o=null,s=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<s&&(o=n[l],r=cs(r,o.hostAttrs,i),o!==e);)l++;return e!==null&&(t.directiveStylingLast=l),r}function cs(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),em(e,s,t?!0:n[++o]))}return e===void 0?null:e}function hI(e,n,t,r,i,o,s,l){if(!(n.type&3))return;let a=e.data,c=a[l+1],u=rI(c)?d_(a,n,t,i,Wi(c),s):void 0;if(!Vl(u)){Vl(o)||tI(c)&&(o=d_(a,null,t,i,l,s));let f=Md(qn(),t);db(r,s,f,i,o)}}function d_(e,n,t,r,i,o){let s=n===null,l;for(;i>0;){let a=e[i],c=Array.isArray(a),u=c?a[1]:a,f=u===null,C=t[i+1];C===Dt&&(C=f?Nt:void 0);let m=f?nl(C,r):u===r?C:void 0;if(c&&!Vl(m)&&(m=nl(a,r)),Vl(m)&&(l=m,s))return l;let b=e[i+1];i=s?Jr(b):Wi(b)}if(n!==null){let a=o?n.residualClasses:n.residualStyles;a!=null&&(l=nl(a,r))}return l}function Vl(e){return e!==void 0}function pI(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=$n(an(e)))),e}function gI(e,n){return(e.flags&(n?8:16))!==0}function w(e,n=""){let t=fe(),r=Et(),i=e+ct,o=r.firstCreatePass?sh(r,i,1,n,null):r.data[i],s=mI(r,t,o,n,e);t[i]=s,hl()&&Jf(r,t,s,o),Bi(o,!1)}var mI=(e,n,t,r,i)=>(Jo(!0),$D(n[We],r));function zv(e,n,t,r=""){return Tn(e,Ui(),t)?n+jt(t)+r:Dt}function _I(e,n,t,r,i,o=""){let s=Bd(),l=fh(e,s,t,i);return ll(2),l?n+jt(t)+r+jt(i)+o:Dt}function vI(e,n,t,r,i,o,s,l=""){let a=Bd(),c=aS(e,a,t,i,s);return ll(3),c?n+jt(t)+r+jt(i)+o+jt(s)+l:Dt}function Ce(e){return ae("",e),Ce}function ae(e,n,t){let r=fe(),i=zv(r,e,n,t);return i!==Dt&&wh(r,qn(),i),ae}function _s(e,n,t,r,i){let o=fe(),s=_I(o,e,n,t,r,i);return s!==Dt&&wh(o,qn(),s),_s}function er(e,n,t,r,i,o,s){let l=fe(),a=vI(l,e,n,t,r,i,o,s);return a!==Dt&&wh(l,qn(),a),er}function wh(e,n,t){let r=Md(n,e);zD(e[We],r,t)}function Yt(e,n,t){Wd(n)&&(n=n());let r=fe(),i=Ui();if(Tn(r,i,n)){let o=Et(),s=fl();iv(s,r,e,n,r[We],t)}return Yt}function cn(e,n){let t=Wd(e);return t&&e.set(n),t}function Kt(e,n){let t=fe(),r=Et(),i=vt();return Uv(r,t,t[We],i,e,n),Kt}function ic(e){return Tn(fe(),Ui(),e)?jt(e):Dt}function Eh(e,n,t=""){return zv(fe(),e,n,t)}function yI(e,n,t){let r=Et();if(r.firstCreatePass){let i=bn(e);Pf(t,r.data,r.blueprint,i,!0),Pf(n,r.data,r.blueprint,i,!1)}}function Pf(e,n,t,r,i){if(e=at(e),Array.isArray(e))for(let o=0;o<e.length;o++)Pf(e[o],n,t,r,i);else{let o=Et(),s=fe(),l=vt(),a=jr(e)?e:at(e.provide),c=bd(e),u=l.providerIndexes&1048575,f=l.directiveStart,C=l.providerIndexes>>20;if(jr(e)||!e.multi){let m=new Zr(c,i,oe,null),b=sf(a,n,i?u:u+C,f);b===-1?(lf(xl(l,s),o,a),of(o,e,n.length),n.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(m),s.push(m)):(t[b]=m,s[b]=m)}else{let m=sf(a,n,u+C,f),b=sf(a,n,u,u+C),V=m>=0&&t[m],I=b>=0&&t[b];if(i&&!I||!i&&!V){lf(xl(l,s),o,a);let P=EI(i?wI:CI,t.length,i,r,c,e);!i&&I&&(t[b].providerFactory=P),of(o,e,n.length,0),n.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(P),s.push(P)}else{let P=Gv(t[i?b:m],c,!i&&r);of(o,e,m>-1?m:b,P)}!i&&r&&I&&t[b].componentProviders++}}}function of(e,n,t,r){let i=jr(n),o=im(n);if(i||o){let a=(o?at(n.useClass):n).prototype.ngOnDestroy;if(a){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,a]):c[u+1].push(r,a)}else c.push(t,a)}}}function Gv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function sf(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function CI(e,n,t,r,i){return Nf(this.multi,[])}function wI(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let l=this.providerFactory.componentProviders,a=Ml(r,r[ie],this.providerFactory.index,i);s=a.slice(0,l),Nf(o,s);for(let c=l;c<a.length;c++)s.push(a[c])}else s=[],Nf(o,s);return s}function Nf(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function EI(e,n,t,r,i,o){let s=new Zr(e,t,oe,null);return s.multi=[],s.index=n,s.componentProviders=0,Gv(s,i,r&&!t),s}function Cr(e,n=[]){return t=>{t.providersResolver=(r,i)=>yI(r,i?i(e):e,n)}}function Dh(e,n,t){let r=e.\u0275cmp;r.directiveDefs=kl(n,Mv),r.pipeDefs=kl(t,wd)}function tr(e,n,t){let r=Hi()+e,i=fe();return i[r]===Dt?dh(i,r,t?n.call(t):n()):sS(i,r)}function At(e,n,t,r){return qv(fe(),Hi(),e,n,t,r)}function vs(e,n,t,r,i){return Yv(fe(),Hi(),e,n,t,r,i)}function Wv(e,n){let t=e[n];return t===Dt?void 0:t}function qv(e,n,t,r,i,o){let s=n+t;return Tn(e,s,i)?dh(e,s+1,o?r.call(o,i):r(i)):Wv(e,s+1)}function Yv(e,n,t,r,i,o,s){let l=n+t;return fh(e,l,i,o)?dh(e,l+2,s?r.call(s,i,o):r(i,o)):Wv(e,l+2)}function Rn(e,n){let t=Et(),r,i=e+ct;t.firstCreatePass?(r=DI(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=lr(r.type,!0)),s,l=wt(oe);try{let a=Tl(!1),c=o();return Tl(a),Ad(t,fe(),i,c),c}finally{wt(l)}}function DI(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Xi(e,n,t){let r=e+ct,i=fe(),o=Rd(i,r);return Kv(i,r)?qv(i,Hi(),n,o.transform,t,o):o.transform(t)}function eo(e,n,t,r){let i=e+ct,o=fe(),s=Rd(o,i);return Kv(o,i)?Yv(o,Hi(),n,s.transform,t,r,s):s.transform(t,r)}function Kv(e,n){return e[ie].data[n].pure}var Cl=null;function Zv(e){Cl!==null&&(e.defaultEncapsulation!==Cl.defaultEncapsulation||e.preserveWhitespaces!==Cl.preserveWhitespaces)||(Cl=e)}var jl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},bh=(()=>{class e{compileModuleSync(t){return new as(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=yd(t),o=W_(i.declarations).reduce((s,l)=>{let a=wn(l);return a&&s.push(new gr(a)),s},[]);return new jl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qv=new F("");var bI=(()=>{class e{zone=D(ye);changeDetectionScheduler=D(zn);applicationRef=D(st);applicationErrorHandler=D(kt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jv({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ye(ne(S({},Sh()),{scheduleInRootZone:t})),[{provide:ye,useFactory:e},{provide:Gn,multi:!0,useFactory:()=>{let r=D(bI,{optional:!0});return()=>r.initialize()}},{provide:Gn,multi:!0,useFactory:()=>{let r=D(SI);return()=>{r.initialize()}}},n===!0?{provide:qd,useValue:!0}:[],{provide:Yd,useValue:t??Pv},{provide:kt,useFactory:()=>{let r=D(ye),i=D(Ge),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Jt),o.handleError(s))})}}}]}function Sh(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var SI=(()=>{class e{subscription=new Se;initialized=!1;zone=D(ye);pendingTasks=D(Sn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xv=(()=>{class e{applicationErrorHandler=D(kt);appRef=D(st);taskService=D(Sn);ngZone=D(ye);zonelessEnabled=D(Xo);tracing=D(ti,{optional:!0});disableScheduling=D(qd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Yd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ls||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?s_:Nv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,s_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function II(){return typeof $localize<"u"&&$localize.locale||ms}var oc=new F("",{providedIn:"root",factory:()=>D(oc,{optional:!0,skipSelf:!0})||II()});function un(e){return Gg(e)}function ys(e,n){return _a(e,n?.equal)}var ey=class{[ht];constructor(n){this[ht]=n}destroy(){this[ht].destroy()}};var dy=Symbol("InputSignalNode#UNSET"),qI=ne(S({},va),{transformFn:void 0,applyValueToInputSignal(e,n){_i(e,n)}});function fy(e,n){let t=Object.create(qI);t.value=e,t.transformFn=n?.transform;function r(){if(pi(t),t.value===dy){let i=null;throw new A(-950,i)}return t.value}return r[ht]=t,r}var YI=new F("");YI.__NG_ELEMENT_ID__=e=>{let n=vt();if(n===null)throw new A(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new A(204,!1)};function ty(e,n){return fy(e,n)}function KI(e){return fy(dy,e)}var hy=(ty.required=KI,ty);function ZI(e,n,t){let r=new as(t);return Promise.resolve(r)}function ny(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var sc=new F(""),QI=new F("");function Cs(e){return!e.moduleRef}function JI(e){let n=Cs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ye);return t.run(()=>{Cs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(kt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Cs(e)){let o=()=>n.destroy(),s=e.platformInjector.get(sc);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(sc);s.add(o),e.moduleRef.onDestroy(()=>{rs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return eT(r,t,()=>{let o=n.get(Sn),s=o.add(),l=n.get(yh);return l.runInitializers(),l.donePromise.then(()=>{let a=n.get(oc,ms);if(Hv(a||ms),!n.get(QI,!0))return Cs(e)?n.get(st):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Cs(e)){let u=n.get(st);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return py?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var py;function ry(){py=XI}function XI(e,n){let t=e.injector.get(st);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new A(-403,!1);n.push(e)}function eT(e,n,t){try{let r=t();return yr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var gy=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>kv(r?.ngZone,ne(S({},Sh({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),s=r?.ignoreChangesOutsideZone,l=[Jv({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:zn,useExisting:Xv},Pm],a=xv(t.moduleType,this.injector,l);return ry(),JI({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=Ch({},r);return ry(),ZI(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(sc,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(B(Le))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ws=null,my=new F("");function tT(e){if(ws&&!ws.get(my,!1))throw new A(400,!1);jv(),ws=e;let n=e.get(gy);return iT(e),n}function Nh(e,n,t=[]){let r=`Platform: ${n}`,i=new F(r);return(o=[])=>{let s=_y();if(!s||s.injector.get(my,!1)){let l=[...t,...o,{provide:i,useValue:!0}];e?e(l):tT(nT(l,r))}return rT(i)}}function nT(e=[],n){return Le.create({name:n,providers:[{provide:$o,useValue:"platform"},{provide:sc,useValue:new Set([()=>ws=null])},...e]})}function rT(e){let n=_y();if(!n)throw new A(401,!1);return n}function _y(){return ws?.get(gy)??null}function iT(e){let n=e.get(Ul,null);ot(e,()=>{n?.forEach(t=>t())})}function vy(){return!1}var An=(()=>{class e{static __NG_ELEMENT_ID__=oT}return e})();function oT(e){return sT(vt(),fe(),(e&16)===16)}function sT(e,n,t){if(fr(e)&&!t){let r=zt(e.index,n);return new pr(r,r)}else if(e.type&175){let r=n[Ut];return new pr(r,n)}return null}var Ih=class{constructor(){}supports(n){return uh(n)}create(n){return new Th(n)}},aT=(e,n)=>n,Th=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||aT}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<iy(r,i,o)?t:r,l=iy(s,i,o),a=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=l-i,u=a-i;if(c!=u){for(let C=0;C<c;C++){let m=C<o.length?o[C]:o[C]=0,b=m+C;u<=b&&b<c&&(o[C]=m+1)}let f=s.previousIndex;o[f]=u-c}}l!==a&&n(s,l,a)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!uh(n))throw new A(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)o=n[l],s=this._trackByFn(l,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,l),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Ev(n,l=>{s=this._trackByFn(i,l),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,l,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,l,s,i)),Object.is(t.item,l)||this._addIdentityChange(t,l)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new xh(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new ac),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ac),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},xh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Mh=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ac=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Mh,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iy(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}var Rh=class{constructor(){}supports(n){return n instanceof Map||Zl(n)}create(){return new Ah}},Ah=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let t;for(t=this._mapHead;t!==null;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Zl(n)))throw new A(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){let r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Ph(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}},Ph=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function oy(){return new lc([new Ih])}var lc=(()=>{class e{factories;static \u0275prov=N({token:e,providedIn:"root",factory:oy});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||oy()),deps:[[e,new Of,new us]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new A(901,!1)}}return e})();function sy(){return new Oh([new Rh])}var Oh=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:sy});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||sy()),deps:[[e,new Of,new us]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new A(901,!1)}}return e})();var yy=Nh(null,"core",[]),Cy=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(B(st))};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();function to(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function wy(e,n){let t=wn(e),r=n.elementInjector||Oi();return new gr(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}function Ey(e){let n=wn(e);if(!n)return null;let t=new gr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Sy=null;function Ft(){return Sy}function kh(e){Sy??=e}var Es=class{},Ds=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>D(Iy),providedIn:"platform"})}return e})(),Fh=new F(""),Iy=(()=>{class e extends Ds{_location;_history;_doc=D(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ft().getBaseHref(this._doc)}onPopState(t){let r=Ft().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ft().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function cc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Dy(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function dn(e){return e&&e[0]!=="?"?`?${e}`:e}var nr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>D(dc),providedIn:"root"})}return e})(),uc=new F(""),dc=(()=>{class e extends nr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+dn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(B(Ds),B(uc,8))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wr=(()=>{class e{_subject=new te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=uT(Dy(by(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+dn(r))}normalize(t){return e.stripTrailingSlash(cT(this._basePath,by(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=dn;static joinWithSlash=cc;static stripTrailingSlash=Dy;static \u0275fac=function(r){return new(r||e)(B(nr))};static \u0275prov=N({token:e,factory:()=>lT(),providedIn:"root"})}return e})();function lT(){return new wr(B(nr))}function cT(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function by(e){return e.replace(/\/index.html$/,"")}function uT(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Vh=(()=>{class e extends nr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=cc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+dn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(B(Ds),B(uc,8))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var Lh=/\s+/,Ty=[],jh=(()=>{class e{_ngEl;_renderer;initialClasses=Ty;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Lh):Ty}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Lh):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Lh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(oe(yt),oe(Rt))};static \u0275dir=Ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var fc=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pc=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fc(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,s),xy(l,i)}});for(let i=0,o=r.length;i<o;i++){let l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);xy(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(oe(Xn),oe(Xr),oe(lc))};static \u0275dir=Ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function xy(e,n){e.context.$implicit=n.item}var Bh=(()=>{class e{_viewContainer;_context=new hc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){My(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){My(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(oe(Xn),oe(Xr))};static \u0275dir=Ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),hc=class{$implicit=null;ngIf=null};function My(e,n){if(e&&!e.createEmbeddedView)throw new A(2020,!1)}var Hh=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:sn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(oe(yt),oe(Oh),oe(Rt))};static \u0275dir=Ze({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();function dT(e,n){return new A(2100,!1)}var fT=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Uh=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw dT(e,t);return t.replace(fT,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=ei({name:"titlecase",type:e,pure:!0})}return e})();var bs=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();function Ss(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ri=class{};var zh="browser";function Ay(e){return e===zh}var Py=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>new $h(D(Ne),window)})}return e})(),$h=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(ne(S({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=pT(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Xt(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ne(S({},t),{left:i-s[0],top:o-s[1]}))}};function pT(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var mc=new F(""),Kh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(B(mc),B(ye))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Is=class{_doc;constructor(n){this._doc=n}manager},Gh="ng-app-id";function Ny(e){for(let n of e)n.remove()}function Oy(e,n){let t=n.createElement("style");return t.textContent=e,t}function mT(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Gh}="${n}"],link[${Gh}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Gh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function qh(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Zh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,mT(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Oy);r?.forEach(i=>this.addUsage(i,this.external,qh))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Ny(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ny(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Oy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,qh(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(B(Ne),B(Hl),B($l,8),B(_r))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qh=/%COMP%/g;var Fy="%COMP%",_T=`_nghost-${Fy}`,vT=`_ngcontent-${Fy}`,yT=!0,CT=new F("",{providedIn:"root",factory:()=>yT});function wT(e){return vT.replace(Qh,e)}function ET(e){return _T.replace(Qh,e)}function Ly(e,n){return n.map(t=>t.replace(Qh,e))}var Jh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,l,a,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Ts(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof gc?i.applyToHost(t):i instanceof xs&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,l=this.ngZone,a=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,C=this.tracingService;switch(r.encapsulation){case Yn.Emulated:o=new gc(a,c,r,this.appId,u,s,l,f,C);break;case Yn.ShadowDom:return new Yh(a,c,t,r,s,l,this.nonce,f,C);default:o=new xs(a,c,r,u,s,l,f,C);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(B(Kh),B(Zh),B(Hl),B(CT),B(Ne),B(_r),B(ye),B($l),B(ti,8))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Ts=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Wh[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ky(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(ky(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new A(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Wh[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Wh[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(sn.DashCase|sn.Important)?n.style.setProperty(t,r,i&sn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&sn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Ft().getGlobalEventTarget(this.doc,n),!n))throw new A(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function ky(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Yh=class extends Ts{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,l,a,c){super(n,o,s,a,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Ly(i.id,u);for(let C of u){let m=document.createElement("style");l&&m.setAttribute("nonce",l),m.textContent=C,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let C of f){let m=qh(C,o);l&&m.setAttribute("nonce",l),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xs=class extends Ts{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,l,a,c){super(n,o,s,l,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Ly(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},gc=class extends xs{contentAttr;hostAttr;constructor(n,t,r,i,o,s,l,a,c){let u=i+"-"+r.id;super(n,t,r,o,s,l,a,c,u),this.contentAttr=wT(u),this.hostAttr=ET(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var _c=class e extends Es{supportsDOMEvents=!0;static makeCurrent(){kh(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=DT();return t==null?null:bT(t)}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ss(document.cookie,n)}},Ms=null;function DT(){return Ms=Ms||document.head.querySelector("base"),Ms?Ms.getAttribute("href"):null}function bT(e){return new URL(e,document.baseURI).pathname}var vc=class{addToWindow(n){mt.getAngularTestability=(r,i=!0)=>{let o=n.findTestabilityInTree(r,i);if(o==null)throw new A(5103,!1);return o},mt.getAllAngularTestabilities=()=>n.getAllTestabilities(),mt.getAllAngularRootElements=()=>n.getAllRootElements();let t=r=>{let i=mt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(l=>{l.whenStable(s)})};mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,r){if(t==null)return null;let i=n.getTestability(t);return i??(r?Ft().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},ST=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),jy=(()=>{class e extends Is{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(B(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Vy=["alt","control","meta","shift"],IT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},By=(()=>{class e extends Is{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),l=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ft().onAndCancel(t,s.domEventName,l,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),Vy.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let a={};return a.domEventName=i,a.fullKey=s,a}static matchEventFullKeyCode(t,r){let i=IT[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Vy.forEach(s=>{if(s!==i){let l=TT[s];l(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(B(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function xT(){_c.makeCurrent()}function MT(){return new Jt}function RT(){return Lf(document),document}var AT=[{provide:_r,useValue:zh},{provide:Ul,useValue:xT,multi:!0},{provide:Ne,useFactory:RT}],Xh=Nh(yy,"browser",AT);var PT=[{provide:Zi,useClass:vc},{provide:ec,useClass:ps,deps:[ye,gs,Zi]},{provide:ps,useClass:ps,deps:[ye,gs,Zi]}],NT=[{provide:$o,useValue:"root"},{provide:Jt,useFactory:MT},{provide:mc,useClass:jy,multi:!0,deps:[Ne]},{provide:mc,useClass:By,multi:!0,deps:[Ne]},Jh,Zh,Kh,{provide:Wt,useExisting:Jh},{provide:ri,useClass:ST},[]],ep=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({providers:[...NT,...PT],imports:[bs,Cy]})}return e})();var io=class{},Rs=class{},Er=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Cc=class{encodeKey(n){return Hy(n)}encodeValue(n){return Hy(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function OT(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,l]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],a=t.get(s)||[];a.push(l),t.set(s,a)}),t}var kT=/%(\d[a-f0-9])/gi,FT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hy(e){return encodeURIComponent(e).replace(kT,(n,t)=>FT[t]??n)}function yc(e){return`${e}`}var rr=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Cc,n.fromString){if(n.fromObject)throw new A(2805,!1);this.map=OT(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(yc):[yc(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(yc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(yc(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var wc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function LT(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Uy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $y(e){return typeof Blob<"u"&&e instanceof Blob}function zy(e){return typeof FormData<"u"&&e instanceof FormData}function VT(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Gy="Content-Type",Wy="Accept",Yy="X-Request-URL",Ky="text/plain",Zy="application/json",jT=`${Zy}, ${Ky}, */*`,no=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(LT(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Er,this.context??=new wc,!this.params)this.params=new rr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),a=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+a+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Uy(this.body)||$y(this.body)||zy(this.body)||VT(this.body)?this.body:this.body instanceof rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zy(this.body)?null:$y(this.body)?this.body.type||null:Uy(this.body)?null:typeof this.body=="string"?Ky:this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Zy:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,l=n.cache||this.cache,a=n.mode||this.mode,c=n.redirect||this.redirect,u=n.credentials||this.credentials,f=n.transferCache??this.transferCache,C=n.timeout??this.timeout,m=n.body!==void 0?n.body:this.body,b=n.withCredentials??this.withCredentials,V=n.reportProgress??this.reportProgress,I=n.headers||this.headers,P=n.params||this.params,Y=n.context??this.context;return n.setHeaders!==void 0&&(I=Object.keys(n.setHeaders).reduce((U,G)=>U.set(G,n.setHeaders[G]),I)),n.setParams&&(P=Object.keys(n.setParams).reduce((U,G)=>U.set(G,n.setParams[G]),P)),new e(t,r,m,{params:P,headers:I,context:Y,reportProgress:V,responseType:i,withCredentials:b,transferCache:f,keepalive:o,cache:l,priority:s,timeout:C,mode:a,redirect:c,credentials:u})}},ii=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ii||{}),oo=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new Er,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},Ec=class e extends oo{constructor(n={}){super(n)}type=ii.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},As=class e extends oo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=ii.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ro=class extends oo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},BT=200,HT=204;function tp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect}}var bc=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof no)o=t;else{let a;i.headers instanceof Er?a=i.headers:a=new Er(i.headers);let c;i.params&&(i.params instanceof rr?c=i.params:c=new rr({fromObject:i.params})),o=new no(t,r,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let s=Q(o).pipe(yn(a=>this.handler.handle(a)));if(t instanceof no||i.observe==="events")return s;let l=s.pipe(Qe(a=>a instanceof As));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(X(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new A(2806,!1);return a.body}));case"blob":return l.pipe(X(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new A(2807,!1);return a.body}));case"text":return l.pipe(X(a=>{if(a.body!==null&&typeof a.body!="string")throw new A(2808,!1);return a.body}));case"json":default:return l.pipe(X(a=>a.body))}case"response":return l;default:throw new A(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,tp(i,r))}post(t,r,i={}){return this.request("POST",t,tp(i,r))}put(t,r,i={}){return this.request("PUT",t,tp(i,r))}static \u0275fac=function(r){return new(r||e)(B(io))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var UT=new F("");function Qy(e,n){return n(e)}function $T(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}function zT(e,n,t){return(r,i)=>ot(t,()=>n(r,o=>e(o,i)))}var Jy=new F(""),rp=new F(""),Xy=new F(""),ip=new F("",{providedIn:"root",factory:()=>!0});function GT(){let e=null;return(n,t)=>{e===null&&(e=(D(Jy,{optional:!0})??[]).reduceRight($T,Qy));let r=D(es);if(D(ip)){let o=r.add();return e(n,t).pipe(ar(o))}else return e(n,t)}}var Dc=(()=>{class e extends io{backend;injector;chain=null;pendingTasks=D(es);contributeToStability=D(ip);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(rp),...this.injector.get(Xy,[])]));this.chain=r.reduceRight((i,o)=>zT(i,o,this.injector),Qy)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ar(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(B(Rs),B(Ge))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var WT=/^\)\]\}',?\n/,qT=RegExp(`^${Yy}:`,"m");function YT(e){return"responseURL"in e&&e.responseURL?e.responseURL:qT.test(e.getAllResponseHeaders())?e.getResponseHeader(Yy):null}var np=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return Q(null).pipe(Ee(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,P)=>s.setRequestHeader(I,P.join(","))),t.headers.has(Wy)||s.setRequestHeader(Wy,jT),!t.headers.has(Gy)){let I=t.detectContentTypeHeader();I!==null&&s.setRequestHeader(Gy,I)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let I=t.responseType.toLowerCase();s.responseType=I!=="json"?I:"text"}let l=t.serializeBody(),a=null,c=()=>{if(a!==null)return a;let I=s.statusText||"OK",P=new Er(s.getAllResponseHeaders()),Y=YT(s)||t.url;return a=new Ec({headers:P,status:s.status,statusText:I,url:Y}),a},u=()=>{let{headers:I,status:P,statusText:Y,url:U}=c(),G=null;P!==HT&&(G=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=G?BT:0);let z=P>=200&&P<300;if(t.responseType==="json"&&typeof G=="string"){let _=G;G=G.replace(WT,"");try{G=G!==""?JSON.parse(G):null}catch(d){G=_,z&&(z=!1,G={error:d,text:G})}}z?(o.next(new As({body:G,headers:I,status:P,statusText:Y,url:U||void 0})),o.complete()):o.error(new ro({error:G,headers:I,status:P,statusText:Y,url:U||void 0}))},f=I=>{let{url:P}=c(),Y=new ro({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(Y)},C=f;t.timeout&&(C=I=>{let{url:P}=c(),Y=new ro({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:P||void 0});o.error(Y)});let m=!1,b=I=>{m||(o.next(c()),m=!0);let P={type:ii.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(P.total=I.total),t.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)},V=I=>{let P={type:ii.UploadProgress,loaded:I.loaded};I.lengthComputable&&(P.total=I.total),o.next(P)};return s.addEventListener("load",u),s.addEventListener("error",f),s.addEventListener("timeout",C),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",b),l!==null&&s.upload&&s.upload.addEventListener("progress",V)),s.send(l),o.next({type:ii.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",u),s.removeEventListener("timeout",C),t.reportProgress&&(s.removeEventListener("progress",b),l!==null&&s.upload&&s.upload.removeEventListener("progress",V)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(B(ri))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),e0=new F(""),KT="XSRF-TOKEN",ZT=new F("",{providedIn:"root",factory:()=>KT}),QT="X-XSRF-TOKEN",JT=new F("",{providedIn:"root",factory:()=>QT}),Ps=class{},XT=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ss(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(B(Ne),B(ZT))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function ex(e,n){let t=e.url.toLowerCase();if(!D(e0)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=D(Ps).getToken(),i=D(JT);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var op=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(op||{});function tx(e,n){return{\u0275kind:e,\u0275providers:n}}function t0(...e){let n=[bc,np,Dc,{provide:io,useExisting:Dc},{provide:Rs,useFactory:()=>D(UT,{optional:!0})??D(np)},{provide:rp,useValue:ex,multi:!0},{provide:e0,useValue:!0},{provide:Ps,useClass:XT}];for(let t of e)n.push(...t.\u0275providers);return Wn(n)}var qy=new F("");function n0(){return tx(op.LegacyInterceptors,[{provide:qy,useFactory:GT},{provide:rp,useExisting:qy,multi:!0}])}var sp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({providers:[t0(n0())]})}return e})();var r0=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(B(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ap=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=B(rx),i},providedIn:"root"})}return e})(),rx=(()=>{class e extends ap{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case ln.NONE:return r;case ln.HTML:return Qn(r,"HTML")?an(r):Gl(this._doc,String(r)).toString();case ln.STYLE:return Qn(r,"Style")?an(r):r;case ln.SCRIPT:if(Qn(r,"Script"))return an(r);throw new A(5200,!1);case ln.URL:return Qn(r,"URL")?an(r):ds(String(r));case ln.RESOURCE_URL:if(Qn(r,"ResourceURL"))return an(r);throw new A(5201,!1);default:throw new A(5202,!1)}}bypassSecurityTrustHtml(t){return Hf(t)}bypassSecurityTrustStyle(t){return Uf(t)}bypassSecurityTrustScript(t){return $f(t)}bypassSecurityTrustUrl(t){return zf(t)}bypassSecurityTrustResourceUrl(t){return Gf(t)}static \u0275fac=function(r){return new(r||e)(B(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f0=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(oe(Rt),oe(yt))};static \u0275dir=Ze({type:e})}return e})(),hp=(()=>{class e extends f0{static \u0275fac=(()=>{let t;return function(i){return(t||(t=mr(e)))(i||e)}})();static \u0275dir=Ze({type:e,features:[xn]})}return e})(),Mc=new F("");var ix={provide:Mc,useExisting:Cn(()=>Rc),multi:!0};function ox(){let e=Ft()?Ft().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var sx=new F(""),Rc=(()=>{class e extends f0{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!ox())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(oe(Rt),oe(yt),oe(sx,8))};static \u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&j("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Cr([ix]),xn]})}return e})();var ax=new F(""),lx=new F("");function h0(e){return e!=null}function p0(e){return yr(e)?Fe(e):e}function g0(e){let n={};return e.forEach(t=>{n=t!=null?S(S({},n),t):n}),Object.keys(n).length===0?null:n}function m0(e,n){return n.map(t=>t(e))}function cx(e){return!e.validate}function _0(e){return e.map(n=>cx(n)?n:t=>n.validate(t))}function ux(e){if(!e)return null;let n=e.filter(h0);return n.length==0?null:function(t){return g0(m0(t,n))}}function v0(e){return e!=null?ux(_0(e)):null}function dx(e){if(!e)return null;let n=e.filter(h0);return n.length==0?null:function(t){let r=m0(t,n).map(p0);return ju(r).pipe(X(g0))}}function y0(e){return e!=null?dx(_0(e)):null}function i0(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function fx(e){return e._rawValidators}function hx(e){return e._rawAsyncValidators}function cp(e){return e?Array.isArray(e)?e:[e]:[]}function Ic(e,n){return Array.isArray(e)?e.includes(n):e===n}function o0(e,n){let t=cp(n);return cp(e).forEach(i=>{Ic(t,i)||t.push(i)}),t}function s0(e,n){return cp(n).filter(t=>!Ic(e,t))}var Tc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=v0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},up=class extends Tc{name;get formDirective(){return null}get path(){return null}},Ls=class extends Tc{_parent=null;name=null;valueAccessor=null},dp=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},px={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},i8=ne(S({},px),{"[class.ng-submitted]":"isSubmitted"}),C0=(()=>{class e extends dp{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(oe(Ls,2))};static \u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[xn]})}return e})();var Ns="VALID",Sc="INVALID",so="PENDING",Os="DISABLED",lo=class{},xc=class extends lo{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ks=class extends lo{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Fs=class extends lo{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},ao=class extends lo{status;source;constructor(n,t){super(),this.status=n,this.source=t}};function gx(e){return(Ac(e)?e.validators:e)||null}function mx(e){return Array.isArray(e)?v0(e):e||null}function _x(e,n){return(Ac(n)?n.asyncValidators:e)||null}function vx(e){return Array.isArray(e)?y0(e):e||null}function Ac(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var fp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return un(this.statusReactive)}set status(n){un(()=>this.statusReactive.set(n))}_status=ys(()=>this.statusReactive());statusReactive=rn(void 0);get valid(){return this.status===Ns}get invalid(){return this.status===Sc}get pending(){return this.status==so}get disabled(){return this.status===Os}get enabled(){return this.status!==Os}errors;get pristine(){return un(this.pristineReactive)}set pristine(n){un(()=>this.pristineReactive.set(n))}_pristine=ys(()=>this.pristineReactive());pristineReactive=rn(!0);get dirty(){return!this.pristine}get touched(){return un(this.touchedReactive)}set touched(n){un(()=>this.touchedReactive.set(n))}_touched=ys(()=>this.touchedReactive());touchedReactive=rn(!1);get untouched(){return!this.touched}_events=new te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(o0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(o0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(s0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(s0(n,this._rawAsyncValidators))}hasValidator(n){return Ic(this._rawValidators,n)}hasAsyncValidator(n){return Ic(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ne(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Fs(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Fs(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ne(S({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAsPending(n={}){this.status=so;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ao(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ne(S({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Os,this.errors=null,this._forEachChild(i=>{i.disable(ne(S({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new xc(this.value,r)),this._events.next(new ao(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ns,this._forEachChild(r=>{r.enable(ne(S({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ne(S({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ns||this.status===so)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new xc(this.value,t)),this._events.next(new ao(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ne(S({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Os:Ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=so,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=p0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ao(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Os:this.errors?Sc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(so)?so:this._anyControlsHaveStatus(Sc)?Sc:Ns}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new ks(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Fs(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ac(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=mx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=vx(this._rawAsyncValidators)}};var w0=new F("",{providedIn:"root",factory:()=>pp}),pp="always";function yx(e,n){return[...n.path,e]}function Cx(e,n,t=pp){Ex(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),Dx(e,n),Sx(e,n),bx(e,n),wx(e,n)}function a0(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function wx(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Ex(e,n){let t=fx(e);n.validator!==null?e.setValidators(i0(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=hx(e);n.asyncValidator!==null?e.setAsyncValidators(i0(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();a0(n._rawValidators,i),a0(n._rawAsyncValidators,i)}function Dx(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&E0(e,n)})}function bx(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&E0(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function E0(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Sx(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Ix(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function Tx(e){return Object.getPrototypeOf(e.constructor)===hp}function xx(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Rc?t=o:Tx(o)?r=o:i=o}),i||r||t||null}function l0(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function c0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Mx=class extends fp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(gx(t),_x(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ac(t)&&(t.nonNullable||t.initialValueIsDefault)&&(c0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){l0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){l0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){c0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Rx={provide:Ls,useExisting:Cn(()=>gp)},u0=Promise.resolve(),gp=(()=>{class e extends Ls{_changeDetectorRef;callSetDisabledState;control=new Mx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Je;constructor(t,r,i,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=xx(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ix(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){u0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&to(r);u0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?yx(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(oe(up,9),oe(ax,10),oe(lx,10),oe(Mc,10),oe(An,8),oe(w0,8))};static \u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Cr([Rx]),xn,Zn]})}return e})();var Ax={provide:Mc,useExisting:Cn(()=>Pc),multi:!0};function D0(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function Px(e){return e.split(":")[0]}var Pc=(()=>{class e extends hp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=D(st).injector;destroyRef=D(Gt);cdr=D(An);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ni({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=D0(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Px(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mr(e)))(i||e)}})();static \u0275dir=Ze({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&j("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Cr([Ax]),xn]})}return e})(),b0=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(D0(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(oe(yt),oe(Rt),oe(Pc,9))};static \u0275dir=Ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Nx={provide:Mc,useExisting:Cn(()=>S0),multi:!0};function d0(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function Ox(e){return e.split(":")[0]}var S0=(()=>{class e extends hp{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let l=0;l<s.length;l++){let a=s[l],c=this._getOptionValue(a.value);i.push(c)}}else{let s=r.options;for(let l=0;l<s.length;l++){let a=s[l];if(a.selected){let c=this._getOptionValue(a.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Ox(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mr(e)))(i||e)}})();static \u0275dir=Ze({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&j("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Cr([Nx]),xn]})}return e})(),I0=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(d0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(d0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(oe(yt),oe(Rt),oe(S0,9))};static \u0275dir=Ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var kx=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();var T0=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:w0,useValue:t.callSetDisabledState??pp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({imports:[kx]})}return e})();var le="primary",Zs=Symbol("RouteTitle"),Cp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ai(e){return new Cp(e)}function k0(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],l=e[o];if(s[0]===":")i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Lx(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Pn(e[t],n[t]))return!1;return!0}function Pn(e,n){let t=e?wp(e):void 0,r=n?wp(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!F0(e[i],n[i]))return!1;return!0}function wp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function F0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function L0(e){return e.length>0?e[e.length-1]:null}function ir(e){return Ua(e)?e:yr(e)?Fe(Promise.resolve(e)):Q(e)}var Vx={exact:j0,subset:B0},V0={exact:jx,subset:Bx,ignored:()=>!0};function x0(e,n,t){return Vx[t.paths](e.root,n.root,t.matrixParams)&&V0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function jx(e,n){return Pn(e,n)}function j0(e,n,t){if(!oi(e.segments,n.segments)||!kc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!j0(e.children[r],n.children[r],t))return!1;return!0}function Bx(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>F0(e[t],n[t]))}function B0(e,n,t){return H0(e,n,n.segments,t)}function H0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!oi(i,t)||n.hasChildren()||!kc(i,t,r))}else if(e.segments.length===t.length){if(!oi(e.segments,t)||!kc(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!B0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!oi(e.segments,i)||!kc(e.segments,i,r)||!e.children[le]?!1:H0(e.children[le],n,o,r)}}function kc(e,n,t){return n.every((r,i)=>V0[t](e[i].parameters,r.parameters))}var On=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Ie([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){return $x.serialize(this)}},Ie=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fc(this)}},Dr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ai(this.parameters),this._parameterMap}toString(){return $0(this)}};function Hx(e,n){return oi(e,n)&&e.every((t,r)=>Pn(t.parameters,n[r].parameters))}function oi(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function Ux(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===le&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==le&&(t=t.concat(n(i,r)))}),t}var li=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>new br,providedIn:"root"})}return e})(),br=class{parse(n){let t=new Dp(n);return new On(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Vs(n.root,!0)}`,r=Wx(n.queryParams),i=typeof n.fragment=="string"?`#${zx(n.fragment)}`:"";return`${t}${r}${i}`}},$x=new br;function Fc(e){return e.segments.map(n=>$0(n)).join("/")}function Vs(e,n){if(!e.hasChildren())return Fc(e);if(n){let t=e.children[le]?Vs(e.children[le],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==le&&r.push(`${i}:${Vs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Ux(e,(r,i)=>i===le?[Vs(e.children[le],!1)]:[`${i}:${Vs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[le]!=null?`${Fc(e)}/${t[0]}`:`${Fc(e)}/(${t.join("//")})`}}function U0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nc(e){return U0(e).replace(/%3B/gi,";")}function zx(e){return encodeURI(e)}function Ep(e){return U0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lc(e){return decodeURIComponent(e)}function M0(e){return Lc(e.replace(/\+/g,"%20"))}function $0(e){return`${Ep(e.path)}${Gx(e.parameters)}`}function Gx(e){return Object.entries(e).map(([n,t])=>`;${Ep(n)}=${Ep(t)}`).join("")}function Wx(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Nc(t)}=${Nc(i)}`).join("&"):`${Nc(t)}=${Nc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var qx=/^[^\/()?;#]+/;function mp(e){let n=e.match(qx);return n?n[0]:""}var Yx=/^[^\/()?;=#]+/;function Kx(e){let n=e.match(Yx);return n?n[0]:""}var Zx=/^[^=?&#]+/;function Qx(e){let n=e.match(Zx);return n?n[0]:""}var Jx=/^[^&#]+/;function Xx(e){let n=e.match(Jx);return n?n[0]:""}var Dp=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[le]=new Ie(n,t)),r}parseSegment(){let n=mp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(n),new Dr(Lc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=Kx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=mp(this.remaining);i&&(r=i,this.capture(r))}n[Lc(t)]=Lc(r)}parseQueryParam(n){let t=Qx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Xx(this.remaining);s&&(r=s,this.capture(r))}let i=M0(t),o=M0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=le);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[le]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new A(4011,!1)}};function z0(e){return e.segments.length>0?new Ie([],{[le]:e}):e}function G0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=G0(i);if(r===le&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))n[s]=l;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new Ie(e.segments,n);return eM(t)}function eM(e){if(e.numberOfChildren===1&&e.children[le]){let n=e.children[le];return new Ie(e.segments.concat(n.segments),n.children)}return e}function go(e){return e instanceof On}function W0(e,n,t=null,r=null){let i=q0(e);return Y0(i,n,t,r)}function q0(e){let n;function t(o){let s={};for(let a of o.children){let c=t(a);s[a.outlet]=c}let l=new Ie(o.url,s);return o===e&&(n=l),l}let r=t(e.root),i=z0(r);return n??i}function Y0(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return _p(i,i,i,t,r);let o=tM(n);if(o.toRoot())return _p(i,i,new Ie([],{}),t,r);let s=nM(o,i,e),l=s.processChildren?Bs(s.segmentGroup,s.index,o.commands):Z0(s.segmentGroup,s.index,o.commands);return _p(i,s.segmentGroup,l,t,r)}function Vc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Us(e){return typeof e=="object"&&e!=null&&e.outlets}function _p(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([a,c])=>{o[a]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=K0(e,n,t);let l=z0(G0(s));return new On(l,o,i)}function K0(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=K0(o,n,t)}),new Ie(e.segments,r)}var jc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Vc(r[0]))throw new A(4003,!1);let i=r.find(Us);if(i&&i!==L0(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new jc(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([a,c])=>{l[a]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((l,a)=>{a==0&&l==="."||(a==0&&l===""?t=!0:l===".."?n++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new jc(t,n,r)}var fo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function nM(e,n,t){if(e.isAbsolute)return new fo(n,!0,0);if(!t)return new fo(n,!1,NaN);if(t.parent===null)return new fo(t,!0,0);let r=Vc(e.commands[0])?0:1,i=t.segments.length-1+r;return rM(t,i,e.numberOfDoubleDots)}function rM(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new fo(r,!1,i-o)}function iM(e){return Us(e[0])?e[0].outlets:{[le]:e}}function Z0(e,n,t){if(e??=new Ie([],{}),e.segments.length===0&&e.hasChildren())return Bs(e,n,t);let r=oM(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ie(e.segments.slice(0,r.pathIndex),{});return o.children[le]=new Ie(e.segments.slice(r.pathIndex),e.children),Bs(o,0,i)}else return r.match&&i.length===0?new Ie(e.segments,{}):r.match&&!e.hasChildren()?bp(e,n,t):r.match?Bs(e,0,i):bp(e,n,t)}function Bs(e,n,t){if(t.length===0)return new Ie(e.segments,{});{let r=iM(t),i={};if(Object.keys(r).some(o=>o!==le)&&e.children[le]&&e.numberOfChildren===1&&e.children[le].segments.length===0){let o=Bs(e.children[le],n,t);return new Ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Z0(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(e.segments,i)}}function oM(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],l=t[r];if(Us(l))break;let a=`${l}`,c=r<t.length-1?t[r+1]:null;if(i>0&&a===void 0)break;if(a&&c&&typeof c=="object"&&c.outlets===void 0){if(!A0(a,c,s))return o;r+=2}else{if(!A0(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bp(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Us(o)){let a=sM(o.outlets);return new Ie(r,a)}if(i===0&&Vc(t[0])){let a=e.segments[n];r.push(new Dr(a.path,R0(t[0]))),i++;continue}let s=Us(o)?o.outlets[le]:`${o}`,l=i<t.length-1?t[i+1]:null;s&&l&&Vc(l)?(r.push(new Dr(s,R0(l))),i+=2):(r.push(new Dr(s,{})),i++)}return new Ie(r,{})}function sM(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=bp(new Ie([],{}),0,r))}),n}function R0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function A0(e,n,t){return e==t.path&&Pn(n,t.parameters)}var ho="imperative",tt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(tt||{}),Vt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Sr=class extends Vt{type=tt.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Vt{urlAfterRedirects;type=tt.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(bt||{}),mo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(mo||{}),Nn=class extends Vt{reason;code;type=tt.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends Vt{reason;code;type=tt.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},_o=class extends Vt{error;target;type=tt.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$s=class extends Vt{urlAfterRedirects;state;type=tt.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bc=class extends Vt{urlAfterRedirects;state;type=tt.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hc=class extends Vt{urlAfterRedirects;state;shouldActivate;type=tt.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uc=class extends Vt{urlAfterRedirects;state;type=tt.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$c=class extends Vt{urlAfterRedirects;state;type=tt.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zc=class{route;type=tt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gc=class{route;type=tt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wc=class{snapshot;type=tt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qc=class{snapshot;type=tt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yc=class{snapshot;type=tt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kc=class{snapshot;type=tt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vo=class{routerEvent;position;anchor;type=tt.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},zs=class{},yo=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function aM(e){return!(e instanceof zs)&&!(e instanceof yo)}function lM(e,n){return e.providers&&!e._injector&&(e._injector=Ki(e.providers,n,`Route: ${e.path}`)),e._injector??n}function fn(e){return e.outlet||le}function cM(e,n){let t=e.filter(r=>fn(r)===n);return t.push(...e.filter(r=>fn(r)!==n)),t}function Eo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Eo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new ci(this.rootInjector)}},ci=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(B(Ge))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Sp(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Sp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Ip(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Ip(n,this._root).map(t=>t.value)}};function Sp(e,n){if(e===n.value)return n;for(let t of n.children){let r=Sp(e,t);if(r)return r}return null}function Ip(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Ip(e,t);if(r.length)return r.unshift(n),r}return[]}var Lt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function uo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Gs=class extends Qc{snapshot;constructor(n,t){super(n),this.snapshot=t,Op(this,n)}toString(){return this.snapshot.toString()}};function Q0(e){let n=uM(e),t=new it([new Dr("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),l=new Ir(t,r,o,s,i,le,e,n.root);return l.snapshot=n.root,new Gs(new Lt(l,[]),n)}function uM(e){let n={},t={},r={},i="",o=new si([],n,r,i,t,le,e,null,{});return new Ws("",new Lt(o,[]))}var Ir=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,l,a){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(X(c=>c[Zs]))??Q(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(n=>ai(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(n=>ai(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jc(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:S(S({},n.params),e.params),data:S(S({},n.data),e.data),resolve:S(S(S(S({},e.data),n.data),i?.data),e._resolvedData)}:r={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},i&&X0(i)&&(r.resolve[Zs]=i.title),r}var si=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Zs]}constructor(n,t,r,i,o,s,l,a,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.routeConfig=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ws=class extends Qc{url;constructor(n,t){super(t),this.url=n,Op(this,t)}toString(){return J0(this._root)}};function Op(e,n){n.value._routerState=e,n.children.forEach(t=>Op(e,t))}function J0(e){let n=e.children.length>0?` { ${e.children.map(J0).join(", ")} } `:"";return`${e.value}${n}`}function vp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Pn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Pn(n.params,t.params)||e.paramsSubject.next(t.params),Lx(n.url,t.url)||e.urlSubject.next(t.url),Pn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Tp(e,n){let t=Pn(e.params,n.params)&&Hx(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Tp(e.parent,n.parent))}function X0(e){return typeof e.title=="string"||e.title===null}var eC=new F(""),Qs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=le;activateEvents=new Je;deactivateEvents=new Je;attachEvents=new Je;detachEvents=new Je;routerOutletData=hy(void 0);parentContexts=D(ci);location=D(Xn);changeDetector=D(An);inputBinder=D(Js,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,a=new xp(t,l,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zn]})}return e})(),xp=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Ir?this.route:n===ci?this.childContexts:n===eC?this.outletData:this.parent.get(n,t)}},Js=new F(""),kp=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Oo([r.queryParams,r.params,r.data]).pipe(Ee(([o,s,l],a)=>(l=S(S(S({},o),s),l),a===0?Q(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Ey(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of s.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Fp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=vr({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&q(0,"router-outlet")},dependencies:[Qs],encapsulation:2})}return e})();function Lp(e){let n=e.children&&e.children.map(Lp),t=n?ne(S({},e),{children:n}):S({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==le&&(t.component=Fp),t}function dM(e,n,t){let r=qs(e,n._root,t?t._root:void 0);return new Gs(r,n)}function qs(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=fM(e,n,t);return new Lt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(l=>qs(e,l)),s}}let r=hM(n.value),i=n.children.map(o=>qs(e,o));return new Lt(r,i)}}function fM(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return qs(e,r,i);return qs(e,r)})}function hM(e){return new Ir(new it(e.url),new it(e.params),new it(e.queryParams),new it(e.fragment),new it(e.data),e.outlet,e.component,e)}var Co=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},tC="ngNavigationCancelingError";function Xc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=go(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=nC(!1,bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function nC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[tC]=!0,t.cancellationCode=n,t}function pM(e){return rC(e)&&go(e.url)}function rC(e){return!!e&&e[tC]}var gM=(e,n,t,r)=>X(i=>(new Mp(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Mp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),vp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=uo(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=uo(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:l})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=uo(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=uo(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Kc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new qc(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(vp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),vp(l.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},eu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},po=class{component;route;constructor(n,t){this.component=n,this.route=t}};function mM(e,n,t){let r=e._root,i=n?n._root:null;return js(r,i,t,[r.value])}function _M(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Do(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!sd(e)?e:n.get(e):r}function js(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=uo(n);return e.children.forEach(s=>{vM(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Hs(l,t.getContext(s),i)),i}function vM(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,l=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let a=yM(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new eu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?js(e,n,l?l.children:null,r,i):js(e,n,t,r,i),a&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new po(l.outlet.component,s))}else s&&Hs(n,l,i),i.canActivateChecks.push(new eu(r)),o.component?js(e,null,l?l.children:null,r,i):js(e,null,t,r,i);return i}function yM(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!oi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!oi(e.url,n.url)||!Pn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tp(e,n)||!Pn(e.queryParams,n.queryParams);case"paramsChange":default:return!Tp(e,n)}}function Hs(e,n,t){let r=uo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Hs(s,n.children.getContext(o),t):Hs(s,null,t):Hs(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new po(n.outlet.component,i)):t.canDeactivateChecks.push(new po(null,i)):t.canDeactivateChecks.push(new po(null,i))}function Xs(e){return typeof e=="function"}function CM(e){return typeof e=="boolean"}function wM(e){return e&&Xs(e.canLoad)}function EM(e){return e&&Xs(e.canActivate)}function DM(e){return e&&Xs(e.canActivateChild)}function bM(e){return e&&Xs(e.canDeactivate)}function SM(e){return e&&Xs(e.canMatch)}function iC(e){return e instanceof Vn||e?.name==="EmptyError"}var Oc=Symbol("INITIAL_VALUE");function wo(){return Ee(e=>Oo(e.map(n=>n.pipe(gt(1),Fo(Oc)))).pipe(X(n=>{for(let t of n)if(t!==!0){if(t===Oc)return Oc;if(t===!1||IM(t))return t}return!0}),Qe(n=>n!==Oc),gt(1)))}function IM(e){return go(e)||e instanceof Co}function TM(e,n){return Ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Q(ne(S({},t),{guardsResult:!0})):xM(s,r,i,e).pipe(Ke(l=>l&&CM(l)?MM(r,o,e,n):Q(l)),X(l=>ne(S({},t),{guardsResult:l})))})}function xM(e,n,t,r){return Fe(e).pipe(Ke(i=>OM(i.component,i.route,t,n,r)),Hn(i=>i!==!0,!0))}function MM(e,n,t,r){return Fe(n).pipe(yn(i=>Ri(AM(i.route.parent,r),RM(i.route,r),NM(e,i.path,t),PM(e,i.route,t))),Hn(i=>i!==!0,!0))}function RM(e,n){return e!==null&&n&&n(new Yc(e)),Q(!0)}function AM(e,n){return e!==null&&n&&n(new Wc(e)),Q(!0)}function PM(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>ko(()=>{let s=Eo(n)??t,l=Do(o,s),a=EM(l)?l.canActivate(n,e):ot(s,()=>l(n,e));return ir(a).pipe(Hn())}));return Q(i).pipe(wo())}function NM(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>_M(s)).filter(s=>s!==null).map(s=>ko(()=>{let l=s.guards.map(a=>{let c=Eo(s.node)??t,u=Do(a,c),f=DM(u)?u.canActivateChild(r,e):ot(c,()=>u(r,e));return ir(f).pipe(Hn())});return Q(l).pipe(wo())}));return Q(o).pipe(wo())}function OM(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(l=>{let a=Eo(n)??i,c=Do(l,a),u=bM(c)?c.canDeactivate(e,n,t,r):ot(a,()=>c(e,n,t,r));return ir(u).pipe(Hn())});return Q(s).pipe(wo())}function kM(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let l=Do(s,e),a=wM(l)?l.canLoad(n,t):ot(e,()=>l(n,t));return ir(a)});return Q(o).pipe(wo(),oC(r))}function oC(e){return Nu(Pe(n=>{if(typeof n!="boolean")throw Xc(e,n)}),X(n=>n===!0))}function FM(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let l=Do(s,e),a=SM(l)?l.canMatch(n,t):ot(e,()=>l(n,t));return ir(a)});return Q(o).pipe(wo(),oC(r))}var Ys=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ks=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function co(e){return Mi(new Ys(e))}function LM(e){return Mi(new A(4e3,!1))}function VM(e){return Mi(nC(!1,bt.GuardRejected))}var Rp=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[le])return LM(`${n.redirectTo}`);i=i.children[le]}}applyRedirectCommands(n,t,r,i,o){return jM(t,i,o).pipe(X(s=>{if(s instanceof On)throw new Ks(s);let l=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Ks(l);return l}))}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new On(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);r[i]=t[l]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([l,a])=>{s[l]=this.createSegmentGroup(n,a,r,i)}),new Ie(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function jM(e,n,t){if(typeof e=="string")return Q(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:l,outlet:a,params:c,data:u,title:f}=n;return ir(ot(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:l,outlet:a,title:f})))}var Ap={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BM(e,n,t,r,i){let o=sC(e,n,t);return o.matched?(r=lM(n,r),FM(r,n,t,i).pipe(X(s=>s===!0?o:S({},Ap)))):Q(o)}function sC(e,n,t){if(n.path==="**")return HM(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?S({},Ap):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||k0)(t,e,n);if(!i)return S({},Ap);let o={};Object.entries(i.posParams??{}).forEach(([l,a])=>{o[l]=a.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HM(e){return{matched:!0,parameters:e.length>0?L0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function P0(e,n,t,r){return t.length>0&&zM(e,t,r)?{segmentGroup:new Ie(n,$M(r,new Ie(t,e.children))),slicedSegments:[]}:t.length===0&&GM(e,t,r)?{segmentGroup:new Ie(e.segments,UM(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Ie(e.segments,e.children),slicedSegments:t}}function UM(e,n,t,r){let i={};for(let o of t)if(nu(e,n,o)&&!r[fn(o)]){let s=new Ie([],{});i[fn(o)]=s}return S(S({},r),i)}function $M(e,n){let t={};t[le]=n;for(let r of e)if(r.path===""&&fn(r)!==le){let i=new Ie([],{});t[fn(r)]=i}return t}function zM(e,n,t){return t.some(r=>nu(e,n,r)&&fn(r)!==le)}function GM(e,n,t){return t.some(r=>nu(e,n,r))}function nu(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function WM(e,n,t){return n.length===0&&!e.children[t]}var Pp=class{};function qM(e,n,t,r,i,o,s="emptyOnly"){return new Np(e,n,t,r,i,s,o).recognize()}var YM=31,Np=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,l){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Rp(this.urlSerializer,this.urlTree)}noMatchError(n){return new A(4002,`'${n.segmentGroup}'`)}recognize(){let n=P0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(X(({children:t,rootSnapshot:r})=>{let i=new Lt(r,t),o=new Ws("",i),s=W0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new si([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,le,t).pipe(X(r=>({children:r,rootSnapshot:t})),Bn(r=>{if(r instanceof Ks)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ys?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof Lt?[s]:[]))}processChildren(n,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(yn(s=>{let l=r.children[s],a=cM(t,s);return this.processSegmentGroup(n,a,l,s,i)}),zu((s,l)=>(s.push(...l),s)),sr(null),$u(),Ke(s=>{if(s===null)return co(r);let l=aC(s);return KM(l),Q(l)}))}processSegment(n,t,r,i,o,s,l){return Fe(t).pipe(yn(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s,l).pipe(Bn(c=>{if(c instanceof Ys)return Q(null);throw c}))),Hn(a=>!!a),Bn(a=>{if(iC(a))return WM(r,i,o)?Q(new Pp):co(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,l,a){return fn(r)!==s&&(s===le||!nu(i,o,r))?co(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,s,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,a):co(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,l){let{matched:a,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:C}=sC(t,i,o);if(!a)return co(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YM&&(this.allowRedirects=!1));let m=new si(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,N0(i),fn(i),i.component??i._loadedComponent??null,i,O0(i)),b=Jc(m,l,this.paramsInheritanceStrategy);return m.params=Object.freeze(b.params),m.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,m,n).pipe(Ee(I=>this.applyRedirects.lineralizeSegments(i,I)),Ke(I=>this.processSegment(n,r,t,I.concat(C),s,!1,l)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let l=BM(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),l.pipe(Ee(a=>a.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(Ee(({routes:c})=>{let u=r._loadedInjector??n,{parameters:f,consumedSegments:C,remainingSegments:m}=a,b=new si(C,f,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,N0(r),fn(r),r.component??r._loadedComponent??null,r,O0(r)),V=Jc(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(V.params),b.data=Object.freeze(V.data);let{segmentGroup:I,slicedSegments:P}=P0(t,C,m,c);if(P.length===0&&I.hasChildren())return this.processChildren(u,c,I,b).pipe(X(U=>new Lt(b,U)));if(c.length===0&&P.length===0)return Q(new Lt(b,[]));let Y=fn(r)===o;return this.processSegment(u,c,I,P,Y?le:o,!0,b).pipe(X(U=>new Lt(b,U instanceof Lt?[U]:[])))}))):co(t)))}getChildConfig(n,t,r){return t.children?Q({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):kM(n,t,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(n,t).pipe(Pe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):VM(t))):Q({routes:[],injector:n})}};function KM(e){e.sort((n,t)=>n.value.outlet===le?-1:t.value.outlet===le?1:n.value.outlet.localeCompare(t.value.outlet))}function ZM(e){let n=e.value.routeConfig;return n&&n.path===""}function aC(e){let n=[],t=new Set;for(let r of e){if(!ZM(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=aC(r.children);n.push(new Lt(r.value,i))}return n.filter(r=>!t.has(r))}function N0(e){return e.data||{}}function O0(e){return e.resolve||{}}function QM(e,n,t,r,i,o){return Ke(s=>qM(e,n,t,r,s.extractedUrl,i,o).pipe(X(({state:l,tree:a})=>ne(S({},s),{targetSnapshot:l,urlAfterRedirects:a}))))}function JM(e,n){return Ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let o=new Set(i.map(a=>a.route)),s=new Set;for(let a of o)if(!s.has(a))for(let c of lC(a))s.add(c);let l=0;return Fe(s).pipe(yn(a=>o.has(a)?XM(a,r,e,n):(a.data=Jc(a,a.parent,e).resolve,Q(void 0))),Pe(()=>l++),Ai(1),Ke(a=>l===s.size?Q(t):pt))})}function lC(e){let n=e.children.map(t=>lC(t)).flat();return[e,...n]}function XM(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!X0(i)&&(o[Zs]=i.title),ko(()=>(e.data=Jc(e,e.parent,t).resolve,eR(o,e,n,r).pipe(X(s=>(e._resolvedData=s,e.data=S(S({},e.data),s),null)))))}function eR(e,n,t,r){let i=wp(e);if(i.length===0)return Q({});let o={};return Fe(i).pipe(Ke(s=>tR(e[s],n,t,r).pipe(Hn(),Pe(l=>{if(l instanceof Co)throw Xc(new br,l);o[s]=l}))),Ai(1),X(()=>o),Bn(s=>iC(s)?pt:Mi(s)))}function tR(e,n,t,r){let i=Eo(n)??r,o=Do(e,i),s=o.resolve?o.resolve(n,t):ot(i,()=>o(n,t));return ir(s)}function yp(e){return Ee(n=>{let t=e(n);return t?Fe(t).pipe(X(()=>n)):Q(n)})}var Vp=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===le);return r}getResolvedTitleForRoute(t){return t.data[Zs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>D(cC),providedIn:"root"})}return e})(),cC=(()=>{class e extends Vp{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(B(r0))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ui=new F("",{providedIn:"root",factory:()=>({})}),bo=new F(""),ru=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(bh);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(ot(t,()=>r.loadComponent())).pipe(X(dC),Ee(fC),Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ar(()=>{this.componentLoaders.delete(r)})),o=new bi(i,()=>new te).pipe(Di());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=uC(r,this.compiler,t,this.onLoadEndListener).pipe(ar(()=>{this.childrenLoaders.delete(r)})),s=new bi(o,()=>new te).pipe(Di());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uC(e,n,t,r){return ir(ot(t,()=>e.loadChildren())).pipe(X(dC),Ee(fC),Ke(i=>i instanceof Ql||Array.isArray(i)?Q(i):Fe(n.compileModuleAsync(i))),X(i=>{r&&r(e);let o,s,l=!1;return Array.isArray(i)?(s=i,l=!0):(o=i.create(t).injector,s=o.get(bo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lp),injector:o}}))}function nR(e){return e&&typeof e=="object"&&"default"in e}function dC(e){return nR(e)?e.default:e}function fC(e){return Q(e)}var iu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>D(rR),providedIn:"root"})}return e})(),rR=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jp=new F(""),Bp=new F("");function hC(e,n,t){let r=e.get(Bp),i=e.get(Ne);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),l=i.startViewTransition(()=>(o(),iR(e)));l.ready.catch(c=>{});let{onViewTransitionCreated:a}=r;return a&&ot(e,()=>a({transition:l,from:n,to:t})),s}function iR(e){return new Promise(n=>{ni({read:()=>setTimeout(n)},{injector:e})})}var Hp=new F(""),ou=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new te;transitionAbortWithErrorSubject=new te;configLoader=D(ru);environmentInjector=D(Ge);destroyRef=D(Gt);urlSerializer=D(li);rootContexts=D(ci);location=D(wr);inputBindingEnabled=D(Js,{optional:!0})!==null;titleStrategy=D(Vp);options=D(ui,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(iu);createViewTransition=D(jp,{optional:!0});navigationErrorHandler=D(Hp,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new zc(i)),r=i=>this.events.next(new Gc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ne(S({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new it(null),this.transitions.pipe(Qe(r=>r!==null),Ee(r=>{let i=!1;return Q(r).pipe(Ee(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),pt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ne(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&l!=="reload"){let a="";return this.events.next(new kn(o.id,this.urlSerializer.serialize(o.rawUrl),a,mo.IgnoredSameUrlNavigation)),o.resolve(!1),pt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(Ee(a=>(this.events.next(new Sr(a.id,this.urlSerializer.serialize(a.extractedUrl),a.source,a.restoredState)),a.id!==this.navigationId?pt:Promise.resolve(a))),QM(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Pe(a=>{r.targetSnapshot=a.targetSnapshot,r.urlAfterRedirects=a.urlAfterRedirects,this.currentNavigation=ne(S({},this.currentNavigation),{finalUrl:a.urlAfterRedirects});let c=new $s(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:a,extractedUrl:c,source:u,restoredState:f,extras:C}=o,m=new Sr(a,this.urlSerializer.serialize(c),u,f);this.events.next(m);let b=Q0(this.rootComponentType).snapshot;return this.currentTransition=r=ne(S({},o),{targetSnapshot:b,urlAfterRedirects:c,extras:ne(S({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,Q(r)}else{let a="";return this.events.next(new kn(o.id,this.urlSerializer.serialize(o.extractedUrl),a,mo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),pt}}),Pe(o=>{let s=new Bc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=ne(S({},o),{guards:mM(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),TM(this.environmentInjector,o=>this.events.next(o)),Pe(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Xc(this.urlSerializer,o.guardsResult);let s=new Hc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",bt.GuardRejected),!1)),yp(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(Pe(s=>{let l=new Uc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),Ee(s=>{let l=!1;return Q(s).pipe(JM(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(s,"",bt.NoDataFromResolver)}}))}),Pe(s=>{let l=new $c(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),yp(o=>{let s=l=>{let a=[];if(l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent){let c=Eo(l)??this.environmentInjector;a.push(this.configLoader.loadComponent(c,l.routeConfig).pipe(Pe(u=>{l.component=u}),X(()=>{})))}for(let c of l.children)a.push(...s(c));return a};return Oo(s(o.targetSnapshot.root)).pipe(sr(null),gt(1))}),yp(()=>this.afterPreactivation()),Ee(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return l?Fe(l).pipe(X(()=>r)):Q(r)}),X(o=>{let s=dM(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ne(S({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),Pe(()=>{this.events.next(new zs)}),gM(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),gt(1),Fr(new ee(o=>{let s=r.abortController.signal,l=()=>o.next();return s.addEventListener("abort",l),()=>s.removeEventListener("abort",l)}).pipe(Qe(()=>!i&&!r.targetRouterState),Pe(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",bt.Aborted)}))),Pe({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Fr(this.transitionAbortWithErrorSubject.pipe(Pe(o=>{throw o}))),ar(()=>{i||this.cancelNavigationTransition(r,"",bt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(o=>{if(this.destroyed)return r.resolve(!1),pt;if(i=!0,rC(o))this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),pM(o)?this.events.next(new yo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new _o(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(l instanceof Co){let{message:a,cancellationCode:c}=Xc(this.urlSerializer,l);this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),a,c)),this.events.next(new yo(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return pt}))}))}cancelNavigationTransition(t,r,i){let o=new Nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oR(e){return e!==ho}var pC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>D(sR),providedIn:"root"})}return e})(),tu=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},sR=(()=>{class e extends tu{static \u0275fac=(()=>{let t;return function(i){return(t||(t=mr(e)))(i||e)}})();static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gC=(()=>{class e{urlSerializer=D(li);options=D(ui,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(wr);urlHandlingStrategy=D(iu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new On;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof On?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Q0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>D(aR),providedIn:"root"})}return e})(),aR=(()=>{class e extends gC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Sr?this.updateStateMemento():t instanceof kn?this.commitTransition(r):t instanceof $s?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nn&&t.code!==bt.SupersededByNewNavigation&&t.code!==bt.Redirect?this.restoreHistory(r):t instanceof _o?this.restoreHistory(r,!0):t instanceof hn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let l=this.browserPageId,a=S(S({},s),this.generateNgRouterState(i,l));this.location.replaceState(t,"",a)}else{let l=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",l)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=mr(e)))(i||e)}})();static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function su(e,n){e.events.pipe(Qe(t=>t instanceof hn||t instanceof Nn||t instanceof _o||t instanceof kn),X(t=>t instanceof hn||t instanceof kn?0:(t instanceof Nn?t.code===bt.Redirect||t.code===bt.SupersededByNewNavigation:!1)?2:1),Qe(t=>t!==2),gt(1)).subscribe(()=>{n()})}var lR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Xl);stateManager=D(gC);options=D(ui,{optional:!0})||{};pendingTasks=D(Sn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(ou);urlSerializer=D(li);location=D(wr);urlHandlingStrategy=D(iu);injector=D(Ge);_events=new te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(pC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(bo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Js,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nn&&r.code!==bt.Redirect&&r.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof yo){let s=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oR(i.source)},s);this.scheduleNavigation(l,ho,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let a=S({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(o.state=a)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,s,o).catch(a=>{this.disposed||this.injector.get(kt)(a)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:a}=r,c=a?this.currentUrlTree.fragment:s,u=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let C=i?i.snapshot:this.routerState.snapshot.root;f=q0(C)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Y0(f,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=go(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ho,null,r)}navigate(t,r={skipLocationChange:!1}){return uR(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=S({},lR):r===!1?i=S({},cR):i=r,go(t))return x0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return x0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,a,c;s?(l=s.resolve,a=s.reject,c=s.promise):c=new Promise((f,C)=>{l=f,a=C});let u=this.pendingTasks.add();return su(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uR(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new A(4008,!1)}var ea=class{};var mC=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(t=>t instanceof hn),yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ki(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Fe(i).pipe(or())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Q(null);let o=i.pipe(Ke(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Fe([o,s]).pipe(or())}else return o})}static \u0275fac=function(r){return new(r||e)(B(Tr),B(Ge),B(ea),B(ru))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_C=new F(""),dR=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ho;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof kn&&t.code===mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vo&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>Tt(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new vo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){ah()};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function fR(e){return e.routerState.root}function ta(e,n){return{\u0275kind:e,\u0275providers:n}}function hR(){let e=D(Le);return n=>{let t=e.get(st);if(n!==t.components[0])return;let r=e.get(Tr),i=e.get(vC);e.get($p)===1&&r.initialNavigation(),e.get(wC,null,{optional:!0})?.setUpPreloading(),e.get(_C,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vC=new F("",{factory:()=>new te}),$p=new F("",{providedIn:"root",factory:()=>1});function yC(){let e=[{provide:$p,useValue:0},Qi(()=>{let n=D(Le);return n.get(Fh,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Tr),o=n.get(vC);su(i,()=>{r(!0)}),n.get(ou).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return ta(2,e)}function CC(){let e=[Qi(()=>{D(Tr).setUpLocationChangeListener()}),{provide:$p,useValue:2}];return ta(3,e)}var wC=new F("");function EC(e){return ta(0,[{provide:wC,useExisting:mC},{provide:ea,useExisting:e}])}function DC(){return ta(8,[kp,{provide:Js,useExisting:kp}])}function bC(e){Yi("NgRouterViewTransitions");let n=[{provide:jp,useValue:hC},{provide:Bp,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return ta(9,n)}var SC=[wr,{provide:li,useClass:br},Tr,ci,{provide:Ir,useFactory:fR,deps:[Tr]},ru,[]],au=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[SC,[],{provide:bo,multi:!0,useValue:t},[],r?.errorHandler?{provide:Hp,useValue:r.errorHandler}:[],{provide:ui,useValue:r||{}},r?.useHash?gR():mR(),pR(),r?.preloadingStrategy?EC(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_R(r):[],r?.bindToComponentInputs?DC().\u0275providers:[],r?.enableViewTransitions?bC().\u0275providers:[],vR()]}}static forChild(t){return{ngModule:e,providers:[{provide:bo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();function pR(){return{provide:_C,useFactory:()=>{let e=D(Py),n=D(ye),t=D(ui),r=D(ou),i=D(li);return t.scrollOffset&&e.setOffset(t.scrollOffset),new dR(i,r,e,n,t)}}}function gR(){return{provide:nr,useClass:Vh}}function mR(){return{provide:nr,useClass:dc}}function _R(e){return[e.initialNavigation==="disabled"?CC().\u0275providers:[],e.initialNavigation==="enabledBlocking"?yC().\u0275providers:[]]}var Up=new F("");function vR(){return[{provide:Up,useFactory:hR},{provide:tc,multi:!0,useExisting:Up}]}var wR=[],IC=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=Ve({imports:[au.forRoot(wR),au]});let e=n;return e})();window.CONTENT_PATH||(window.CONTENT_PATH="http://localhost:3001/modelviewer/live/");window.WOTLK_TO_RETAIL_DISPLAY_ID_API||(window.WOTLK_TO_RETAIL_DISPLAY_ID_API="https://wotlk.murlocvillage.com/api/items");var zp=class{getImageExtension(){return".webp"}};window.WH||(window.WH={},window.WH.debug=function(...e){},window.WH.defaultAnimation="Stand",window.WH.WebP=new zp,window.WH.Wow={Item:{INVENTORY_TYPE_HEAD:1,INVENTORY_TYPE_NECK:2,INVENTORY_TYPE_SHOULDERS:3,INVENTORY_TYPE_SHIRT:4,INVENTORY_TYPE_CHEST:5,INVENTORY_TYPE_WAIST:6,INVENTORY_TYPE_LEGS:7,INVENTORY_TYPE_FEET:8,INVENTORY_TYPE_WRISTS:9,INVENTORY_TYPE_HANDS:10,INVENTORY_TYPE_FINGER:11,INVENTORY_TYPE_TRINKET:12,INVENTORY_TYPE_ONE_HAND:13,INVENTORY_TYPE_SHIELD:14,INVENTORY_TYPE_RANGED:15,INVENTORY_TYPE_BACK:16,INVENTORY_TYPE_TWO_HAND:17,INVENTORY_TYPE_BAG:18,INVENTORY_TYPE_TABARD:19,INVENTORY_TYPE_ROBE:20,INVENTORY_TYPE_MAIN_HAND:21,INVENTORY_TYPE_OFF_HAND:22,INVENTORY_TYPE_HELD_IN_OFF_HAND:23,INVENTORY_TYPE_PROJECTILE:24,INVENTORY_TYPE_THROWN:25,INVENTORY_TYPE_RANGED_RIGHT:26,INVENTORY_TYPE_QUIVER:27,INVENTORY_TYPE_RELIC:28,INVENTORY_TYPE_PROFESSION_TOOL:29,INVENTORY_TYPE_PROFESSION_ACCESSORY:30}});var X8=window.WH;var ER=[2,11,12,13,14],TC={ARMOR:128,CHARACTER:16,COLLECTION:1024,HELM:2,HUMANOIDNPC:32,ITEM:1,ITEMVISUAL:512,NPC:8,OBJECT:64,PATH:256,SHOULDER:4},lu=()=>({Face:"face","Skin Color":"skin","Hair Style":"hairStyle","Hair Color":"hairColor","Facial Hair":"facialStyle",Mustache:"facialStyle",Beard:"facialStyle",Sideburns:"facialStyle","Face Shape":"facialStyle",Eyebrow:"facialStyle","Jaw Features":void 0,"Face Features":void 0,"Skin Type":void 0,Ears:window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"ears","Fur Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"furColor",Snout:"snout",Blindfold:void 0,Tattoo:void 0,"Eye Color":void 0,"Tattoo Color":void 0,Armbands:void 0,"Jewelry Color":void 0,Bracelets:void 0,Necklace:void 0,Earring:void 0,"Primary Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"primaryColor","Secondary Color Strength":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"secondaryColorStrength","Secondary Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"secondaryColor","Horn Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"hornColor",Horns:window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"horns","Body Size":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"bodySize"});function DR(e){return e?e.Id:void 0}function Gp(e,n){let t=n.Options,r=[],i=[];for(let o in lu()){let s=t.find(a=>a.Name===o);if(!s)continue;let l={optionId:s.Id,choiceId:lu()[o]?DR(s.Choices[e[lu()[o]]]):s.Choices[0].Id};l.choiceId===void 0&&r.push(lu()[o]),i.push(l)}return console.warn("In character: ",e,"the following options are missing",r),i}function xC(e,n){let{race:t,gender:r}=e,i=e.items?e.items.filter(a=>!ER.includes(a[0])):[],s={options:Gp(e,n)},l={items:i,models:{id:t*2-1+r,type:TC.CHARACTER}};return e.noCharCustomization||(l.charCustomization=s),l}function MC(e,n){return Tt(this,null,function*(){let t=e*2-1+n,r=yield fetch(`${window.CONTENT_PATH}meta/charactercustomization/${t}.json`).then(i=>i.json());return r.data?r.data:r})}var Fn=class extends ZamModelViewer{getListAnimations(){return[...new Set(this.renderer.actors[0].d.c.y.map(n=>n.g))]}setDistance(n){this.renderer.distance=n}setSheath(n){this.renderer.actors[0].setSheath(n)}setAnimation(n){this.renderer.actors[0].setAnimation(n)}setAnimPaused(n){this.renderer.actors[0].setAnimPaused(n)}setAzimuth(n){this.renderer.azimuth=n}setZenith(n){this.renderer.zenith=n}getAzimuth(){return this.renderer.azimuth}getZenith(){return this.renderer.zenith}updateItemViewer(n,t,r){let i=window.WH.Wow.Item;i.INVENTORY_TYPE_SHOULDERS;let o=n===i.INVENTORY_TYPE_ROBE?i.INVENTORY_TYPE_CHEST:n;window.WH.debug("Clearing model viewer slot:",o.toString()),this.method("clearSlots",n.toString()),t&&(window.WH.debug("Attaching to model viewer slot:",n.toString(),"Display ID:",t,"Enchant Visual:",r),this.method("setItems",[[{slot:n,display:t,visual:r||0}]]))}setNewAppearance(n){if(!this.currentCharacterOptions)throw Error("Character options are not set");let t=Gp(n,this.currentCharacterOptions),r=this.characterRace,i=this.characterGender;this.method("setAppearance",{race:r,gender:i,options:t})}};Fn.prototype._currentCharacterOptions=0;Fn.prototype._characterGender=null;Fn.prototype._characterRace=null;Object.defineProperty(Fn.prototype,"currentCharacterOptions",{get:function(){return this._currentCharacterOptions},set:function(e){this._currentCharacterOptions=e}});Object.defineProperty(Fn.prototype,"characterGender",{get:function(){return this._characterGender},set:function(e){this._characterGender=e}});Object.defineProperty(Fn.prototype,"characterRace",{get:function(){return this._characterRace},set:function(e){this._characterRace=e}});function RC(e,n,t,r="live"){return Tt(this,null,function*(){let i,o;if(t.id&&t.type){let{id:a,type:c}=t;i={models:{id:a,type:c}}}else{let{race:a,gender:c}=t;o=yield MC(a,c),i=xC(t,o)}r==="classic"?i=S({dataEnv:"classic",env:"classic",gameDataEnv:"classic",hd:!1},i):i=S({hd:!0},i);let s=S({type:2,contentPath:window.CONTENT_PATH,container:jQuery(n),aspect:e},i),l=yield new Fn(s);return o&&(l.currentCharacterOptions=o,l.characterGender=t.gender,l.characterRace=t.race),l})}var uw=Iw(AC());var Yp;function bR(){if(Yp==null){let e=typeof document<"u"?document.head:null;Yp=!!(e&&(e.createShadowRoot||e.attachShadow))}return Yp}function cu(e){if(bR()){let n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function na(e){return e.composedPath?e.composedPath()[0]:e.target}function PC(e){return e.buttons===0||e.detail===0}function NC(e){let n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function xr(e){return e instanceof yt?e.nativeElement:e}var uu=new WeakMap,OC=(()=>{class e{_appRef;_injector=D(Le);_environmentInjector=D(Ge);load(t){let r=this._appRef=this._appRef||this._injector.get(st),i=uu.get(r);i||(i={loaders:new Set,refs:[]},uu.set(r,i),r.onDestroy(()=>{uu.get(r)?.refs.forEach(o=>o.destroy()),uu.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(wy(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Kp;try{Kp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Kp=!1}var kC=(()=>{class e{_platformId=D(_r);isBrowser=this._platformId?Ay(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Kp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var SR=20,FC=(()=>{class e{_platform=D(kC);_listeners;_viewportSize;_change=new te;_document=D(Ne);constructor(){let t=D(ye),r=D(Wt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,l=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:l}}change(t=SR){return t>0?this._change.pipe(Uu(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var LC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();function Jp(e){let n=e.cloneNode(!0),t=n.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();n.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?BC(e,n):(r==="input"||r==="select"||r==="textarea")&&jC(e,n),VC("canvas",e,n,BC),VC("input, textarea, select",e,n,jC),n}function VC(e,n,t,r){let i=n.querySelectorAll(e);if(i.length){let o=t.querySelectorAll(e);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var IR=0;function jC(e,n){n.type!=="file"&&(n.value=e.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${IR++}`)}function BC(e,n){let t=n.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}function ig(e){let n=e.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Xp(e,n,t){let{top:r,bottom:i,left:o,right:s}=e;return t>=r&&t<=i&&n>=o&&n<=s}function TR(e,n){let t=n.left<e.left,r=n.left+n.width>e.right,i=n.top<e.top,o=n.top+n.height>e.bottom;return t||r||i||o}function oa(e,n,t){e.top+=n,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function HC(e,n,t,r){let{top:i,right:o,bottom:s,left:l,width:a,height:c}=e,u=a*n,f=c*n;return r>i-f&&r<s+f&&t>l-u&&t<o+u}var du=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ig(t)})})}handleScroll(n){let t=na(n),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,o,s;if(t===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=t.scrollTop,s=t.scrollLeft;let l=i.top-o,a=i.left-s;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&oa(c.clientRect,l,a)}),i.top=o,i.left=s,{top:l,left:a}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function JC(e,n){let t=e.rootNodes;if(t.length===1&&t[0].nodeType===n.ELEMENT_NODE)return t[0];let r=n.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function og(e,n,t){for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];i?e.setProperty(r,i,t?.has(r)?"important":""):e.removeProperty(r)}return e}function So(e,n){let t=n?"":"none";og(e.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function UC(e,n,t){og(e.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function fu(e,n){return n&&n!="none"?e+" "+n:e}function $C(e,n){e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.style.transform=sa(n.left,n.top)}function sa(e,n){return`translate3d(${Math.round(e)}px, ${Math.round(n)}px, 0)`}function zC(e){let n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function xR(e){let n=getComputedStyle(e),t=Zp(n,"transition-property"),r=t.find(l=>l==="transform"||l==="all");if(!r)return 0;let i=t.indexOf(r),o=Zp(n,"transition-duration"),s=Zp(n,"transition-delay");return zC(o[i])+zC(s[i])}function Zp(e,n){return e.getPropertyValue(n).split(",").map(r=>r.trim())}var MR=new Set(["position"]),eg=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,t,r,i,o,s,l,a,c,u){this._document=n,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=l,this._initialTransform=a,this._zIndex=c,this._renderer=u}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),GC(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return xR(this._preview)}addEventListener(n,t){return this._renderer.listen(this._preview,n,t)}_createPreview(){let n=this._previewTemplate,t=this._previewClass,r=n?n.template:null,i;if(r&&n){let o=n.matchSize?this._initialDomRect:null,s=n.viewContainer.createEmbeddedView(r,n.context);s.detectChanges(),i=JC(s,this._document),this._previewEmbeddedView=s,n.matchSize?$C(i,o):i.style.transform=sa(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Jp(this._rootElement),$C(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return og(i.style,{"pointer-events":"none",margin:GC(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},MR),So(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}};function GC(e){return"showPopover"in e}var RR={passive:!0},WC={passive:!1},AR={passive:!1,capture:!0},PR=800,qC="cdk-drag-placeholder",YC=new Set(["position"]),tg=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=rn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new te;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Se.EMPTY;_pointerUpSubscription=Se.EMPTY;_scrollSubscription=Se.EMPTY;_resizeSubscription=Se.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(t=>So(t,n)))}_disabled=!1;beforeStarted=new te;started=new te;released=new te;ended=new te;entered=new te;exited=new te;dropped=new te;moved=this._moveEvents;data;constrainPosition;constructor(n,t,r,i,o,s,l){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=l,this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new du(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(r=>xr(r)),this._handles.forEach(r=>So(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let t=xr(n);if(t!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(t,"mousedown",this._pointerDown,WC),r.listen(t,"touchstart",this._pointerDown,RR),r.listen(t,"dragstart",this._nativeDragStart,WC)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?xr(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&TR(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let n=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),r=0,i=0;t.left<n.left?r=n.left-t.left:t.right>n.right&&(r=n.right-t.right),t.top<n.top?i=n.top-t.top:t.bottom>n.bottom&&(i=n.bottom-t.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,l=o+r,a=s+i;this._rootElement.style.transform=sa(l,a),this._activeTransform={x:l,y:a},this._passiveTransform={x:l,y:a}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),So(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),So(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let t=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let l=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),a=this._dropContainer;if(!l){this._endDragSequence(n);return}(!a||!a.isDragging()&&!a.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:n,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){ra(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",NR,AR)}),r){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),l=this._marker=this._marker||this._document.createComment("");o.insertBefore(l,i),this._initialTransform=i.style.transform||"",this._preview=new eg(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),UC(i,!1,YC),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:n}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=ra(t),o=!i&&t.button!==0,s=this._rootElement,l=na(t),a=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+PR>Date.now(),c=i?NC(t):PC(t);if(l&&l.draggable&&t.type==="mousedown"&&t.preventDefault(),r||o||a||c)return;if(this._handles.length){let C=s.style;this._rootElementTapHighlight=C.webkitTapHighlightColor||"",C.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(C=>this._updateOnScroll(C)),this._boundaryElement&&(this._boundaryRect=ig(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,t);let f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){UC(this._rootElement,!0,YC),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(n),o=this._getDragDistance(i),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:n}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:n}),t.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),l=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,l),this._dropContainer=o,this._dropContainer.enter(this,n,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=l=>{(!l||this._preview&&na(l)===this._preview.element&&l.propertyName==="transform")&&(s(),r(),clearTimeout(o))},o=setTimeout(i,t*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,t=n?n.template:null,r;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),r=JC(this._placeholderRef,this._document)):r=Jp(this._rootElement),r.style.pointerEvents="none",r.classList.add(qC),r}_getPointerPositionInElement(n,t,r){let i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():n,s=ra(r)?r.targetTouches[0]:r,l=this._getViewportScrollPosition(),a=s.pageX-o.left-l.left,c=s.pageY-o.top-l.top;return{x:o.left-n.left+a,y:o.top-n.top+c}}_getPointerPositionOnPage(n){let t=this._getViewportScrollPosition(),r=ra(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let l=this._ownerSVGElement.createSVGPoint();return l.x=i,l.y=o,l.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(n){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:a,height:c}=this._getPreviewRect(),u=l.top+s,f=l.bottom-(c-s),C=l.left+o,m=l.right-(a-o);r=KC(r,C,m),i=KC(i,u,f)}return{x:r,y:i}}_updatePointerDirectionDelta(n){let{x:t,y:r}=n,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),l=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),l>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,So(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,t){let r=1/this.scale,i=sa(n*r,t*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=fu(i,this._initialTransform)}_applyPreviewTransform(n,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=sa(n,t);this._preview.setTransform(fu(i,r))}_getDragDistance(n){let t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(n===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,s=r.right-i.right,l=i.top-r.top,a=r.bottom-i.bottom;i.width>r.width?(o>0&&(n+=o),s>0&&(n-=s)):n=0,i.height>r.height?(l>0&&(t+=l),a>0&&(t-=a)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){let t=this.dragStartDelay;return typeof t=="number"?t:ra(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){let t=this._parentPositions.handleScroll(n);if(t){let r=na(n);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&oa(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=cu(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){let r=this._previewContainer||"global";if(r==="parent")return n;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return xr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}_conditionallyInsertAnchor(n,t,r){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){let i=this._anchor??=Jp(this._placeholder);i.classList.remove(qC),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):xr(t.element).appendChild(i)}}};function KC(e,n,t){return Math.max(n,Math.min(t,e))}function ra(e){return e.type[0]==="t"}function NR(e){e.preventDefault()}function pu(e,n,t){let r=ZC(n,e.length-1),i=ZC(t,e.length-1);if(r===i)return;let o=e[r],s=i<r?-1:1;for(let l=r;l!==i;l+=s)e[l]=e[l+s];e[i]=o}function ZC(e,n){return Math.max(0,Math.min(n,e))}var hu=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,t,r,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(n,t,r,i);if(s===-1&&o.length>0)return null;let l=this.orientation==="horizontal",a=o.findIndex(I=>I.drag===n),c=o[s],u=o[a].clientRect,f=c.clientRect,C=a>s?1:-1,m=this._getItemOffsetPx(u,f,C),b=this._getSiblingOffsetPx(a,o,C),V=o.slice();return pu(o,a,s),o.forEach((I,P)=>{if(V[P]===I)return;let Y=I.drag===n,U=Y?m:b,G=Y?n.getPlaceholderElement():I.drag.getRootElement();I.offset+=U;let z=Math.round(I.offset*(1/I.drag.scale));l?(G.style.transform=fu(`translate3d(${z}px, 0, 0)`,I.initialTransform),oa(I.clientRect,0,U)):(G.style.transform=fu(`translate3d(0, ${z}px, 0)`,I.initialTransform),oa(I.clientRect,U,0))}),this._previousSwap.overlaps=Xp(f,t,r),this._previousSwap.drag=c.drag,this._previousSwap.delta=l?i.x:i.y,{previousIndex:a,currentIndex:s}}enter(n,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(n,t,r):i,s=this._activeDraggables,l=s.indexOf(n),a=n.getPlaceholderElement(),c=s[o];if(c===n&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(c=s[0]),l>-1&&s.splice(l,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(a,u),s.splice(o,0,n)}else this._element.appendChild(a),s.push(n);a.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let t=n.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===n)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(t=>t.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:r})=>{oa(r,n,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:ig(r)}}).sort((t,r)=>n?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,t,r){let i=this.orientation==="horizontal",o=i?t.left-n.left:t.top-n.top;return r===-1&&(o+=i?t.width-n.width:t.height-n.height),o}_getSiblingOffsetPx(n,t,r){let i=this.orientation==="horizontal",o=t[n].clientRect,s=t[n+r*-1],l=o[i?"width":"height"]*r;if(s){let a=i?"left":"top",c=i?"right":"bottom";r===-1?l-=s.clientRect[a]-o[c]:l+=o[a]-s.clientRect[c]}return l}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return i?n>=s.right:t>=s.bottom}else{let s=r[0].clientRect;return i?n<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(n,t,r,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:l,clientRect:a})=>{if(l===n)return!1;if(i){let c=o?i.x:i.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?t>=Math.floor(a.left)&&t<Math.floor(a.right):r>=Math.floor(a.top)&&r<Math.floor(a.bottom)});return s===-1||!this._sortPredicate(s,n)?-1:s}},ng=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,t){this._document=n,this._dragDropRegistry=t}start(n){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(n)}sort(n,t,r,i){let o=this._getItemIndexFromPointerPosition(n,t,r),s=this._previousSwap;if(o===-1||this._activeItems[o]===n)return null;let l=this._activeItems[o];if(s.drag===l&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let a=this.getItemIndex(n),c=n.getPlaceholderElement(),u=l.getRootElement();o>a?u.after(c):u.before(c),pu(this._activeItems,a,o);let f=this._getRootNode().elementFromPoint(t,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=l,s.overlaps=u===f||u.contains(f),{previousIndex:a,currentIndex:o}}enter(n,t,r,i){let o=this._activeItems.indexOf(n);o>-1&&this._activeItems.splice(o,1);let s=i==null||i<0?this._getItemIndexFromPointerPosition(n,t,r):i;s===-1&&(s=this._getClosestItemIndexToPointer(n,t,r));let l=this._activeItems[s];l&&!this._dragDropRegistry.isDragging(l)?(this._activeItems.splice(s,0,n),l.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===n&&i.nextSibling!==o&&(o===null?n.appendChild(i):o.parentNode===n&&n.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{let l=s.getRootElement();return i===l||l.contains(i)}):-1;return o===-1||!this._sortPredicate(o,n)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=cu(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let l=this._activeItems[s];if(l!==n){let{x:a,y:c}=l.getRootElement().getBoundingClientRect(),u=Math.hypot(t-a,r-c);u<i&&(i=u,o=s)}}return o}},QC=.05,XC=.05,Zt=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(Zt||{}),St=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(St||{}),rg=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new te;entered=new te;exited=new te;dropped=new te;sorted=new te;receivingStarted=new te;receivingStopped=new te;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Se.EMPTY;_verticalScrollDirection=Zt.NONE;_horizontalScrollDirection=St.NONE;_scrollNode;_stopScrollTimers=new te;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o;let s=this.element=xr(n);this._document=r,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new du(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,r,i,o,s,l,a={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:l,event:a})}withItems(n){let t=this._draggables;return this._draggables=n,n.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>n.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof hu&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new ng(this._document,this._dragDropRegistry);else{let t=new hu(this._dragDropRegistry);t.direction=this._direction,t.orientation=n,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(n){let t=this._container;return this._scrollableElements=n.indexOf(t)===-1?[t,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let t=xr(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(n);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,r,i){if(this.sortingDisabled||!this._domRect||!HC(this._domRect,QC,t,r))return;let o=this._sortStrategy.sort(n,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let r,i=Zt.NONE,o=St.NONE;if(this._parentPositions.positions.forEach((s,l)=>{l===this._document||!s.clientRect||r||HC(s.clientRect,QC,n,t)&&([i,o]=OR(l,s.clientRect,this._direction,n,t),(i||o)&&(r=l))}),!i&&!o){let{width:s,height:l}=this._viewportRuler.getViewportSize(),a={width:s,height:l,top:0,right:s,bottom:l,left:0};i=ew(a,t),o=tw(a,n),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Bu(0,Ta).pipe(Fr(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===Zt.UP?n.scrollBy(0,-t):this._verticalScrollDirection===Zt.DOWN&&n.scrollBy(0,t),this._horizontalScrollDirection===St.LEFT?n.scrollBy(-t,0):this._horizontalScrollDirection===St.RIGHT&&n.scrollBy(t,0)})};_isOverContainer(n,t){return this._domRect!=null&&Xp(this._domRect,n,t)}_getSiblingContainerFromPosition(n,t,r){return this._siblings.find(i=>i._canReceive(n,t,r))}_canReceive(n,t,r){if(!this._domRect||!Xp(this._domRect,t,r)||!this.enterPredicate(n,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(n,t){let r=this._activeSiblings;!r.has(n)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=cu(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}};function ew(e,n){let{top:t,bottom:r,height:i}=e,o=i*XC;return n>=t-o&&n<=t+o?Zt.UP:n>=r-o&&n<=r+o?Zt.DOWN:Zt.NONE}function tw(e,n){let{left:t,right:r,width:i}=e,o=i*XC;return n>=t-o&&n<=t+o?St.LEFT:n>=r-o&&n<=r+o?St.RIGHT:St.NONE}function OR(e,n,t,r,i){let o=ew(n,i),s=tw(n,r),l=Zt.NONE,a=St.NONE;if(o){let c=e.scrollTop;o===Zt.UP?c>0&&(l=Zt.UP):e.scrollHeight-c>e.clientHeight&&(l=Zt.DOWN)}if(s){let c=e.scrollLeft;t==="rtl"?s===St.RIGHT?c<0&&(a=St.RIGHT):e.scrollWidth+c>e.clientWidth&&(a=St.LEFT):s===St.LEFT?c>0&&(a=St.LEFT):e.scrollWidth-c>e.clientWidth&&(a=St.RIGHT)}return[l,a]}var ia={capture:!0},Qp={passive:!1,capture:!0},kR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=vr({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return e})(),FR=(()=>{class e{_ngZone=D(ye);_document=D(Ne);_styleLoader=D(OC);_renderer=D(Wt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new te;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=rn([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new te;pointerUp=new te;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,Qp)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(kR),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=l=>this.pointerUp.next(l),s=[["scroll",l=>this._scroll.next(l),ia],["selectstart",this._preventDefaultWhileDragging,Qp]];i?s.push(["touchend",o,ia],["touchcancel",o,ia]):s.push(["mouseup",o,ia]),i||s.push(["mousemove",l=>this.pointerMove.next(l),Qp]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([l,a,c])=>this._renderer.listen(this._document,l,a,c))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this._scroll];return t&&t!==this._document&&r.push(new ee(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(t,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},ia);return()=>{o()}}))),Hu(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LR={dragStartThreshold:5,pointerDirectionChangeThreshold:5},VR=(()=>{class e{_document=D(Ne);_ngZone=D(ye);_viewportRuler=D(FC);_dragDropRegistry=D(FR);_renderer=D(Wt).createRenderer(null,null);constructor(){}createDrag(t,r=LR){return new tg(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new rg(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var nw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({providers:[VR],imports:[LC]})}return e})();var sg="Service workers are disabled or not supported by this browser",Io=class{serviceWorker;worker;registration;events;constructor(n,t){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new ee(r=>r.error(new A(5601,!1)));else{let r=null,i=new te;this.worker=new ee(c=>(r!==null&&c.next(r),i.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=n;c!==null&&(r=c,i.next(r))};n.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(Ee(()=>n.getRegistration().then(c=>{if(!c)throw new A(5601,!1);return c})));let s=new te;this.events=s.asObservable();let l=c=>{let{data:u}=c;u?.type&&s.next(u)};n.addEventListener("message",l),t?.get(st,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",o),n.removeEventListener("message",l)})}}postMessage(n,t){return new Promise(r=>{this.worker.pipe(gt(1)).subscribe(i=>{i.postMessage(S({action:n},t)),r()})})}postMessageWithOperation(n,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(n,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let t;return typeof n=="string"?t=r=>r.type===n:t=r=>n.includes(r.type),this.events.pipe(Qe(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(gt(1))}waitForOperationCompleted(n){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Qe(i=>i.nonce===n),gt(1),X(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},iw=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new te;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=jn,this.notificationClicks=jn,this.notificationCloses=jn,this.pushSubscriptionChanges=jn,this.subscription=jn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(X(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(X(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(X(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(X(i=>i.data)),this.pushManager=this.sw.registration.pipe(X(i=>i.pushManager));let r=this.pushManager.pipe(Ee(i=>i.getSubscription()));this.subscription=new ee(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(sg));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,l)=>{this.pushManager.pipe(Ee(a=>a.subscribe(r)),gt(1)).subscribe({next:a=>{this.subscriptionChanges.next(a),s(a)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(sg));let t=r=>{if(r===null)throw new A(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new A(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(gt(1),Ee(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||e)(B(Io))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),gu=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=jn,this.unrecoverable=jn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(sg));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new A(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||e)(B(Io))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var ow=new F("");function jR(){let e=D(aa);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=D(ow),t=D(ye),r=D(st);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=e;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...l]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=rw(+l[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),rw(+l[0])]);break;default:throw new A(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error(Xt(5604,!1)))})})}function rw(e){return new Promise(n=>setTimeout(n,e))}function BR(e,n){return new Io(e.enabled!==!1?navigator.serviceWorker:void 0,n)}var aa=class{enabled;scope;registrationStrategy};function HR(e,n={}){return Wn([iw,gu,{provide:ow,useValue:e},{provide:aa,useValue:n},{provide:Io,useFactory:BR,deps:[aa,Le]},Qi(jR)])}var sw=(()=>{class e{static register(t,r={}){return{ngModule:e,providers:[HR(t,r)]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({providers:[iw,gu]})}return e})();var aw=(()=>{let n=class n{constructor(){this.lastAnimation=null,this.animationTimeout=null,this.animations=["Stand","Walk","Run","Stop","Death","StandWound","CombatWound","CombatCritical","ShuffleLeft","ShuffleRight","Walkbackwards","Stun","HandsClosed","AttackUnarmed","Attack1H","Attack2H","Attack2HL","ParryUnarmed","Parry1H","Parry2H","Parry2HL","ShieldBlock","ReadyUnarmed","Ready1H","Ready2H","Ready2HL","ReadyBow","Dodge","JumpStart","Jump","JumpEnd","Fall","SwimIdle","Swim","SwimLeft","SwimRight","SwimBackwards","AttackBow","ReadyRifle","AttackRifle","Loot","ReadySpellDirected","ReadySpellOmni","SpellCastDirected","SpellCastOmni","BattleRoar","Special1H","Special2H","ShieldBash","EmoteTalk","EmoteEat","EmoteWork","EmoteUseStanding","EmoteTalkExclamation","EmoteTalkQuestion","EmoteBow","EmoteWave","EmoteCheer","EmoteDance","EmoteLaugh","EmoteRude","EmoteRoar","EmoteKneel","EmoteKiss","EmoteCry","EmoteChicken","EmoteBeg","EmoteApplaud","EmoteShout","EmoteFlex","EmoteShy","EmotePoint","Attack1HPierce","AttackOff","AttackOffPierce","Sheath","HipSheath","Kick","SitGroundDown","SitGround","SleepDown","Sleep","SleepUp","LoadBow","LoadRifle","AttackThrown","ReadyThrown","HoldBow","HoldRifle","HoldThrown","LoadThrown","EmoteSalute","KneelStart","KneelLoop","KneelEnd","SpecialUnarmed","StealthWalk","StealthStand","Knockdown","UseStandingLoop","ChannelCastDirected","ChannelCastOmni","Whirlwind","UseStandingStart","UseStandingEnd","Drown","Drowned","FishingCast","FishingLoop","EmoteWorkNoSheathe","EmoteStunNoSheathe","EmoteUseStandingNoSheathe"],this.animationConfig={Stand:{duration:null,followup:"Stand"},Walk:{duration:null,followup:"Stand"},Run:{duration:null,followup:"Stand"},Stop:{duration:null,followup:"Stand"},Death:{duration:1600,followup:"Sleep"},StandWound:{duration:333,followup:"Stand"},CombatWound:{duration:400,followup:"StandWound"},CombatCritical:{duration:800,followup:"StandWound"},AttackUnarmed:{duration:1e3,followup:"ReadyUnarmed"},Attack1H:{duration:800,followup:"Ready1H"},Attack2H:{duration:800,followup:"Ready2H"},Attack2HL:{duration:800,followup:"Ready2HL"},ParryUnarmed:{duration:800,followup:"ReadyUnarmed"},Parry1H:{duration:800,followup:"Ready1H"},Parry2H:{duration:800,followup:"Ready2H"},Parry2HL:{duration:800,followup:"Ready2HL"},ShieldBlock:{duration:800,followup:"Stand"},AttackBow:{duration:400,followup:"ReadyBow"},AttackRifle:{duration:800,followup:"ReadyRifle"},Attack1HPierce:{duration:800,followup:"Ready1H"},AttackOff:{duration:800,followup:"Ready1H"},AttackOffPierce:{duration:800,followup:"Ready1H"},Special1H:{duration:800,followup:"Ready1H"},Special2H:{duration:1200,followup:"Ready2H"},ShieldBash:{duration:800,followup:"Stand"},SpecialUnarmed:{duration:800,followup:"ReadyUnarmed"},Kick:{duration:800,followup:"Stand"},Whirlwind:{duration:800,followup:"Stand"},ShuffleLeft:{duration:500,followup:"Stand"},ShuffleRight:{duration:500,followup:"Stand"},Walkbackwards:{duration:800,followup:"Stand"},Stun:{duration:800,followup:"Stand"},Dodge:{duration:800,followup:"Stand"},JumpStart:{duration:800,followup:"Jump"},Jump:{duration:1e3,followup:"JumpEnd"},JumpEnd:{duration:800,followup:"Stand"},Fall:{duration:2e3,followup:"Stand"},SwimIdle:{duration:null,followup:"Stand"},Swim:{duration:null,followup:"Stand"},SwimLeft:{duration:null,followup:"Stand"},SwimRight:{duration:null,followup:"Stand"},SwimBackwards:{duration:null,followup:"Stand"},HandsClosed:{duration:2e3,followup:"Stand"},ReadyUnarmed:{duration:2e3,followup:"Stand"},Ready1H:{duration:2e3,followup:"Stand"},Ready2H:{duration:2e3,followup:"Stand"},Ready2HL:{duration:2e3,followup:"Stand"},ReadyBow:{duration:2e3,followup:"Stand"},ReadyRifle:{duration:2e3,followup:"Stand"},ReadyThrown:{duration:2e3,followup:"Stand"},HoldBow:{duration:2e3,followup:"Stand"},HoldRifle:{duration:2e3,followup:"Stand"},HoldThrown:{duration:2e3,followup:"Stand"},ReadySpellDirected:{duration:800,followup:"Stand"},ReadySpellOmni:{duration:800,followup:"Stand"},SpellCastDirected:{duration:800,followup:"Stand"},SpellCastOmni:{duration:800,followup:"Stand"},ChannelCastDirected:{duration:3e3,followup:"Stand"},ChannelCastOmni:{duration:3e3,followup:"Stand"},EmoteTalk:{duration:3e3,followup:"Stand"},EmoteEat:{duration:2500,followup:"Stand"},EmoteWork:{duration:1500,followup:"Stand"},EmoteUseStanding:{duration:5e3,followup:"Stand"},EmoteTalkExclamation:{duration:5e3,followup:"Stand"},EmoteTalkQuestion:{duration:1500,followup:"Stand"},EmoteBow:{duration:2500,followup:"Stand"},EmoteWave:{duration:2500,followup:"Stand"},EmoteCheer:{duration:1800,followup:"Stand"},EmoteDance:{duration:3e4,followup:"Stand"},EmoteLaugh:{duration:3e3,followup:"Stand"},EmoteRude:{duration:2e3,followup:"Stand"},EmoteRoar:{duration:2500,followup:"Stand"},EmoteKneel:{duration:3e3,followup:"Stand"},EmoteKiss:{duration:2500,followup:"Stand"},EmoteCry:{duration:5e3,followup:"Stand"},EmoteChicken:{duration:3e3,followup:"Stand"},EmoteBeg:{duration:4e3,followup:"Stand"},EmoteApplaud:{duration:3e3,followup:"Stand"},EmoteShout:{duration:1800,followup:"Stand"},EmoteFlex:{duration:2500,followup:"Stand"},EmoteShy:{duration:1800,followup:"Stand"},EmotePoint:{duration:1800,followup:"Stand"},EmoteSalute:{duration:1800,followup:"Stand"},BattleRoar:{duration:900,followup:"Stand"},Sheath:{duration:2e3,followup:"Stand"},HipSheath:{duration:2e3,followup:"Stand"},SitGroundDown:{duration:2e3,followup:"SitGround"},SitGround:{duration:null,followup:"SitGround"},SleepDown:{duration:2e3,followup:"Sleep"},Sleep:{duration:null,followup:"Sleep"},SleepUp:{duration:2e3,followup:"Stand"},LoadBow:{duration:2e3,followup:"ReadyBow"},LoadRifle:{duration:2e3,followup:"ReadyRifle"},LoadThrown:{duration:2e3,followup:"ReadyThrown"},AttackThrown:{duration:2e3,followup:"ReadyThrown"},KneelStart:{duration:2e3,followup:"KneelLoop"},KneelLoop:{duration:null,followup:"KneelLoop"},KneelEnd:{duration:2e3,followup:"Stand"},StealthWalk:{duration:null,followup:"StealthStand"},StealthStand:{duration:null,followup:"StealthStand"},Loot:{duration:3e3,followup:"Stand"},Knockdown:{duration:3e3,followup:"Stand"},UseStandingLoop:{duration:null,followup:"UseStandingLoop"},UseStandingStart:{duration:2e3,followup:"UseStandingLoop"},UseStandingEnd:{duration:2e3,followup:"Stand"},Drown:{duration:3e3,followup:"Drowned"},Drowned:{duration:null,followup:"Drowned"},FishingCast:{duration:3e3,followup:"FishingLoop"},FishingLoop:{duration:null,followup:"FishingLoop"},EmoteWorkNoSheathe:{duration:5e3,followup:"Stand"},EmoteStunNoSheathe:{duration:3e3,followup:"Stand"},EmoteUseStandingNoSheathe:{duration:5e3,followup:"Stand"}}}updateAnimation(r,i){return Tt(this,null,function*(){this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationTimeout=null);let o=i.target.value;if(o===this.lastAnimation)return;if(this.lastAnimation=o,!r){console.warn("modelViewer not initialized in updateAnimation");return}let s=(a,c=20,u=500)=>{if(c<=0){console.warn(`Failed to set animation ${a}: renderer not ready after retries`);return}try{typeof r.setAnimation=="function"&&r.renderer?.actors?.[0]?(r.setAnimation(a),typeof r.setAnimPaused=="function"&&r.setAnimPaused(!1)):(console.warn(`setAnimation not available or renderer.actors[0] undefined for ${a}, retrying...`),setTimeout(()=>s(a,c-1,u),u))}catch(f){console.warn(`Error setting animation ${a}, retrying (${c} attempts left):`,f),setTimeout(()=>s(a,c-1,u),u)}};s(o);let l=this.animationConfig[o];l&&l.duration!==null&&(this.animationTimeout=setTimeout(()=>{this.lastAnimation=l.followup,s(l.followup)},l.duration))})}getAnimations(){return this.animations}setAnimations(r){this.animations=r}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var lw=(()=>{let n=class n{constructor(){this.itemsMap=new Map}setItemsMap(r){this.itemsMap.clear(),this.itemsMap=r}calculateStats(r,i,o,s){let l=[{CLASSID:"7",RACEID:"4",HP:2599,MP:0,STR:117,AGI:85,STA:109,INT:30,SPI:45,ARM:170},{CLASSID:"7",RACEID:"1",HP:2609,MP:0,STR:120,AGI:80,STA:110,INT:30,SPI:49,ARM:160},{CLASSID:"7",RACEID:"3",HP:2639,MP:0,STR:122,AGI:76,STA:113,INT:29,SPI:44,ARM:152},{CLASSID:"7",RACEID:"7",HP:2599,MP:0,STR:115,AGI:83,STA:109,INT:36,SPI:45,ARM:166},{CLASSID:"2",RACEID:"1",HP:2201,MP:2282,STR:105,AGI:65,STA:100,INT:70,SPI:81,ARM:130},{CLASSID:"2",RACEID:"3",HP:2231,MP:2267,STR:107,AGI:61,STA:103,INT:69,SPI:74,ARM:122},{CLASSID:"1",RACEID:"1",HP:1707,MP:2956,STR:35,AGI:40,STA:50,INT:120,SPI:137,ARM:80},{CLASSID:"1",RACEID:"3",HP:1737,MP:2941,STR:37,AGI:36,STA:53,INT:119,SPI:124,ARM:72},{CLASSID:"1",RACEID:"4",HP:1697,MP:2956,STR:32,AGI:45,STA:49,INT:120,SPI:125,ARM:90},{CLASSID:"0",RACEID:"4",HP:1993,MP:2464,STR:62,AGI:65,STA:69,INT:100,SPI:110,ARM:130},{CLASSID:"3",RACEID:"1",HP:1630,MP:2868,STR:30,AGI:35,STA:45,INT:125,SPI:132,ARM:70},{CLASSID:"3",RACEID:"7",HP:1620,MP:3078,STR:25,AGI:38,STA:44,INT:139,SPI:120,ARM:76},{CLASSID:"4",RACEID:"1",HP:1884,MP:2743,STR:45,AGI:50,STA:65,INT:110,SPI:125,ARM:100},{CLASSID:"4",RACEID:"7",HP:1874,MP:2953,STR:40,AGI:53,STA:64,INT:124,SPI:115,ARM:106},{CLASSID:"5",RACEID:"3",HP:2217,MP:2400,STR:57,AGI:121,STA:93,INT:64,SPI:69,ARM:242},{CLASSID:"5",RACEID:"4",HP:2177,MP:2415,STR:52,AGI:130,STA:89,INT:65,SPI:70,ARM:260},{CLASSID:"6",RACEID:"1",HP:2093,MP:0,STR:80,AGI:130,STA:75,INT:35,SPI:54,ARM:260},{CLASSID:"6",RACEID:"3",HP:2123,MP:0,STR:82,AGI:126,STA:78,INT:34,SPI:49,ARM:252},{CLASSID:"6",RACEID:"4",HP:2083,MP:0,STR:77,AGI:135,STA:74,INT:35,SPI:50,ARM:270},{CLASSID:"6",RACEID:"7",HP:2083,MP:0,STR:75,AGI:133,STA:74,INT:42,SPI:50,ARM:266}],a={general:{health:0,mana:0,strength:0,agility:0,stamina:0,intellect:0,spirit:0},armor:0,armorDR:0,attackPower:0,rangedAttackPower:0,damage:{MHmin:0,MHmax:0,MHspeed:2,MHskill:300,MHtype:"",OHmin:0,OHmax:0,OHspeed:2,OHskill:300,OHtype:"",Rmin:0,Rmax:0,Rspeed:2,Rskill:300,Rtype:""},hitChance:0,critChance:5,dodgeChance:0,parryChance:5,blockChance:0,blockValue:0,defense:300,spellHitChance:0,spellCritChance:0,healthPer5:0,manaPer5:0,manaPer5Casting:0,spellPower:{damage:0,healing:0,fire:0,shadow:0,nature:0,frost:0,arcane:0},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},pets:{},gearscore:0};if(!i)return a;let c=+i.CLASSID,u=+i.RACE,f=+i.SPEC,C=l.find(d=>d.CLASSID===c.toString()&&d.RACEID===u.toString())||{HP:0,MP:0,STR:0,AGI:0,STA:0,INT:0,SPI:0,ARM:0};a.general={health:+C.HP,mana:+C.MP,strength:+C.STR,agility:+C.AGI,stamina:+C.STA,intellect:+C.INT,spirit:+C.SPI},a.armor=+C.ARM;let m={},b=!1;o.forEach(d=>{if(d.dbId!==-1){let v=this.itemsMap.get(d.dbId);v&&(a.general.stamina+=parseInt((v.stamina||0).toString()),a.general.strength+=parseInt((v.strength||0).toString()),a.general.agility+=parseInt((v.agility||0).toString()),a.general.intellect+=parseInt((v.intelligence||0).toString()),a.general.spirit+=parseInt((v.spirit||0).toString()),a.armor+=parseInt((v.armor||0).toString()),a.attackPower+=parseInt((v.attack_power||0).toString()),a.rangedAttackPower+=parseInt((v.attack_power_ranged||0).toString()),d.slot===21?(a.damage.MHmin=parseInt((v.min_damage||0).toString()),a.damage.MHmax=parseInt((v.max_damage||0).toString()),a.damage.MHspeed=parseFloat((v.speed||0).toString()),a.damage.MHtype=v.sub_type||""):d.slot===22?(a.damage.OHmin=parseInt((v.min_damage||0).toString()),a.damage.OHmax=parseInt((v.max_damage||0).toString()),a.damage.OHspeed=parseFloat((v.speed||0).toString()),a.damage.OHtype=v.sub_type||"",b=!0):d.slot===26&&(a.damage.Rmin=parseInt((v.min_damage||0).toString()),a.damage.Rmax=parseInt((v.max_damage||0).toString()),a.damage.Rspeed=parseFloat((v.speed||0).toString()),a.damage.Rtype=v.sub_type||""),a.hitChance+=parseInt((v.hit_pct||0).toString()),a.critChance+=parseInt((v.crit_pct||0).toString()),a.spellHitChance+=parseInt((v.hit_pct_spell||0).toString()),a.spellCritChance+=parseInt((v.crit_pct_spell||0).toString()),a.dodgeChance+=parseInt((v.dodge_pct||0).toString()),a.parryChance+=parseInt((v.parry_pct||0).toString()),a.blockChance+=parseInt((v.block_rate||0).toString()),a.blockValue+=parseInt((v.block_value||0).toString()),a.defense+=parseInt((v.defense||0).toString()),a.spellPower.damage+=parseInt((v.spell_damage||0).toString()),a.spellPower.healing+=parseInt((v.spell_heal||0).toString()),a.spellPower.fire+=parseInt((v.spell_fire||0).toString()),a.spellPower.frost+=parseInt((v.spell_frost||0).toString()),a.spellPower.shadow+=parseInt((v.spell_shadow||0).toString()),a.spellPower.nature+=parseInt((v.spell_nature||0).toString()),a.resistances.fire+=parseInt((v.resist_fire||0).toString()),a.resistances.shadow+=parseInt((v.resist_shadow||0).toString()),a.resistances.nature+=parseInt((v.resist_nature||0).toString()),a.resistances.frost+=parseInt((v.resist_frost||0).toString()),a.resistances.arcane+=parseInt((v.resist_arcane||0).toString()),a.healthPer5+=parseInt((v.hp5||0).toString()),a.manaPer5+=parseInt((v.mp5||0).toString()))}});let V=s.findIndex(d=>d.NAME===i.NAME),I=this.computeEqTypeScores(s,V);a.gearscore=this.computeGearscore(I,o);let P=a.armor-C.ARM;if((c===7&&f===2||c===2&&f===1)&&(a.armor+=.1*P),c===0&&f===1&&(a.armor+=.04*P),a.pets={},c===5?a.pets.cat={general:{health:3390,mana:100,strength:136,agility:100,stamina:296,intellect:50,spirit:80},armor:4014,armorDR:0,attackPower:252,damage:{min:55,max:72,speed:1},resistances:{fire:120,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,manaPer5Casting:0,critChance:5,abilities:["Claw: 43-59 damage per 25 focus"]}:c===4&&(a.pets.imp={general:{health:1009,mana:1898,strength:122,agility:35,stamina:86,intellect:264,spirit:260},armor:1233,armorDR:0,attackPower:112,damage:{min:85,max:96,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,manaPer5Casting:0,critChance:5,abilities:["Firebolt: 85-96 damage, 2 sec cast, 115 mana"]},a.pets.voidwalker={general:{health:3149,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:4915,armorDR:0,attackPower:238,damage:{min:65,max:82,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,manaPer5Casting:0,critChance:5,abilities:["Sacrifice: 1930 shield for 30 sec"]},a.pets.succubus={general:{health:1709,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:2431,armorDR:0,attackPower:238,damage:{min:67,max:84,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,manaPer5Casting:0,critChance:5,abilities:["Lash of Pain: 87 damage, 145 mana, 12 sec cd"]},a.pets.felhunter={general:{health:2320,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:2487,armorDR:0,attackPower:238,damage:{min:59,max:72,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,manaPer5Casting:0,critChance:5,abilities:[]}),r){let d=1;for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==0&&(+x.SPEC==0||+x.SPEC==2)){d=1.35;break}}let v=12*d,M=20*d,T=285*d;if(a.general.stamina+=v,a.general.strength+=v,a.general.agility+=v,a.general.intellect+=v,a.general.spirit+=v,a.resistances.fire+=M,a.resistances.shadow+=M,a.resistances.nature+=M,a.resistances.frost+=M,a.resistances.arcane+=M,a.armor+=T,c===5||c===4)for(let R in a.pets)Object.prototype.hasOwnProperty.call(a.pets,R)&&(a.pets[R].general.stamina+=v,a.pets[R].general.strength+=v,a.pets[R].general.agility+=v,a.pets[R].general.intellect+=v,a.pets[R].general.spirit+=v,a.pets[R].resistances.fire+=M,a.pets[R].resistances.shadow+=M,a.pets[R].resistances.nature+=M,a.pets[R].resistances.frost+=M,a.pets[R].resistances.arcane+=M,a.pets[R].armor+=T,a.pets[R].general.health+=10*v,a.pets[R].armor+=2*v,c===4&&(a.pets[R].general.mana+=15*v),R==="imp"?a.attackPower+=v:a.attackPower+=2*v);let W=1;for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==2&&(+x.SPEC==0||+x.SPEC==2)){W=1.2;break}}if(a.attackPower+=185*W,a.manaPer5+=33*W,c===5||c===4)for(let R in a.pets)Object.prototype.hasOwnProperty.call(a.pets,R)&&(a.pets[R].attackPower+=185*W,a.pets[R].general.stamina+=54*1.3,a.pets[R].general.health+=54*1.3*10,a.pets[R].general.intellect+=31,a.pets[R].resistances.shadow+=60,R!=="cat"&&(a.pets[R].manaPer5+=33*W,a.pets[R].general.mana+=15*31));a.general.stamina+=54*1.3;for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==1&&+x.SPEC==0){if(a.general.spirit+=40,c===5||c===4)for(let L in a.pets)Object.prototype.hasOwnProperty.call(a.pets,L)&&(a.pets[L].general.spirit+=40);break}}a.resistances.shadow+=60,a.general.intellect+=31;for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==2&&+x.GROUP==+i.GROUP){if(a.resistances.fire+=60,c===5||c===4)for(let L in a.pets)Object.prototype.hasOwnProperty.call(a.pets,L)&&(a.pets[L].resistances.fire+=60);break}}for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==0&&+x.SPEC==1&&+x.GROUP==+i.GROUP){if(a.critChance+=3,c===5||c===4)for(let L in a.pets)Object.prototype.hasOwnProperty.call(a.pets,L)&&(a.pets[L].critChance+=3);break}}for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==5&&+x.SPEC==1&&+x.GROUP==+i.GROUP){if(a.attackPower+=100,a.rangedAttackPower+=100,c===5||c===4)for(let L in a.pets)Object.prototype.hasOwnProperty.call(a.pets,L)&&(a.pets[L].attackPower+=100);break}}let _e=0;for(let R=0;R<s.length;R++){let x=s[R];+x.CLASSID==4&&+x.GROUP==+i.GROUP&&+x.SPEC!=2&&(+x.SPEC==0&&_e==0?_e=42:_e=42*1.3)}if(_e>0&&(a.general.stamina+=_e,c===5||c===4))for(let R in a.pets)Object.prototype.hasOwnProperty.call(a.pets,R)&&(a.pets[R].general.stamina+=_e,a.pets[R].general.health+=10*_e);for(let R=0;R<s.length;R++){let x=s[R];if(+x.CLASSID==2&&+x.SPEC==0){if(a.general.stamina*=1.1,a.general.strength*=1.1,a.general.agility*=1.1,a.general.intellect*=1.1,a.general.spirit*=1.1,c===5||c===4)for(let L in a.pets)Object.prototype.hasOwnProperty.call(a.pets,L)&&(a.pets[L].general.health+=10*.1*a.pets[L].general.stamina,a.pets[L].general.mana+=15*.1*a.pets[L].general.intellect,a.pets[L].armor+=2*.1*a.pets[L].general.agility,L==="imp"?a.pets[L].attackPower+=.1*a.pets[L].general.strength:a.pets[L].attackPower+=2*.1*a.pets[L].general.strength,a.pets[L].general.stamina*=1.1,a.pets[L].general.strength*=1.1,a.pets[L].general.agility*=1.1,a.pets[L].general.intellect*=1.1,a.pets[L].general.spirit*=1.1);break}}let ve=0;for(let R=0;R<s.length;R++){let x=s[R];+x.CLASSID==7&&+x.GROUP==+i.GROUP&&(+x.SPEC==1?a.attackPower+=232*1.25:+x.SPEC==0&&ve<232*1.2?ve=232*1.05:ve===0&&(ve=232))}if(ve>0&&(a.attackPower+=ve,c===5||c===4))for(let R in a.pets)Object.prototype.hasOwnProperty.call(a.pets,R)&&(a.pets[R].attackPower+=ve)}if(u===1?(a.general.spirit*=1.05,(a.damage.MHtype==="Sword"||a.damage.MHtype==="Mace")&&(a.damage.MHskill+=5),(a.damage.OHtype==="Sword"||a.damage.OHtype==="Mace")&&(a.damage.OHskill+=5)):u===7?(a.general.intellect*=1.05,a.resistances.arcane+=10):u===3?(a.resistances.frost+=10,a.damage.Rtype==="Gun"&&(a.damage.Rskill+=5)):u===4&&(a.dodgeChance+=1,a.resistances.nature+=10),a.general.health+=(a.general.stamina-C.STA)*10,a.general.mana+=(a.general.intellect-C.INT)*15,a.armor+=(a.general.agility-C.AGI)*2,c===0&&f===1&&(a.critChance+=6,a.attackPower+=90,a.general.mana+=.2*a.general.intellect*15,a.general.intellect*=1.2,a.armor+=3.6*(P*1.04),a.attackPower+=180,a.general.health+=.2*a.general.stamina*10,a.general.stamina*=1.2,a.general.health+=1240),c===1&&(a.armor+=1395,f!==2&&(a.spellCritChance+=5),f===0?a.general.mana*=1.1:f===1?a.spellPower.damage+=.25*a.general.spirit:(a.damage.Rmin>0&&(a.damage.Rmin*=1.25,a.damage.Rmax*=1.25),a.spellHitChance+=10)),c===2&&(a.hitChance+=3,f!==1&&(a.general.mana+=.1*a.general.intellect*15,a.general.intellect*=1.1),f!=0&&(a.general.strength*=1.1),f===0?a.spellCritChance+=5:f===1?(a.parryChance+=4,a.defense+=10):a.critChance+=5),c===3&&(a.spellHitChance+=6,f===0?(a.general.mana*=1.1,a.armor+=.5*a.general.intellect,a.resistances.arcane+=8,a.resistances.nature+=8,a.resistances.fire+=8,a.resistances.frost+=8,a.resistances.shadow+=8):f===1?(a.resistances.arcane+=10,a.resistances.nature+=10,a.resistances.fire+=10,a.resistances.frost+=10,a.resistances.shadow+=10,a.spellCritChance+=6):(a.armor+=.5*a.general.intellect,a.resistances.arcane+=2,a.resistances.nature+=2,a.resistances.fire+=2,a.resistances.frost+=2,a.resistances.shadow+=2)),c===4&&(a.spellCritChance+=5,a.armor+=570,a.resistances.shadow+=15,a.healthPer5+=15,f===1&&(a.general.health+=.15*a.general.stamina*10,a.general.stamina*=1.15,a.general.spirit*=.95)),c===5&&(a.critChance+=5,a.rangedAttackPower+=120,a.rangedAttackPower+=14*17.5,a.damage.Rspeed/=1.13,f===2&&(a.general.health*=1.1,a.armor+=.15*a.general.agility*2,a.general.agility*=1.15,a.hitChance+=3,a.critChance+=3)),c===6&&(a.hitChance+=5,a.critChance+=5,f===1&&(a.dodgeChance+=1),f!==0&&((a.damage.MHtype==="Sword"||a.damage.MHtype==="Fist"||a.damage.MHtype==="Dagger")&&(a.damage.MHskill+=5),(a.damage.OHtype==="Sword"||a.damage.OHtype==="Fist"||a.damage.OHtype==="Dagger")&&(a.damage.OHskill+=5))),[0,2,7].includes(c)?a.attackPower+=a.general.strength*2:a.attackPower+=a.general.strength,(c===0&&f===1||c===5||c===6)&&(a.attackPower+=a.general.agility),c===5?a.rangedAttackPower+=a.general.agility*2:(c===6||c===7)&&(a.rangedAttackPower+=a.general.agility),a.damage.MHmin>0){let d=a.attackPower/14*a.damage.MHspeed;a.damage.MHmax+=d,a.damage.MHmin+=d}if(a.damage.OHmin>0){let d=a.attackPower/14*a.damage.OHspeed;a.damage.OHmax+=d,a.damage.OHmin+=d}if(a.damage.Rmin>0){let d=a.rangedAttackPower/14*a.damage.Rspeed;a.damage.Rmax+=d,a.damage.Rmin+=d}o.some(d=>d.dbId!==-1&&this.itemsMap.get(d.dbId)?.eq_type===14)&&[2,7].includes(c)&&(a.blockChance+=5,a.blockValue+=Math.floor(a.general.strength/20)),[0,2,7].includes(c)?a.critChance+=a.general.agility/20:c===6?a.critChance+=a.general.agility/29:c===5&&(a.critChance+=a.general.agility/53);let U={0:.9,5:0,3:3.2,2:.7,1:3,6:0,4:2,7:0},G={0:20,5:26.5,3:19.444,2:19.767,1:20,6:14.5,4:20,7:20};a.dodgeChance+=U[c]||0,a.dodgeChance+=a.general.agility/(G[c]||20);let z={0:3.33,3:3.7,1:2.97,4:3.18,2:3.7},_={0:59.81,3:53.77,1:59.23,4:60.5,2:53.77};if(z[c]&&(a.spellCritChance+=z[c]+a.general.intellect/_[c]),a.manaPer5Casting=a.manaPer5,c===0&&f!==1)a.manaPer5Casting+=.15*(a.general.spirit/4.5+15),a.manaPer5+=a.general.spirit/4.5+15;else if([0,5,2,4].includes(c))a.manaPer5+=a.general.spirit/5+15;else if([3,1].includes(c)){let d=.15;c===3&&(f==1?d=.4:f==2?d=.35:d=.45),a.manaPer5Casting+=d*(a.general.spirit/4+12.5),a.manaPer5+=a.general.spirit/4+12.5}if(a.damage.MHmin>0){let d=a.attackPower/14*a.damage.MHspeed;a.damage.MHmin+=d,a.damage.MHmax+=d}if(a.damage.OHmin>0){let d=a.attackPower/14*a.damage.OHspeed;a.damage.OHmin+=d,a.damage.OHmax+=d,a.damage.OHmin*=.5,a.damage.OHmax*=.5}if(a.damage.Rmin>0&&a.damage.Rtype!=="Wand"){let d=a.rangedAttackPower/14*a.damage.Rspeed;a.damage.Rmin+=d,a.damage.Rmax+=d}if(c===2&&(f===1&&b?a.damage.MHmin*=1.1:f===2&&!b&&(a.damage.MHmin*=1.06,a.damage.MHmax*=1.06)),c===4)for(let d in a.pets)Object.prototype.hasOwnProperty.call(a.pets,d)&&(a.pets[d].manaPer5Casting=a.pets[d].manaPer5,a.pets[d].manaPer5+=a.pets[d].general.spirit/5+15,f===1?(a.pets[d].general.health*=1.06,a.pets[d].general.mana*=1.15,d=="succubus"?(a.pets[d].damage.min*=1.1,a.pets[d].damage.max*=1.1):d==="felhunter"&&(a.pets[d].resistances.arcane+=60,a.pets[d].resistances.fire+=60,a.pets[d].resistances.frost+=60,a.pets[d].resistances.nature+=60,a.pets[d].resistances.shadow+=60)):f===2&&(a.pets[d].general.health*=1.15),d==="imp"?f!==2&&(a.pets[d].damage.speed=1,f===1&&(a.pets[d].damage.min*=1.3,a.pets[d].damage.max*=1.3)):f===1?(a.pets[d].damage.min*=1.2,a.pets[d].damage.max*=1.2):f===2&&(a.pets[d].damage.min*=1.08,a.pets[d].damage.max*=1.08));if(c===5){f==1&&a.damage.Rmin>0&&(a.damage.Rmin*=1.05,a.damage.Rmax*=1.05);let d=(a.pets.cat.attackPower-252)/14*1.1*1.25;a.pets.cat.damage.min+=d,a.pets.cat.damage.max+=d,f!==2&&(a.pets.cat.damage.min*=1.2,a.pets.cat.damage.max*=1.2,a.pets.cat.critChance+=15,f===0?a.pets.cat.general.health*=1.12:a.pets.cat.general.health*=1.09)}if(c===6){let d=1.5;f===0&&(d=1.1),a.damage.OHmin>0&&(a.damage.OHmin*=d,a.damage.OHmax*=d)}if(c===7&&(a.critChance+=5,f===2?(a.defense+=10,a.blockChance+=5,a.parryChance+=5,a.damage.OHmin===0&&b&&(a.damage.MHmin*=1.1,a.damage.MHmax*=1.1)):f===1?a.damage.OHmin>0&&(a.damage.OHmin*=1.25,a.damage.OHmax*=1.25):b||(a.damage.MHmin*=1.03,a.damage.MHmax*=1.03)),a.general.health=Math.round(a.general.health),a.general.mana=Math.round(a.general.mana),a.general.stamina=Math.round(a.general.stamina),a.general.strength=Math.round(a.general.strength),a.general.agility=Math.round(a.general.agility),a.general.intellect=Math.round(a.general.intellect),a.general.spirit=Math.round(a.general.spirit),a.armor=Math.round(a.armor),a.armorDR=Number((100*(a.armor/(a.armor+400+85*63))).toFixed(2)),a.attackPower=Math.round(a.attackPower),a.rangedAttackPower=Math.round(a.rangedAttackPower),a.damage.MHmin=Math.round(a.damage.MHmin),a.damage.MHmax=Math.round(a.damage.MHmax),a.damage.MHspeed=Number(a.damage.MHspeed.toFixed(2)),a.damage.OHmin=Math.round(a.damage.OHmin),a.damage.OHmax=Math.round(a.damage.OHmax),a.damage.OHspeed=Number(a.damage.OHspeed.toFixed(2)),a.damage.Rmin=Math.round(a.damage.Rmin),a.damage.Rmax=Math.round(a.damage.Rmax),a.damage.Rspeed=Number(a.damage.Rspeed.toFixed(2)),a.critChance=Number(a.critChance.toFixed(2)),a.dodgeChance=Number(a.dodgeChance.toFixed(2)),a.spellCritChance=Number(a.spellCritChance.toFixed(2)),a.manaPer5=Number((a.manaPer5*.4).toFixed(1)),a.manaPer5Casting=Number((a.manaPer5Casting*.4).toFixed(1)),c===4||c===5)for(let d in a.pets)Object.prototype.hasOwnProperty.call(a.pets,d)&&(a.pets[d].general.health=Math.round(a.pets[d].general.health),a.pets[d].general.mana=Math.round(a.pets[d].general.mana),a.pets[d].general.stamina=Math.round(a.pets[d].general.stamina),a.pets[d].general.strength=Math.round(a.pets[d].general.strength),a.pets[d].general.agility=Math.round(a.pets[d].general.agility),a.pets[d].general.intellect=Math.round(a.pets[d].general.intellect),a.pets[d].general.spirit=Math.round(a.pets[d].general.spirit),a.pets[d].armor=Math.round(a.pets[d].armor),a.pets[d].armorDR=Number((100*(a.pets[d].armor/(a.pets[d].armor+400+85*63))).toFixed(2)),a.pets[d].attackPower=Math.round(a.pets[d].attackPower),a.pets[d].critChance=Number(a.pets[d].critChance.toFixed(2)),a.pets[d].damage.min=Math.round(a.pets[d].damage.min),a.pets[d].damage.max=Math.round(a.pets[d].damage.max),a.pets[d].damage.speed=Number(a.pets[d].damage.speed.toFixed(2)),a.pets[d].manaPer5=Number((a.pets[d].manaPer5*.4).toFixed(1)),a.pets[d].manaPer5Casting=Number((a.pets[d].manaPer5Casting*.4).toFixed(1)));return a}getAssignedSlot(r){return{17:21,21:21,14:22,23:22,13:23,20:5,1:1,2:2,3:3,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:13,16:16,26:26,28:26}[r]||0}computeEqTypeScores(r,i){let o={};return i!==-1&&(r[i].INVENTORY||"").split(";").map(a=>+a.trim()).filter(a=>!isNaN(a)).forEach(a=>{let c=this.itemsMap.get(a);if(c){let u=Number(c.item_quality)??0,f=Number(c.item_level)??0,C=1;u===3?C=1.3:u===4?C=1.6:u===5&&(C=2);let m=f*C,b=c.eq_type;o[b]||(o[b]={top:0,second:0}),m>o[b].top?(o[b].second=o[b].top,o[b].top=m):m>o[b].second&&(o[b].second=m)}}),o}computeGearscore(r,i){let o={},s=!1;i&&i.forEach(m=>{if(m.dbId!==-1){let b=this.itemsMap.get(m.dbId);if(b){let V=Number(b.item_quality)??0,I=Number(b.item_level)??0,P=1;V===3?P=1.3:V===4?P=1.6:V===5&&(P=2),o[m.slot]=I*P,m.slot===22&&(s=!0)}}else o[m.slot]=0}),[1,2,3,5,6,7,8,9,10,16,26].forEach(m=>{o[m]=Math.max(o[m]||0,r[m]?.top||0)}),r[20]&&(o[5]=Math.max(o[5]||0,r[20].top||0)),r[28]&&(o[26]=Math.max(o[26]||0,r[28].top||0)),o[11]&&o[11]>r[11].second&&o[11]!==r[11].top&&(o[11]>r[11].top?(r[11].second=r[11].top,r[11].top=o[11]):r[11].second=o[11]),o[12]&&o[12]>r[11].second&&o[12]!==r[11].top&&(o[12]>r[11].top?(r[11].second=r[11].top,r[11].top=o[12]):r[11].second=o[12]),o[11]=r[11].top,o[12]=r[11].second,o[13]&&o[13]>r[12].second&&o[13]!==r[12].top&&(o[13]>r[12].top?(r[12].second=r[12].top,r[12].top=o[13]):r[12].second=o[13]),o[14]&&o[14]>r[12].second&&o[14]!==r[12].top&&(o[14]>r[12].top?(r[12].second=r[12].top,r[12].top=o[14]):r[12].second=o[14]),o[13]=r[12].top,o[14]=r[12].second,r[13]&&(r[21]?(r[13].second>0&&(r[21].second===0||r[13].second>r[21].second)&&(r[13].second>r[21].top?r[21]={top:r[13].top,second:r[13].second}:r[21].second=r[13].second),r[13].top>r[21].second&&(r[13].top>r[21].top?(r[21].second=r[21].top,r[21].top=r[13].top):r[21].second=r[13].top)):r[21]={top:r[13].top,second:r[13].second}),[13,14,23].forEach(m=>{r[m]&&(r[22]?(r[m].second>0&&(r[22].second===0||r[m].second>r[22].second)&&(r[m].second>r[22].top?r[22]={top:r[m].top,second:r[m].second}:r[22].second=r[m].second),r[m].top>r[22].second&&(r[m].top>r[22].top?(r[22].second=r[22].top,r[22].top=r[m].top):r[22].second=r[m].top)):r[22]={top:r[m].top,second:r[m].second})}),s?[21,22].forEach(m=>{o[m]&&(r[m]?o[m]>r[m].second&&(o[m]>r[m].top?(r[m].second=r[m].top,r[m].top=o[m]):o[m]!==r[m].top&&(r[m].second=o[m])):r[m]={top:o[m],second:0})}):o[21]&&(r[17]?o[21]>r[17].second&&(o[21]>r[17].top?(r[17].second=r[17].top,r[17].top=o[21]):o[21]!==r[17].top&&(r[17].second=o[21])):r[17]={top:o[21],second:0}),r[17]?o[17]=r[17].top:o[17]=0,r[22]?(o[21]=r[21].top,r[21].top!==r[22].top?o[22]=r[22].top:r[21].second>r[22].second?o[22]=r[21].second:o[22]=r[22].second):(o[21]=r[21].top,o[22]=0),o[21]+o[22]>o[17]?o[17]=0:(o[21]=0,o[22]=0),o[26]||(o[26]=50),[3,8,10,6].forEach(m=>{o[m]&&(o[m]*=.752)}),[11,12,13,14,2,16,9,26].forEach(m=>{o[m]&&(o[m]*=.566)}),o[17]*=2;let c=Object.values(o).reduce((m,b)=>m+b,0)/13,u=Math.abs(c-55),f=Math.pow(u,2/3);u<1&&(f=u);let C=c>=55?55+f:55-f;return Math.round(C*100)/100}getPlayerGearScore(r,i){let o=this.computeEqTypeScores(r,i);return this.computeGearscore(o,null)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var GR=(e,n)=>({"top-left":e,"bottom-left":n}),mu=e=>({"active-swap":e}),WR=()=>({"margin-right.px":20}),qR=()=>({"margin-left.px":50}),YR=e=>({"active-slot":e}),KR=e=>({"background-color":e,color:"black"}),_u=e=>({"compact-tooltip":e}),dw=e=>({"bottom-up":e}),fw=(e,n)=>({equippedItems:e,slot:n}),ZR=()=>[6,7],cw=()=>[5,6,7],QR=()=>[2,5,6,7],JR=()=>[4,5];function XR(e,n){if(e&1){let t=De();g(0,"button",9),j("click",function(){O(t);let i=y();return k(i.toggleHelpOverlay())}),q(1,"img",10),p()}if(e&2){let t=y();E("ngClass",vs(1,GR,t.menuSelected==="raidConfig"&&t.currentPlayer,!(t.menuSelected==="raidConfig"&&t.currentPlayer)))}}function e1(e,n){if(e&1){let t=De();g(0,"div",11),q(1,"div",12),Rn(2,"safeHtml"),g(3,"button",13),j("click",function(){O(t);let i=y();return k(i.toggleHelpOverlay())}),w(4,"OK"),p()()}if(e&2){let t=y();h(),E("innerHTML",Xi(2,1,t.getHelpContent()),qt)}}function t1(e,n){if(e&1){let t=De();g(0,"div",14)(1,"button",15),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("mcr"))}),w(2,"MC Raiders"),p(),g(3,"button",15),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("tgif"))}),w(4,"TGIF"),p(),g(5,"button",15),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("mc"))}),w(6,"Molten Core"),p(),g(7,"button",15),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("dungeon"))}),w(8,"Dungeons"),p(),g(9,"button",15),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("raidConfig"))}),w(10,"Raid Setup"),p(),g(11,"button",15),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("settings"))}),w(12,"Settings"),p()()}}function n1(e,n){e&1&&(g(0,"video",18),q(1,"source",19),w(2," Your browser does not support the video tag. "),p())}function r1(e,n){e&1&&(g(0,"video",18),q(1,"source",20),w(2," Your browser does not support the video tag. "),p())}function i1(e,n){if(e&1&&(g(0,"div")(1,"div",16)(2,"h2"),w(3,"MCR Raiders"),p(),H(4,n1,3,0,"video",17)(5,r1,3,0,"video",17),w(6," (Music video by MyndFlame from Illegal Danish) "),q(7,"br")(8,"br"),w(9," Help dad-guild TGIF gear up and progress through Molten Core raid. How many weeks will it take you to down Rag? (coming soon"),g(10,"sup"),w(11,"\u2122"),p(),w(12,") "),p()()),e&2){let t=y();h(4),E("ngIf",!t.profanityFilter),h(),E("ngIf",t.profanityFilter)}}function o1(e,n){e&1&&(g(0,"div",21),q(1,"img",22),w(2,"Well met! 6/2/19 "),q(3,"img",23),w(4,"NAXX OUT! 12/20/20 "),q(5,"img",24),w(6,"For the Alliance! 2/21/21 "),q(7,"img",25),w(8,"RIP Elfenrir 3/22/21 "),q(9,"img",26),w(10,"RIP Skriblius 1/3/23 "),g(11,"h4"),w(12,"Quotes"),p(),g(13,"p"),w(14,'"Gault down!" - Gault'),p(),g(15,"p"),w(16,'"I would say 87% of my frustration basically is from Molten Core. Not even joking. That place is literal hell." - Halador'),p(),g(17,"p"),w(18,'"TGIF is LFM 7 more hunters to round out our raid group. 500g to each hunter who joins" - Secant'),p(),g(19,"p"),w(20,`"Hey! We don't play with doors." - Cosine`),p()())}function s1(e,n){if(e&1&&(g(0,"div"),q(1,"img",27),w(2," Coming soon"),g(3,"sup"),w(4,"\u2122"),p()()),e&2){let t=y();h(),E("src",t.getDungeonImage("Molten Core"),$e)}}function a1(e,n){if(e&1){let t=De();nc(0),g(1,"button",31),j("click",function(){O(t);let i=y().$implicit,o=y(3);return k(o.handlePlayerClick(i))}),g(2,"div",32),w(3),p(),w(4),p(),q(5,"img",33),rc()}if(e&2){let t=y().$implicit,r=y(3);h(),E("ngStyle",r.getCellStyle(t)),h(2),ae(" ",r.getGearScore(t.NAME).toFixed(1)," "),h(),ae(" ",t.NAME," "),h(),E("src","assets/icons/role_"+r.getRole(t.CLASSID,t.SPEC)+"2.png",$e)}}function l1(e,n){if(e&1&&(g(0,"td",30),H(1,a1,6,4,"ng-container",4),p()),e&2){let t=n.$implicit;h(),E("ngIf",t)}}function c1(e,n){if(e&1&&(g(0,"tr"),H(1,l1,2,1,"td",29),p()),e&2){let t=n.$implicit;h(),E("ngForOf",t)}}function u1(e,n){if(e&1){let t=De();g(0,"div",34)(1,"button",35),j("click",function(){O(t);let i=y(2);return k(i.toggleSwapMode())}),w(2," Swap Mode "),p(),g(3,"button",36),j("click",function(){O(t);let i=y(2);return k(i.optimizeGear())}),w(4,"Optimize Gear"),p()()}if(e&2){let t=y(2);h(),E("ngClass",At(1,mu,t.swapMode))}}function d1(e,n){if(e&1&&(g(0,"div")(1,"table"),H(2,c1,2,1,"tr",28),p(),H(3,u1,5,3,"div",7),p()),e&2){let t=y();h(2),E("ngForOf",t.grid),h(),E("ngIf",t.menuSelected==="raidConfig")}}function f1(e,n){if(e&1&&(g(0,"div",46)(1,"div",47),q(2,"img",48),g(3,"span"),w(4),p()()()),e&2){let t=y(2);h(4),ae("x",t.guildBank.gold.toFixed(2))}}function h1(e,n){if(e&1&&(g(0,"option",57),w(1),p()),e&2){let t=n.$implicit;E("ngValue",t),h(),ae(" ",t," ")}}function p1(e,n){if(e&1){let t=De();g(0,"button",36),j("click",function(){O(t);let i=y(3);return k(i.addDungeonRow())}),w(1," Add Dungeon "),p()}}function g1(e,n){if(e&1&&(g(0,"div",59),w(1),p()),e&2){let t=n.$implicit,r=y(4);h(),er(" ",t.bossName," (",r.getBossLevel(t.bossName),"): ",t.results," ")}}function m1(e,n){if(e&1&&(g(0,"details")(1,"summary"),w(2),p(),H(3,g1,2,3,"div",58),p()),e&2){let t=y().index,r=y(2);h(2),Ce(r.dungeonAssignments[t].progress),h(),E("ngForOf",r.dungeonAssignments[t].bosses)}}function _1(e,n){if(e&1&&(g(0,"div",59),w(1),p()),e&2){let t=n.$implicit;h(),ae(" ",t," ")}}function v1(e,n){if(e&1&&(g(0,"details")(1,"summary"),w(2),p(),H(3,_1,2,1,"div",58),p()),e&2){let t=y().index,r=y(2);h(2),ae("Composition Penalty: -",r.dungeonAssignments[t].penalty),h(),E("ngForOf",r.dungeonCompositions[r.dungeonAssignments[t].dungeon||""])}}function y1(e,n){if(e&1&&q(0,"img",33),e&2){let t=y().$implicit,r=y(4);E("src","assets/icons/role_"+r.getRole(t.CLASSID,t.SPEC)+"2.png",$e)}}function C1(e,n){if(e&1&&(g(0,"div",65)(1,"div",66),w(2),p(),g(3,"div",67),w(4),p()()),e&2){let t=y().$implicit,r=y(4);h(),Ji("color",r.getColor(t.CLASSID)),h(),ae(" ",t.NAME," "),h(2),_s(" ",r.getClassName(t.CLASSID)," ",r.getGearScore(t.NAME).toFixed(1)," ")}}function w1(e,n){if(e&1&&(g(0,"span"),w(1),p()),e&2){let t=y().index;h(),ae("Slot ",t+1)}}function E1(e,n){if(e&1){let t=De();g(0,"div",62)(1,"button",35),j("click",function(){let i=O(t).index,o=y().index,s=y().index,l=y(2);return k(l.setActiveSlot(s,o,i))}),H(2,y1,1,1,"img",63)(3,C1,5,5,"div",64)(4,w1,2,1,"span",4),p()()}if(e&2){let t=n.$implicit,r=n.index,i=y().index,o=y().index,s=y(2);h(),E("ngClass",At(4,YR,s.activeSlot&&s.activeSlot.group===o&&s.activeSlot.row===i&&s.activeSlot.slot===r)),h(),E("ngIf",t),h(),E("ngIf",t),h(),E("ngIf",!t)}}function D1(e,n){if(e&1&&(g(0,"div",60),H(1,E1,5,6,"div",61),p()),e&2){let t=n.$implicit;h(),E("ngForOf",t)}}function b1(e,n){if(e&1){let t=De();g(0,"div",49)(1,"div",50)(2,"select",51),Kt("ngModelChange",function(i){let o=O(t).index,s=y(2);return cn(s.dungeonAssignments[o].dungeon,i)||(s.dungeonAssignments[o].dungeon=i),k(i)}),j("change",function(){let i=O(t).index,o=y(2);return k(o.onDungeonChange(i))}),g(3,"option",52),w(4,"Select Dungeon"),p(),H(5,h1,2,2,"option",53),p(),g(6,"span",54),w(7),p(),H(8,p1,2,0,"button",55),p(),H(9,m1,4,2,"details",4)(10,v1,4,2,"details",4)(11,D1,2,1,"div",56),p()}if(e&2){let t=n.$implicit,r=n.index,i=y(2);h(2),Yt("ngModel",i.dungeonAssignments[r].dungeon),h(),E("ngValue",null),h(2),E("ngForOf",i.uniqueDungeons),h(2),Ce(i.getDungeonLevel(i.dungeonAssignments[r].dungeon||"")),h(),E("ngIf",r===i.dungeonAssignments.length-1&&t.dungeon),h(),E("ngIf",i.dungeonAssignments[r].progress),h(),E("ngIf",i.dungeonAssignments[r].penalty>0),h(),E("ngForOf",t.players)}}function S1(e,n){if(e&1&&(g(0,"tr")(1,"td",70),q(2,"img",71),p(),g(3,"td",72)(4,"span"),w(5),p()(),g(6,"td",73),q(7,"div",74),p()()),e&2){let t=n.$implicit,r=y(3);h(2),E("src",r.getItemIcon(+t.itemId),$e),h(2),Ji("color",r.getColor(t.playerClass.toString())),h(),Ce(t.playerName),h(),E("innerHTML",r.getItemTooltip(+t.itemId),qt),h(),E("innerHTML",r.getItemTooltip(+t.itemId),qt)}}function I1(e,n){if(e&1&&(g(0,"div",68)(1,"h2"),w(2,"Dungeon Loot"),p(),g(3,"table",69),H(4,S1,8,6,"tr",28),p()()),e&2){let t=y(2);h(4),E("ngForOf",t.dungeonUpgrades)}}function T1(e,n){if(e&1&&(g(0,"details",75)(1,"summary"),w(2),p(),g(3,"div",76),q(4,"img",77),g(5,"div",78),q(6,"p",79),p()()()),e&2){let t=n.$implicit,r=y(2);h(2),Ce(t),h(2),E("alt",Eh("",t," background"))("src",r.getDungeonImage(t),$e),h(2),E("innerHTML",r.getDungeonSummary(t),qt)}}function x1(e,n){if(e&1&&(g(0,"li"),w(1),p()),e&2){let t=n.$implicit;h(),ae(" ",t.NAME," ")}}function M1(e,n){if(e&1&&(g(0,"details")(1,"summary"),w(2),p(),g(3,"ul"),H(4,x1,2,1,"li",28),p()()),e&2){let t=y().$implicit,r=y(2);h(2),ae("Missing Unlock (",r.getLockedPlayers(t).length,")"),h(2),E("ngForOf",r.getLockedPlayers(t))}}function R1(e,n){if(e&1&&(g(0,"div",75)(1,"strong"),w(2),p(),w(3),H(4,M1,5,2,"details",4),p()),e&2){let t=n.$implicit,r=y(2);h(2),Ce(t.UNLOCK),h(),er(": ",r.getUnlockedPlayerCount(t),"/",r.players.length," - Kill: ",r.getBossName(+t.NPC_ID)||"NPC ID "+t.NPC_ID," "),h(),E("ngIf",r.getLockedPlayers(t).length>0)}}function A1(e,n){if(e&1){let t=De();g(0,"div"),H(1,f1,5,1,"div",37),g(2,"div",38)(3,"h2"),w(4,"Dungeon Assignments"),p(),g(5,"div")(6,"span",39),w(7),p(),g(8,"button",40),j("click",function(){O(t);let i=y();return k(i.nextWeek())}),w(9,"Next Week"),p()(),H(10,b1,12,8,"div",41),g(11,"button",40),j("click",function(){O(t);let i=y();return k(i.runDungeons())}),w(12,"Run Dungeons"),p(),g(13,"button",31),j("click",function(){O(t);let i=y();return k(i.clearAssignments())}),w(14,"Clear Players"),p()(),H(15,I1,5,1,"div",42),g(16,"details",43)(17,"summary"),w(18,"Dungeon Info"),p(),g(19,"div",44),H(20,T1,7,5,"details",45),p()(),g(21,"details",43)(22,"summary"),w(23,"Unlocks"),p(),g(24,"div",44),H(25,R1,5,5,"div",45),p()()()}if(e&2){let t=y();h(),E("ngIf",t.menuSelected==="dungeon"),h(5),E("ngStyle",tr(11,WR)),h(),_s("Current Week: ",t.guildWeek,"; Attempts: ",t.dungeonProgress==null?null:t.dungeonProgress.attempts,"/10"),h(),E("disabled",t.dungeonProgress&&t.dungeonProgress.attempts<10),h(2),E("ngForOf",t.dungeonAssignments),h(),E("disabled",t.isRunDungeonDisabled()),h(2),E("ngStyle",tr(12,qR)),h(2),E("ngIf",t.dungeonUpgrades.length>0),h(5),E("ngForOf",t.uniqueDungeons),h(5),E("ngForOf",t.dungeonUnlocks)}}function P1(e,n){if(e&1){let t=De();g(0,"div",92),j("click",function(){O(t);let i=y(2);return k(i.toggleNameEdit())}),w(1),p()}if(e&2){let t=y(2);E("ngStyle",At(2,KR,t.getColor(t.currentPlayer.CLASSID))),h(),ae(" ",t.currentPlayer.NAME," ")}}function N1(e,n){if(e&1){let t=De();g(0,"input",93),Kt("ngModelChange",function(i){O(t);let o=y(2);return cn(o.newPlayerName,i)||(o.newPlayerName=i),k(i)}),j("blur",function(){O(t);let i=y(2);return k(i.savePlayerName())})("keyup.enter",function(){O(t);let i=y(2);return k(i.savePlayerName())}),p()}if(e&2){let t=y(2);Yt("ngModel",t.newPlayerName)}}function O1(e,n){e&1&&(g(0,"button",111),w(1," OWNED "),p())}function k1(e,n){if(e&1){let t=De();g(0,"button",112),j("pointerdown",function(){O(t);let i=y(4);return k(i.startBuyItem(i.selectedTooltip.dbId))})("pointerup",function(){O(t);let i=y(4);return k(i.cancelBuyItem())})("pointerleave",function(){O(t);let i=y(4);return k(i.cancelBuyItem())}),w(1," HOLD TO BUY... "),q(2,"img",113),g(3,"span"),w(4),p(),q(5,"img",114),g(6,"span"),w(7),p()()}if(e&2){let t,r,i=y(4);Me("can-afford",i.canAffordItem(i.selectedTooltip.dbId))("cannot-afford",!i.canAffordItem(i.selectedTooltip.dbId))("buying",i.isBuying),h(4),ae("x",((t=i.itemsMap.get(i.selectedTooltip.dbId))==null?null:t.fiery_core)||0," "),h(3),ae("x",((r=i.itemsMap.get(i.selectedTooltip.dbId))==null?null:r.lava_core)||0)}}function F1(e,n){if(e&1&&(g(0,"div",108),H(1,O1,2,0,"button",109)(2,k1,8,8,"button",110),p()),e&2){let t=y(3);h(),E("ngIf",t.isItemOwned(t.selectedTooltip.dbId)),h(),E("ngIf",!t.isItemOwned(t.selectedTooltip.dbId))}}function L1(e,n){if(e&1&&(g(0,"div",115)(1,"div",47),q(2,"img",48),g(3,"span"),w(4),p()(),g(5,"div",47),q(6,"img",113),g(7,"span"),w(8),p()(),g(9,"div",47),q(10,"img",114),g(11,"span"),w(12),p()()()),e&2){let t=y(3);h(4),ae("x",t.guildBank.gold),h(4),ae("x",t.guildBank.fieryCores),h(4),ae("x",t.guildBank.lavaCores)}}function V1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t),h(),ae(" ",t," ")}}function j1(e,n){if(e&1){let t=De();g(0,"div",116)(1,"select",117),j("change",function(i){O(t);let o=y(3);return k(o.onAnimationChange(i))}),H(2,V1,2,2,"option",118),p()()}if(e&2){let t=y(3);h(2),E("ngForOf",t.animationService.getAnimations())}}function B1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t.RACEID),h(),Ce(t.RACE)}}function H1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t),h(),Ce(t)}}function U1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t),h(),Ce(t)}}function $1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t),h(),Ce(t)}}function z1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t),h(),Ce(t)}}function G1(e,n){if(e&1&&(g(0,"option",119),w(1),p()),e&2){let t=n.$implicit;E("value",t),h(),Ce(t)}}function W1(e,n){if(e&1){let t=De();g(0,"div",120)(1,"div",121)(2,"label"),w(3,"Race"),p(),g(4,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.selectedRaceId,i)||(o.selectedRaceId=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateRaceGender(i.selectedRaceId,i.selectedGender))}),H(5,B1,2,2,"option",118),p()(),g(6,"div",121)(7,"label"),w(8,"Gender"),p(),g(9,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.selectedGender,i)||(o.selectedGender=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateRaceGender(i.selectedRaceId,i.selectedGender))}),g(10,"option",119),w(11,"Male"),p(),g(12,"option",119),w(13,"Female"),p()()(),g(14,"div",121)(15,"div",122)(16,"button",123),j("pointerdown",function(){O(t);let i=y(3);return k(i.startRandomizing())})("pointerup",function(){O(t);let i=y(3);return k(i.stopRandomizing())})("pointerleave",function(){O(t);let i=y(3);return k(i.stopRandomizing())})("click",function(){O(t);let i=y(3);return k(i.randomizeCustomization())}),q(17,"img",124),p()()(),g(18,"div",121)(19,"label"),w(20,"Skin"),p(),g(21,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.currentPlayer.SKIN,i)||(o.currentPlayer.SKIN=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateCustomization("SKIN",i.currentPlayer.SKIN))}),H(22,H1,2,2,"option",118),p()(),g(23,"div",121)(24,"label"),w(25,"Face"),p(),g(26,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.currentPlayer.FACE,i)||(o.currentPlayer.FACE=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateCustomization("FACE",i.currentPlayer.FACE))}),H(27,U1,2,2,"option",118),p()(),g(28,"div",121)(29,"label"),w(30,"Hairstyle"),p(),g(31,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.currentPlayer.HAIRSTYLE,i)||(o.currentPlayer.HAIRSTYLE=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateCustomization("HAIRSTYLE",i.currentPlayer.HAIRSTYLE))}),H(32,$1,2,2,"option",118),p()(),g(33,"div",121)(34,"label"),w(35,"Hair Color"),p(),g(36,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.currentPlayer.HAIRCOLOR,i)||(o.currentPlayer.HAIRCOLOR=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateCustomization("HAIRCOLOR",i.currentPlayer.HAIRCOLOR))}),H(37,z1,2,2,"option",118),p()(),g(38,"div",121)(39,"label"),w(40,"Facial Style"),p(),g(41,"select",51),Kt("ngModelChange",function(i){O(t);let o=y(3);return cn(o.currentPlayer.FACIALSTYLE,i)||(o.currentPlayer.FACIALSTYLE=i),k(i)}),j("change",function(){O(t);let i=y(3);return k(i.updateCustomization("FACIALSTYLE",i.currentPlayer.FACIALSTYLE))}),H(42,G1,2,2,"option",118),p()()()}if(e&2){let t=y(3);h(4),Yt("ngModel",t.selectedRaceId),h(),E("ngForOf",t.getAvailableRaces()),h(4),Yt("ngModel",t.selectedGender),h(),E("value",0),h(2),E("value",1),h(9),Yt("ngModel",t.currentPlayer.SKIN),h(),E("ngForOf",t.getRange(t.availableOptions.SKIN)),h(4),Yt("ngModel",t.currentPlayer.FACE),h(),E("ngForOf",t.getRange(t.availableOptions.FACE)),h(4),Yt("ngModel",t.currentPlayer.HAIRSTYLE),h(),E("ngForOf",t.getRange(t.availableOptions.HAIRSTYLE)),h(4),Yt("ngModel",t.currentPlayer.HAIRCOLOR),h(),E("ngForOf",t.getRange(t.availableOptions.HAIRCOLOR)),h(4),Yt("ngModel",t.currentPlayer.FACIALSTYLE),h(),E("ngForOf",t.getRange(t.availableOptions.FACIALSTYLE))}}function q1(e,n){if(e&1&&q(0,"div",133),e&2){let t=y().$implicit,r=y(4);E("ngClass",At(2,_u,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t.dbId),qt)}}function Y1(e,n){if(e&1&&q(0,"div",133),e&2){let t=y().$implicit,r=y(6);E("ngClass",At(2,_u,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t),qt)}}function K1(e,n){if(e&1){let t=De();g(0,"div",137)(1,"img",139),j("click",function(i){let o=O(t).$implicit,s=y(2).$implicit,l=y(4);return k(l.toggleItemTooltip(s.slot,o,!0,i))}),p(),H(2,Y1,1,4,"div",131),p()}if(e&2){let t=n.$implicit,r=y(2).$implicit,i=y(4);Mn("data-quality",i.getItemQuality(t)),h(),Me("selected",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory)),E("src",i.getItemIcon(t),$e),h(),E("ngIf",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory))}}function Z1(e,n){if(e&1){let t=De();g(0,"div",134)(1,"div",135),H(2,K1,3,5,"div",136),Rn(3,"filterEquip"),p(),g(4,"div",137)(5,"button",138),j("click",function(){O(t);let i=y().$implicit,o=y(4);return k(o.swapItem(i.slot,null))}),w(6," Unequip "),p()()()}if(e&2){let t=y().$implicit,r=y(4);E("ngClass",At(5,dw,r.isBottomUpSlot(t.slot))),h(2),E("ngForOf",eo(3,2,r.getFilteredInventoryItems(t.slot),vs(7,fw,r.equippedItems,t.slot)))}}function Q1(e,n){if(e&1){let t=De();g(0,"div",129)(1,"img",130),j("click",function(i){let o=O(t).$implicit,s=y(4);return k(s.toggleItemTooltip(o.slot,o.dbId,!1,i))}),p(),H(2,q1,1,4,"div",131)(3,Z1,7,10,"div",132),p()}if(e&2){let t=n.$implicit,r=y(4);Mn("data-quality",r.getItemQuality(t.dbId)),h(),Me("selected",(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot||r.selectedInventorySlot===t.slot),E("src",r.getItemIcon(t.dbId),$e),h(),E("ngIf",r.selectedTooltip&&(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot&&(r.selectedTooltip==null?null:r.selectedTooltip.dbId)===t.dbId&&!r.selectedTooltip.isInventory),h(),E("ngIf",r.selectedInventorySlot===t.slot)}}function J1(e,n){if(e&1&&q(0,"div",133),e&2){let t=y().$implicit,r=y(4);E("ngClass",At(2,_u,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t.dbId),qt)}}function X1(e,n){if(e&1&&q(0,"div",133),e&2){let t=y().$implicit,r=y(6);E("ngClass",At(2,_u,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t),qt)}}function eA(e,n){if(e&1){let t=De();g(0,"div",137)(1,"img",139),j("click",function(i){let o=O(t).$implicit,s=y(2).$implicit,l=y(4);return k(l.toggleItemTooltip(s.slot,o,!0,i))}),p(),H(2,X1,1,4,"div",131),p()}if(e&2){let t=n.$implicit,r=y(2).$implicit,i=y(4);Mn("data-quality",i.getItemQuality(t)),h(),Me("selected",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory)),E("src",i.getItemIcon(t),$e),h(),E("ngIf",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory))}}function tA(e,n){if(e&1){let t=De();g(0,"div",134)(1,"div",140),H(2,eA,3,5,"div",136),Rn(3,"filterEquip"),p(),g(4,"div",137)(5,"button",138),j("click",function(){O(t);let i=y().$implicit,o=y(4);return k(o.swapItem(i.slot,null))}),w(6," Unequip "),p()()()}if(e&2){let t=y().$implicit,r=y(4);E("ngClass",At(5,dw,r.isBottomUpSlot(t.slot))),h(2),E("ngForOf",eo(3,2,r.getFilteredInventoryItems(t.slot),vs(7,fw,r.equippedItems,t.slot)))}}function nA(e,n){if(e&1){let t=De();g(0,"div",129)(1,"img",130),j("click",function(i){let o=O(t).$implicit,s=y(4);return k(s.toggleItemTooltip(o.slot,o.dbId,!1,i))}),p(),H(2,J1,1,4,"div",131)(3,tA,7,10,"div",132),p()}if(e&2){let t=n.$implicit,r=y(4);Mn("data-quality",r.getItemQuality(t.dbId)),h(),Me("selected",(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot||r.selectedInventorySlot===t.slot),E("src",r.getItemIcon(t.dbId),$e),h(),E("ngIf",r.selectedTooltip&&(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot&&(r.selectedTooltip==null?null:r.selectedTooltip.dbId)===t.dbId&&!r.selectedTooltip.isInventory),h(),E("ngIf",r.selectedInventorySlot===t.slot)}}function rA(e,n){if(e&1&&(g(0,"div",125)(1,"div",126),H(2,Q1,4,6,"div",127),Rn(3,"filterBySide"),p(),g(4,"div",128),H(5,nA,4,6,"div",127),Rn(6,"filterBySide"),p()()),e&2){let t=y(3);h(2),E("ngForOf",eo(3,2,t.equippedItems,"left")),h(3),E("ngForOf",eo(6,5,t.equippedItems,"right"))}}function iA(e,n){if(e&1){let t=De();g(0,"div",94),H(1,F1,3,2,"div",95)(2,L1,13,3,"div",96),g(3,"div",97)(4,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setGearSubTab("equipment"))}),q(5,"img",98),p(),g(6,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setGearSubTab("customization"))}),q(7,"img",99),p(),g(8,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setGearSubTab("crafted"))}),q(9,"img",100),p(),g(10,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setGearSubTab("dungeon"))}),q(11,"img",101),p(),g(12,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setGearSubTab("mcquest"))}),q(13,"img",102),p()(),q(14,"div",103),H(15,j1,3,1,"div",104)(16,W1,43,15,"div",105)(17,rA,7,8,"div",106),q(18,"div",107),p()}if(e&2){let t=y(2);h(),E("ngIf",t.selectedGearSubTab==="crafted"&&t.selectedTooltip&&(t.selectedTooltip==null?null:t.selectedTooltip.isInventory)),h(),E("ngIf",t.selectedGearSubTab==="crafted"),h(2),Me("active",t.selectedGearSubTab==="equipment"),h(2),Me("active",t.selectedGearSubTab==="customization"),h(2),Me("active",t.selectedGearSubTab==="crafted"),h(2),Me("active",t.selectedGearSubTab==="dungeon"),h(2),Me("active",t.selectedGearSubTab==="mcquest"),h(3),E("ngIf",t.selectedGearSubTab==="customization"),h(),E("ngIf",t.selectedGearSubTab==="customization"),h(),E("ngIf",t.selectedGearSubTab!=="customization")}}function oA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=n.$implicit,r=y(3);h(2),ae("",t.label,":"),h(2),Ce(r.cachedStats.general[t.key])}}function sA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Mana:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(4),Ce(t.cachedStats.general.mana)}}function aA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Ranged Attack Power:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(4),Ce(t.cachedStats.rangedAttackPower)}}function lA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(2),ae("Melee Damage OH (",t.cachedStats.damage.OHskill,"):"),h(2),er("",t.cachedStats.damage.OHmin," - ",t.cachedStats.damage.OHmax," / ",t.cachedStats.damage.OHspeed,"s")}}function cA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(2),ae("Ranged Damage (",t.cachedStats.damage.Rskill,"):"),h(2),er("",t.cachedStats.damage.Rmin," - ",t.cachedStats.damage.Rmax," / ",t.cachedStats.damage.Rspeed,"s")}}function uA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Melee Hit:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(4),ae("",t.cachedStats.hitChance,"%")}}function dA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Parry Chance:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(4),ae("",t.cachedStats.parryChance,"%")}}function fA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Block Chance:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(4),ae("",t.cachedStats.blockChance,"%")}}function hA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Block Value:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(3);h(4),Ce(t.cachedStats.blockValue)}}function pA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Spell Hit:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y(4);h(4),ae("",t.cachedStats.spellHitChance,"%")}}function gA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=n.$implicit,r=y(4);h(2),ae("",t.label,":"),h(2),Ce(r.cachedStats.spellPower[t.key])}}function mA(e,n){if(e&1&&(g(0,"details",147)(1,"summary",148),w(2,"Spell Stats"),p(),H(3,pA,5,1,"div",150),g(4,"div",151)(5,"span",152),w(6,"Spell Critical:"),p(),g(7,"span",153),w(8),p()(),g(9,"div",151)(10,"span",152),w(11,"Mana Regen - Idle:"),p(),g(12,"span",153),w(13),p()(),g(14,"div",151)(15,"span",152),w(16,"Mana Regen - Casting:"),p(),g(17,"span",153),w(18),p()(),H(19,gA,5,2,"div",149),p()),e&2){let t=y(3);h(3),E("ngIf",t.cachedStats.spellHitChance>0),h(5),ae("",t.cachedStats.spellCritChance,"%"),h(5),Ce(t.cachedStats.manaPer5),h(5),Ce(t.cachedStats.manaPer5Casting),h(),E("ngForOf",t.spellPowerStats)}}function _A(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=n.$implicit,r=y(3);h(2),ae("",t.label,":"),h(2),Ce(r.cachedStats.resistances[t.key])}}function vA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=n.$implicit,r=y().$implicit,i=y(4);h(2),ae("",t.label,":"),h(2),Ce(i.cachedStats.pets[r].general[t.key])}}function yA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2),p(),g(3,"span",153),w(4),p()()),e&2){let t=n.$implicit,r=y().$implicit,i=y(4);h(2),ae("",t.label,":"),h(2),Ce(i.cachedStats.pets[r].resistances[t.key])}}function CA(e,n){if(e&1&&(g(0,"div",151)(1,"span",152),w(2,"Abilities:"),p(),g(3,"span",153),w(4),p()()),e&2){let t=y().$implicit,r=y(4);h(4),Ce(r.cachedStats.pets[t].abilities.join(", "))}}function wA(e,n){if(e&1&&(g(0,"div",158)(1,"h3",159),w(2),Rn(3,"titlecase"),p(),H(4,vA,5,2,"div",149),g(5,"div",151)(6,"span",152),w(7,"Armor:"),p(),g(8,"span",153),w(9),p()(),g(10,"div",151)(11,"span",152),w(12,"Attack Power:"),p(),g(13,"span",153),w(14),p()(),g(15,"div",151)(16,"span",152),w(17,"Damage:"),p(),g(18,"span",153),w(19),p()(),g(20,"div",151)(21,"span",152),w(22,"Defense:"),p(),g(23,"span",153),w(24),p()(),H(25,yA,5,2,"div",149)(26,CA,5,1,"div",150),p()),e&2){let t=n.$implicit,r=y(4);h(2),Ce(Xi(3,10,t)),h(2),E("ngForOf",r.generalStats),h(5),Ce(r.cachedStats.pets[t].armor),h(5),Ce(r.cachedStats.pets[t].attackPower),h(5),er("",r.cachedStats.pets[t].damage.min," - ",r.cachedStats.pets[t].damage.max," / ",r.cachedStats.pets[t].damage.speed,"s"),h(5),Ce(r.cachedStats.pets[t].defense),h(),E("ngForOf",r.resistanceStats),h(),E("ngIf",r.cachedStats.pets[t].abilities.length>0)}}function EA(e,n){if(e&1&&(g(0,"details",155)(1,"summary",148),w(2,"Pet Stats"),p(),H(3,wA,27,12,"div",157),p()),e&2){let t=y(3);h(3),E("ngForOf",t.petNames)}}function DA(e,n){if(e&1){let t=De();g(0,"div",141)(1,"div",142)(2,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setStatsSubTab("base"))}),q(3,"img",143),p(),g(4,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setStatsSubTab("buffed"))}),q(5,"img",144),p()(),g(6,"div",145)(7,"div",146)(8,"h3"),w(9),p(),g(10,"details",147)(11,"summary",148),w(12,"General Stats"),p(),H(13,oA,5,2,"div",149)(14,sA,5,1,"div",150),p(),g(15,"details",147)(16,"summary",148),w(17,"Combat Stats"),p(),g(18,"div",151)(19,"span",152),w(20,"Armor:"),p(),g(21,"span",153),w(22),p()(),g(23,"div",151)(24,"span",152),w(25,"Armor %:"),p(),g(26,"span",153),w(27),p()(),g(28,"div",151)(29,"span",152),w(30,"Attack Power:"),p(),g(31,"span",153),w(32),p()(),H(33,aA,5,1,"div",150),g(34,"div",151)(35,"span",152),w(36),p(),g(37,"span",153),w(38),p()(),H(39,lA,5,4,"div",150)(40,cA,5,4,"div",150)(41,uA,5,1,"div",150),g(42,"div",151)(43,"span",152),w(44,"Critical Strike:"),p(),g(45,"span",153),w(46),p()(),g(47,"div",151)(48,"span",152),w(49,"Dodge Chance:"),p(),g(50,"span",153),w(51),p()(),H(52,dA,5,1,"div",150)(53,fA,5,1,"div",150)(54,hA,5,1,"div",150),g(55,"div",151)(56,"span",152),w(57,"Defense:"),p(),g(58,"span",153),w(59),p()()(),H(60,mA,20,5,"details",154),g(61,"details",155)(62,"summary",148),w(63,"Resistances"),p(),H(64,_A,5,2,"div",149),p(),H(65,EA,4,1,"details",156),p()()()}if(e&2){let t=y(2);h(2),Me("active",t.selectedStatsSubTab==="base"),h(2),Me("active",t.selectedStatsSubTab==="buffed"),h(5),ae("Gear Score: ",t.cachedStats.gearscore),h(4),E("ngForOf",t.generalStats),h(),E("ngIf",!tr(27,ZR).includes(+t.currentPlayer.CLASSID)),h(8),Ce(t.cachedStats.armor),h(5),Ce(t.cachedStats.armorDR),h(5),Ce(t.cachedStats.attackPower),h(),E("ngIf",tr(28,cw).includes(+t.currentPlayer.CLASSID)),h(3),ae("Melee Damage (",t.cachedStats.damage.MHskill,"):"),h(2),er("",t.cachedStats.damage.MHmin," - ",t.cachedStats.damage.MHmax," / ",t.cachedStats.damage.MHspeed,"s"),h(),E("ngIf",t.cachedStats.damage.OHmin>0),h(),E("ngIf",t.cachedStats.damage.Rmin>0),h(),E("ngIf",t.cachedStats.hitChance),h(5),ae("",t.cachedStats.critChance,"%"),h(5),ae("",t.cachedStats.dodgeChance,"%"),h(),E("ngIf",tr(29,QR).includes(+t.currentPlayer.CLASSID)),h(),E("ngIf",t.cachedStats.blockValue>0),h(),E("ngIf",t.cachedStats.blockValue>0),h(5),Ce(t.cachedStats.defense),h(),E("ngIf",!tr(30,cw).includes(+t.currentPlayer.CLASSID)),h(4),E("ngForOf",t.resistanceStats),h(),E("ngIf",tr(31,JR).includes(+t.currentPlayer.CLASSID)&&t.petNames.length>0)}}function bA(e,n){if(e&1&&(g(0,"h2"),w(1),p()),e&2){let t=y(3);h(),ae("",t.getClassName(t.currentPlayer.CLASSID)," Spells")}}function SA(e,n){if(e&1&&(g(0,"h2"),w(1),p()),e&2){let t=y(3);h(),ae("",t.getRaceName(t.currentPlayer.RACE)," Skills")}}function IA(e,n){if(e&1&&(g(0,"tr")(1,"td"),q(2,"img",163),p(),q(3,"td",164),Rn(4,"safeHtml"),p()),e&2){let t=n.$implicit;h(2),E("alt",ic(t.SPELLNAME))("src","/assets/icons/"+t.ICON_NAME+".jpg",$e),h(),E("innerHTML",Xi(4,4,t.TOOLTIP),qt)}}function TA(e,n){if(e&1&&(g(0,"div",162)(1,"table"),H(2,IA,5,6,"tr",28),p()()),e&2){let t=y(3);h(2),E("ngForOf",t.getSpells(t.selectedSpellTab))}}function xA(e,n){if(e&1){let t=De();g(0,"div",160),H(1,bA,2,1,"h2",4)(2,SA,2,1,"h2",4),g(3,"div",142)(4,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setSpellTab("class"))}),q(5,"img",91),p(),g(6,"button",36),j("click",function(){O(t);let i=y(2);return k(i.setSpellTab("racial"))}),q(7,"img",91),p()(),H(8,TA,3,1,"div",161),p()}if(e&2){let t=y(2);h(),E("ngIf",t.selectedSpellTab==="class"),h(),E("ngIf",t.selectedSpellTab!=="class"),h(2),Me("active",t.selectedSpellTab==="class"),h(),E("src","/assets/icons/class_"+t.getClassName(t.currentPlayer.CLASSID).toLowerCase()+".jpg",$e),h(),Me("active",t.selectedSpellTab==="racial"),h(),E("src","/assets/icons/achievement_character_"+t.getRaceName(t.currentPlayer.RACE).toLowerCase()+"_"+(t.currentPlayer.GENDER==0?"male":"female")+".jpg",$e),h(),E("ngIf",t.selectedSpellTab)}}function MA(e,n){if(e&1&&(g(0,"h2"),w(1),p()),e&2){let t=y(3);h(),Ce(t.getTalentName())}}function RA(e,n){if(e&1){let t=De();g(0,"button",36),j("click",function(){let i=O(t).$implicit,o=y(3);return k(o.setSpecTab(i))}),q(1,"img",91),p()}if(e&2){let t=n.$implicit,r=y(3);Me("active",r.selectedSpecTab===t),h(),E("src","/assets/icons/"+r.getTalentIcon(+t)+".jpg",$e)}}function AA(e,n){if(e&1&&(g(0,"tr")(1,"td"),q(2,"img",169),p(),q(3,"td",164),Rn(4,"safeHtml"),p()),e&2){let t=n.$implicit;h(2),E("alt",ic(t.SPELLNAME))("src","/assets/icons/"+t.ICON_NAME+".jpg",$e),h(),E("innerHTML",Xi(4,4,t.TOOLTIP),qt)}}function PA(e,n){if(e&1&&(g(0,"div",168)(1,"table"),H(2,AA,5,6,"tr",28),p()()),e&2){let t=y(3);h(2),E("ngForOf",t.getTalents(t.selectedSpecTab))}}function NA(e,n){if(e&1&&(g(0,"div",165),H(1,MA,2,1,"h2",4),g(2,"div",142),H(3,RA,2,3,"button",166),p(),H(4,PA,3,1,"div",167),p()),e&2){let t=y(2);h(),E("ngIf",t.currentPlayer),h(2),E("ngForOf",t.talentBuilds),h(),E("ngIf",t.selectedSpecTab)}}function OA(e,n){if(e&1){let t=De();g(0,"div",80)(1,"div",81),H(2,P1,2,4,"div",82)(3,N1,1,1,"input",83),q(4,"img",84),p(),g(5,"div",85),H(6,iA,19,15,"div",86),p(),g(7,"div",85),H(8,DA,66,32,"div",87)(9,xA,9,9,"div",88)(10,NA,5,3,"div",89),p(),g(11,"div",90)(12,"button",36),j("click",function(){O(t);let i=y();return k(i.setTab("gear"))}),q(13,"img",91),p(),g(14,"button",36),j("click",function(){O(t);let i=y();return k(i.setTab("stats"))}),q(15,"img",91),p(),g(16,"button",36),j("click",function(){O(t);let i=y();return k(i.setTab("spells"))}),q(17,"img",91),p(),g(18,"button",36),j("click",function(){O(t);let i=y();return k(i.setTab("spec"))}),q(19,"img",91),p(),g(20,"button",36),j("click",function(){O(t);let i=y();return k(i.setTab("gambits"))}),q(21,"img",91),p(),g(22,"button",36),j("click",function(){O(t);let i=y();return k(i.backToGrid())}),q(23,"img",91),p()()()}if(e&2){let t=y();h(2),E("ngIf",!t.isEditingName),h(),E("ngIf",t.isEditingName),h(),E("src","assets/icons/role_"+t.getRole(t.currentPlayer.CLASSID,t.currentPlayer.SPEC)+"2.png",$e),h(2),E("ngIf",t.selectedTab=="gear"),h(2),E("ngIf",t.selectedTab=="stats"),h(),E("ngIf",t.selectedTab==="spells"),h(),E("ngIf",t.selectedTab==="spec"),h(2),Me("active",t.selectedTab==="gear"),h(),E("src","/assets/icons/inv_chest_chain.jpg",$e),h(),Me("active",t.selectedTab==="stats"),h(),E("src","/assets/icons/inv_misc_note_01.jpg",$e),h(),Me("active",t.selectedTab==="spells"),h(),E("src","/assets/icons/inv_misc_book_11.jpg",$e),h(),Me("active",t.selectedTab==="spec"),h(),E("src","/assets/icons/inv_7xp_inscription_talenttome02.jpg",$e),h(),Me("active",t.selectedTab==="gambits"),h(),E("src","/assets/icons/trade_engineering.jpg",$e),h(2),E("src","/assets/icons/achievement_bg_returnxflags_def_wsg.jpg",$e)}}function kA(e,n){if(e&1){let t=De();g(0,"div",34)(1,"button",35),j("click",function(){O(t);let i=y();return k(i.toggleHelpButton())}),w(2),p(),g(3,"button",35),j("click",function(){O(t);let i=y();return k(i.toggleCompactTooltips())}),w(4),p(),g(5,"button",35),j("click",function(){O(t);let i=y();return k(i.toggleProfanity())}),w(6),p(),g(7,"button",170),j("pointerdown",function(){O(t);let i=y();return k(i.startResetProgress())})("pointerup",function(){O(t);let i=y();return k(i.cancelResetProgress())})("pointerleave",function(){O(t);let i=y();return k(i.cancelResetProgress())}),w(8," Reset Progress "),p(),g(9,"button",170),j("pointerdown",function(){O(t);let i=y();return k(i.startResetAll())})("pointerup",function(){O(t);let i=y();return k(i.cancelResetAll())})("pointerleave",function(){O(t);let i=y();return k(i.cancelResetAll())}),w(10," Reset Storage "),p()()}if(e&2){let t=y();h(),E("ngClass",At(10,mu,!t.showHelpButton)),h(),ae(" Help: ",t.showHelpButton?"On":"Off"," "),h(),E("ngClass",At(12,mu,t.useCompactTooltips)),h(),ae(" Tooltips: ",t.useCompactTooltips?"Small":"Normal"," "),h(),E("ngClass",At(14,mu,!t.profanityFilter)),h(),ae(" Profanity: ",t.profanityFilter?"Off":"On"," "),h(),Me("buying",t.isResettingP),h(2),Me("buying",t.isResettingA)}}function FA(e,n){if(e&1){let t=De();g(0,"button",171),j("click",function(){O(t);let i=y();return k(i.setMenuLevel("home"))}),q(1,"img",91),p()}e&2&&(h(),E("src","/assets/icons/achievement_bg_returnxflags_def_wsg.jpg",$e))}function LA(e,n){if(e&1){let t=De();g(0,"button",174),j("click",function(){O(t);let i=y(2);return k(i.forceUpdate())}),w(1,"Update"),p()}}function VA(e,n){if(e&1){let t=De();g(0,"button",15),j("click",function(){O(t);let i=y(2);return k(i.promptInstall())}),w(1,"Install"),p()}}function jA(e,n){if(e&1){let t=De();g(0,"button",174),j("click",function(){O(t);let i=y(2);return k(i.forceUpdate())}),w(1,"Reload"),p()}}function BA(e,n){e&1&&(g(0,"p"),w(1,"To install on iOS, share and choose 'Add to Home Screen'."),p())}function HA(e,n){if(e&1&&(g(0,"div"),w(1," Version 0.1.4 "),H(2,LA,2,0,"button",172)(3,VA,2,0,"button",173)(4,jA,2,0,"button",172)(5,BA,2,0,"p",4),p()),e&2){let t=y();h(2),E("ngIf",t.updateAvailable&&!t.showInstall),h(),E("ngIf",t.showInstall),h(),E("ngIf",!t.updateAvailable&&!t.showInstall),h(),E("ngIf",!t.isInstalled&&!t.showInstall&&t.onIOS)}}var ag=(()=>{let n=class n{constructor(r,i,o,s,l){this.http=i,this.swUpdate=o,this.animationService=s,this.statsService=l,this.players=[],this.gambits=[],this.spells=[],this.talents=[],this.itemsMap=new Map,this.menuSelected="home",this.cachedStats=null,this.grid=[],this.showGrid=!0,this.showCustomization=!1,this.modelViewer=null,this.currentPlayer=null,this.playerIndex=-1,this.isEditingName=!1,this.newPlayerName="",this.selectedTab="gear",this.selectedSpecTab=null,this.selectedSpellTab="class",this.selectedGearSubTab="equipment",this.selectedStatsSubTab="base",this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.talentBuilds=["0","1","2"],this.equippedItems=[],this.inventoryItems=[],this.selectedTooltip=null,this.selectedInventorySlot=null,this.isBuying=!1,this.buyTimer=null,this.isResettingA=!1,this.resetTimerA=null,this.isResettingP=!1,this.resetTimerP=null,this.showHelpButton=!0,this.showHelpOverlay=!1,this.useCompactTooltips=!1,this.clickX=null,this.clickY=null,this.tankClasses=new Set([0,2,7]),this.healerClasses=new Set([0,1,2]),this.playerGearScores=new Map,this.slotConfig=[{slot:1,name:"Head",side:"left"},{slot:2,name:"Neck",side:"left"},{slot:3,name:"Shoulders",side:"left"},{slot:5,name:"Chest",side:"left"},{slot:6,name:"Waist",side:"left"},{slot:7,name:"Legs",side:"left"},{slot:8,name:"Feet",side:"left"},{slot:9,name:"Wrists",side:"left"},{slot:10,name:"Hands",side:"right"},{slot:11,name:"Finger 1",side:"right"},{slot:12,name:"Finger 2",side:"right"},{slot:13,name:"Trinket 1",side:"right"},{slot:14,name:"Trinket 2",side:"right"},{slot:16,name:"Back",side:"right"},{slot:21,name:"Main Hand",side:"right"},{slot:22,name:"Off Hand",side:"right"},{slot:26,name:"Ranged",side:"right"}],this.classRaceMap={0:[4],1:[1,3,4],2:[1,3],3:[1,7],4:[1,7],5:[3,4],6:[1,3,4,7],7:[1,3,4,7]},this.dungeonCompositions={Scholomance:[["tank:Warrior","tank:Druid"],["heal:Priest"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Live Stratholme":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Undead Stratholme":[["tank:Warrior","tank:Druid"],["heal:Priest"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Lower Blackrock Spire":[["tank:Warrior","tank:Druid"],["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Upper Blackrock Spire":["tank:Warrior",["tank:Warrior","tank:Druid"],"heal:Priest",["heal:Priest","heal:Paladin","heal:Druid"],"heal:Paladin","damage:Mage",["damage:Mage","damage:Warlock","damage:Rogue"],"damage:Hunter","damage:Rogue","damage:Warlock"],"Blackrock Depths":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul East":[["tank:Warrior","tank:Druid"],["heal:Paladin","heal:Priest"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul West":[["tank:Warrior","tank:Druid"],"heal:Priest","damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul North":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Dire Maul Tribute":[["tank:Warrior","tank:Druid"],["heal:Priest","heal:Paladin"],"damage:Mage","damage:Rogue",["damage:Hunter","damage:Warlock"]]},this.talentInfo={0:{0:{name:"Moonglow - Healer",icon:"spell_nature_starfall",role:"heal"},1:{name:"Feral - Tank",icon:"ability_racial_bearform",role:"tank"},2:{name:"Swiftmend - Healer",icon:"spell_nature_healingtouch",role:"heal"}},1:{0:{name:"Discipline - Healer",icon:"spell_holy_wordfortitude",role:"heal"},1:{name:"Holy - Healer",icon:"spell_holy_guardianspirit",role:"heal"},2:{name:"Shadow - Ranged",icon:"spell_shadow_shadowwordpain",role:"damage"}},2:{0:{name:"Holy - Healer",icon:"spell_holy_holybolt",role:"heal"},1:{name:"Protection - Tank",icon:"spell_holy_devotionaura",role:"tank"},2:{name:"Retribution - Melee",icon:"spell_holy_auraoflight",role:"damage"}},3:{0:{name:"Arcane - Ranged",icon:"spell_holy_magicalsentry",role:"damage"},1:{name:"Fire - Ranged",icon:"spell_fire_firebolt02",role:"damage"},2:{name:"Frost - Ranged",icon:"spell_frost_frostbolt02",role:"damage"}},4:{0:{name:"Shadow Mastery - Ranged",icon:"spell_shadow_deathcoil",role:"damage"},1:{name:"Demonologist - Ranged",icon:"spell_shadow_metamorphosis",role:"damage"},2:{name:"Demonic Sacrifice - Ranged",icon:"spell_shadow_rainoffire",role:"damage"}},5:{0:{name:"Beast Mastery - Ranged",icon:"ability_hunter_beasttaming",role:"damage"},1:{name:"Marksmanship - Ranged",icon:"ability_marksmanship",role:"damage"},2:{name:"Survival - Ranged",icon:"ability_hunter_swiftstrike",role:"damage"}},6:{0:{name:"Seal Fate - Daggers",icon:"ability_rogue_eviscerate",role:"damage"},1:{name:"Combat - Swords",icon:"ability_backstab",role:"damage"},2:{name:"Combat - Daggers",icon:"ability_stealth",role:"damage"}},7:{0:{name:"Fury - Two-Hand",icon:"ability_rogue_eviscerate",role:"damage"},1:{name:"Fury - Dual-Wield",icon:"ability_warrior_innerrage",role:"damage"},2:{name:"Protection - Tank",icon:"inv_shield_06",role:"tank"}}},this.customizationData=[{RACEID:1,RACE:"Human",GENDER:0,options:{SKIN:10,FACE:12,HAIRSTYLE:12,HAIRCOLOR:10,FACIALSTYLE:9}},{RACEID:1,RACE:"Human",GENDER:1,options:{SKIN:10,FACE:12,HAIRSTYLE:20,HAIRCOLOR:10,FACIALSTYLE:1}},{RACEID:3,RACE:"Dwarf",GENDER:0,options:{SKIN:9,FACE:10,HAIRSTYLE:11,HAIRCOLOR:10,FACIALSTYLE:11}},{RACEID:3,RACE:"Dwarf",GENDER:1,options:{SKIN:9,FACE:10,HAIRSTYLE:14,HAIRCOLOR:10,FACIALSTYLE:1}},{RACEID:4,RACE:"Night Elf",GENDER:0,options:{SKIN:9,FACE:9,HAIRSTYLE:7,HAIRCOLOR:7,FACIALSTYLE:5}},{RACEID:4,RACE:"Night Elf",GENDER:1,options:{SKIN:9,FACE:9,HAIRSTYLE:7,HAIRCOLOR:8,FACIALSTYLE:1}},{RACEID:7,RACE:"Gnome",GENDER:0,options:{SKIN:5,FACE:8,HAIRSTYLE:8,HAIRCOLOR:9,FACIALSTYLE:8}},{RACEID:7,RACE:"Gnome",GENDER:1,options:{SKIN:5,FACE:8,HAIRSTYLE:8,HAIRCOLOR:9,FACIALSTYLE:1}}],this.generalStats=[{key:"strength",label:"Strength"},{key:"agility",label:"Agility"},{key:"stamina",label:"Stamina"},{key:"intellect",label:"Intellect"},{key:"spirit",label:"Spirit"},{key:"health",label:"Health"}],this.spellPowerStats=[{key:"damage",label:"Spell Damage"},{key:"healing",label:"Spell Healing"},{key:"shadow",label:"Spell Shadow"},{key:"fire",label:"Spell Fire"},{key:"frost",label:"Spell Frost"}],this.resistanceStats=[{key:"fire",label:"Fire Resistance"},{key:"shadow",label:"Shadow Resistance"},{key:"nature",label:"Nature Resistance"},{key:"frost",label:"Frost Resistance"},{key:"arcane",label:"Arcane Resistance"}],this.selectedRaceId=1,this.selectedGender=0,this.profanityFilter=!0,this.availableOptions=this.customizationData[0].options,this.dungeonBosses=[],this.dungeonUnlocks=[],this.dungeonDrops=[],this.dungeonQuests=[],this.statWeights=[],this.uniqueDungeons=[],this.dungeonAssignments=[{dungeon:null,players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}],this.activeSlot=null,this.guildWeek=1,this.dungeonProgress=null,this.dungeonUpgrades=[],this.updateAvailable=!1,this.showInstall=!1,this.isInstalled=!1,this.swapMode=!1,this.firstSwapPlayer=null,this.summaries={Maraudon:`<h4>The Legacy of Maraudon<h4>

    <p>Long before mortals walked Kalimdor, the Elemental Lords roamed Azeroth. When the Titans imprisoned them, their influence lingered in deep places of the world. Among those bound to Azeroth\u2019s stone and soil was Theradras, Princess of Earth.</p>

    <p>When the demigod Zaetar, son of Cenarius, wandered into her cavernous domain, Theradras ensnared him. From their union was born the centaur, a race cursed with savagery and bloodlust. When Zaetar\u2019s children murdered him, Theradras claimed his corpse and his spirit, keeping them within her cavern as both trophy and anchor of her power.</p>

    <p>The centaur tribes that spread across Desolace all trace their lineage back to this union. Despite their wars and rivalries, they revere Maraudon\u2014Theradras\u2019s cavernous temple\u2014as a holy site, a place of both worship and fear. They pilgrimage here to honor their \u201Cmother,\u201D even as her corruption poisons the land.</p>

    <p>Now Maraudon stands as both a natural wonder and a cursed shrine: waterfalls and crystalline caverns tainted by Theradras\u2019s elemental decay, where centaur zealots, twisted elementals, and the princess herself guard the remains of Zaetar.</p>

    <h4>Maraudon \u2013 The Elemental Caverns</h4>

    <p>Maraudon is unique in that it feels alive: part underground wilderness, part temple, part elemental lair. Its wings reflect the dual nature of the earth\u2014life-giving and destructive.</p>

    <h4>1. The Purple Wing (Shadow and Corruption)</h4>

    <p>Dark caverns where Theradras\u2019s corruption spreads unchecked. Oozes, slimes, and shadowy elementals lurk in the depths, feeding on the dungeon\u2019s tainted energy.<br>
    Theme: Decay and corruption.<br>
    Foes: Vile slimes, corrupted elementals, centaur warlocks.</p>

    <h4>2. The Orange Wing (Earth and Stone)</h4>

    <p>Rocky halls where earth elementals and centaur guardians dwell, representing Theradras\u2019s raw, destructive power. The very stone seems hostile, as golems and guardians rise to crush intruders.<br>
    Theme: Elemental fury and centaur guardianship.<br>
    Foes: Earth elementals, stalagmites brought to life, centaur shamans.</p>

    <h4>3. The Inner Falls (The Living Grove)</h4>

    <p>Past the two wings lies a breathtaking cavern of waterfalls, crystalline lakes, and strange flora \u2014 a reminder of the wild beauty Zaetar once cherished. But even here, Theradras\u2019s corruption bleeds through, twisting plants and beasts into monstrous forms.<br>
    Theme: Natural beauty tainted by corruption.<br>
    Foes: Wildkin, lashers, corrupted dryads, crystal beasts.</p>

    <h4>4. The Inner Sanctum (Theradras\u2019s Lair)</h4>

    <p>At the very heart lies Theradras, the Earth Princess herself. Colossal and terrible, she clutches the spirit of Zaetar, her unwilling consort, whose sorrow lingers in the air. The final confrontation is both tragic and apocalyptic\u2014defeating her releases Zaetar\u2019s spirit, but also shakes the caverns with elemental fury.<br>
    Theme: A corrupted shrine to forbidden union.<br>
    Foes: Princess Theradras, avatar of decay and grief.</p>

    <h4>Why Maraudon Matters</h4>

    <p>Maraudon is not just a dungeon; it\u2019s the cradle of the centaur race and the prison of a demigod\u2019s spirit. It explains the endless wars in Desolace, the corruption seeping into the land, and the origin of one of Azeroth\u2019s most brutal peoples. To delve here is to confront the tragedy of Zaetar, the corruption of Theradras, and the savage legacy left to their children.</p>`,"Sunken Temple":`<h4>The Legacy of the Temple of Atal\u2019Hakkar</h4>

    <p>Deep within the <strong>Swamp of Sorrows</strong>, half-submerged beneath choking vines and stagnant waters, lies the <strong>Temple of Atal\u2019Hakkar</strong>\u2014a ruin steeped in both troll superstition and dark prophecy.</p>

    <p>Ages ago, the <strong>Gurubashi trolls</strong>\u2014once rulers of a vast jungle empire\u2014fell into the worship of the blood god <strong>Hakkar the Soulflayer</strong>, a being of gluttony and sacrifice who demanded the hearts of the living. The Atal\u2019ai, Hakkar\u2019s most fervent priests, were driven from Zul\u2019Gurub after the empire\u2019s collapse and built this temple in exile, vowing to summon their god into the world once more.</p>

    <p>But Hakkar\u2019s power could not be contained. His corruption seeped into the land, twisting the swamp, driving beasts mad, and summoning serpents in his image. The dragonflights themselves took notice: the <strong>Green Dragon Aspect, Ysera,</strong> dispatched her brood to contain the threat. The battle between Atal\u2019ai zealots and green dragon guardians left the temple shattered, partially sunken, and haunted by both troll priests and enraged dragon spirits.</p>

    <p>What remains today is a labyrinthine ruin\u2014part troll shrine, part dragon graveyard, and part prison for Hakkar\u2019s lingering essence. To enter is to tread on cursed ground, where ancient troll magic and dragon wrath still collide.</p>

    <h4>Temple of Atal\u2019Hakkar \u2013 The Sunken Depths</h4>

    <p>The dungeon is a blend of troll ritualism and dragon corruption:</p>
    <ul>
    <li><strong>Outer Halls</strong>: Murky corridors overrun with Atal\u2019ai priests, shadow hunters, and their serpent totems, where the walls are carved with images of Hakkar\u2019s blood rites.</li>

    <li><strong>The Pools of Vision</strong>: Stagnant waters inhabited by cursed spirits and swamp beasts, corrupted by the temple\u2019s lingering magic.</li>

    <li><strong>The Dragonkin Chambers</strong>: Tombs where the green dragonflight fell in battle\u2014now restless shades and dragonkin stalk the halls, lashing out at intruders.</li>

    <li><strong>The Inner Sanctum</strong>: The seat of the Atal\u2019ai high priests, where they conduct rituals to prepare the world for Hakkar\u2019s return.</li>

    <li><strong>The Avatar of Hakkar (Optional Encounter)</strong>: Adventurers may attempt to summon and confront a fragment of the Soulflayer himself, a vision of the blood god\u2019s hunger given form.</li>
    </ul>

    <p><strong>Theme</strong>: Forbidden blood rituals, dragon corruption, ancient ruin swallowed by swamp.
    <strong>Key foes</strong>: Atal\u2019ai priests and zealots, green dragon spirits, the Avatar of Hakkar.</p>

    <h4>Why the Temple Matters</h4>

    <p>The Temple of Atal\u2019Hakkar is not just a dungeon\u2014it is the <strong>prologue to Zul\u2019Gurub</strong>. The Atal\u2019ai cultists here are the remnants of an empire obsessed with Hakkar, and their temple is both a shrine and a laboratory for his return. By striking them down, adventurers delay the rise of the Soulflayer\u2014but the whispers of Hakkar cannot be silenced forever.</p>`,"Blackrock Depths":`<h4>The Legacy of Blackrock Depths (BRD)</h4>

    <p>At the heart of <strong>Blackrock Mountain</strong>, beyond molten rivers and endless caverns, lies <strong>Blackrock Depths</strong>, the sprawling subterranean city of the <strong>Dark Iron dwarves.</strong></p>

    <p>Centuries ago, when the Dark Iron clan warred with their Bronzebeard and Wildhammer kin, they sought to claim dominion through sorcery and greed. In desperation, their thane, <strong>Thaurissan</strong>, invoked a terrible ritual that shattered the land and summoned forth the <strong>Firelord Ragnaros</strong>. The cataclysm birthed Blackrock Mountain as a volcano and bound the Dark Irons in eternal slavery to their fiery master.</p>

    <p>From that day, the Dark Irons dwelled within the mountain\u2019s depths, carving an empire beneath molten stone. Their king, <strong>Emperor Dagran Thaurissan</strong>, rules in Ragnaros\u2019s name, served by generals, high priests, and a court steeped in cruelty. BRD is not just a dungeon \u2014 it is a city, complete with a king\u2019s throne, a temple to fire, a slave market, forges, breweries, and barracks. It is the Dark Irons\u2019 capital and the heart of Ragnaros\u2019s growing dominion.</p>

    <h4>Blackrock Depths \u2013 The Dark Iron Capital</h4>

    <p>BRD is unique among dungeons: it feels alive, a true underground kingdom of oppression, industry, and flame. Its major sections highlight the power of the Dark Irons and their fiery master:</p>

    <h4>1. The Outer Wards \u2013 The City Gates</h4>

    <p>The entry halls are patrolled by elite Dark Iron guards and constructs. Here, the scale of the city is revealed: massive gates, barracks, and armories demonstrate this is no mere outpost, but a capital.<br>
    <strong>Theme</strong>: Militarized stronghold.<br>
    <strong>Foes</strong>: Dark Iron soldiers, golems, warhounds.</p>

    <h4>2. The Detention Block and Shadowforge City</h4>

    <p>The sprawling prison of the Dark Irons, where political prisoners, criminals, and enslaved adventurers rot in chains. Beyond lies Shadowforge City itself, a bustling subterranean metropolis complete with taverns, markets, and forges.<br>
    <strong>Theme</strong>: Slavery and oppression.<br>
    <strong>Foes</strong>: Jailors, overseers, slaves driven to madness, and powerful named lieutenants.</p>

    <h4>3. The Grim Guzzler</h4>

    <p>A tavern hidden deep inside the city, where Dark Iron dwarves drink, brawl, and boast. Here, adventurers may interact with NPCs, trigger bar fights, or slip deeper into the dungeon\u2019s heart. It\u2019s one of the rare moments of levity inside the Depths, though still dangerous.<br>
    <strong>Theme</strong>: Dark Iron culture and drunken chaos.<br>
    <strong>Foes</strong>: Rowdy patrons, mercenaries, and brawlers.</p>

    <h4>4. The Black Anvil and the Forge District</h4>

    <p>The industrial heart of the Dark Irons. Here, their blacksmiths forge weapons for their armies and even construct fiery elementals. The legendary Black Anvil lies here, a forge of immense power.<br>
    <strong>Theme</strong>: Industry and elemental fire.<br>
    <strong>Foes</strong>: Master smiths, fire elementals, molten war machines.</p>

    <h4>5. The Temple of Ragnaros</h4>

    <p>A holy place for the Dark Irons, dedicated to the Firelord. Priests and summoners chant his praises, channeling his molten might. From here, the line between dwarf and elemental blurs.<br>
    <strong>Theme</strong>: Cultic devotion to Ragnaros.<br>
    <strong>Foes</strong>: Fire priests, elemental guardians, High Priestess of Thaurissan.</p>

    <h4>6. The Emperor\u2019s Throne</h4>

    <p>At the deepest heart of the Depths lies the throne of <strong>Emperor Dagran Thaurissan</strong>, seated beside <strong>Princess Moira Bronzebeard</strong>\u2014the daughter of Ironforge\u2019s king, abducted and bound to the Emperor. This final chamber is both political and personal: to slay the Emperor is to weaken the Dark Irons, but the presence of Moira complicates matters.<br>
    <strong>Theme</strong>: Tyranny and politics.<br>
    <strong>Foes</strong>: Emperor Dagran Thaurissan and his royal guard.</p>

    <h4>Why Blackrock Depths Matters</h4>

    <p>BRD is not just a dungeon; it\u2019s a <strong>capital city, a prison, a forge, a temple, and a throne room</strong>. It represents the culmination of the Dark Irons\u2019 history: their greed, their servitude to Ragnaros, and their defiance of their Bronzebeard kin. To strike here is to wound the Firelord\u2019s influence directly.</p>

    <p>For adventurers, BRD is the crucible of endgame Classic WoW \u2014 a sprawling, living dungeon where every corner tells a story, and every chamber deepens the tragedy of a people who sold their souls to flame.</p>`,"Lower Blackrock Spire":`<h4>Lower Blackrock Spire (LBRS) \u2013 The Shadow of Rend</h4>

    <p>The <strong>Lower Spire</strong> serves as the staging ground for the <strong>Blackrock clan</strong> and their allies. It is a fortress of orc warbands, trolls who revel in blood sacrifice, and ogres drawn by promises of power. Here, Rend Blackhand\u2019s forces prepare for war, seeking to claim dominance over the fractured orc clans and reestablish the Blackrock name in glory.</p>

    <p>Yet LBRS is more than a war camp\u2014it is also home to vile sorcery. Dark shamanistic rites, shadowcasters, and the machinations of the Dark Irons fuel the orc army. The halls resound with the snarls of <strong>worgs</strong>, the chants of <strong>shadow hunters</strong>, and the clash of steel as Rend\u2019s champions prove themselves in endless combat.</p>

    <p><strong>Theme</strong>: Brutal orcish war camp in the ruins of dwarven halls, strengthened by dark magic and beast allies.<br>
    <strong>Key foes</strong>: Blackrock orcs, trolls, ogres, worgs, shadowcasters.<br>
    <strong>Final confrontation:</strong> Warchief Rend Blackhand\u2019s lieutenants, preparing the way for their master above.</p>`,"Blackrock Spire Conclusion":`<h4>The Split of Blackrock Spire</h4>
    <ul>
    <li><strong>LBRS (Lower)</strong>: Orcish savagery, trolls and ogres, dark rites and beastmasters\u2014a war camp forged from dwarven ruins.</li>

    <li><strong>UBRS (Upper)</strong>: The black dragonflight\u2019s fortress, Rend Blackhand\u2019s throne, and the staging ground for Nefarian\u2019s corruption.</li>
    </ul>

    <p>Together, the two wings represent the <strong>Dark Horde\u2013Black Dragon pact</strong>, a dangerous coalition that threatens both factions of Azeroth.</p>`,"Dire Maul":`<h4>The Legacy of Dire Maul</h4>

    <p>Deep in the heart of northern Feralas lie the ancient ruins of <strong>Eldre\u2019Thalas</strong>, once the shining jewel of night elven civilization. Raised more than 10,000 years ago by the Highborne, it stood as a vast city dedicated to arcane mastery and preservation of elven lore. At its heart was an immense library and a powerful energy nexus, built to harness and safeguard magical knowledge for generations.</p>

    <p>When the <strong>War of the Ancients</strong> shattered the Well of Eternity, the Highborne of Eldre\u2019Thalas cut themselves off from the rest of their kin. Under Prince <strong>Tortheldrin</strong>, they sought to survive the Long Vigil by siphoning magic from a captured demon. This act ensured their survival but twisted their fate. Over millennia, the city fell to ruin, its noble guardians fading into corruption, its wards failing, and its sprawling districts becoming overrun by ogres, satyrs, demons, and magical anomalies.</p>

    <p>Adventurers who brave Dire Maul do not merely enter another dungeon; they step into the fractured remains of a once-glorious empire, where faded grandeur and lingering arrogance echo in every crumbling hall.</p>`,"Dire Maul West":`<h4>Dire Maul West \u2013 The Ruined Court</h4>

    <p>The western wing is the most direct remnant of Highborne hubris. Here the halls are haunted by warped guardians and bound demons. Ancient constructs patrol shattered courtyards, and the corrupted treants of Feralas have claimed sections of the once-pristine gardens. The imprisoned demon <strong>Immol\u2019thar</strong> lies at the heart of this wing, contained by magical pylons for millennia. Prince Tortheldrin himself, bitter and prideful, oversees the prison, siphoning energy from the demon to sustain himself and his followers. To free the city from its cursed heart, heroes must dismantle the pylons and confront both the demon and the mad prince.</p>

    <p><strong>Theme</strong>: Faded arcane splendor, hubris of the Highborne, demonic corruption.<br>
    <strong>Key foes</strong>: Arcane aberrations, ancient constructs, Prince Tortheldrin.</p>`,"Dire Maul North":`<h4>Dire Maul North \u2013 Gordok Commons</h4>

    <p>The northern quarter has been overrun by the brutish <strong>Gordok ogres</strong>, who seized the ruins as their stronghold. Here, massive banquet halls, courtyards, and crumbling barracks echo with the roars of ogre lords and their enslaved minions. The ogres jealously guard their new seat of power, and their king\u2014<strong>King Gordok</strong>\u2014rules with brute strength.</p>

    <p><strong>Theme</strong>: Savage strength in the halls of ancient ruins, ogre dominance.<br>
    <strong>Key foes</strong>: Gordok ogres, shamans, warlocks, beastmasters.</p>`,"Dire Maul East":`<h4>Dire Maul East \u2013 Warpwood Quarter</h4>

    <p>The eastern wing has become overgrown and wild, reclaimed by nature but twisted by unchecked magic. Massive treants, lashers, and corrupted dryads stalk the halls, led astray by satyrs who spread the taint of demonic influence. At its heart, a powerful satyr named <strong>Alzzin the Wildshaper</strong> channels the energies of the ruins to spread chaos through Feralas. The once-cultivated gardens have become a jungle of corruption, where ancient wards collapse under creeping vines and demonic whispers.</p>

    <p><strong>Theme</strong>: Arcane gardens overtaken by corrupted nature, satyr mischief.<br>
    <strong>Key foes</strong>: Lashers, satyrs, warped dryads, Alzzin the Wildshaper.</p>`,"Dire Maul Tribute":`<h4>The Gordok Tribute Run</h4>

    <p>Among adventurers, the Dire Maul North wing is infamous for the so-called <strong>\u201CTribute Run.\u201D</strong> Rather than cutting down every ogre in their path, cunning groups spare most of the chieftains and instead slay only <strong>King Gordok</strong> himself. By leaving his lieutenants alive, the victors claim the throne not as conquerors, but as successors. The ogres, bound by their crude sense of honor, shower the \u201Cnew king\u201D and his allies with riches, feasts, and rare treasures. The Tribute Run is less a test of brute strength than of restraint, planning, and guile\u2014an alternate path through Dire Maul\u2019s dangers that rewards wit as much as steel.</p>

    <p><strong>Theme</strong>: Political cunning, manipulation of ogre hierarchy.
    <strong>Key foes</strong>: King Gordok (only), with tribute rewards from spared bosses.</p>`,"Dire Maul Conclusion":"<p>Together, the three wings of Dire Maul and the alternate Tribute challenge paint a picture of one of World of Warcraft\u2019s richest dungeons: a place of <strong>ancient pride, magical corruption, and opportunistic invaders</strong>, where history itself weighs heavy on every broken column.</p>",Scholomance:`<h4>The Legacy of Scholomance</h4>

    <p>High in the wintry crags of <strong>Western Plaguelands</strong>, overlooking the ruins of Caer Darrow, stands a darkened keep that once belonged to the noble <strong>Barov family</strong>. Generations ago, the Barovs were a wealthy bloodline, owning vast tracts of land across Lordaeron. But their ambition was their undoing. When <strong>Kel\u2019Thuzad</strong> and the Cult of the Damned rose to power, the Barovs pledged themselves\u2014and their ancestral home\u2014to the service of the Lich King in exchange for the promise of eternal life.</p>

    <p>Thus, the once-proud halls of the Barovs became the necromantic academy of the Scourge, known thereafter as <strong>Scholomance</strong>. Here, Kel\u2019Thuzad\u2019s followers train new necromancers, warlocks, and deathknights, perfecting the arts of undeath. The laboratories run red with experiments in reanimation, while classrooms echo with the twisted lessons of dark magisters. Adventurers who enter Scholomance confront not just undead horrors, but the heart of the Cult of the Damned itself.</p>

    <h4>Scholomance \u2013 The Necromantic Academy</h4>

    <p>Scholomance is not a fortress of brute strength\u2014it is a school of damnation. Every chamber reveals another facet of Scourge depravity:</p>
    <ul>
    <li><strong>The Reliquary</strong>: Arcane laboratories filled with necrotic experiments, where alchemists brew plagues and dark mages twist souls.</li>

    <li><strong>The Summoning Chambers</strong>: Circles of binding and sacrifice, where warlocks summon demonic allies to bolster the Scourge.</li>

    <li><strong>The Hall of the Barovs</strong>: The corrupted remains of the Barov family themselves, turned into deathless servants of their own bargain.</li>

    <li><strong>The Headmaster\u2019s Study</strong>: Seat of <strong>Darkmaster Gandling</strong>, Kel\u2019Thuzad\u2019s favored servant in Lordaeron, who oversees the training of necromancers with cruel mastery.</li>
    </ul>
    <p><strong>Theme</strong>: Corruption of noble blood, forbidden knowledge, the cold hand of undeath.
    <strong>Key foes</strong>: Necromancers, bone golems, ghasts, death knights, Darkmaster Gandling.</p>

    <h4>Why Scholomance Matters</h4>

    <p>Scholomance is more than another Scourge dungeon\u2014it is the <strong>nerve center of their necromantic war machine in Lordaeron</strong>. From here, the Cult of the Damned disseminates its teachings, creating new generations of necromancers to fuel the Scourge\u2019s endless armies. To cut down Gandling and his pupils is not only vengeance for the Barovs\u2019 betrayal, but also a crippling blow against the Scourge\u2019s presence in the Plaguelands.</p>`,Stratholme:`<h4>The Legacy of Stratholme</h4>

    <p>Once a shining jewel of Lordaeron, <strong>Stratholme</strong> was a bustling trade hub and one of the largest human cities in the north. Its spires and marketplaces echoed with prosperity\u2014until the <strong>Scourge</strong> came.</p>

    <p>During the <strong>Third War</strong>, Prince <strong>Arthas Menethil</strong> discovered that the citizens of Stratholme had been fed grain tainted with the plague of undeath. In a moment that forever scarred his soul, Arthas ordered the <strong>Culling of Stratholme</strong>, personally leading the slaughter of its infected populace before they could rise as undead. This act, though intended to save his kingdom, marked his descent into ruthlessness and ultimately paved the way for his fall to Frostmourne.</p>

    <p>Now, Stratholme is a city divided. The western quarter, known as the <strong>Scarlet Bastion</strong>, is held by the fanatical <strong>Scarlet Crusade</strong>, who seek to purge undead at all costs\u2014but whose zeal has made them nearly as dangerous as the Scourge they fight. The eastern quarter is a ruined nightmare, crawling with <strong>undead horrors</strong> under the command of <strong>Baron Rivendare</strong>, who has turned the plague-stricken streets into his domain. To enter Stratholme is to walk into a living scar of Lordaeron\u2019s tragedy.</p>`,"Live Stratholme":`<h4>Stratholme \u2013 Scarlet Bastion (Live Side)</h4>

    <p>The so-called \u201Clive side\u201D is far from safe\u2014it is held by the zealous warriors and priests of the <strong>Scarlet Crusade</strong>. From the moment adventurers pass through the gates, they face patrols of Scarlet soldiers, crusaders, and spellcasters, all bent on purging anyone they consider heretical or infected.</p>

    <p>The <strong>Crusade\u2019s leadership in Stratholme</strong>\u2014commanders such as <strong>Cannon Master Willey</strong> and <strong>Balnazzar</strong> in disguise\u2014have turned the Bastion into a fortress of fanaticism. Though they once sought to hold back the undead tide, their madness and corruption have led them into dark pacts, leaving them blind to the true evil within their own ranks.</p>

    <p><strong>Theme</strong>: Fanatic zeal, human-on-human conflict, corrupted holy order.
    <strong>Key foes</strong>: Scarlet Crusade zealots, spellcasters, Balnazzar (a dreadlord in disguise).</p>`,"Undead Stratholme":`<h4>Stratholme \u2013 Plague Quarter (Undead Side)</h4>

    <p>The eastern half of Stratholme is a necropolis in all but name. Cobblestone streets are littered with corpses, plagued vermin scurry through the alleys, and skeletal horrors patrol under the shadow of burning towers. This wing is ruled by <strong>Baron Rivendare</strong>, the Scourge\u2019s horseman, who rides his dread steed Deathcharger through the city\u2019s blackened avenues.</p>

    <p>The undead side is crawling with abominations, banshees, gargoyles, and necromancers\u2014all remnants of Arthas\u2019 purge and later waves of Scourge corruption. Here, the tragedy of Stratholme is most vivid: homes turned into crypts, holy places into unholy shrines, the cries of the innocent replaced with the wails of the damned.</p>

    <p><strong>Theme</strong>: Undeath and despair, Scourge dominion.
    <strong>Key foes</strong>: Plague abominations, banshees, Baron Rivendare (and his Deathcharger).</p>`,"Stratholme Conclusion":`<h4>The Split of Stratholme \u2013 Live vs. Undead</h4>

    <p>Unlike many dungeons, Stratholme represents <strong>two conflicting but equally dangerous forces:</strong></p>
    <ul>
    <li>On the <strong>Scarlet Bastion side</strong>, mortals consumed by zeal and paranoia kill with fire and scripture, but are themselves manipulated by a dreadlord\u2019s shadow.</li>

    <li>On the <strong>Plague Quarter side</strong>, the Scourge marches unopposed, feeding on the corpses left behind by Arthas\u2019 infamous purge.</li>
    </ul>

    <p>Adventurers often explore both sides in separate forays, each a chapter of Lordaeron\u2019s tragic fall.</p>`,"Blackrock Spire":`<h4>The Legacy of Blackrock Spire</h4>

    <p>Carved into the fiery heart of <strong>Blackrock Mountain</strong>, Blackrock Spire was once a stronghold of the <strong>Dark Iron dwarves</strong>, who sought dominion over their kin. But the mountain\u2019s molten depths became a battlefield of greater powers. When the black dragonflight, led by <strong>Nefarian</strong>, son of Deathwing, sought a base of operations, they found willing allies among the Dark Irons and the remnants of the Blackrock orcs who had once served under <strong>Warchief Rend Blackhand.</strong></p>

    <p>Thus, the vast spire was split into layers of dominion: the <strong>Lower Spire</strong>, where orcs, trolls, ogres, and worgs marshaled their strength, and the <strong>Upper Spire</strong>, where Nefarian\u2019s black dragons and Rend\u2019s warband plotted to challenge both Horde and Alliance alike. To enter Blackrock Spire is to enter a cauldron of treachery, where fire, steel, and dragonflame rule.</p>`,"Upper Blackrock Spire":`<h4>Upper Blackrock Spire (UBRS) \u2013 Nefarian\u2019s Fortress</h4>

    <p>Atop the Spire lies the lair of <strong>General Drakkisath</strong> and the black dragonflight. Here, the alliance between <strong>Nefarian</strong> and <strong>Warchief Rend Blackhand</strong> is sealed in blood and fire. The Upper Spire is a crucible of draconic power: black dragonkin stalk the halls, flame wreathed corridors test intruders, and the banners of Rend\u2019s Dark Horde hang from the vaulted ceilings.</p>

    <p>This is no mere fortress\u2014it is <strong>Nefarian\u2019s war machine</strong>, a staging ground for his twisted experiments in draconic corruption and a seat of power for the black dragonflight. Adventurers who dare UBRS must overcome Rend\u2019s warlords, face legions of orcs and dragonkin, and ultimately confront <strong>General Drakkisath</strong>, whose mastery of flame and steel guards the way into Nefarian\u2019s true domain: Blackwing Lair.</p>

    <p><strong>Theme</strong>: Black dragonflight dominion, dark orcish power, looming threat of Nefarian.
    <strong>Key foes</strong>: Black dragonkin, Dark Horde champions, General Drakkisath.
    <strong>Final confrontation</strong>: Paves the way directly into <strong>Blackwing Lair</strong>, the next tier of the black dragonflight\u2019s schemes.</p>`},this.renderer=r.get(Rt)}ngOnInit(){window.CONTENT_PATH="/assets/modelviewer/classic/";let r=localStorage.getItem("players");if(this.guildWeek=parseInt(localStorage.getItem("guildWeek")||"1",10),r)try{this.players=JSON.parse(r),console.log("Loaded players from localStorage:",this.players),this.initPlayerDungeons(),this.loadAdditionalData()}catch(c){console.error("Error parsing saved players from localStorage:",c),this.loadFromCsv()}else this.loadFromCsv();let i=localStorage.getItem("dungeonAssignment");i?this.dungeonAssignments=JSON.parse(i):this.clearAssignments();let o=localStorage.getItem("dungeonProgress");o?this.dungeonProgress=JSON.parse(o):this.dungeonProgress={week:this.guildWeek,attempts:0};let s=localStorage.getItem("guildBank");s?this.guildBank=JSON.parse(s):this.guildBank={gold:0,fieryCores:0,lavaCores:0};let l=localStorage.getItem("showHelpButton");l!==null&&l.toLowerCase()==="false"&&(this.showHelpButton=!1);let a=localStorage.getItem("useCompactTooltips");a!==null&&a.toLowerCase()==="true"&&(this.useCompactTooltips=!0),this.useCompactTooltips&&document.body.classList.add("compact-tooltip"),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(c=>{c.type==="VERSION_READY"&&(console.log("New version available:",c),confirm("A new version is available. Reload now?")&&window.location.reload())}),window.addEventListener("beforeinstallprompt",c=>{c.preventDefault(),this.installPromptEvent=c,this.showInstall=!0,console.log("PWA install prompt available")}),this.isInstalled=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),window.addEventListener("beforeinstallprompt",c=>{c.preventDefault(),this.installPromptEvent=c,this.showInstallButton()}),window.addEventListener("appinstalled",c=>{console.log("The app was installed"),this.isInstalled=!0})}ngOnDestroy(){this.destroyModelViewer(),this.stopRandomizing()}promptInstall(){this.installPromptEvent&&(this.installPromptEvent.prompt(),this.installPromptEvent.userChoice.then(r=>{r.outcome==="accepted"?(console.log("User accepted the install prompt"),this.showInstall=!1):console.log("User dismissed the install prompt"),this.installPromptEvent=null}))}onIOS(){let r=window.navigator;return"standalone"in r&&!r.standalone}forceUpdate(){this.updateAvailable?this.swUpdate.activateUpdate().then(()=>document.location.reload()):window.location.reload(!0)}showInstallButton(){this.showInstall=!0}hideInstallButton(){this.showInstall=!1}initPlayerDungeons(){this.players.forEach((r,i)=>{r.DUNGEON_EXP===void 0&&(r.DUNGEON_EXP=""),r.LAST_FARM_WEEK===void 0&&(r.LAST_FARM_WEEK=0),this.players[i]=S({},r)})}loadFromCsv(){this.http.get("assets/players.csv",{responseType:"text"}).subscribe({next:r=>{this.players=this.parseCsv(r,["RACE","GENDER","SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE","GROUP","POSITION","CLASSID","SPEC"]),this.players.forEach((i,o)=>{let s=this.customizationData.find(l=>l.RACEID===+i.RACE&&l.GENDER===+i.GENDER);if(s){let l=s.options;i.SKIN=Math.floor(Math.random()*l.SKIN),i.FACE=Math.floor(Math.random()*l.FACE),i.HAIRSTYLE=Math.floor(Math.random()*l.HAIRSTYLE),i.HAIRCOLOR=Math.floor(Math.random()*l.HAIRCOLOR),i.FACIALSTYLE=Math.floor(Math.random()*l.FACIALSTYLE),this.players[o]=S({},i)}}),console.log("Randomized players:",this.players),this.initPlayerDungeons(),this.savePlayersToStorage(),this.loadAdditionalData()},error:r=>console.error("Failed to load players.csv:",r)})}loadAdditionalData(){this.http.get("assets/items.csv",{responseType:"text"}).pipe(Pe(r=>{this.parseItems(r),this.statsService.setItemsMap(this.itemsMap)}),Ee(()=>this.http.get("assets/spells.csv",{responseType:"text"})),Pe(r=>{this.spells=this.parseCsv(r,["CLASSID","SPELLID","RACEID"])}),Ee(()=>this.http.get("assets/talents.csv",{responseType:"text"})),Pe(r=>{this.talents=this.parseCsv(r,["CLASSID","SPELLID","SPEC_0","SPEC_1","SPEC_2"]),this.buildGrid()}),Ee(()=>this.http.get("assets/dungeon_bosses.csv",{responseType:"text"})),Pe(r=>{this.dungeonBosses=this.parseCsv(r,["NPC_ID","LEVEL","ORDER","LOOT","SPAWN"]),this.uniqueDungeons=[...new Set(this.dungeonBosses.map(i=>i.DUNGEON))]}),Ee(()=>this.http.get("assets/dungeon_unlock.csv",{responseType:"text"})),Pe(r=>{this.dungeonUnlocks=this.parseCsv(r,["NPC_ID"])}),Ee(()=>this.http.get("assets/dungeon_drops.csv",{responseType:"text"})),Pe(r=>{this.dungeonDrops=this.parseCsv(r,["NPC_ID","DB_ID","LEVEL","DROP_PCT","VALUE"])}),Ee(()=>this.http.get("assets/dungeon_quests.csv",{responseType:"text"})),Pe(r=>{this.dungeonQuests=this.parseCsv(r,["NPC_ID","ITEM_0","ITEM_1","ITEM_2","ITEM_3","ITEM_4","ITEM_5"])}),Ee(()=>this.http.get("assets/stat_weights.csv",{responseType:"text"})),Pe(r=>{this.statWeights=this.parseCsv(r,["CLASSID","SPEC","2H_SPEED","R_DPS","MH_DPS","OH_DPS","SKILL","ARMOR","STAMINA","STRENGTH","AGILITY","INTELLIGENCE","SPIRIT","MP5","ATTACK_POWER","R_ATTACK_POWER","SPELL_DAMAGE","SPELL_HEAL","HIT_PCT","CRIT_PCT","SPELL_HIT","SPELL_CRIT","DEFENSE","DODGE_PCT","PARRY_PCT","BLOCK_PCT","BLOCK_VALUE","RESIST_FIRE","SPELL_FIRE","SPELL_SHADOW","SPELL_FROST"])})).subscribe({error:r=>console.error("Failed to load CSV:",r)})}savePlayersToStorage(){try{localStorage.setItem("players",JSON.stringify(this.players))}catch(r){console.error("Error saving players to localStorage:",r)}}saveBankToStoarge(){try{localStorage.setItem("guildBank",JSON.stringify(this.guildBank))}catch(r){console.error("Error saving guild bank to localStorage:",r)}}saveAssignmentsToStorage(){try{localStorage.setItem("dungeonAssignment",JSON.stringify(this.dungeonAssignments))}catch(r){console.error("Error saving dungeon assignments to localStorage:",r)}}updateDungeonProgress(r=!0){r?this.dungeonProgress&&this.dungeonProgress.attempts++:this.dungeonProgress={week:this.guildWeek,attempts:0};try{localStorage.setItem("dungeonProgress",JSON.stringify(this.dungeonProgress))}catch(i){console.error("Error saving dungeonProgress to localStorage:",i)}}parseCsv(r,i){try{return(0,uw.parse)(r,{header:!0,skipEmptyLines:!0,transformHeader:s=>s.trim().replace(/^"|"$/g,""),transform:s=>s.trim()}).data.map((s,l)=>(i.forEach(a=>{(!s[a]||isNaN(+s[a]))&&(s[a]="0")}),s.TOOLTIP&&(s.TOOLTIP=this.cleanTooltip(s.TOOLTIP)),s))}catch(o){return console.error("Error parsing CSV:",o),[]}}parseItems(r){try{this.parseCsv(r,["DB_ID","DISP_ID","EQ_TYPE","CLASS_MASK","FIERY_CORE","LAVA_CORE"]).forEach((o,s)=>{!o.DB_ID||isNaN(+o.DB_ID)||!o.DISP_ID||isNaN(+o.DISP_ID)||!o.EQ_TYPE||isNaN(+o.EQ_TYPE)||this.itemsMap.set(+o.DB_ID,{disp_id:+o.DISP_ID,eq_type:+o.EQ_TYPE,sub_type:o.TYPE||`Item ${o.DB_ID}`,icon_name:o.ICON_NAME||`Item ${o.DB_ID}`,name:o.NAME||`Item ${o.DB_ID}`,tooltip:o.TOOLTIP,class_mask:o.CLASS_MASK,source:o.SOURCE,item_quality:o.ITEM_QUALITY,item_level:o.ITEM_LEVEL,bis:o.BIS,role:o.ROLE,fiery_core:o.FIERY_CORE,lava_core:o.LAVA_CORE,set_id:o.SET,min_damage:o.MIN_DAMAGE,max_damage:o.MAX_DAMAGE,speed:o.SPEED,armor:o.ARMOR,block_value:o.BLOCK_VALUE,stamina:o.STAMINA,strength:o.STRENGTH,agility:o.AGILITY,intelligence:o.INTELLIGENCE,spirit:o.SPIRIT,mp5:o.MP5,hp5:o.HP5,attack_power:o.ATTACK_POWER,attack_power_ranged:o.R_ATTACK_POWER,spell_damage:o.SPELL_DAMAGE,spell_heal:o.SPELL_HEAL,spell_frost:o.SPELL_FROST,spell_shadow:o.SPELL_SHADOW,spell_fire:o.SPELL_FIRE,spell_nature:o.SPELL_NATURE,hit_pct:o.HIT_PCT,crit_pct:o.CRIT_PCT,hit_pct_spell:o.SPELL_HIT,crit_pct_spell:o.SPELL_CRIT,parry_pct:o.PARRY_PCT,dodge_pct:o.DODGE_PCT,block_rate:o.BLOCK_PCT,defense:o.DEFENSE,resist_fire:o.RESIST_FIRE,resist_shadow:o.RESIST_SHADOW,resist_nature:o.RESIST_NATURE,resist_frost:o.RESIST_FROST,resist_arcane:o.RESIST_ARCANE,skill_dagger:o.SKILL_DAGGER,skill_sword:o.SKILL_SWORD||""})})}catch(i){console.error("Error parsing items.csv:",i)}}setMenuLevel(r){this.menuSelected=r,r==="home"?this.stopAllVideos():(r==="dungeon"||r==="raidConfig")&&this.calcAllGearScores()}toggleHelpOverlay(){this.showHelpOverlay=!this.showHelpOverlay}toggleHelpButton(){this.showHelpButton=!this.showHelpButton,localStorage.setItem("showHelpButton",`${this.showHelpButton}`)}toggleCompactTooltips(){this.useCompactTooltips=!this.useCompactTooltips,localStorage.setItem("useCompactTooltips",`${this.useCompactTooltips}`),this.useCompactTooltips?document.body.classList.add("compact-tooltip"):document.body.classList.remove("compact-tooltip")}getHelpContent(){switch(this.menuSelected){case"home":return`
          <h2>Welcome to MC Raiders</h2>
          <p>This is the main menu. Select an option to get started:</p>
          <ul>
            <li><strong>MC Raiders</strong>: Watch the iconic video by MyndFlame.</li>
            <li><strong>TGIF</strong>: View guild achievements and quotes.</li>
            <li><strong>Molten Core</strong>: Access the Molten Core raid (coming soon).</li>
            <li><strong>Dungeons</strong>: Assign players to dungeons to earn loot, gold and unlock more content.</li>
            <li><strong>Raid Setup</strong>: Configure raid groups and optimize gear, spec, and rotations.</li>
            <li><strong>Settings</strong>: Adjust preferences or reset progress.</li>
          </ul>
        `;case"mcr":return`
          <h2>MCR Raiders</h2>
          <p>Enjoy the music video by MyndFlame from Illegal Danish.</p>
          <p>Goal: Help the TGIF guild gear up and progress through Molten Core. Stay tuned for the raid simulation feature!</p>
        `;case"tgif":return`
          <h2>TGIF Guild</h2>
          <p>Explore the guild's history with images and memorable quotes from members.</p>
          <p>Click the return button to go back to the main menu.</p>
        `;case"mc":return`
          <h2>Molten Core</h2>
          <p>This feature is coming soon! It will allow you to simulate raids in Molten Core.</p>
        `;case"dungeon":return`
          <h2>Dungeon Assignments</h2>
          <p>Assign players to dungeon groups:</p>
          <ul>
            <li>Select a dungeon from the dropdown.</li>
            <li>Click player slots to assign or swap players.</li>
            <li>Click Run Dungeons to earn loot, gold, and unlock more content.</li>
            <ul>
              <li>Dungeon progress depends on party gear, spec, and composition relative to boss levels in the dungeon.</li>
              <li>Up to 10 dungeons can be run per week (using any mix of players).</li>
              <li>Click on composition penalty for more details of what class/spec required for best odds of success.</li>
              <li>Click on completion/abandon message to view detailed results per boss.</li>
            </ul>
            <li>Clear Players will clear all dungeon assignments.
            <li>Click Next Week after consuming all dungeon attempts and after attempting Molten Core (once added).
            <li>Check the Dungeon Info for background lore on each dungeon.</li>
            <li>Unlocks shows progress per player at unlocking higher-level content.</li>
          </ul>
        `;case"raidConfig":if(this.currentPlayer){let r=`
            <h3>Main Tabs (Bottom Row)</h3>
            <ul>
              <li>
                <img src="/assets/icons/inv_chest_chain.jpg" alt="Gear Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                <strong>Gear</strong>: View and equip items, customize appearance, or purchase crafted gear.
              </li>
              <li>
                <img src="/assets/icons/inv_misc_note_01.jpg" alt="Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                <strong>Stats</strong>: Check base or buffed stats, including combat and resistance details.
              </li>
              <li>
                <img src="/assets/icons/inv_misc_book_11.jpg" alt="Spells Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                <strong>Spells</strong>: View class-specific spells or racial abilities.
              </li>
              <li>
                <img src="/assets/icons/inv_7xp_inscription_talenttome02.jpg" alt="Spec Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                <strong>Spec</strong>: Explore talent builds and specializations.
              </li>
              <li>
                <img src="/assets/icons/trade_engineering.jpg" alt="Gambits Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                <strong>Gambits</strong>: Configure custom strategies or abilities (details coming soon).
              </li>
              <li>
                <img src="/assets/icons/achievement_bg_returnxflags_def_wsg.jpg" alt="Back Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                <strong>Back</strong>: Return to the raid group grid.
              </li>
            </ul>
          `,i="";return this.selectedTab==="spec"?i=`
            <h3>Spec Sub-Tabs (Row Above)</h3>            
              <p>Current Spec Tab: ${this.getTalentName()}</p>
              <ul>
                ${this.talentBuilds.map(o=>`
                  <li>
                    <img src="/assets/icons/${this.getTalentIcon(+o)}.jpg" alt="Talent Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                    <strong>${this.talentInfo[this.currentPlayer.CLASSID]?.[+o].name}</strong>: ${this.selectedSpecTab===o?"View and edit talents for this specialization.":"Switch to this specialization to view talents."}
                  </li>
                `).join("")}
              </ul>
            `:this.selectedTab==="gear"?i=`
              <p>Current Gear Sub-Tab: ${this.selectedGearSubTab}</p>
              <ul>
                <li>
                  <img src="/assets/icons/inv_misc_bag_08.jpg" alt="Equipment Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Equipment</strong>: View and swap equipped items from inventory.
                </li>
                <li>
                  <img src="/assets/icons/vas_racechange.jpg" alt="Customization Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Customization</strong>: Adjust race, gender, and appearance (skin, face, hair, etc.).
                </li>
                <li>
                  <img src="/assets/icons/inv_misc_coin_02.jpg" alt="Crafted Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Crafted</strong>: Purchase crafted items using guild bank resources.
                </li>
                <li>
                  <img src="/assets/icons/spell_nature_astralrecalgroup.jpg" alt="Dungeon Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Dungeon</strong>: View items obtained from dungeon runs.
                </li>
                <li>
                  <img src="/assets/icons/achievement_boss_ragnaros.jpg" alt="MC Quest Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>MC Quest</strong>: View items from Molten Core quests.
                </li>
              </ul>
            `:this.selectedTab==="spells"?i=`
              <h3>Spells Sub-Tabs (Row Above)</h3>
              <p>Current Spell Tab: ${this.selectedSpellTab==="class"?this.getClassName(this.currentPlayer.CLASSID)+" Spells":this.getRaceName(this.currentPlayer.RACE)+" Skills"}</p>
              <ul>
                <li>
                  <img src="/assets/icons/class_${this.getClassName(this.currentPlayer.CLASSID).toLowerCase()}.jpg" alt="Class Spells Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Class Spells</strong>: ${this.selectedSpellTab==="class"?"View available class-specific spells.":"Switch to view class-specific spells."}
                </li>
                <li>
                  <img src="/assets/icons/achievement_character_${this.getRaceName(this.currentPlayer.RACE).toLowerCase()}_${this.currentPlayer.GENDER==0?"male":"female"}.jpg" alt="Racial Skills Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Racial Skills</strong>: ${this.selectedSpellTab==="racial"?"View racial abilities.":"Switch to view racial abilities."}
                </li>
              </ul>
            `:this.selectedTab==="stats"?i=`
              <h3>Stats Sub-Tabs (Row Above)</h3>
              <p>Current Stats Sub-Tab: ${this.selectedStatsSubTab==="base"?"Base Stats":"Buffed Stats"}</p>
              <ul>
                <li>
                  <img src="/assets/icons/spell_holy_blessingofstrength.jpg" alt="Base Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Base Stats</strong>: ${this.selectedStatsSubTab==="base"?"View unbuffed character stats.":"Switch to view unbuffed character stats."}
                </li>
                <li>
                  <img src="/assets/icons/spell_nature_strength.jpg" alt="Buffed Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
                  <strong>Buffed Stats</strong>: ${this.selectedStatsSubTab==="buffed"?"View stats with active buffs applied.":"Switch to view stats with active buffs."}
                </li>
              </ul>
            `:this.selectedTab==="gambits"&&(i=`
              <h3>Gambits Sub-Tabs (Row Above)</h3>
              <p>No sub-tabs available for Gambits.</p>
              <p>Configure custom strategies or abilities for ${this.currentPlayer.NAME}. (Details coming soon.)</p>
            `),`
            <h2>Player Configuration: ${this.currentPlayer.NAME}</h2>
            <p>Customize and view details for the selected player.</p>
            ${r}
            ${i}
          `}else return`
            <h2>Raid Setup</h2>
            <p>Manage your raid group:</p>
            <ul>
              <li>Click a player to view or edit their details (gear, stats, spells, talents).</li>
              <li>Use Swap Mode to rearrange players in the grid.</li>
              <li>Optimize Gear to automatically equip the best items for selected players.</li>
            </ul>
          `;case"settings":return`
          <h2>Settings</h2>
          <p>Customize your experience:</p>
          <ul>
            <li><strong>Profanity Filter</strong>: Toggle to filter explicit content in videos.</li>
            <li><strong>Reset Progress</strong>: Hold to reset gear, dungeon and raid progress.</li>
            <li><strong>Reset Storage</strong>: Hold to clear all saved data.</li>
            <li><strong>Show Help Button</strong>: Toggle the help button visibility.</li>
          </ul>
        `;default:return"<p>Help information is not available for this section.</p>"}}stopAllVideos(){document.querySelectorAll("video").forEach(i=>{i.pause(),i.currentTime=0})}cleanTooltip(r){if(!r)return"";let i=r;return i=i.replace(/<!--.*?-->/gs,""),i=i.replace(/<a[^>]*>(.*?)<\/a>/gi,"$1"),i=i.replace(/Durability \d+ \/ \d+/gi,""),i=i.replace(/Requires Level \d+/gi,""),i=i.replace(/Binds when picked up/gi,""),i=i.replace(/\(0\/\d+\)/gi,""),i=i.replace(/<(div|span)[^>]*class="[^"]*(whtt-sellprice|wowhead-tooltip-requirements)[^"]*"[^>]*>.*?<\/\1>/gi,""),i=i.replace(/<div[^>]*class="[^"]*indent[^"]*"[^>]*>[\s\S]*?(?=<\/div>)/gi,""),i=i.replace(/<span class="q0">([\s\S]*?)<\/span>/gi,"$1"),i=i.replace(/<span>(\(\d+\)\s*Set\s*:[\s\S]*?)(?=\(\d+\)\s*Set\s*:|$)/gi,"$1"),i=i.replace(/<b[^>]*class="[^"]*"[^>]*>/gi,"<b>"),i=i.replace(/<\/a>/gi,""),i=i.replace(/\s+/g," ").trim(),i=i.replace(/(?:<br\s*\/?>\s*){2,}/gi,"<br>"),i}isBottomUpSlot(r){return[21,22,26,7,8,9].includes(r)}getItemQuality(r){if(r!==-1){let i=this.itemsMap.get(r);if(i&&i.item_quality)return+i.item_quality||0}return 2}buildGrid(){this.grid=Array.from({length:8},()=>Array(5).fill(null)),this.players.forEach((r,i)=>{let o=+r.GROUP-1,s=+r.POSITION-1;o>=0&&o<8&&s>=0&&s<5&&(this.grid[o][s]=r)})}recalculateStats(){this.cachedStats=this.statsService.calculateStats(this.selectedStatsSubTab!=="base",this.currentPlayer,this.equippedItems,this.players)}getDungeonImage(r){return r==="Blackrock Depths"?"/assets/images/Blackrock_Depths_loading_screen.jpg":["Upper Blackrock Spire","Lower Blackrock Spire"].includes(r)?"/assets/images/Blackrock_Spire_loading_screen.jpg":["Dire Maul East","Dire Maul West","Dire Maul North","Dire Maul Tribute"].includes(r)?"/assets/images/Dire_Maul_loading_screen.jpg":r==="Scholomance"?"/assets/images/Scholomance_old_loading_screen.jpg":["Live Stratholme","Undead Stratholme"].includes(r)?"/assets/images/Stratholme_loading_screen.jpg":r==="Sunken Temple"?"/assets/images/Temple_of_Atal'Hakkar_loading_screen.jpg":r==="Maraudon"?"/assets/images/Maraudon_loading_screen.jpg":"/assets/images/Molten_Core_loading_screen.jpg"}getDungeonSummary(r){return r.startsWith("Dire")?this.summaries["Dire Maul"]+(this.summaries[r]||"")+this.summaries["Dire Maul Conclusion"]:r.endsWith("Stratholme")?this.summaries.Stratholme+(this.summaries[r]||"")+this.summaries["Stratholme Conclusion"]:r.endsWith("Spire")?this.summaries["Blackrock Spire"]+(this.summaries[r]||"")+this.summaries["Blackrock Spire Conclusion"]:this.summaries[r]?this.summaries[r]:"No summary available"}getColor(r){return{0:"#FF7D0A",1:"#FFFFFF",2:"#F58CBA",3:"#69CCF0",4:"#9482C9",5:"#ABD473",6:"#FFF569",7:"#C79C6E"}[r]||"gray"}getClassName(r="7"){return{0:"Druid",1:"Priest",2:"Paladin",3:"Mage",4:"Warlock",5:"Hunter",6:"Rogue",7:"Warrior"}[r]||"warrior"}toggleCustomization(){this.showCustomization=!this.showCustomization}toggleProfanity(){this.profanityFilter=!this.profanityFilter}randomizeCustomization(){if(!this.currentPlayer||!this.availableOptions)return;["SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE"].forEach(i=>{let o=this.availableOptions[i]||0;if(o>0){let s=Math.floor(Math.random()*o);this.currentPlayer[i]=s,this.updateCustomization(i,s)}})}startRandomizing(){this.stopRandomizing(),this.randomizeTimeout=setTimeout(()=>{this.randomizeCustomization(),this.randomizeInterval=setInterval(()=>{this.randomizeCustomization()},25)},500)}stopRandomizing(){this.randomizeTimeout&&(clearTimeout(this.randomizeTimeout),this.randomizeTimeout=null),this.randomizeInterval&&(clearInterval(this.randomizeInterval),this.randomizeInterval=null)}setTab(r){this.selectedTab=r,r==="gear"&&this.currentPlayer&&setTimeout(()=>{this.modelViewer.destroy(),this.loadModel(this.currentPlayer)},0),(r==="spec"||r==="spells"||r==="stats")&&setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setSpecTab(r){if(this.selectedSpecTab=r,this.currentPlayer){let i=this.talentBuilds.indexOf(r);this.currentPlayer.SPEC=i,this.recalculateStats(),setTimeout(()=>{let o=document.querySelector(".content-area");o&&(o.scrollTop=0)},0)}}setSpellTab(r){this.selectedSpellTab=r,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setGearSubTab(r){this.selectedGearSubTab=r,this.selectedTooltip=null,this.selectedInventorySlot=null,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setStatsSubTab(r){this.selectedStatsSubTab=r,this.recalculateStats(),setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}backToGrid(){this.playerIndex!==-1&&this.players[this.playerIndex].SPEC!==this.currentPlayer.SPEC&&(this.players[this.playerIndex].SPEC=this.currentPlayer.SPEC,this.guildBank.gold>500?this.guildBank.gold-=50:this.guildBank.gold*=.9,this.saveBankToStoarge(),this.savePlayersToStorage()),this.showGrid=!0,this.currentPlayer=null,this.selectedTab="gear",this.selectedSpecTab=null,this.stopRandomizing(),this.cancelBuyItem(),this.destroyModelViewer(),this.calcAllGearScores()}addGambit(r,i){this.gambits.push({action:r,trigger:i})}drop(r){pu(this.gambits,r.previousIndex,r.currentIndex)}getRaceName(r){let i=this.customizationData.find(o=>o.RACEID===+r);return i?i.RACE.replace(" ",""):"human"}getSpells(r){return r==="class"?this.spells.filter(i=>{if(i.CLASSID!==this.currentPlayer?.CLASSID||i.RACEID!=="0")return!1;if(i.SOURCE==="Talent"){let o=this.currentPlayer?.SPEC??0,s=["SPEC_0","SPEC_1","SPEC_2"][o];return this.talents.some(l=>l.CLASSID===this.currentPlayer?.CLASSID&&l.SPELLID===i.SPELLID&&l[s]==="1")}return!0}):r==="racial"?this.spells.filter(i=>(i.CLASSID===this.currentPlayer?.CLASSID||i.CLASSID==="-1")&&i.RACEID===this.currentPlayer?.RACE):[]}getTalents(r){let i=this.talentBuilds.indexOf(r),s=["SPEC_0","SPEC_1","SPEC_2"][i];return this.talents.filter(l=>l.CLASSID===this.currentPlayer?.CLASSID&&l[s]==="1")}getTalentName(){return!this.currentPlayer||!this.currentPlayer.CLASSID||this.currentPlayer.CLASSID==null||this.selectedSpecTab==null?"":this.talentInfo[this.currentPlayer.CLASSID]?.[+this.selectedSpecTab].name??""}getTalentIcon(r){return!this.currentPlayer||!this.currentPlayer.CLASSID||this.currentPlayer.CLASSID==null?"default":this.talentInfo[this.currentPlayer.CLASSID]?.[r].icon??""}getRole(r,i){return this.talentInfo[r][i].role}getAvailableRaces(){if(!this.currentPlayer||!this.currentPlayer.CLASSID)return Array.from(new Map(this.customizationData.map(s=>[s.RACEID,s])).values());let r=this.classRaceMap[+this.currentPlayer.CLASSID]||[];return this.customizationData.filter(o=>r.includes(o.RACEID)).reduce((o,s)=>(o.some(l=>l.RACEID===s.RACEID)||o.push(s),o),[])}updateAvailableOptions(){let r=this.customizationData.find(i=>i.RACEID===+this.selectedRaceId&&i.GENDER===+this.selectedGender);this.availableOptions=r?r.options:this.customizationData[0].options}updateCustomization(r,i){this.currentPlayer&&(this.currentPlayer=ne(S({},this.currentPlayer),{[r]:i}),this.players[this.playerIndex].SKIN=this.currentPlayer.SKIN,this.players[this.playerIndex].FACE=this.currentPlayer.FACE,this.players[this.playerIndex].HAIRSTYLE=this.currentPlayer.HAIRSTYLE,this.players[this.playerIndex].HAIRCOLOR=this.currentPlayer.HAIRCOLOR,this.players[this.playerIndex].FACIALSTYLE=this.currentPlayer.FACIALSTYLE,this.modelViewer.setNewAppearance({skin:+this.currentPlayer.SKIN,face:+this.currentPlayer.FACE,hairStyle:+this.currentPlayer.HAIRSTYLE,hairColor:+this.currentPlayer.HAIRCOLOR,facialStyle:+this.currentPlayer.FACIALSTYLE}),this.savePlayersToStorage())}updateRaceGender(r,i){this.selectedRaceId=r,this.selectedGender=i,this.updateAvailableOptions(),this.currentPlayer&&(this.currentPlayer=ne(S({},this.currentPlayer),{RACE:r,GENDER:i,SKIN:0,FACE:0,HAIRSTYLE:0,HAIRCOLOR:0,FACIALSTYLE:0}),this.players[this.playerIndex].RACE=r,this.players[this.playerIndex].GENDER=i,this.modelViewer.destroy(),this.loadModel(this.currentPlayer),this.savePlayersToStorage())}getFilteredInventoryItems(r){if(!this.currentPlayer)return[];if(this.selectedGearSubTab==="equipment")return this.inventoryItems.find(s=>s.slot===r)?.dbIds.filter(s=>{let l=this.itemsMap.get(s);return l?l.eq_type===r&&![11,12,13,14,22].includes(r)||r===5&&l.eq_type===20||r===21&&[13,17,21].includes(l.eq_type)||r===22&&([14,23].includes(l.eq_type)||[13,22].includes(l.eq_type)&&[5,6,7].includes(+this.currentPlayer.CLASSID))||r===26&&l.eq_type===28||[11,12].includes(r)&&l.eq_type===11||[13,14].includes(r)&&l.eq_type===12:!1})||[];let i=1<<+this.currentPlayer.CLASSID,o=Array.from(this.itemsMap.keys()).filter(s=>{let l=this.itemsMap.get(s);if(!l||!l.class_mask||!l.source||isNaN(+l.class_mask))return!1;let a=(+l.class_mask&i)!==0,c=l.eq_type===r&&![11,12,13,14,22].includes(r)||r===5&&l.eq_type===20||r===21&&[13,17,21].includes(l.eq_type)||r===22&&([14,23].includes(l.eq_type)||[13,22].includes(l.eq_type)&&[5,6,7].includes(+this.currentPlayer.CLASSID))||r===26&&l.eq_type===28||[11,12].includes(r)&&l.eq_type===11||[13,14].includes(r)&&l.eq_type===12;return this.selectedGearSubTab==="crafted"?a&&l.source==="Crafted"&&c:this.selectedGearSubTab==="mcquest"?a&&["MC","QUEST"].includes(l.source)&&c:this.selectedGearSubTab==="dungeon"?a&&["Dungeon"].includes(l.source)&&c:!1});return o=o.sort((s,l)=>{let a=this.itemsMap.get(s),c=this.itemsMap.get(l);return c.bis!==a.bis?(c.bis??0)-(a.bis??0):(c.item_level??0)-(a.item_level??0)}).slice(0,18),o}getRange(r){return Array.from({length:r},(i,o)=>o)}isItemOwned(r){return this.inventoryItems.some(i=>i.dbIds.includes(r))||this.equippedItems.some(i=>i.dbId===r)}canAffordItem(r){let i=this.itemsMap.get(r);if(!i)return!1;let o=parseInt(i.fiery_core)||0,s=parseInt(i.lava_core)||0;return this.guildBank.fieryCores>=o&&this.guildBank.lavaCores>=s}startBuyItem(r){this.isItemOwned(r)||!this.canAffordItem(r)||(this.isBuying=!0,this.buyTimer=setTimeout(()=>{this.buyItem(r),this.isBuying=!1},2e3))}cancelBuyItem(){this.buyTimer&&(clearTimeout(this.buyTimer),this.buyTimer=null,this.isBuying=!1)}startResetAll(){this.isResettingA=!0,this.resetTimerA=setTimeout(()=>{this.resetStorage(),this.isResettingA=!1},2e3)}cancelResetAll(){this.resetTimerA&&(clearTimeout(this.resetTimerA),this.resetTimerA=null,this.isResettingA=!1)}startResetProgress(){this.isResettingP=!0,this.resetTimerP=setTimeout(()=>{this.resetProgress(),this.isResettingP=!1},2e3)}cancelResetProgress(){this.resetTimerP&&(clearTimeout(this.resetTimerP),this.resetTimerP=null,this.isResettingP=!1)}buyItem(r){let i=this.itemsMap.get(r);if(!i||this.isItemOwned(r)||!this.canAffordItem(r))return;let o=parseInt(i.fiery_core)||0,s=parseInt(i.lava_core)||0;this.guildBank.fieryCores-=o,this.guildBank.lavaCores-=s,this.saveBankToStoarge();let a={17:21,21:21,14:22,23:22,13:23,12:13,20:5}[i.eq_type]??i.eq_type;if(({23:[21,22],13:[13,14],11:[11,12]}[a]||[a]).forEach(f=>{let C=this.inventoryItems.find(m=>m.slot===f);C||(C={slot:f,dbIds:[]},this.inventoryItems.push(C)),C.dbIds.push(r)}),this.playerIndex!==-1){let f=this.players[this.playerIndex].INVENTORY?this.players[this.playerIndex].INVENTORY.split(";").map(C=>+C.trim()):[];f.push(r),this.players[this.playerIndex].INVENTORY=f.join(";"),this.savePlayersToStorage()}this.selectedTooltip=null,this.selectedInventorySlot=null}get petNames(){return this.cachedStats.pets?Object.keys(this.cachedStats.pets):[]}viewPlayer(r){this.stopRandomizing(),this.cancelBuyItem(),this.destroyModelViewer(),this.currentPlayer=S({},r),this.playerIndex=this.players.findIndex(s=>s.NAME===this.currentPlayer.NAME),this.showGrid=!1,this.selectedTab="gear";let i=parseInt(this.currentPlayer.SPEC,10);if(this.selectedRaceId=+this.currentPlayer.RACE,this.selectedGender=+this.currentPlayer.GENDER,this.updateAvailableOptions(),this.selectedSpecTab=this.talentBuilds[i]||"Build 0",this.equippedItems=[],this.inventoryItems=[],this.selectedTooltip=null,this.selectedInventorySlot=null,[1,2,3,5,6,7,8,9,10,11,12,13,14,16,21,22,26].forEach(s=>{let l=r[`SLOT_${s}`];l&&!isNaN(+l)?this.equippedItems.push({slot:s,dbId:+l}):this.equippedItems.push({slot:s,dbId:-1})}),r.INVENTORY){let s=new Map;r.INVENTORY.split(";").map(a=>+a.trim()).filter(a=>!isNaN(+a)).forEach(a=>{let c=this.itemsMap.get(a);if(c){let f={17:21,21:21,14:22,23:22,13:23,12:13,20:5}[c.eq_type]??c.eq_type;if(f!==-1){let m={23:[21,22],13:[13,14],11:[11,12]}[f]||[f];for(let b of m){let V=s.get(b)||[];V.push(a),s.set(b,V)}}}}),s.forEach((a,c)=>{this.inventoryItems.push({slot:c,dbIds:a})})}this.recalculateStats(),this.destroyModelViewer(),setTimeout(()=>{this.loadModel(r)},0)}getSlotName(r){let i=this.slotConfig.find(o=>o.slot===r);return i?i.name:`Slot ${r}`}getSlotSide(r){let i=this.slotConfig.find(o=>o.slot===r);return i?i.side:"left"}getItemIcon(r){let i=this.itemsMap.get(r);return i?`/assets/icons/${i.icon_name}.jpg`:"/assets/icons/default.jpg"}getItemTooltip(r){let i=this.itemsMap.get(r);return i?i.tooltip?i.tooltip:`Name: ${i.name||"Unknown"}
Slot: ${this.getSlotName(this.equippedItems.find(o=>o.dbId===r)?.slot||0)}
DB_ID: ${r}
DISP_ID: ${i.disp_id}
EQ_TYPE: ${i.eq_type}`:`Unknown Item (DB_ID: ${r})`}toggleItemTooltip(r,i,o=!1,s){let l=this.selectedTooltip&&this.selectedTooltip.slot===r&&this.selectedTooltip.dbId===i&&this.selectedTooltip.isInventory===o,a=this.selectedTooltip&&this.selectedTooltip.slot===r||this.selectedInventorySlot&&this.selectedInventorySlot==r;l?o&&this.selectedInventorySlot===r?(this.swapItem(r,i),this.selectedTooltip=null,this.selectedInventorySlot=null):o||(this.selectedInventorySlot?(this.selectedTooltip=null,this.selectedInventorySlot=null):(this.selectedTooltip=null,this.selectedInventorySlot=r)):a&&!o?(this.selectedTooltip=null,this.selectedInventorySlot=null):(this.selectedTooltip={slot:r,dbId:i,isInventory:o},o?this.selectedInventorySlot=r:this.selectedInventorySlot=null);let c=document.querySelector(".content-area"),u=c.getBoundingClientRect(),f=s;this.clickX=f.clientX-u.left,this.clickY=f.clientY-u.top+c.scrollTop,setTimeout(()=>{let C=document.querySelector(".tooltip");if(C){let m=C.getBoundingClientRect(),b=u.height,V=m.height,I=(b-V)/2;this.clickY!==null&&(I-=this.clickY),this.renderer.setStyle(C,"top",`${I}px`)}},0)}swapItem(r,i){if(!this.currentPlayer)return;let o=this.equippedItems.findIndex(a=>a.slot===r);if(o===-1)return;let s=r,l=i?this.itemsMap.get(i):null;try{let a=!1;if(i===null)this.equippedItems[o].dbId=-1,this.selectedGearSubTab==="equipment"&&(this.players[this.playerIndex][`SLOT_${r}`]="",a=!0),[2,11,12,13,14].includes(s)||(this.modelViewer.destroy(),this.loadModel(this.currentPlayer));else{if(this.equippedItems[o].dbId=i,this.selectedGearSubTab==="equipment"&&(this.players[this.playerIndex][`SLOT_${r}`]=i.toString(),a=!0),l&&l.eq_type===17){let c=this.equippedItems.findIndex(u=>u.slot===22);c!==-1&&this.equippedItems[c].dbId!==-1&&(this.equippedItems[c].dbId=-1,this.selectedGearSubTab==="equipment"&&(this.players[this.playerIndex].SLOT_22="",a=!0))}if(s===22){let c=this.equippedItems.findIndex(u=>u.slot===21);if(c!==-1){let u=this.itemsMap.get(this.equippedItems[c].dbId);u&&u.eq_type===17&&(this.equippedItems[c].dbId=-1,this.selectedGearSubTab==="equipment"&&(this.players[this.playerIndex].SLOT_21="",a=!0))}}a&&this.savePlayersToStorage(),![2,11,12,13,14].includes(s)&&!(r===26&&l?.eq_type===28)&&(this.modelViewer.destroy(),this.loadModel(this.currentPlayer))}}catch(a){console.error(`Error updating model viewer for slot ${r}:`,a)}this.recalculateStats(),this.selectedTooltip=null,this.selectedInventorySlot=null}loadModel(r){return Tt(this,null,function*(){if(!r)return;let i=document.getElementById("model-viewer");if(!i){console.warn("No #model-viewer element found");return}let o={race:isNaN(+r.RACE)?1:+r.RACE,gender:isNaN(+r.GENDER)?0:+r.GENDER,skin:isNaN(+r.SKIN)?0:+r.SKIN,face:isNaN(+r.FACE)?0:+r.FACE,hairStyle:isNaN(+r.HAIRSTYLE)?0:+r.HAIRSTYLE,hairColor:isNaN(+r.HAIRCOLOR)?0:+r.HAIRCOLOR,facialStyle:isNaN(+r.FACIALSTYLE)?0:+r.FACIALSTYLE,items:[]};this.equippedItems.forEach(s=>{let l=s.dbId;if(l!==-1){let a=this.itemsMap.get(l);if(a){let c=s.slot;s.slot===5&&a.eq_type===20&&(c=20),o.items.push([c,a.disp_id])}}}),+r.CLASSID!=5?o.items=o.items.filter(s=>s[0]!==26):this.equippedItems.find(l=>l.slot===26)?.dbId!==-1&&(o.items=o.items.filter(l=>l[0]!==21&&l[0]!==22));try{let s=yield RC(1,"#model-viewer",o);this.modelViewer=s,i.modelViewer=s,this.animationService.updateAnimation(s,{target:{value:"Stand"}})}catch(s){console.error("Error generating model for player:",r.NAME,s)}})}onAnimationChange(r){this.modelViewer&&this.animationService.updateAnimation(this.modelViewer,r)}toggleNameEdit(){this.isEditingName=!this.isEditingName,this.isEditingName&&(this.newPlayerName=this.currentPlayer.NAME)}savePlayerName(){if(!this.newPlayerName||this.newPlayerName.trim()===""){this.isEditingName=!1;return}if(this.players.some((i,o)=>o!==this.playerIndex&&i.NAME.toLowerCase()===this.newPlayerName.trim().toLowerCase())){console.warn("Name already exists:",this.newPlayerName),this.isEditingName=!1;return}this.players[this.playerIndex].NAME=this.newPlayerName.trim(),this.currentPlayer.NAME=this.newPlayerName.trim(),this.isEditingName=!1,this.savePlayersToStorage()}destroyModelViewer(){let r=document.getElementById("model-viewer");if(r){if(this.modelViewer&&typeof this.modelViewer.destroy=="function")try{this.modelViewer.destroy()}catch(i){console.error("Error destroying model viewer:",i)}this.modelViewer=null,r.modelViewer=null,this.renderer.setProperty(r,"innerHTML","")}}successRate(r,i){let o=r-i,s=Math.max(-8,Math.min(8,o)),l=Math.log(1e3)/8;return 1/(1+Math.exp(-l*s))}getBossKills(r,i){if(!r.DUNGEON_EXP)return 0;let o=new Map;return r.DUNGEON_EXP.split(";").forEach(s=>{if(s){let[l,a]=s.split(":"),c=parseInt(l,10),u=parseInt(a,10);!isNaN(c)&&!isNaN(u)&&o.set(c,u)}}),o.get(i)||0}isDungeonAvailableForGroup(r,i){let o=this.dungeonAssignments[r].players.flat().filter(a=>a);if(o.length===0)return!1;let s=this.dungeonUnlocks.find(a=>a.UNLOCK===i),l=s?s.NPC_ID:null;return o.every(a=>l?this.getBossKills(a,+l)>=1:!0)}isDungeonAvailable(r,i){if(!i)return!0;let o=this.dungeonUnlocks.find(l=>l.UNLOCK===i),s=o?o.NPC_ID:null;return s?this.getBossKills(r,+s)>=1:!0}nextWeek(){this.guildWeek++,localStorage.setItem("guildWeek",this.guildWeek.toString()),this.updateDungeonProgress(!1)}getCompositionPenalty(r,i){let f=this.dungeonCompositions[r];if(!f)return 0;let C=U=>{let[G,z]=U.split(":");return{role:G,className:z}},m=f.map(U=>{let G=(Array.isArray(U)?U:[U]).map(C),z=G[0].role,_=Array.from(new Set(G.map(d=>d.className)));return{alts:G,role:z,classes:_}}),b=i.map(U=>({role:this.getRole(+U.CLASSID,+U.SPEC),classId:+U.CLASSID,className:this.getClassName(U.CLASSID)})),V=0,I=new Set;m.forEach(U=>{let G=b.findIndex((z,_)=>!I.has(_)&&U.alts.some(d=>d.role===z.role&&d.className===z.className));G>=0&&(I.add(G),U.matched=!0)}),m.forEach(U=>{if(!U.matched){if(U.role==="heal"){let G=b.findIndex((_,d)=>!I.has(d)&&this.healerClasses.has(_.classId)),z=b.findIndex((_,d)=>!I.has(d)&&this.healerClasses.has(_.classId)&&_.role==="heal");z>=0?(I.add(z),U.matched=!0):G>=0?(V+=2,console.log("peanlty for wrong heal spec"),I.add(G),U.matched=!0):(V+=5,console.log("penalty for no heal class"))}else if(U.role==="tank"){console.log("reqs:",m),console.log("actual:",b),console.log("tankClasses:",Array.from(this.tankClasses));let G=b.findIndex((_,d)=>!I.has(d)&&this.tankClasses.has(_.classId)),z=b.findIndex((_,d)=>!I.has(d)&&this.tankClasses.has(_.classId)&&_.role==="tank");z>=0?(I.add(z),U.matched=!0):G>=0?(V+=3,console.log("penalty for wrong tank spec"),I.add(G),U.matched=!0):(V+=7,console.log("penalty for no tank class"))}}});let P=m.filter(U=>!U.matched&&U.role==="damage").length;P>0&&(V+=P*0,console.log("missing dps: ",P));let Y=new Map;return b.forEach(U=>Y.set(U.className,1+(Y.get(U.className)??0))),m.forEach(U=>{U.classes.some(z=>Y.has(z))||(V+=2,console.log("missing class",U))}),V}calcAllGearScores(){this.playerGearScores.clear(),this.players.forEach((r,i)=>{let o=this.statsService.getPlayerGearScore(this.players,i);this.playerGearScores.set(r.NAME,o)})}getGearScore(r){return this.playerGearScores.get(r)??0}getBossLevel(r){let i=this.dungeonBosses.find(o=>o.NAME===r);return i?i.LEVEL:null}getBossName(r){let i=this.dungeonBosses.find(o=>+o.NPC_ID===r);return i?i.NAME:null}getDungeonLevel(r){let i=this.dungeonBosses.filter(a=>a.DUNGEON===r);if(!i.length)return"(?)";let o=i.map(a=>Number(a.LEVEL)),s=Math.min(...o),l=Math.max(...o);return s===l?`(${s})`:`(${s} - ${l})`}toggleSwapMode(){this.swapMode?(this.swapMode=!1,this.firstSwapPlayer=null):this.swapMode=!0}handlePlayerClick(r){if(!this.swapMode)return this.activeSlot?this.assignPlayerToSlot(r,this.activeSlot.group,this.activeSlot.row,this.activeSlot.slot):this.viewPlayer(r);if(r.GROUP&&r.POSITION){let i={name:r.NAME,group:+r.GROUP,pos:+r.POSITION};if(console.log(i),!this.firstSwapPlayer)this.firstSwapPlayer=i;else{if(this.firstSwapPlayer.group===i.group&&this.firstSwapPlayer.pos===i.pos){this.firstSwapPlayer=null,this.swapMode=!1;return}let s=this.grid.flat().filter(l=>l&&l.GROUP!=null&&l.POSITION!=null).find(l=>+l.GROUP===this.firstSwapPlayer.group&&+l.POSITION===this.firstSwapPlayer.pos);if(!s){console.warn("No matching player found for swap"),this.firstSwapPlayer=null,this.swapMode=!1;return}if(console.log("found both players"),this.firstSwapPlayer?.name){let l=this.players.findIndex(f=>f.NAME===(this.firstSwapPlayer?.name||"")),a=this.players.findIndex(f=>f.NAME===r.NAME),c=+r.GROUP,u=+r.POSITION;this.players[a].GROUP=+s.GROUP,this.players[a].POSITION=+s.POSITION,this.players[l].GROUP=c,this.players[l].POSITION=u,this.firstSwapPlayer=null,this.swapMode=!1,this.buildGrid(),this.savePlayersToStorage()}}}}getUnlockedPlayerCount(r){return r.NPC_ID?this.players.filter(i=>this.getBossKills(i,+r.NPC_ID)>=1).length:this.players.length}getLockedPlayers(r){return r.NPC_ID?this.players.filter(i=>this.getBossKills(i,+r.NPC_ID)<1):[]}runDungeons(){this.dungeonUpgrades=[];for(let r=0;r<this.dungeonAssignments.length;r++){let i=this.dungeonAssignments[r],o=i.players.flat().every(l=>l!==null),s=Number(this.dungeonProgress?.attempts||0);(s<10&&i.dungeon!=="Upper Blackrock Spire"||s<9)&&i.dungeon&&o&&this.isDungeonAvailableForGroup(r,i.dungeon)&&this.simulateDungeonRun(r,i.dungeon)}this.calcAllGearScores(),this.savePlayersToStorage(),this.saveBankToStoarge(),this.saveAssignmentsToStorage()}simulateDungeonRun(r,i){this.dungeonAssignments[r].bosses=[];let o=this.dungeonAssignments[r].players.flat().filter(Y=>Y),s=o.map(Y=>this.players.findIndex(U=>U.NAME===Y.NAME)),l=s.map(Y=>this.getGearScore(this.players[Y].NAME)),a=l.reduce((Y,U)=>Y+U,0)/l.length,c=this.dungeonAssignments[r].penalty,u=this.dungeonBosses.filter(Y=>Y.DUNGEON===i).sort((Y,U)=>Y.ORDER-U.ORDER),f=!1,C=0,m=this.guildBank.gold,b=[],V=Math.floor(Math.random()*6)+9027;for(let Y of u){if([9027,9028,9029,9030,9031,9032].includes(+Y.NPC_ID)){if(+Y.NPC_ID!==V)continue}else if(+Y.SPAWN<1&&Math.random()>+Y.SPAWN)continue;let U=0,G="";for(;!f;){let z=s.map(M=>Math.min(this.getBossKills(this.players[M],+Y.NPC_ID),5)),_=s.map((M,T)=>l[T]+z[T]),d=_.reduce((M,T)=>M+T,0)/_.length,v=this.successRate(d-c,+Y.LEVEL);if(Math.random()<v){if(s.forEach((M,T)=>{let W=this.players[M],_e=new Map;W.DUNGEON_EXP&&W.DUNGEON_EXP.split(";").forEach(ve=>{if(ve){let[R,x]=ve.split(":");_e.set(parseInt(R,10),parseInt(x,10))}}),z[T]===0&&this.dungeonQuests.forEach(ve=>{if(+ve.NPC_ID==+Y.NPC_ID&&Number(ve.CLASS_MASK)&1<<Number(W.CLASSID)){let x=(W.INVENTORY||"").split(";").filter($=>$),L=!1;for(let $=0;$<=5;$++){let we=`ITEM_${$}`,Z=ve[we];if(Z){let J=this.itemsMap.get(+Z);J&&Number(J.class_mask)&1<<Number(W.CLASSID)&&(L=!0,x.push(Z.toString()),b.push({itemName:J.name||"",dbId:Number(Z),playerName:W.NAME,playerClass:W.CLASSID}))}}if(L){let $=s.find(we=>this.players[we].NAME===W.NAME);this.players[$].INVENTORY=x.join(";")}}}),_e.set(Y.NPC_ID,z[T]+1),W.DUNGEON_EXP=Array.from(_e.entries()).map(([ve,R])=>`${ve}:${R}`).join(";")}),G+="\u2713",this.dungeonAssignments[r].bosses.push({bossName:Y.NAME,results:G}),+Y.LOOT==1){let M=this.dungeonDrops.filter(T=>T.NPC_ID===Y.NPC_ID);for(let T of M)if(Math.random()<+T.DROP_PCT){let W=this.itemsMap.get(+T.DB_ID);if(!W)continue;let _e=o.filter(x=>(Number(W.class_mask)&1<<Number(x.CLASSID))!==0?!new Set((x.INVENTORY||"").split(";").map(we=>we.trim()).filter(we=>we)).has(T.DB_ID.toString()):!1);if(_e.length===0){this.guildBank.gold+=Number(T.VALUE);continue}let ve=[],R=new Map;for(let x of _e){let L=s.find(Re=>this.players[Re].NAME===x.NAME),$=this.calculateItemWeight(W,Number(x.CLASSID),Number(x.SPEC)),Z=this.getEquippedItemsForPlayer(L).filter(Re=>Re.dbId!==-1&&this.itemsMap.get(Re.dbId)?.eq_type===W.eq_type).map(Re=>Re.dbId),J=this.players[L].INVENTORY||"",K=J?J.split(";").map(Number).filter(Re=>this.itemsMap.get(Re)?.eq_type===W.eq_type):[],Ye=[...new Set([...Z,...K])],ke=0;Ye.forEach(Re=>{let Ct=this.itemsMap.get(Re);if(Ct){let he=this.calculateItemWeight(Ct,Number(x.CLASSID),Number(x.SPEC));ke=Math.max(ke,he)}}),R.set(x.NAME,ke),$>ke&&ve.push({player:x,playerIndex:L,improvement:$-ke})}if(ve.length>0){let x=ve.filter(J=>this.matchRole(Number(J.player.CLASSID),Number(J.player.SPEC),W.role||"")),L=x.length>0?x:ve,$=L[Math.floor(Math.random()*L.length)],Z=(this.players[$.playerIndex].INVENTORY||"").split(";").filter(J=>J);Z.includes(T.DB_ID.toString())?this.guildBank.gold+=Number(T.VALUE):(Z.push(T.DB_ID.toString()),this.players[$.playerIndex].INVENTORY=Z.join(";"),b.push({itemName:T.NAME,dbId:T.DB_ID,playerName:$.player.NAME,playerClass:Number($.player.CLASSID)}))}else{let x=[];for(let L of _e){let $=s.find(J=>this.players[J].NAME===L.NAME),we=this.calculateItemWeight(W,Number(L.CLASSID),Number(L.SPEC)),Z=R.get(L.NAME)??0;we>Z*.9&&x.push({player:L,playerIndex:$})}if(x.length>0){let L=x[Math.floor(Math.random()*x.length)],we=(this.players[L.playerIndex].INVENTORY||"").split(";").filter(Z=>Z);we.includes(T.DB_ID.toString())?this.guildBank.gold+=Number(T.VALUE):(we.push(T.DB_ID.toString()),this.players[L.playerIndex].INVENTORY=we.join(";"),b.push({itemName:T.NAME,dbId:T.DB_ID,playerName:L.player.NAME,playerClass:Number(L.player.CLASSID)}))}else this.guildBank.gold+=Number(T.VALUE)}}}break}else if(G+="X",U++,C++,Math.random()<C*.05){f=!0,this.dungeonAssignments[r].bosses.push({bossName:Y.NAME,results:G});break}}}s.forEach(Y=>{this.players[Y].LAST_FARM_WEEK=this.guildWeek});let I=this.dungeonAssignments[r].bosses.filter(Y=>Y.results.endsWith("\u2713")).length,P=this.dungeonAssignments[r].bosses.length;this.dungeonAssignments[r].progress=f?`Abandoned after ${P-1} boss(es)`:`Completed ${I} / ${P} bosses`,this.updateDungeonProgress(!0),i==="Upper Blackrock Spire"?(this.updateDungeonProgress(!0),f||this.guildBank.gold-m<50&&(this.guildBank.gold=m+50)):f||this.guildBank.gold-m<25&&(this.guildBank.gold=m+25),b.length>0&&b.forEach(Y=>{this.dungeonUpgrades.push({playerClass:Number(Y.playerClass),playerName:Y.playerName,itemId:Y.dbId})})}calculateItemWeight(r,i,o){let s=this.statWeights.find(a=>+a.CLASSID===i&&+a.SPEC===o);if(!s)return 0;let l=0;if(l+=(r.stamina||0)*(s.STAMINA||0),l+=(r.strength||0)*(s.STRENGTH||0),l+=(r.agility||0)*(s.AGILITY||0),l+=(r.intelligence||0)*(s.INTELLIGENCE||0),+r.dbId==13937&&(l+=20*2*(s.INTELLIGENCE||0)),l+=(r.spirit||0)*(s.SPIRIT||0),l+=(r.mp5||0)*(s.MP5||0),+r.dbId==13143&&(l+=22*.5*(s.MP5||0)),+r.dbId==14152&&(l+=16.67*(s.MP5||0)),l+=(r.attack_power||0)*(s.ATTACK_POWER||0),l+=(r.attack_power_ranged||0)*(s.R_ATTACK_POWER||0),l+=(r.spell_damage||0)*(s.SPELL_DAMAGE||0),+r.dbId==18820&&(l+=29.17*(s.SPELL_DAMAGE||0)),+r.dbId==22268&&(l+=20*(s.SPELL_DAMAGE||0),l+=18*(s.SPELL_HEAL||0)),l+=(r.spell_heal||0)*(s.SPELL_HEAL||0),l+=(r.spell_frost||0)*(s.SPELL_FROST||0),l+=(r.spell_shadow||0)*(s.SPELL_SHADOW||0),l+=(r.spell_fire||0)*(s.SPELL_FIRE||0),l+=(r.hit_pct||0)*(s.HIT_PCT||0),+r.dbId==11815&&[1,2,6,7].includes(i)&&(l+=2*(s.HIT_PCT||0)),l+=(r.crit_pct||0)*(s.CRIT_PCT||0),l+=(r.hit_pct_spell||0)*(s.SPELL_HIT||0),l+=(r.crit_pct_spell||0)*(s.SPELL_CRIT||0),l+=(r.parry_pct||0)*(s.PARRY_PCT||0),l+=(r.dodge_pct||0)*(s.DODGE_PCT||0),l+=(r.block_rate||0)*(s.BLOCK_PCT||0),l+=(r.defense||0)*(s.DEFENSE||0),l+=(r.resist_fire||0)*(s.RESIST_FIRE||0),l+=(r.skill_dagger||0)*(s.SKILL||0),l+=(r.skill_sword||0)*(s.SKILL||0),l+=(r.armor||0)*(s.ARMOR||0),l+=(r.block_value||0)*(s.BLOCK_VALUE||0),r.speed>0){let a=((r.min_damage||0)+(r.max_damage||0))/2/r.speed,c=0;[25,26].includes(r.eq_type)?c=s.R_DPS||0:[22,23].includes(r.eq_type)?c=s.OH_DPS||0:c=s.MH_DPS||0,l+=a*c,[6,8,9,10,17].includes(r.eq_type)&&(l+=r.speed*(s["2H_SPEED"]||0))}return r.eq_type===28&&(l+=1),l}matchRole(r,i,o){let s=this.getRole(r,i);return!!(s==="tank"&&o.toUpperCase()==="TANK"||s==="heal"&&o.toUpperCase()==="HEAL"||s==="damage"&&(o.toUpperCase()==="PHYS"&&this.isPhysicalDps(r,i)||o.toUpperCase()==="MAGI"&&!this.isPhysicalDps(r,i)))}isPhysicalDps(r,i){return[5,6,7].includes(r)||r===2&&i===2||r===0&&i===1}getEquippedItemsForPlayer(r){let i=this.players[r];return this.slotConfig.map(s=>s.slot).map(s=>({slot:s,dbId:Number(i[`SLOT_${s}`])||-1}))}updatePlayerGroups(){this.grid.forEach((r,i)=>{r.forEach((o,s)=>{if(o){let l=this.players.findIndex(a=>a.NAME===o.NAME);l!==-1&&(this.players[l].GROUP=(i+1).toString(),this.players[l].POSITION=(s+1).toString())}})}),this.savePlayersToStorage()}onDungeonChange(r){let i=this.dungeonAssignments[r].dungeon;i==="Upper Blackrock Spire"?this.dungeonAssignments[r].players=[Array(5).fill(null),Array(5).fill(null)]:this.isDungeonAvailableForGroup(r,i||"")||(this.dungeonAssignments[r].players=[Array(5).fill(null)]),this.dungeonAssignments[r].bosses=[],this.dungeonAssignments[r].progress="",this.dungeonAssignments[r].penalty=0,this.updateGroupPenalty(r)}addDungeonRow(){this.dungeonAssignments.push({dungeon:null,players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0})}setActiveSlot(r,i,o){this.activeSlot&&this.activeSlot.group===r&&this.activeSlot.row===i&&this.activeSlot.slot===o?this.activeSlot=null:this.activeSlot={group:r,row:i,slot:o}}assignPlayerToSlot(r,i,o,s){!this.dungeonAssignments.some(a=>a.players.some(c=>c.some(u=>u&&u.NAME===r.NAME)))&&this.isDungeonAvailable(r,this.dungeonAssignments[i].dungeon)&&(this.dungeonAssignments[i].players[o][s]=r,this.activeSlot=null,this.updateGroupPenalty(i))}updateGroupPenalty(r){let o=this.dungeonAssignments[r].players.flat().every(s=>s!==null);if(console.log("dungeon filled:",o),o&&this.dungeonAssignments[r].dungeon){console.log("checking dungeon");let s=this.dungeonAssignments[r].players.flat().filter(l=>l);this.dungeonAssignments[r].penalty=this.getCompositionPenalty(this.dungeonAssignments[r].dungeon,s)}}clearAssignments(){this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}],this.dungeonUpgrades=[]}isAnyDungeonAssigned(){return Array.isArray(this.dungeonAssignments)&&this.dungeonAssignments.some(r=>r.dungeon!==null)}isRunDungeonDisabled(){return!!(!this.isAnyDungeonAssigned()||this.dungeonProgress&&+this.dungeonProgress.attempts>=10)}getCellStyle(r){if(!this.dungeonAssignments||!Array.isArray(this.dungeonAssignments))return{"background-color":this.getColor(r.CLASSID),color:"black"};let i=this.dungeonAssignments.some(a=>a.players.some(c=>c.some(u=>u&&u.NAME===r.NAME))),o=this.activeSlot&&!this.isDungeonAvailable(r,this.activeSlot?this.dungeonAssignments[this.activeSlot.group]?.dungeon:null),l={"background-color":this.activeSlot&&(i||o)?"#d3d3d3":this.getColor(r.CLASSID),color:"black"};return this.swapMode&&this.firstSwapPlayer&&(+r.GROUP===this.firstSwapPlayer.group&&+r.POSITION===this.firstSwapPlayer.pos?l.border="2px solid red":l.border="1px solid black"),l}optimizeGear(){this.players.forEach((r,i)=>{let o=Number(r.CLASSID),s=Number(r.SPEC),l=r.INVENTORY||"",a=this.getRole(o,s),c=l?l.split(";").map(Number).filter(d=>this.itemsMap.get(d)):[],u=new Map;c.forEach(d=>{let v=this.itemsMap.get(d);if(v?.eq_type){let M=this.calculateItemWeight(v,o,s);a==="tank"&&v.eq_type===14&&(M*=1e4),u.has(v.eq_type)||u.set(v.eq_type,[]),u.get(v.eq_type).push({id:d,weight:M})}}),u.forEach(d=>d.sort((v,M)=>M.weight-v.weight));let f=d=>{let v=null;return d.forEach(M=>{let T=u.get(M)?.[0];T&&(!v||T.weight>v.weight)&&(v=T)}),v},C=d=>d.flatMap(M=>u.get(M)||[]).sort((M,T)=>T.weight-M.weight).slice(0,2);[1,2,3,6,7,8,9,10,16,26].forEach(d=>{let v=u.get(d)?.[0];v&&(r[`SLOT_${d}`]=v.id.toString())});let b=f([5,20]);if(b&&(r.SLOT_5=b.id.toString()),(u.get(11)?.slice(0,2)||[]).forEach((d,v)=>{r[`SLOT_${11+v}`]=d.id.toString()}),(u.get(12)?.slice(0,2)||[]).forEach((d,v)=>{r[`SLOT_${13+v}`]=d.id.toString()}),o===0||o===2){let d=u.get(28)?.[0];d&&(r.SLOT_26=d.id.toString())}else{let d=u.get(26)?.[0];d&&(r.SLOT_26=d.id.toString())}let P=C([13,21]),U=C(o===5||o===6||o===7?[13,14,22]:[14,23]),G=P[0]||null,z=U[0]||null;if(G&&z&&G.id===z.id&&U.length>1&&(z=U[1]),G&&(r.SLOT_21=G.id.toString()),z&&(r.SLOT_22=z.id.toString()),!(o===2&&s===1||o===7&&(s===1||s===2)||o===6)){let d=u.get(17)?.[0];if(d&&G&&z){let v=G.weight+z.weight;d.weight>v&&(r.SLOT_21=d.id.toString(),r.SLOT_22="")}}}),this.savePlayersToStorage()}resetStorage(){localStorage.removeItem("players"),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()}resetProgress(){let r=[...this.players];this.http.get("assets/players.csv",{responseType:"text"}).subscribe({next:i=>{let o=this.parseCsv(i,["RACE","GENDER","SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE","GROUP","POSITION","CLASSID","SPEC"]);this.players=o.map((s,l)=>{let a=r[l]||{};return ne(S({},s),{GROUP:a.GROUP||s.GROUP,POSITION:a.POSITION||s.POSITION,NAME:a.NAME||s.NAME,PET:a.PET||s.PET,CLASSID:a.CLASSID||s.CLASSID,SPEC:a.SPEC||s.SPEC,RACE:a.RACE||s.RACE,GENDER:a.GENDER||s.GENDER,SKIN:a.SKIN||s.SKIN,FACE:a.FACE||s.FACE,HAIRSTYLE:a.HAIRSTYLE||s.HAIRSTYLE,HAIRCOLOR:a.HAIRCOLOR||s.HAIRCOLOR,FACIALSTYLE:a.FACIALSTYLE||s.FACIALSTYLE})}),this.savePlayersToStorage(),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()},error:i=>{console.error("Failed to load players.csv:",i),this.savePlayersToStorage(),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()}})}};n.\u0275fac=function(i){return new(i||n)(oe(Le),oe(bc),oe(gu),oe(aw),oe(lw))},n.\u0275cmp=vr({type:n,selectors:[["app-root"]],standalone:!1,decls:14,vars:12,consts:[[1,"maincontainer"],["class","help-button",3,"ngClass","click",4,"ngIf"],["class","help-overlay",4,"ngIf"],["class","menu-buttons",4,"ngIf"],[4,"ngIf"],["class","tgif-section",4,"ngIf"],["class","player-view",4,"ngIf"],["class","settings-buttons",4,"ngIf"],["class","return-home-btn",3,"click",4,"ngIf"],[1,"help-button",3,"click","ngClass"],["src","/assets/icons/inv_misc_questionmark.jpg","alt","Help"],[1,"help-overlay"],[1,"help-content",3,"innerHTML"],[1,"help-close-btn",3,"click"],[1,"menu-buttons"],[1,"menu-btn",3,"click"],[1,"mcr-video-section"],["class","mcr-video","controls","",4,"ngIf"],["controls","",1,"mcr-video"],["src","/assets/video/MCRaiders.mp4","type","video/mp4"],["src","/assets/video/MCRaiders_edit.mp4","type","video/mp4"],[1,"tgif-section"],["src","/assets/images/tabard.png","alt","TGIF success"],["src","/assets/images/kelthuzad.jpg","alt","Naxx done"],["src","/assets/images/tgif_shield.jpg","alt","TGIF success"],["src","/assets/images/elfenrir.png","alt",""],["src","/assets/images/skriblius.jpg","alt","RIP Skriblius"],["alt","Molten Core load screen",1,"dungeon-image",3,"src"],[4,"ngFor","ngForOf"],["class","player-cell",4,"ngFor","ngForOf"],[1,"player-cell"],[3,"click","ngStyle"],[1,"player-gearscore"],["alt","role icon",1,"role-icon",3,"src"],[1,"settings-buttons"],[3,"click","ngClass"],[3,"click"],["class","guild-bank-bar2",4,"ngIf"],[1,"dungeon-assignment"],[3,"ngStyle"],[3,"click","disabled"],["class","dungeon-group",4,"ngFor","ngForOf"],["class","upgrades-section",4,"ngIf"],[1,"dungeon-info"],[1,"dungeon-list"],["class","dungeon-detail",4,"ngFor","ngForOf"],[1,"guild-bank-bar2"],[1,"guild-bank-item"],["src","/assets/icons/ui_plundercoins.jpg","alt","Gold",1,"bank-icon"],[1,"dungeon-group"],[1,"dungeon-selector"],[3,"ngModelChange","change","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"dungeon-level"],[3,"click",4,"ngIf"],["class","player-slots",4,"ngFor","ngForOf"],[3,"ngValue"],["class","boss-detail",4,"ngFor","ngForOf"],[1,"boss-detail"],[1,"player-slots"],["class","slot-button",4,"ngFor","ngForOf"],[1,"slot-button"],["class","role-icon","alt","role icon",3,"src",4,"ngIf"],["class","assigned-player-card",4,"ngIf"],[1,"assigned-player-card"],[1,"player-name"],[1,"player-details"],[1,"upgrades-section"],[1,"upgrades-table"],[1,"upgrade-icon"],["alt","item icon",3,"src"],[1,"upgrade-player"],[1,"upgrade-tooltip",3,"innerHTML"],[1,"tooltip-content",3,"innerHTML"],[1,"dungeon-detail"],[1,"dungeon-image-container"],[1,"dungeon-image",3,"src","alt"],[1,"dungeon-overlay"],[1,"dungeon-summary",3,"innerHTML"],[1,"player-view"],[1,"player-header"],["class","player-name",3,"ngStyle","click",4,"ngIf"],["class","player-name-input",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],["alt","role icon",1,"role-icon2",3,"src"],[1,"content-area"],["class","model-wrapper",4,"ngIf"],["class","stats-tab-content",4,"ngIf"],["class","spells",4,"ngIf"],["class","spec",4,"ngIf"],[1,"tab-buttons"],[3,"src"],[1,"player-name",3,"click","ngStyle"],[1,"player-name-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"model-wrapper"],["class","buy-button-container",4,"ngIf"],["class","guild-bank-bar",4,"ngIf"],[1,"spec-tabs","gear-sub-tabs"],["src","/assets/icons/inv_misc_bag_08.jpg"],["src","/assets/icons/vas_racechange.jpg"],["src","/assets/icons/inv_misc_coin_02.jpg"],["src","/assets/icons/spell_nature_astralrecalgroup.jpg"],["src","/assets/icons/achievement_boss_ragnaros.jpg"],["id","model-viewer"],["class","select-wrapper",4,"ngIf"],["class","customization-form",4,"ngIf"],["class","item-columns-container",4,"ngIf"],[2,"height","127px"],[1,"buy-button-container"],["class","buy-button owned","disabled","",4,"ngIf"],["class","buy-button",3,"can-afford","cannot-afford","buying","pointerdown","pointerup","pointerleave",4,"ngIf"],["disabled","",1,"buy-button","owned"],[1,"buy-button",3,"pointerdown","pointerup","pointerleave"],["src","/assets/icons/spell_fire_flamebolt.jpg","alt","Fiery Core",1,"bank-icon"],["src","/assets/icons/spell_nature_earthquake.jpg","alt","Lava Core",1,"bank-icon"],[1,"guild-bank-bar"],[1,"select-wrapper"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"customization-form"],[1,"form-group"],[1,"centered-button"],[1,"toggle-customization",3,"pointerdown","pointerup","pointerleave","click"],["src","/assets/icons/inv_misc_dice_01.jpg"],[1,"item-columns-container"],[1,"item-column","left"],["class","item-slot",4,"ngFor","ngForOf"],[1,"item-column","right"],[1,"item-slot"],["alt","Item icon",1,"item-icon",3,"click","src"],["class","tooltip",3,"ngClass","innerHTML",4,"ngIf"],["class","inventory-list",3,"ngClass",4,"ngIf"],[1,"tooltip",3,"ngClass","innerHTML"],[1,"inventory-list",3,"ngClass"],[1,"inventory-grid"],["class","inventory-item",4,"ngFor","ngForOf"],[1,"inventory-item"],[1,"unequip-button",3,"click"],["alt","Inventory item",1,"item-icon",3,"click","src"],[1,"inventory-grid","right"],[1,"stats-tab-content"],[1,"spec-tabs"],["src","assets/icons/spell_holy_blessingofstrength.jpg","alt","Base Stats"],["src","assets/icons/spell_nature_strength.jpg","alt","Buffed Stats"],[1,"stats-grid"],[1,"stats-content"],["open",""],[1,"section-title"],["class","stat-item",4,"ngFor","ngForOf"],["class","stat-item",4,"ngIf"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],["open","",4,"ngIf"],["close",""],["close","",4,"ngIf"],["class","pet-section",4,"ngFor","ngForOf"],[1,"pet-section"],[1,"pet-title"],[1,"spells"],["class","spells-content",4,"ngIf"],[1,"spells-content"],[1,"spell-icon",3,"src","alt"],[3,"innerHTML"],[1,"spec"],[3,"active","click",4,"ngFor","ngForOf"],["class","talents",4,"ngIf"],[1,"talents"],[1,"talent-icon",3,"src","alt"],[3,"pointerdown","pointerup","pointerleave"],[1,"return-home-btn",3,"click"],["nbButton","","outline","","status","danger","style","margin:0px 5px;","size","large","title","Force Update to Latest Version",3,"click",4,"ngIf"],["class","menu-btn",3,"click",4,"ngIf"],["nbButton","","outline","","status","danger","size","large","title","Force Update to Latest Version",2,"margin","0px 5px",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0),H(1,XR,2,4,"button",1)(2,e1,5,3,"div",2)(3,t1,13,0,"div",3)(4,i1,13,2,"div",4)(5,o1,21,0,"div",5)(6,s1,5,1,"div",4)(7,d1,4,2,"div",4)(8,A1,26,13,"div",4)(9,OA,24,23,"div",6)(10,kA,11,16,"div",7)(11,FA,2,1,"button",8)(12,HA,6,4,"div",4),p(),q(13,"router-outlet")),i&2&&(h(),E("ngIf",o.showHelpButton),h(),E("ngIf",o.showHelpOverlay),h(),E("ngIf",o.menuSelected==="home"),h(),E("ngIf",o.menuSelected==="mcr"),h(),E("ngIf",o.menuSelected==="tgif"),h(),E("ngIf",o.menuSelected==="mc"),h(),E("ngIf",o.showGrid&&o.menuSelected==="raidConfig"||o.activeSlot&&o.menuSelected==="dungeon"),h(),E("ngIf",o.menuSelected==="dungeon"),h(),E("ngIf",o.menuSelected==="raidConfig"&&o.currentPlayer),h(),E("ngIf",o.menuSelected==="settings"),h(),E("ngIf",o.menuSelected!=="home"&&(o.menuSelected!=="raidConfig"||!o.currentPlayer)),h(),E("ngIf",o.menuSelected==="home"))},styles:['.maincontainer[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;padding:20px;box-sizing:border-box;min-width:100vw;overflow-x:auto}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%]{width:100px;height:50px;padding:0;text-align:center;vertical-align:middle}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,100px);gap:10px;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:contents}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:50px;cursor:pointer}.return-home-btn[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006}.settings-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin-top:20px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 28px;font-size:1.1rem;font-weight:700;border-radius:10px;border:none;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;cursor:pointer;box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease;width:auto;min-width:200px;max-width:280px}.settings-buttons[_ngcontent-%COMP%]   button.active-swap[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4e50,#f9d423);color:#fff;box-shadow:0 4px 10px #ff4e5080}.settings-buttons[_ngcontent-%COMP%]   button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 3px 8px #0003}.return-home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.player-view[_ngcontent-%COMP%]{background-color:#000;width:100%;max-width:800px;min-height:600px;position:relative;margin:0 auto}.dungeon-assignment[_ngcontent-%COMP%]{margin-top:20px;padding-left:10px;padding-right:10px;box-sizing:border-box;width:100%;max-width:100vw}.dungeon-assignment[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]{margin-bottom:15px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px;padding-left:5px;box-sizing:border-box;width:100%}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;font-size:1em}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:36px;margin-top:20px;padding:10 10px;cursor:pointer;display:flex;align-items:center;justify-content:center}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   .dungeon-level[_ngcontent-%COMP%]{margin-top:27px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]{display:flex;gap:5px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;width:75px;height:50px;display:flex;align-items:center;justify-content:center;border:1px solid white;background:#363636;cursor:pointer;box-sizing:border-box}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button.active-slot[_ngcontent-%COMP%]{border:2px solid red;background:#363636}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]{text-align:center;padding:10px;transform:scale(.67);transform-origin:center;width:100%;box-sizing:border-box}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{font-weight:700}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]   .player-details[_ngcontent-%COMP%]{font-size:1em;color:#fff}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:14px;height:14px;pointer-events:none;z-index:10}.upgrades-section[_ngcontent-%COMP%]{margin-top:20px}.upgrades-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   td.upgrade-tooltip[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid gray}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-icon[_ngcontent-%COMP%]{width:20%;padding:5px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px;border:1px solid gray}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-player[_ngcontent-%COMP%]{width:30%;padding:5px;font-weight:700}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .tooltip-content[_ngcontent-%COMP%]{display:inline-block;max-width:300px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]{padding:5px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]    {color:#fff;background:#1a1a1a;border:1px solid #444;padding:8px;font-size:.9em}.model-wrapper[_ngcontent-%COMP%]{min-height:600px;max-width:400px;width:100%;margin:0 auto;position:relative}.select-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.item-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:2px;width:60px;pointer-events:auto}.item-columns-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:space-between;z-index:10;pointer-events:none}.inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,50px);gap:5px}.inventory-grid.right[_ngcontent-%COMP%]{direction:rtl;justify-content:end}.inventory-list.bottom-up[_ngcontent-%COMP%]{transform:translateY(calc(-100% + 50px))}.item-column.left[_ngcontent-%COMP%]{align-items:flex-end}.item-column.right[_ngcontent-%COMP%]{align-items:flex-start}.item-slot[_ngcontent-%COMP%]{position:relative}.item-icon[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid #333;cursor:pointer}.item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff}.item-slot[data-quality="2"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #00ff00}.item-slot[data-quality="3"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff}.item-slot[data-quality="4"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #800080}.item-slot[data-quality="5"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #ffa500}.inventory-item[data-quality="2"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #00ff00!important}.inventory-item[data-quality="3"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff!important}.inventory-item[data-quality="4"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #800080!important}.inventory-item[data-quality="5"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #ffa500!important}.tooltip[_ngcontent-%COMP%]{position:absolute;background:#222;color:#fff;padding:10px;border-radius:5px;white-space:pre-wrap;z-index:100;top:0;left:80px;width:150px;font-size:12px}[_nghost-%COMP%]     body.compact-tooltip .tooltip{width:125px!important;min-width:125px!important;font-size:10px!important}.tooltip.compact-tooltip[_ngcontent-%COMP%]{width:125px!important;min-width:125px!important;font-size:10px!important}.item-column.right[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{left:auto;right:80px}.item-column.right[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(3n)   .tooltip[_ngcontent-%COMP%]{left:auto;right:25px}.item-column.left[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(3n)   .tooltip[_ngcontent-%COMP%]{left:25px;right:auto}.inventory-list[_ngcontent-%COMP%]{position:absolute;background:#333;padding:10px;border-radius:5px;z-index:100;top:0;left:60px;display:flex;flex-direction:column;gap:5px}.item-column.right[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]{left:auto;right:60px}.inventory-item[_ngcontent-%COMP%]{position:relative;direction:ltr}select[_ngcontent-%COMP%]{margin-top:20px;padding:5px}#model-viewer[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;z-index:0;margin-bottom:20px}.content-area[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;max-height:calc(100vh - 191px);display:flex;flex-direction:column;gap:10px}.spells[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.spells[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;vertical-align:top}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:20%;text-align:center}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:80%}.spell-icon[_ngcontent-%COMP%], .talent-icon[_ngcontent-%COMP%]{width:56px;height:56px}.spec-tabs[_ngcontent-%COMP%]{position:fixed;bottom:54px;left:50%;transform:translate(-50%);width:100%;max-width:400px;display:flex;justify-content:center;gap:20px;background:#222;z-index:1001}.spec-tabs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;width:auto;height:auto;display:block}.spec-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px}.spec-tabs[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.stats-sub-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.stats-sub-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#333;border:1px solid #444;padding:5px 10px;margin:0 5px;cursor:pointer;color:#fff}.stats-sub-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#555;border-color:gold}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;width:100%;max-width:400px}.stats-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 0}.stat-label[_ngcontent-%COMP%]{font-weight:700}.stat-value[_ngcontent-%COMP%]{color:gold}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;cursor:pointer;padding:.5rem;border-radius:4px}.pet-section[_ngcontent-%COMP%]{margin-top:1rem;padding-left:1rem;border-left:2px solid #ccc}.pet-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:.5rem;text-transform:capitalize}details[_ngcontent-%COMP%]{margin-bottom:1rem}summary[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.gambits[_ngcontent-%COMP%]   div[cdkDrag][_ngcontent-%COMP%]{padding:10px;background:#f9f9f9;margin:5px 0;cursor:move}.tab-buttons[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;display:flex;justify-content:center;background:transparent;padding:0;z-index:1000}.tab-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;width:auto;height:auto;display:block}.tab-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.tab-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.unequip-button[_ngcontent-%COMP%]{padding:5px 10px;background:#444;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:12px}.unequip-button[_ngcontent-%COMP%]:hover{background:#666}.player-cell[_ngcontent-%COMP%]{position:relative}.role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;height:22px;pointer-events:none}.player-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:200px;height:36px;margin:0 auto 20px;position:sticky;top:0;background:#fff;z-index:10;padding:0;cursor:pointer}.player-name[_ngcontent-%COMP%]{flex:1;padding:0;border:none;border-radius:0;text-align:center;font-size:16px;height:100%;display:flex;align-items:center;justify-content:center}.player-gearscore[_ngcontent-%COMP%]{font-size:.75em;color:#000;margin-top:0}.player-name-input[_ngcontent-%COMP%]{flex:1;padding:0 8px;border:1px solid #ccc;border-radius:4px;text-align:center;font-size:16px;height:100%;box-sizing:border-box}.role-icon2[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:30px;height:30px;pointer-events:none}.customization-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;border-radius:4px;border:1px solid #ccc;min-width:120px}.centered-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:16px 0}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin:20px auto}.menu-btn[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:16px 24px;border:none;border-radius:12px;font-size:1.2rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;color:#fff;background:linear-gradient(135deg,#ff6b6b,#f94d6a);box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease}.menu-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.menu-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 3px 8px #0003}.dungeon-info[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}.dungeon-info[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.dungeon-list[_ngcontent-%COMP%]{padding:10px}.dungeon-list[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1em;font-weight:700}.dungeon-detail[_ngcontent-%COMP%]{margin:10px 0}.dungeon-image-container[_ngcontent-%COMP%]{position:relative;width:100%}.dungeon-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.dungeon-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;max-height:100%;background-color:#000000b3;display:flex;align-items:flex-start;padding:20px;box-sizing:border-box;overflow-y:auto}.dungeon-summary[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin:0;text-align:left}.dungeon-summary[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.dungeon-summary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.mcr-video-section[_ngcontent-%COMP%]{margin-bottom:20px}.mcr-video[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.tgif-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;width:100%;height:auto;display:block;margin-bottom:10px}.help-button[_ngcontent-%COMP%]{position:fixed;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006;z-index:1000}.help-button.top-left[_ngcontent-%COMP%]{top:10px;left:10px}.help-button.bottom-left[_ngcontent-%COMP%]{bottom:10px;left:10px}.help-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.help-overlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background:#000c;border-radius:10px;display:flex;flex-direction:column;z-index:2000;padding:20px;box-sizing:border-box}.help-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;color:#fff;font-size:16px;padding:10px}.help-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:1.5em}.help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.help-close-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;margin-top:10px;align-self:center}.help-close-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6b8cff,#3a5ed6)}.guild-bank-bar[_ngcontent-%COMP%]{position:fixed;bottom:127px;left:50%;transform:translate(-50%);width:100%;max-width:300px;display:flex;justify-content:center;gap:20px;background:#222;padding:5px;max-height:20px;z-index:1002}.guild-bank-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.bank-icon[_ngcontent-%COMP%]{width:20px;height:20px}.buy-button-container[_ngcontent-%COMP%]{position:fixed;bottom:160px;left:50%;transform:translate(-50%);width:100%;max-width:300px;display:flex;justify-content:center;z-index:1003}.buy-button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:5px;color:#fff;font-size:14px;cursor:pointer;width:100%;max-width:250px;transition:background .2s;display:flex;align-items:center;justify-content:center;gap:5px}.buy-button.can-afford[_ngcontent-%COMP%]{background:linear-gradient(to right,#00d4ff,#0057b8 0% 100%);transition:background .1s linear}.buy-button.cannot-afford[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff4500,#ff8c00)}.buy-button.owned[_ngcontent-%COMP%]{background:linear-gradient(45deg,#666,#999);cursor:not-allowed}.buy-button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}@keyframes _ngcontent-%COMP%_blueShift{0%{background:linear-gradient(to right,#00d4ff 0% 0%,#0057b8 0% 100%)}10%{background:linear-gradient(to right,#00d4ff 0% 10%,#0057b8 10% 100%)}20%{background:linear-gradient(to right,#00d4ff 0% 20%,#0057b8 20% 100%)}30%{background:linear-gradient(to right,#00d4ff 0% 30%,#0057b8 30% 100%)}40%{background:linear-gradient(to right,#00d4ff 0% 40%,#0057b8 40% 100%)}50%{background:linear-gradient(to right,#00d4ff 0% 50%,#0057b8 50% 100%)}60%{background:linear-gradient(to right,#00d4ff 0% 60%,#0057b8 60% 100%)}70%{background:linear-gradient(to right,#00d4ff 0% 70%,#0057b8 70% 100%)}80%{background:linear-gradient(to right,#00d4ff 0% 80%,#0057b8 80% 100%)}90%{background:linear-gradient(to right,#00d4ff 0% 90%,#0057b8 90% 100%)}to{background:linear-gradient(to right,#00d4ff 0% 100%,#0057b8 100% 100%)}}']});let e=n;return e})();var hw=(()=>{let n=class n{transform(r,i){let o=[{slot:1,side:"left"},{slot:2,side:"left"},{slot:3,side:"left"},{slot:5,side:"left"},{slot:6,side:"left"},{slot:7,side:"left"},{slot:8,side:"left"},{slot:9,side:"left"},{slot:10,side:"right"},{slot:11,side:"right"},{slot:12,side:"right"},{slot:13,side:"right"},{slot:14,side:"right"},{slot:16,side:"right"},{slot:21,side:"right"},{slot:22,side:"right"},{slot:26,side:"right"}];return r.filter(s=>o.find(l=>l.slot===s.slot)?.side===i)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=ei({name:"filterBySide",type:n,pure:!0});let e=n;return e})();var pw=(()=>{let n=class n{constructor(){this.linkedSlots={11:12,12:11,13:14,14:13,21:22,22:21}}transform(r,i){if(!r||!i?.equippedItems)return r;let o=i.equippedItems.find(a=>a.slot===i.slot)?.dbId,s=this.linkedSlots[i.slot],l=s?i.equippedItems.find(a=>a.slot===s)?.dbId:null;return r.filter(a=>a!==o&&a!==l)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=ei({name:"filterEquip",type:n,pure:!0});let e=n;return e})(),gw=(()=>{let n=class n{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r||"")}};n.\u0275fac=function(i){return new(i||n)(oe(ap,16))},n.\u0275pipe=ei({name:"safeHtml",type:n,pure:!0});let e=n;return e})();var mw=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=ze({type:n,bootstrap:[ag]}),n.\u0275inj=Ve({imports:[ep,bs,T0,IC,sp,nw,sw.register("ngsw-worker.js",{enabled:!vy(),registrationStrategy:"registerWhenStable:30000"})]});let e=n;return e})();Dh(ag,function(){return[jh,pc,Bh,Hh,b0,I0,Rc,Pc,C0,gp,Qs]},function(){return[Uh,hw,pw,gw]});Xh().bootstrapModule(mw).catch(e=>console.error(e));
