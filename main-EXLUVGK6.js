var Aw=Object.create;var Rd=Object.defineProperty,Nw=Object.defineProperties,Ow=Object.getOwnPropertyDescriptor,kw=Object.getOwnPropertyDescriptors,Lw=Object.getOwnPropertyNames,Km=Object.getOwnPropertySymbols,Fw=Object.getPrototypeOf,Qm=Object.prototype.hasOwnProperty,Vw=Object.prototype.propertyIsEnumerable;var Zm=(t,n,e)=>n in t?Rd(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,N=(t,n)=>{for(var e in n||={})Qm.call(n,e)&&Zm(t,e,n[e]);if(Km)for(var e of Km(n))Vw.call(n,e)&&Zm(t,e,n[e]);return t},ue=(t,n)=>Nw(t,kw(n));var jw=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Hw=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Lw(n))!Qm.call(t,i)&&i!==e&&Rd(t,i,{get:()=>n[i],enumerable:!(r=Ow(n,i))||r.enumerable});return t};var Bw=(t,n,e)=>(e=t!=null?Aw(Fw(t)):{},Hw(n||!t||!t.__esModule?Rd(e,"default",{value:t,enumerable:!0}):e,t));var pt=(t,n,e)=>new Promise((r,i)=>{var o=l=>{try{s(e.next(l))}catch(c){i(c)}},a=l=>{try{s(e.throw(l))}catch(c){i(c)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(t,n)).next())});var PE=jw((Em,wm)=>{"use strict";((t,n)=>{typeof define=="function"&&define.amd?define([],n):typeof wm=="object"&&typeof Em<"u"?wm.exports=n():t.Papa=n()})(Em,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},e,r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},a=0,s={};function l(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(m){var E=q(m);E.chunkSize=parseInt(E.chunkSize),m.step||m.chunk||(E.chunkSize=null),this._handle=new h(E),(this._handle.streamer=this)._config=E}).call(this,_),this.parseChunk=function(m,E){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let $=this._config.newline;$||(T=this._config.quoteChar||'"',$=this._handle.guessLineEndings(m,T)),m=[...m.split($).slice(P)].join($)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(T=this._config.beforeFirstChunk(m))!==void 0&&(m=T),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+m,T=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(m=T.meta.cursor,P=(this._finished||(this._partialLine=P.substring(m-this._baseIndex),this._baseIndex=m),T&&T.data&&(this._rowCount+=T.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:T,workerId:s.WORKER_ID,finished:P});else if(V(this._config.chunk)&&!E){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=T=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!P||!V(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(m){V(this._config.error)?this._config.error(m):i&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:m,finished:!1})}}function c(_){var m;(_=_||{}).chunkSize||(_.chunkSize=s.RemoteChunkSize),l.call(this,_),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(m=new XMLHttpRequest,this._config.withCredentials&&(m.withCredentials=this._config.withCredentials),r||(m.onload=L(this._chunkLoaded,this),m.onerror=L(this._chunkError,this)),m.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var E,P=this._config.downloadRequestHeaders;for(E in P)m.setRequestHeader(E,P[E])}var T;this._config.chunkSize&&(T=this._start+this._config.chunkSize-1,m.setRequestHeader("Range","bytes="+this._start+"-"+T));try{m.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}r&&m.status===0&&this._chunkError()}},this._chunkLoaded=function(){m.readyState===4&&(m.status<200||400<=m.status?this._chunkError():(this._start+=this._config.chunkSize||m.responseText.length,this._finished=!this._config.chunkSize||this._start>=(E=>(E=E.getResponseHeader("Content-Range"))!==null?parseInt(E.substring(E.lastIndexOf("/")+1)):-1)(m),this.parseChunk(m.responseText)))},this._chunkError=function(E){E=m.statusText||E,this._sendError(new Error(E))}}function u(_){(_=_||{}).chunkSize||(_.chunkSize=s.LocalChunkSize),l.call(this,_);var m,E,P=typeof FileReader<"u";this.stream=function(T){this._input=T,E=T.slice||T.webkitSlice||T.mozSlice,P?((m=new FileReader).onload=L(this._chunkLoaded,this),m.onerror=L(this._chunkError,this)):m=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input,$=(this._config.chunkSize&&($=Math.min(this._start+this._config.chunkSize,this._input.size),T=E.call(T,this._start,$)),m.readAsText(T,this._config.encoding));P||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(m.error)}}function d(_){var m;l.call(this,_=_||{}),this.stream=function(E){return m=E,this._nextChunk()},this._nextChunk=function(){var E,P;if(!this._finished)return E=this._config.chunkSize,m=E?(P=m.substring(0,E),m.substring(E)):(P=m,""),this._finished=!m,this.parseChunk(P)}}function y(_){l.call(this,_=_||{});var m=[],E=!0,P=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&m.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),m.length?this.parseChunk(m.shift()):E=!0},this._streamData=L(function(T){try{m.push(typeof T=="string"?T:T.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(m.shift()))}catch($){this._streamError($)}},this),this._streamError=L(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=L(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(_){var m,E,P,T,$=Math.pow(2,53),X=-$,le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,x=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,b=this,B=0,A=0,ee=!1,K=!1,se=[],Z={data:[],errors:[],meta:{}};function Ie(ce){return _.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function Ke(){if(Z&&P&&(st("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),P=!1),_.skipEmptyLines&&(Z.data=Z.data.filter(function($e){return!Ie($e)})),nt()){let $e=function(at,Ge){V(_.transformHeader)&&(at=_.transformHeader(at,Ge)),se.push(at)};var ye=$e;if(Z)if(Array.isArray(Z.data[0])){for(var ce=0;nt()&&ce<Z.data.length;ce++)Z.data[ce].forEach($e);Z.data.splice(0,1)}else Z.data.forEach($e)}function be($e,at){for(var Ge=_.header?{}:[],Oe=0;Oe<$e.length;Oe++){var Ce=Oe,yt=$e[Oe],yt=((Re,ze)=>(rt=>(_.dynamicTypingFunction&&_.dynamicTyping[rt]===void 0&&(_.dynamicTyping[rt]=_.dynamicTypingFunction(rt)),(_.dynamicTyping[rt]||_.dynamicTyping)===!0))(Re)?ze==="true"||ze==="TRUE"||ze!=="false"&&ze!=="FALSE"&&((rt=>{if(le.test(rt)&&(rt=parseFloat(rt),X<rt&&rt<$))return 1})(ze)?parseFloat(ze):x.test(ze)?new Date(ze):ze===""?null:ze):ze)(Ce=_.header?Oe>=se.length?"__parsed_extra":se[Oe]:Ce,yt=_.transform?_.transform(yt,Ce):yt);Ce==="__parsed_extra"?(Ge[Ce]=Ge[Ce]||[],Ge[Ce].push(yt)):Ge[Ce]=yt}return _.header&&(Oe>se.length?st("FieldMismatch","TooManyFields","Too many fields: expected "+se.length+" fields but parsed "+Oe,A+at):Oe<se.length&&st("FieldMismatch","TooFewFields","Too few fields: expected "+se.length+" fields but parsed "+Oe,A+at)),Ge}var Ue;Z&&(_.header||_.dynamicTyping||_.transform)&&(Ue=1,!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(be),Ue=Z.data.length):Z.data=be(Z.data,0),_.header&&Z.meta&&(Z.meta.fields=se),A+=Ue)}function nt(){return _.header&&se.length===0}function st(ce,be,Ue,ye){ce={type:ce,code:be,message:Ue},ye!==void 0&&(ce.row=ye),Z.errors.push(ce)}V(_.step)&&(T=_.step,_.step=function(ce){Z=ce,nt()?Ke():(Ke(),Z.data.length!==0&&(B+=ce.data.length,_.preview&&B>_.preview?E.abort():(Z.data=Z.data[0],T(Z,b))))}),this.parse=function(ce,be,Ue){var ye=_.quoteChar||'"',ye=(_.newline||(_.newline=this.guessLineEndings(ce,ye)),P=!1,_.delimiter?V(_.delimiter)&&(_.delimiter=_.delimiter(ce),Z.meta.delimiter=_.delimiter):((ye=(($e,at,Ge,Oe,Ce)=>{var yt,Re,ze,rt;Ce=Ce||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var $i=0;$i<Ce.length;$i++){for(var An,ms=Ce[$i],Ct=0,Nn=0,lt=0,kt=(ze=void 0,new R({comments:Oe,delimiter:ms,newline:at,preview:10}).parse($e)),rr=0;rr<kt.data.length;rr++)Ge&&Ie(kt.data[rr])?lt++:(An=kt.data[rr].length,Nn+=An,ze===void 0?ze=An:0<An&&(Ct+=Math.abs(An-ze),ze=An));0<kt.data.length&&(Nn/=kt.data.length-lt),(Re===void 0||Ct<=Re)&&(rt===void 0||rt<Nn)&&1.99<Nn&&(Re=Ct,yt=ms,rt=Nn)}return{successful:!!(_.delimiter=yt),bestDelimiter:yt}})(ce,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ye.bestDelimiter:(P=!0,_.delimiter=s.DefaultDelimiter),Z.meta.delimiter=_.delimiter),q(_));return _.preview&&_.header&&ye.preview++,m=ce,E=new R(ye),Z=E.parse(m,be,Ue),Ke(),ee?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,E.abort(),m=V(_.chunk)?"":m.substring(E.getCharIndex())},this.resume=function(){b.streamer._halted?(ee=!1,b.streamer.parseChunk(m,!0)):setTimeout(b.resume,3)},this.aborted=function(){return K},this.abort=function(){K=!0,E.abort(),Z.meta.aborted=!0,V(_.complete)&&_.complete(Z),m=""},this.guessLineEndings=function($e,ye){$e=$e.substring(0,1048576);var ye=new RegExp(w(ye)+"([^]*?)"+w(ye),"gm"),Ue=($e=$e.replace(ye,"")).split("\r"),ye=$e.split(`
`),$e=1<ye.length&&ye[0].length<Ue[0].length;if(Ue.length===1||$e)return`
`;for(var at=0,Ge=0;Ge<Ue.length;Ge++)Ue[Ge][0]===`
`&&at++;return at>=Ue.length/2?`\r
`:"\r"}}function w(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(_){var m=(_=_||{}).delimiter,E=_.newline,P=_.comments,T=_.step,$=_.preview,X=_.fastMode,le=null,x=!1,b=_.quoteChar==null?'"':_.quoteChar,B=b;if(_.escapeChar!==void 0&&(B=_.escapeChar),(typeof m!="string"||-1<s.BAD_DELIMITERS.indexOf(m))&&(m=","),P===m)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<s.BAD_DELIMITERS.indexOf(P))&&(P=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var A=0,ee=!1;this.parse=function(K,se,Z){if(typeof K!="string")throw new Error("Input must be a string");var Ie=K.length,Ke=m.length,nt=E.length,st=P.length,ce=V(T),be=[],Ue=[],ye=[],$e=A=0;if(!K)return Ct();if(X||X!==!1&&K.indexOf(b)===-1){for(var at=K.split(E),Ge=0;Ge<at.length;Ge++){if(ye=at[Ge],A+=ye.length,Ge!==at.length-1)A+=E.length;else if(Z)return Ct();if(!P||ye.substring(0,st)!==P){if(ce){if(be=[],rt(ye.split(m)),Nn(),ee)return Ct()}else rt(ye.split(m));if($&&$<=Ge)return be=be.slice(0,$),Ct(!0)}}return Ct()}for(var Oe=K.indexOf(m,A),Ce=K.indexOf(E,A),yt=new RegExp(w(B)+w(b),"g"),Re=K.indexOf(b,A);;)if(K[A]===b)for(Re=A,A++;;){if((Re=K.indexOf(b,Re+1))===-1)return Z||Ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:A}),An();if(Re===Ie-1)return An(K.substring(A,Re).replace(yt,b));if(b===B&&K[Re+1]===B)Re++;else if(b===B||Re===0||K[Re-1]!==B){Oe!==-1&&Oe<Re+1&&(Oe=K.indexOf(m,Re+1));var ze=$i((Ce=Ce!==-1&&Ce<Re+1?K.indexOf(E,Re+1):Ce)===-1?Oe:Math.min(Oe,Ce));if(K.substr(Re+1+ze,Ke)===m){ye.push(K.substring(A,Re).replace(yt,b)),K[A=Re+1+ze+Ke]!==b&&(Re=K.indexOf(b,A)),Oe=K.indexOf(m,A),Ce=K.indexOf(E,A);break}if(ze=$i(Ce),K.substring(Re+1+ze,Re+1+ze+nt)===E){if(ye.push(K.substring(A,Re).replace(yt,b)),ms(Re+1+ze+nt),Oe=K.indexOf(m,A),Re=K.indexOf(b,A),ce&&(Nn(),ee))return Ct();if($&&be.length>=$)return Ct(!0);break}Ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:A}),Re++}}else if(P&&ye.length===0&&K.substring(A,A+st)===P){if(Ce===-1)return Ct();A=Ce+nt,Ce=K.indexOf(E,A),Oe=K.indexOf(m,A)}else if(Oe!==-1&&(Oe<Ce||Ce===-1))ye.push(K.substring(A,Oe)),A=Oe+Ke,Oe=K.indexOf(m,A);else{if(Ce===-1)break;if(ye.push(K.substring(A,Ce)),ms(Ce+nt),ce&&(Nn(),ee))return Ct();if($&&be.length>=$)return Ct(!0)}return An();function rt(lt){be.push(lt),$e=A}function $i(lt){var kt=0;return kt=lt!==-1&&(lt=K.substring(Re+1,lt))&&lt.trim()===""?lt.length:kt}function An(lt){return Z||(lt===void 0&&(lt=K.substring(A)),ye.push(lt),A=Ie,rt(ye),ce&&Nn()),Ct()}function ms(lt){A=lt,rt(ye),ye=[],Ce=K.indexOf(E,A)}function Ct(lt){if(_.header&&!se&&be.length&&!x){var kt=be[0],rr=Object.create(null),xd=new Set(kt);let qm=!1;for(let Gi=0;Gi<kt.length;Gi++){let On=kt[Gi];if(rr[On=V(_.transformHeader)?_.transformHeader(On,Gi):On]){let _s,Ym=rr[On];for(;_s=On+"_"+Ym,Ym++,xd.has(_s););xd.add(_s),kt[Gi]=_s,rr[On]++,qm=!0,(le=le===null?{}:le)[_s]=On}else rr[On]=1,kt[Gi]=On;xd.add(On)}qm&&console.warn("Duplicate headers found and renamed."),x=!0}return{data:be,errors:Ue,meta:{delimiter:m,linebreak:E,aborted:ee,truncated:!!lt,cursor:$e+(se||0),renamedHeaders:le}}}function Nn(){T(Ct()),be=[],Ue=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return A}}function I(_){var m=_.data,E=o[m.workerId],P=!1;if(m.error)E.userError(m.error,m.file);else if(m.results&&m.results.data){var T={abort:function(){P=!0,M(m.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:J,resume:J};if(V(E.userStep)){for(var $=0;$<m.results.data.length&&(E.userStep({data:m.results.data[$],errors:m.results.errors,meta:m.results.meta},T),!P);$++);delete m.results}else V(E.userChunk)&&(E.userChunk(m.results,T,m.file),delete m.results)}m.finished&&!P&&M(m.workerId,m.results)}function M(_,m){var E=o[_];V(E.userComplete)&&E.userComplete(m),E.terminate(),delete o[_]}function J(){throw new Error("Not implemented.")}function q(_){if(typeof _!="object"||_===null)return _;var m,E=Array.isArray(_)?[]:{};for(m in _)E[m]=q(_[m]);return E}function L(_,m){return function(){_.apply(m,arguments)}}function V(_){return typeof _=="function"}return s.parse=function(_,m){var E=(m=m||{}).dynamicTyping||!1;if(V(E)&&(m.dynamicTypingFunction=E,E={}),m.dynamicTyping=E,m.transform=!!V(m.transform)&&m.transform,!m.worker||!s.WORKERS_SUPPORTED)return E=null,s.NODE_STREAM_INPUT,typeof _=="string"?(_=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(_),E=new(m.download?c:d)(m)):_.readable===!0&&V(_.read)&&V(_.on)?E=new y(m):(n.File&&_ instanceof File||_ instanceof Object)&&(E=new u(m)),E.stream(_);(E=(()=>{var P;return!!s.WORKERS_SUPPORTED&&(P=(()=>{var T=n.URL||n.webkitURL||null,$=t.toString();return s.BLOB_URL||(s.BLOB_URL=T.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))})(),(P=new n.Worker(P)).onmessage=I,P.id=a++,o[P.id]=P)})()).userStep=m.step,E.userChunk=m.chunk,E.userComplete=m.complete,E.userError=m.error,m.step=V(m.step),m.chunk=V(m.chunk),m.complete=V(m.complete),m.error=V(m.error),delete m.worker,E.postMessage({input:_,config:m,workerId:E.id})},s.unparse=function(_,m){var E=!1,P=!0,T=",",$=`\r
`,X='"',le=X+X,x=!1,b=null,B=!1,A=((()=>{if(typeof m=="object"){if(typeof m.delimiter!="string"||s.BAD_DELIMITERS.filter(function(se){return m.delimiter.indexOf(se)!==-1}).length||(T=m.delimiter),typeof m.quotes!="boolean"&&typeof m.quotes!="function"&&!Array.isArray(m.quotes)||(E=m.quotes),typeof m.skipEmptyLines!="boolean"&&typeof m.skipEmptyLines!="string"||(x=m.skipEmptyLines),typeof m.newline=="string"&&($=m.newline),typeof m.quoteChar=="string"&&(X=m.quoteChar),typeof m.header=="boolean"&&(P=m.header),Array.isArray(m.columns)){if(m.columns.length===0)throw new Error("Option columns is empty");b=m.columns}m.escapeChar!==void 0&&(le=m.escapeChar+X),m.escapeFormulae instanceof RegExp?B=m.escapeFormulae:typeof m.escapeFormulae=="boolean"&&m.escapeFormulae&&(B=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(X),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return ee(null,_,x);if(typeof _[0]=="object")return ee(b||Object.keys(_[0]),_,x)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||b),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),ee(_.fields||[],_.data||[],x);throw new Error("Unable to serialize unrecognized input");function ee(se,Z,Ie){var Ke="",nt=(typeof se=="string"&&(se=JSON.parse(se)),typeof Z=="string"&&(Z=JSON.parse(Z)),Array.isArray(se)&&0<se.length),st=!Array.isArray(Z[0]);if(nt&&P){for(var ce=0;ce<se.length;ce++)0<ce&&(Ke+=T),Ke+=K(se[ce],ce);0<Z.length&&(Ke+=$)}for(var be=0;be<Z.length;be++){var Ue=(nt?se:Z[be]).length,ye=!1,$e=nt?Object.keys(Z[be]).length===0:Z[be].length===0;if(Ie&&!nt&&(ye=Ie==="greedy"?Z[be].join("").trim()==="":Z[be].length===1&&Z[be][0].length===0),Ie==="greedy"&&nt){for(var at=[],Ge=0;Ge<Ue;Ge++){var Oe=st?se[Ge]:Ge;at.push(Z[be][Oe])}ye=at.join("").trim()===""}if(!ye){for(var Ce=0;Ce<Ue;Ce++){0<Ce&&!$e&&(Ke+=T);var yt=nt&&st?se[Ce]:Ce;Ke+=K(Z[be][yt],Ce)}be<Z.length-1&&(!Ie||0<Ue&&!$e)&&(Ke+=$)}}return Ke}function K(se,Z){var Ie,Ke;return se==null?"":se.constructor===Date?JSON.stringify(se).slice(1,25):(Ke=!1,B&&typeof se=="string"&&B.test(se)&&(se="'"+se,Ke=!0),Ie=se.toString().replace(A,le),(Ke=Ke||E===!0||typeof E=="function"&&E(se,Z)||Array.isArray(E)&&E[Z]||((nt,st)=>{for(var ce=0;ce<st.length;ce++)if(-1<nt.indexOf(st[ce]))return!0;return!1})(Ie,s.BAD_DELIMITERS)||-1<Ie.indexOf(T)||Ie.charAt(0)===" "||Ie.charAt(Ie.length-1)===" ")?X+Ie+X:Ie)}},s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=R,s.ParserHandle=h,s.NetworkStreamer=c,s.FileStreamer=u,s.StringStreamer=d,s.ReadableStreamStreamer=y,n.jQuery&&((e=n.jQuery).fn.parse=function(_){var m=_.config||{},E=[];return this.each(function($){if(!(e(this).prop("tagName").toUpperCase()==="INPUT"&&e(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)E.push({file:this.files[X],inputElem:this,instanceConfig:e.extend({},m)})}),P(),this;function P(){if(E.length===0)V(_.complete)&&_.complete();else{var $,X,le,x,b=E[0];if(V(_.before)){var B=_.before(b.file,b.inputElem);if(typeof B=="object"){if(B.action==="abort")return $="AbortError",X=b.file,le=b.inputElem,x=B.reason,void(V(_.error)&&_.error({name:$},X,le,x));if(B.action==="skip")return void T();typeof B.config=="object"&&(b.instanceConfig=e.extend(b.instanceConfig,B.config))}else if(B==="skip")return void T()}var A=b.instanceConfig.complete;b.instanceConfig.complete=function(ee){V(A)&&A(ee,b.file,b.inputElem),T()},s.parse(b.file,b.instanceConfig)}}function T(){E.splice(0,1),P()}}),i&&(n.onmessage=function(_){_=_.data,s.WORKER_ID===void 0&&_&&(s.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:s.WORKER_ID,results:s.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=s.parse(_.input,_.config))&&n.postMessage({workerId:s.WORKER_ID,results:_,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(y.prototype=Object.create(l.prototype)).constructor=y,s})});var Pd;function nl(){return Pd}function kn(t){let n=Pd;return Pd=t,n}var Xm=Symbol("NotFound");function zi(t){return t===Xm||t?.name==="\u0275NotFound"}function al(t,n){return Object.is(t,n)}var St=null,rl=!1,Ad=1,Uw=null,Et=Symbol("SIGNAL");function me(t){let n=St;return St=t,n}function ll(){return St}var Jr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wi(t){if(rl)throw new Error("");if(St===null)return;St.consumerOnSignalRead(t);let n=St.producersTail;if(n!==void 0&&n.producer===t)return;let e,r=St.recomputing;if(r&&(e=n!==void 0?n.nextProducer:St.producers,e!==void 0&&e.producer===t)){St.producersTail=e,e.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===St&&(!r||Gw(i,St)))return;let o=Yi(St),a={producer:t,consumer:St,nextProducer:e,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};St.producersTail=a,n!==void 0?n.nextProducer=a:St.producers=a,o&&e0(t,a)}function Jm(){Ad++}function cl(t){if(!(Yi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ad)){if(!t.producerMustRecompute(t)&&!ys(t)){sl(t);return}t.producerRecomputeValue(t),sl(t)}}function Nd(t){if(t.consumers===void 0)return;let n=rl;rl=!0;try{for(let e=t.consumers;e!==void 0;e=e.nextConsumer){let r=e.consumer;r.dirty||$w(r)}}finally{rl=n}}function Od(){return St?.consumerAllowSignalWrites!==!1}function $w(t){t.dirty=!0,Nd(t),t.consumerMarkedDirty?.(t)}function sl(t){t.dirty=!1,t.lastCleanEpoch=Ad}function ei(t){return t&&(t.producersTail=void 0,t.recomputing=!0),me(t)}function qi(t,n){if(me(n),!t)return;t.recomputing=!1;let e=t.producersTail,r=e!==void 0?e.nextProducer:t.producers;if(r!==void 0){if(Yi(t))do r=kd(r);while(r!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ys(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let e=n.producer,r=n.lastReadVersion;if(r!==e.version||(cl(e),r!==e.version))return!0}return!1}function Cs(t){if(Yi(t)){let n=t.producers;for(;n!==void 0;)n=kd(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function e0(t,n){let e=t.consumersTail,r=Yi(t);if(e!==void 0?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,t.consumers=n),n.prevConsumer=e,t.consumersTail=n,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)e0(i.producer,i)}function kd(t){let n=t.producer,e=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!Yi(n)){let o=n.producers;for(;o!==void 0;)o=kd(o)}return e}function Yi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ul(t){Uw?.(t)}function Gw(t,n){let e=n.producersTail;if(e!==void 0){let r=n.producers;do{if(r===t)return!0;if(r===e)break;r=r.nextProducer}while(r!==void 0)}return!1}function dl(t,n){let e=Object.create(zw);e.computation=t,n!==void 0&&(e.equal=n);let r=()=>{if(cl(e),Wi(e),e.value===vs)throw e.error;return e.value};return r[Et]=e,ul(e),r}var il=Symbol("UNSET"),ol=Symbol("COMPUTING"),vs=Symbol("ERRORED"),zw=ue(N({},Jr),{value:il,dirty:!0,error:null,equal:al,kind:"computed",producerMustRecompute(t){return t.value===il||t.value===ol},producerRecomputeValue(t){if(t.value===ol)throw new Error("");let n=t.value;t.value=ol;let e=ei(t),r,i=!1;try{r=t.computation(),me(null),i=n!==il&&n!==vs&&r!==vs&&t.equal(n,r)}catch(o){r=vs,t.error=o}finally{qi(t,e)}if(i){t.value=n;return}t.value=r,t.version++}});function Ww(){throw new Error}var t0=Ww;function n0(t){t0(t)}function Ld(t){t0=t}var qw=null;function Fd(t,n){let e=Object.create(fl);e.value=t,n!==void 0&&(e.equal=n);let r=()=>r0(e);return r[Et]=e,ul(e),[r,a=>Ki(e,a),a=>Vd(e,a)]}function r0(t){return Wi(t),t.value}function Ki(t,n){Od()||n0(t),t.equal(t.value,n)||(t.value=n,Yw(t))}function Vd(t,n){Od()||n0(t),Ki(t,n(t.value))}var fl=ue(N({},Jr),{equal:al,value:void 0,kind:"signal"});function Yw(t){t.version++,Jm(),Nd(t),qw?.(t)}function fe(t){return typeof t=="function"}function Zi(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var hl=Zi(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ti(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Te=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){n=o instanceof hl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{i0(o)}catch(a){n=n??[],a instanceof hl?n=[...n,...a.errors]:n.push(a)}}if(n)throw new hl(n)}}add(n){var e;if(n&&n!==this)if(this.closed)i0(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ti(e,n)}remove(n){let{_finalizers:e}=this;e&&ti(e,n),n instanceof t&&n._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var jd=Te.EMPTY;function pl(t){return t instanceof Te||t&&"closed"in t&&fe(t.remove)&&fe(t.add)&&fe(t.unsubscribe)}function i0(t){fe(t)?t():t.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qi={setTimeout(t,n,...e){let{delegate:r}=Qi;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=Qi;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gl(t){Qi.setTimeout(()=>{let{onUnhandledError:n}=mn;if(n)n(t);else throw t})}function ni(){}var o0=Hd("C",void 0,void 0);function s0(t){return Hd("E",void 0,t)}function a0(t){return Hd("N",t,void 0)}function Hd(t,n,e){return{kind:t,value:n,error:e}}var ri=null;function Xi(t){if(mn.useDeprecatedSynchronousErrorHandling){let n=!ri;if(n&&(ri={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=ri;if(ri=null,e)throw r}}else t()}function l0(t){mn.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var ii=class extends Te{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,pl(n)&&n.add(this)):this.destination=Qw}static create(n,e,r){return new Ji(n,e,r)}next(n){this.isStopped?Ud(a0(n),this):this._next(n)}error(n){this.isStopped?Ud(s0(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ud(o0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Kw=Function.prototype.bind;function Bd(t,n){return Kw.call(t,n)}var $d=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){ml(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){ml(r)}else ml(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ml(e)}}},Ji=class extends ii{constructor(n,e,r){super();let i;if(fe(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Bd(n.next,o),error:n.error&&Bd(n.error,o),complete:n.complete&&Bd(n.complete,o)}):i=n}this.destination=new $d(i)}};function ml(t){mn.useDeprecatedSynchronousErrorHandling?l0(t):gl(t)}function Zw(t){throw t}function Ud(t,n){let{onStoppedNotification:e}=mn;e&&Qi.setTimeout(()=>e(t,n))}var Qw={closed:!0,next:ni,error:Zw,complete:ni};var eo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(t){return t}function Gd(...t){return zd(t)}function zd(t){return t.length===0?Bt:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var ie=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let o=Jw(e)?e:new Ji(e,r,i);return Xi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=c0(r),new r((i,o)=>{let a=new Ji({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[eo](){return this}pipe(...e){return zd(e)(this)}toPromise(e){return e=c0(e),new e((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=n=>new t(n),t})();function c0(t){var n;return(n=t??mn.Promise)!==null&&n!==void 0?n:Promise}function Xw(t){return t&&fe(t.next)&&fe(t.error)&&fe(t.complete)}function Jw(t){return t&&t instanceof ii||Xw(t)&&pl(t)}function Wd(t){return fe(t?.lift)}function Se(t){return n=>{if(Wd(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(t,n,e,r,i){return new qd(t,n,e,r,i)}var qd=class extends ii{constructor(n,e,r,i,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){n.error(l)}}:super._next,this._error=i?function(s){try{i(s)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function to(){return Se((t,n)=>{let e=null;t._refCount++;let r=_e(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var no=class extends ie{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Wd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Te;let e=this.getSubject();n.add(this.source.subscribe(_e(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Te.EMPTY)}return n}refCount(){return to()(this)}};var ro={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:r}=ro;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);let i=n(o=>{e=void 0,t(o)});return new Te(()=>e?.(i))},requestAnimationFrame(...t){let{delegate:n}=ro;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:n}=ro;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var u0=Zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new _l(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new u0}next(e){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jd:(this.currentObservers=null,o.push(e),new Te(()=>{this.currentObservers=null,ti(o,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){let e=new ie;return e.source=this,e}}return t.create=(n,e)=>new _l(n,e),t})(),_l=class extends oe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:jd}};var it=class extends oe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Yd={now(){return(Yd.delegate||Date).now()},delegate:void 0};var vl=class extends Te{constructor(n,e){super()}schedule(n,e=0){return this}};var Ss={setInterval(t,n,...e){let{delegate:r}=Ss;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=Ss;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var io=class extends vl{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Ss.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&Ss.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ti(r,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var oo=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}};oo.now=Yd.now;var so=class extends oo{constructor(n,e=oo.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}};var Es=new so(io),d0=Es;var yl=class extends io{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return r!==null&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=ro.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);let{actions:o}=n;e!=null&&e===n._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==e&&(ro.cancelAnimationFrame(e),n._scheduled=void 0)}};var Cl=class extends so{flush(n){this._active=!0;let e;n?e=n.id:(e=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}};var Sl=new Cl(yl);var wt=new ie(t=>t.complete());function El(t){return t&&fe(t.schedule)}function Kd(t){return t[t.length-1]}function wl(t){return fe(Kd(t))?t.pop():void 0}function Ln(t){return El(Kd(t))?t.pop():void 0}function f0(t,n){return typeof Kd(t)=="number"?t.pop():n}function p0(t,n,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(t,n||[])).next())})}function h0(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function oi(t){return this instanceof oi?(this.v=t,this):new oi(t)}function g0(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(w){return Promise.resolve(w).then(h,d)}}function s(h,w){r[h]&&(i[h]=function(R){return new Promise(function(I,M){o.push([h,R,I,M])>1||l(h,R)})},w&&(i[h]=w(i[h])))}function l(h,w){try{c(r[h](w))}catch(R){y(o[0][3],R)}}function c(h){h.value instanceof oi?Promise.resolve(h.value.v).then(u,d):y(o[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function y(h,w){h(w),o.shift(),o.length&&l(o[0][0],o[0][1])}}function m0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof h0=="function"?h0(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(a){return new Promise(function(s,l){a=t[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var Dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function bl(t){return fe(t?.then)}function Il(t){return fe(t[eo])}function Tl(t){return Symbol.asyncIterator&&fe(t?.[Symbol.asyncIterator])}function Ml(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xl=eD();function Rl(t){return fe(t?.[xl])}function Pl(t){return g0(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield oi(e.read());if(i)return yield oi(void 0);yield yield oi(r)}}finally{e.releaseLock()}})}function Al(t){return fe(t?.getReader)}function We(t){if(t instanceof ie)return t;if(t!=null){if(Il(t))return tD(t);if(Dl(t))return nD(t);if(bl(t))return rD(t);if(Tl(t))return _0(t);if(Rl(t))return iD(t);if(Al(t))return oD(t)}throw Ml(t)}function tD(t){return new ie(n=>{let e=t[eo]();if(fe(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nD(t){return new ie(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function rD(t){return new ie(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,gl)})}function iD(t){return new ie(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function _0(t){return new ie(n=>{sD(t,n).catch(e=>n.error(e))})}function oD(t){return _0(Pl(t))}function sD(t,n){var e,r,i,o;return p0(this,void 0,void 0,function*(){try{for(e=m0(t);r=yield e.next(),!r.done;){let a=r.value;if(n.next(a),n.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})}function Lt(t,n,e,r=0,i=!1){let o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Nl(t,n=0){return Se((e,r)=>{e.subscribe(_e(r,i=>Lt(r,t,()=>r.next(i),n),()=>Lt(r,t,()=>r.complete(),n),i=>Lt(r,t,()=>r.error(i),n)))})}function Ol(t,n=0){return Se((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function v0(t,n){return We(t).pipe(Ol(n),Nl(n))}function y0(t,n){return We(t).pipe(Ol(n),Nl(n))}function C0(t,n){return new ie(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function S0(t,n){return new ie(e=>{let r;return Lt(e,n,()=>{r=t[xl](),Lt(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){e.error(a);return}o?e.complete():e.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function kl(t,n){if(!t)throw new Error("Iterable cannot be null");return new ie(e=>{Lt(e,n,()=>{let r=t[Symbol.asyncIterator]();Lt(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function E0(t,n){return kl(Pl(t),n)}function w0(t,n){if(t!=null){if(Il(t))return v0(t,n);if(Dl(t))return C0(t,n);if(bl(t))return y0(t,n);if(Tl(t))return kl(t,n);if(Rl(t))return S0(t,n);if(Al(t))return E0(t,n)}throw Ml(t)}function Fe(t,n){return n?w0(t,n):We(t)}function te(...t){let n=Ln(t);return Fe(t,n)}function ao(t,n){let e=fe(t)?t:()=>t,r=i=>i.error(e());return new ie(n?i=>n.schedule(r,0,i):r)}function Ll(t){return!!t&&(t instanceof ie||fe(t.lift)&&fe(t.subscribe))}var ir=Zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function D0(t){return t instanceof Date&&!isNaN(t)}function re(t,n){return Se((e,r)=>{let i=0;e.subscribe(_e(r,o=>{r.next(t.call(n,o,i++))}))})}var{isArray:aD}=Array;function lD(t,n){return aD(n)?t(...n):t(n)}function Fl(t){return re(n=>lD(t,n))}var{isArray:cD}=Array,{getPrototypeOf:uD,prototype:dD,keys:fD}=Object;function Vl(t){if(t.length===1){let n=t[0];if(cD(n))return{args:n,keys:null};if(hD(n)){let e=fD(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function hD(t){return t&&typeof t=="object"&&uD(t)===dD}function jl(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function ws(...t){let n=Ln(t),e=wl(t),{args:r,keys:i}=Vl(t);if(r.length===0)return Fe([],n);let o=new ie(pD(r,n,i?a=>jl(i,a):Bt));return e?o.pipe(Fl(e)):o}function pD(t,n,e=Bt){return r=>{b0(n,()=>{let{length:i}=t,o=new Array(i),a=i,s=i;for(let l=0;l<i;l++)b0(n,()=>{let c=Fe(t[l],n),u=!1;c.subscribe(_e(r,d=>{o[l]=d,u||(u=!0,s--),s||r.next(e(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function b0(t,n,e){t?Lt(e,t,n):n()}function I0(t,n,e,r,i,o,a,s){let l=[],c=0,u=0,d=!1,y=()=>{d&&!l.length&&!c&&n.complete()},h=R=>c<r?w(R):l.push(R),w=R=>{o&&n.next(R),c++;let I=!1;We(e(R,u++)).subscribe(_e(n,M=>{i?.(M),o?h(M):n.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(c--;l.length&&c<r;){let M=l.shift();a?Lt(n,a,()=>w(M)):w(M)}y()}catch(M){n.error(M)}}))};return t.subscribe(_e(n,h,()=>{d=!0,y()})),()=>{s?.()}}function Xe(t,n,e=1/0){return fe(n)?Xe((r,i)=>re((o,a)=>n(r,o,i,a))(We(t(r,i))),e):(typeof n=="number"&&(e=n),Se((r,i)=>I0(r,i,t,e)))}function Dr(t=1/0){return Xe(Bt,t)}function T0(){return Dr(1)}function lo(...t){return T0()(Fe(t,Ln(t)))}function Ds(t){return new ie(n=>{We(t()).subscribe(n)})}function bs(...t){let n=wl(t),{args:e,keys:r}=Vl(t),i=new ie(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let u=0;u<a;u++){let d=!1;We(e[u]).subscribe(_e(o,y=>{d||(d=!0,c--),s[u]=y},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?jl(r,s):s),o.complete())}))}});return n?i.pipe(Fl(n)):i}function Hl(t=0,n,e=d0){let r=-1;return n!=null&&(El(n)?e=n:r=n),new ie(i=>{let o=D0(t)?+t-e.now():t;o<0&&(o=0);let a=0;return e.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Zd(t=0,n=Es){return t<0&&(t=0),Hl(t,t,n)}function Is(...t){let n=Ln(t),e=f0(t,1/0),r=t;return r.length?r.length===1?We(r[0]):Dr(e)(Fe(r,n)):wt}var or=new ie(ni);function Je(t,n){return Se((e,r)=>{let i=0;e.subscribe(_e(r,o=>t.call(n,o,i++)&&r.next(o)))})}function M0(t){return Se((n,e)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};n.subscribe(_e(e,c=>{r=!0,i=c,o||We(t(c)).subscribe(o=_e(e,s,l))},()=>{a=!0,(!r||!o||o.closed)&&e.complete()}))})}function Bl(t,n=Es){return M0(()=>Hl(t,n))}function sr(t){return Se((n,e)=>{let r=null,i=!1,o;r=n.subscribe(_e(e,void 0,void 0,a=>{o=We(t(a,sr(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function x0(t,n,e,r,i){return(o,a)=>{let s=e,l=n,c=0;o.subscribe(_e(a,u=>{let d=c++;l=s?t(l,u,d):(s=!0,u),r&&a.next(l)},i&&(()=>{s&&a.next(l),a.complete()})))}}function Fn(t,n){return fe(n)?Xe(t,n,1):Xe(t,1)}function br(t){return Se((n,e)=>{let r=!1;n.subscribe(_e(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function gt(t){return t<=0?()=>wt:Se((n,e)=>{let r=0;n.subscribe(_e(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Ul(t=gD){return Se((n,e)=>{let r=!1;n.subscribe(_e(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function gD(){return new ir}function Ir(t){return Se((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function ar(t,n){let e=arguments.length>=2;return r=>r.pipe(t?Je((i,o)=>t(i,o,r)):Bt,gt(1),e?br(n):Ul(()=>new ir))}function co(t){return t<=0?()=>wt:Se((n,e)=>{let r=[];n.subscribe(_e(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Qd(t,n){let e=arguments.length>=2;return r=>r.pipe(t?Je((i,o)=>t(i,o,r)):Bt,co(1),e?br(n):Ul(()=>new ir))}function Xd(t,n){return Se(x0(t,n,arguments.length>=2,!0))}function si(...t){let n=Ln(t);return Se((e,r)=>{(n?lo(t,e,n):lo(t,e)).subscribe(r)})}function He(t,n){return Se((e,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();e.subscribe(_e(r,l=>{i?.unsubscribe();let c=0,u=o++;We(t(l,u)).subscribe(i=_e(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Vn(t){return Se((n,e)=>{We(t).subscribe(_e(e,()=>e.complete(),ni)),!e.closed&&n.subscribe(e)})}function Ze(t,n,e){let r=fe(t)||n||e?{next:t,error:n,complete:e}:t;return r?Se((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(_e(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Bt}function R0(t){let n=me(null);try{return t()}finally{me(n)}}var ql="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(n,e){super(vn(n,e)),this.code=n}};function mD(t){return`NG0${Math.abs(t)}`}function vn(t,n){return`${mD(t)}${n?": "+n:""}`}var tt=globalThis;function Pe(t){for(let n in t)if(t[n]===Pe)return n;throw Error("")}function N0(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function cr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(cr).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r>=0?e.slice(0,r):e}function ff(t,n){return t?n?`${t} ${n}`:t:n||""}var _D=Pe({__forward_ref__:Pe});function Xt(t){return t.__forward_ref__=Xt,t.toString=function(){return cr(this())},t}function mt(t){return hf(t)?t():t}function hf(t){return typeof t=="function"&&t.hasOwnProperty(_D)&&t.__forward_ref__===Xt}function O0(t,n){t==null&&pf(n,t,null,"!=")}function pf(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function je(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ps(t){return vD(t,Yl)}function gf(t){return Ps(t)!==null}function vD(t,n){return t.hasOwnProperty(n)&&t[n]||null}function yD(t){let n=t?.[Yl]??null;return n||null}function ef(t){return t&&t.hasOwnProperty(Gl)?t[Gl]:null}var Yl=Pe({\u0275prov:Pe}),Gl=Pe({\u0275inj:Pe}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mf(t){return t&&!!t.\u0275providers}var _f=Pe({\u0275cmp:Pe}),vf=Pe({\u0275dir:Pe}),yf=Pe({\u0275pipe:Pe}),Cf=Pe({\u0275mod:Pe}),xs=Pe({\u0275fac:Pe}),di=Pe({__NG_ELEMENT_ID__:Pe}),P0=Pe({__NG_ENV_ID__:Pe});function Jt(t){return typeof t=="string"?t:t==null?"":String(t)}function zl(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jt(t)}var Sf=Pe({ngErrorCode:Pe}),k0=Pe({ngErrorMessage:Pe}),Ms=Pe({ngTokenPath:Pe});function Ef(t,n){return L0("",-200,n)}function Kl(t,n){throw new F(-201,!1)}function CD(t,n){t[Ms]??=[];let e=t[Ms],r;typeof n=="object"&&"multi"in n&&n?.multi===!0?(O0(n.provide,"Token with multi: true should have a provide property"),r=zl(n.provide)):r=zl(n),e[0]!==r&&t[Ms].unshift(r)}function SD(t,n){let e=t[Ms],r=t[Sf],i=t[k0]||t.message;return t.message=wD(i,r,e,n),t}function L0(t,n,e){let r=new F(n,t);return r[Sf]=n,r[k0]=t,e&&(r[Ms]=e),r}function ED(t){return t[Sf]}function wD(t,n,e=[],r=null){let i="";e&&e.length>1&&(i=` Path: ${e.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return vn(n,`${t}${o}${i}`)}var tf;function F0(){return tf}function Tt(t){let n=tf;return tf=t,n}function wf(t,n,e){let r=Ps(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&8)return null;if(n!==void 0)return n;Kl(t,"Injector")}var DD={},ai=DD,nf="__NG_DI_FLAG__",rf=class{injector;constructor(n){this.injector=n}retrieve(n,e){let r=li(e)||0;try{return this.injector.get(n,r&8?null:ai,r)}catch(i){if(zi(i))return i;throw i}}};function bD(t,n=0){let e=nl();if(e===void 0)throw new F(-203,!1);if(e===null)return wf(t,void 0,n);{let r=ID(n),i=e.retrieve(t,r);if(zi(i)){if(r.optional)return null;throw i}return i}}function U(t,n=0){return(F0()||bD)(mt(t),n)}function D(t,n){return U(t,li(n))}function li(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ID(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function of(t){let n=[];for(let e=0;e<t.length;e++){let r=mt(t[e]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],l=TD(s);typeof l=="number"?l===-1?i=s.token:o|=l:i=s}n.push(U(i,o))}else n.push(U(r))}return n}function Df(t,n){return t[nf]=n,t.prototype[nf]=n,t}function TD(t){return t[nf]}function Tr(t,n){let e=t.hasOwnProperty(xs);return e?t[xs]:null}function V0(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function j0(t){return t.flat(Number.POSITIVE_INFINITY)}function Zl(t,n){t.forEach(e=>Array.isArray(e)?Zl(e,n):n(e))}function bf(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function As(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function H0(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let o=i-2;t[i]=t[o],i--}t[n]=e,t[n+1]=r}}function B0(t,n,e){let r=fo(t,n);return r>=0?t[r|1]=e:(r=~r,H0(t,r,n,e)),r}function Ql(t,n){let e=fo(t,n);if(e>=0)return t[e|1]}function fo(t,n){return MD(t,n,1)}function MD(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<e];if(n===a)return o<<e;a>n?i=o:r=o+1}return~(i<<e)}var xr={},Ut=[],dr=new G(""),If=new G("",-1),Tf=new G(""),Rs=class{get(n,e=ai){if(e===ai){let i=L0("",-201);throw i.name="\u0275NotFound",i}return e}};function Mf(t){return t[Cf]||null}function jn(t){return t[_f]||null}function xf(t){return t[vf]||null}function U0(t){return t[yf]||null}function fr(t){return{\u0275providers:t}}function $0(...t){return{\u0275providers:Rf(!0,t),\u0275fromNgModule:!0}}function Rf(t,...n){let e=[],r=new Set,i,o=a=>{e.push(a)};return Zl(n,a=>{let s=a;Wl(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&G0(i,o),e}function G0(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Pf(i,o=>{n(o,r)})}}function Wl(t,n,e,r){if(t=mt(t),!t)return!1;let i=null,o=ef(t),a=!o&&jn(t);if(!o&&!a){let l=t.ngModule;if(o=ef(l),o)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=t}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)Wl(c,n,e,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let c;try{Zl(o.imports,u=>{Wl(u,n,e,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&G0(c,n)}if(!s){let c=Tr(i)||(()=>new i);n({provide:i,useFactory:c,deps:Ut},i),n({provide:Tf,useValue:i,multi:!0},i),n({provide:dr,useValue:()=>U(i),multi:!0},i)}let l=o.providers;if(l!=null&&!s){let c=t;Pf(l,u=>{n(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Pf(t,n){for(let e of t)mf(e)&&(e=e.\u0275providers),Array.isArray(e)?Pf(e,n):n(e)}var xD=Pe({provide:String,useValue:Pe});function z0(t){return t!==null&&typeof t=="object"&&xD in t}function RD(t){return!!(t&&t.useExisting)}function PD(t){return!!(t&&t.useFactory)}function ci(t){return typeof t=="function"}function W0(t){return!!t.useClass}var Ns=new G(""),$l={},A0={},Jd;function ho(){return Jd===void 0&&(Jd=new Rs),Jd}var Ye=class{},ui=class extends Ye{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,af(n,a=>this.processProvider(a)),this.records.set(If,uo(void 0,this)),i.has("environment")&&this.records.set(Ye,uo(void 0,this));let o=this.records.get(Ns);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tf,Ut,{self:!0}))}retrieve(n,e){let r=li(e)||0;try{return this.get(n,ai,r)}catch(i){if(zi(i))return i;throw i}}destroy(){Ts(this),this._destroyed=!0;let n=me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(n)}}onDestroy(n){return Ts(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ts(this);let e=kn(this),r=Tt(void 0),i;try{return n()}finally{kn(e),Tt(r)}}get(n,e=ai,r){if(Ts(this),n.hasOwnProperty(P0))return n[P0](this);let i=li(r),o,a=kn(this),s=Tt(void 0);try{if(!(i&4)){let c=this.records.get(n);if(c===void 0){let u=LD(n)&&Ps(n);u&&this.injectableDefInScope(u)?c=uo(sf(n),$l):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,i)}let l=i&2?ho():this.parent;return e=i&8&&e===ai?null:e,l.get(n,e)}catch(l){let c=ED(l);throw c===-200||c===-201?new F(c,null):l}finally{Tt(s),kn(a)}}resolveInjectorInitializers(){let n=me(null),e=kn(this),r=Tt(void 0),i;try{let o=this.get(dr,Ut,{self:!0});for(let a of o)a()}finally{kn(e),Tt(r),me(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(cr(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=mt(n);let e=ci(n)?n:mt(n&&n.provide),r=ND(n);if(!ci(n)&&n.multi===!0){let i=this.records.get(e);i||(i=uo(void 0,$l,!0),i.factory=()=>of(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e,r){let i=me(null);try{if(e.value===A0)throw Ef(cr(n));return e.value===$l&&(e.value=A0,e.value=e.factory(void 0,r)),typeof e.value=="object"&&e.value&&kD(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{me(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=mt(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function sf(t){let n=Ps(t),e=n!==null?n.factory:Tr(t);if(e!==null)return e;if(t instanceof G)throw new F(204,!1);if(t instanceof Function)return AD(t);throw new F(204,!1)}function AD(t){if(t.length>0)throw new F(204,!1);let e=yD(t);return e!==null?()=>e.factory(t):()=>new t}function ND(t){if(z0(t))return uo(void 0,t.useValue);{let n=Af(t);return uo(n,$l)}}function Af(t,n,e){let r;if(ci(t)){let i=mt(t);return Tr(i)||sf(i)}else if(z0(t))r=()=>mt(t.useValue);else if(PD(t))r=()=>t.useFactory(...of(t.deps||[]));else if(RD(t))r=(i,o)=>U(mt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=mt(t&&(t.useClass||t.provide));if(OD(t))r=()=>new i(...of(t.deps));else return Tr(i)||sf(i)}return r}function Ts(t){if(t.destroyed)throw new F(205,!1)}function uo(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function OD(t){return!!t.deps}function kD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LD(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function af(t,n){for(let e of t)Array.isArray(e)?af(e,n):e&&mf(e)?af(e.\u0275providers,n):n(e)}function ut(t,n){let e;t instanceof ui?(Ts(t),e=t):e=new rf(t);let r,i=kn(e),o=Tt(void 0);try{return n()}finally{kn(i),Tt(o)}}function Nf(){return F0()!==void 0||nl()!=null}var yn=0,ae=1,de=2,ct=3,en=4,tn=5,Os=6,po=7,Dt=8,fi=9,Hn=10,qe=11,go=12,Of=13,hi=14,nn=15,Rr=16,pi=17,Bn=18,ks=19,kf=20,lr=21,Xl=22,Ls=23,$t=24,gi=25,dt=26,q0=1;var Pr=7,Fs=8,mi=9,Mt=10;function Un(t){return Array.isArray(t)&&typeof t[q0]=="object"}function Cn(t){return Array.isArray(t)&&t[q0]===!0}function Lf(t){return(t.flags&4)!==0}function Ar(t){return t.componentOffset>-1}function mo(t){return(t.flags&1)===1}function $n(t){return!!t.template}function _o(t){return(t[de]&512)!==0}function _i(t){return(t[de]&256)===256}var Y0="svg",K0="math";function rn(t){for(;Array.isArray(t);)t=t[yn];return t}function Ff(t,n){return rn(n[t])}function Sn(t,n){return rn(n[t.index])}function Jl(t,n){return t.data[n]}function Vf(t,n){return t[n]}function jf(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function on(t,n){let e=n[t];return Un(e)?e:e[yn]}function Z0(t){return(t[de]&4)===4}function ec(t){return(t[de]&128)===128}function Q0(t){return Cn(t[ct])}function vi(t,n){return n==null?null:t[n]}function Hf(t){t[pi]=0}function Bf(t){t[de]&1024||(t[de]|=1024,ec(t)&&vo(t))}function X0(t,n){for(;t>0;)n=n[hi],t--;return n}function Vs(t){return!!(t[de]&9216||t[$t]?.dirty)}function tc(t){t[Hn].changeDetectionScheduler?.notify(8),t[de]&64&&(t[de]|=1024),Vs(t)&&vo(t)}function vo(t){t[Hn].changeDetectionScheduler?.notify(0);let n=Mr(t);for(;n!==null&&!(n[de]&8192||(n[de]|=8192,!ec(n)));)n=Mr(n)}function Uf(t,n){if(_i(t))throw new F(911,!1);t[lr]===null&&(t[lr]=[]),t[lr].push(n)}function J0(t,n){if(t[lr]===null)return;let e=t[lr].indexOf(n);e!==-1&&t[lr].splice(e,1)}function Mr(t){let n=t[ct];return Cn(n)?n[ct]:n}function $f(t){return t[po]??=[]}function Gf(t){return t.cleanup??=[]}function e_(t,n,e,r){let i=$f(n);i.push(e),t.firstCreatePass&&Gf(t).push(r,i.length-1)}var ve={lFrame:f_(null),bindingsEnabled:!0,skipHydrationRootTNode:null},js=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(js||{}),FD=0,lf=!1;function t_(){return ve.lFrame.elementDepthCount}function n_(){ve.lFrame.elementDepthCount++}function zf(){ve.lFrame.elementDepthCount--}function nc(){return ve.bindingsEnabled}function r_(){return ve.skipHydrationRootTNode!==null}function Wf(t){return ve.skipHydrationRootTNode===t}function qf(){ve.skipHydrationRootTNode=null}function he(){return ve.lFrame.lView}function ft(){return ve.lFrame.tView}function j(t){return ve.lFrame.contextLView=t,t[Dt]}function H(t){return ve.lFrame.contextLView=null,t}function _t(){let t=Yf();for(;t!==null&&t.type===64;)t=t.parent;return t}function Yf(){return ve.lFrame.currentTNode}function i_(){let t=ve.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function yo(t,n){let e=ve.lFrame;e.currentTNode=t,e.isParent=n}function Kf(){return ve.lFrame.isParent}function o_(){ve.lFrame.isParent=!1}function Zf(t){pf("Must never be called in production mode"),FD=t}function Qf(){return lf}function Xf(t){let n=lf;return lf=t,n}function Co(){let t=ve.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Jf(){return ve.lFrame.bindingIndex}function s_(t){return ve.lFrame.bindingIndex=t}function yi(){return ve.lFrame.bindingIndex++}function rc(t){let n=ve.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function a_(){return ve.lFrame.inI18n}function l_(t,n){let e=ve.lFrame;e.bindingIndex=e.bindingRootIndex=t,ic(n)}function c_(){return ve.lFrame.currentDirectiveIndex}function ic(t){ve.lFrame.currentDirectiveIndex=t}function u_(t){let n=ve.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function eh(){return ve.lFrame.currentQueryIndex}function oc(t){ve.lFrame.currentQueryIndex=t}function VD(t){let n=t[ae];return n.type===2?n.declTNode:n.type===1?t[tn]:null}function th(t,n,e){if(e&4){let i=n,o=t;for(;i=i.parent,i===null&&!(e&1);)if(i=VD(o),i===null||(o=o[hi],i.type&10))break;if(i===null)return!1;n=i,t=o}let r=ve.lFrame=d_();return r.currentTNode=n,r.lView=t,!0}function sc(t){let n=d_(),e=t[ae];ve.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function d_(){let t=ve.lFrame,n=t===null?null:t.child;return n===null?f_(t):n}function f_(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function h_(){let t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nh=h_;function ac(){let t=h_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function p_(t){return(ve.lFrame.contextLView=X0(t,ve.lFrame.contextLView))[Dt]}function hr(){return ve.lFrame.selectedIndex}function Nr(t){ve.lFrame.selectedIndex=t}function Hs(){let t=ve.lFrame;return Jl(t.tView,t.selectedIndex)}function g_(){return ve.lFrame.currentNamespace}var m_=!0;function lc(){return m_}function Bs(t){m_=t}function cf(t,n=null,e=null,r){let i=rh(t,n,e,r);return i.resolveInjectorInitializers(),i}function rh(t,n=null,e=null,r,i=new Set){let o=[e||Ut,$0(t)];return r=r||(typeof t=="object"?void 0:cr(t)),new ui(o,n||ho(),r||null,i)}var Ve=class t{static THROW_IF_NOT_FOUND=ai;static NULL=new Rs;static create(n,e){if(Array.isArray(n))return cf({name:""},e,n,"");{let r=n.name??"";return cf({name:r},n.parent,n.providers,r)}}static \u0275prov=O({token:t,providedIn:"any",factory:()=>U(If)});static __NG_ELEMENT_ID__=-1},Ae=new G(""),sn=(()=>{class t{static __NG_ELEMENT_ID__=jD;static __NG_ENV_ID__=e=>e}return t})(),uf=class extends sn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return _i(this._lView)}onDestroy(n){let e=this._lView;return Uf(e,n),()=>J0(e,n)}};function jD(){return new uf(he())}var _n=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Gt=new G("",{providedIn:"root",factory:()=>{let t=D(Ye),n;return e=>{t.destroyed&&!n?setTimeout(()=>{throw e}):(n??=t.get(_n),n.handleError(e))}}}),__={provide:dr,useValue:()=>void D(_n),multi:!0};function ih(t){return typeof t=="function"&&t[Et]!==void 0}function Ft(t,n){let[e,r,i]=Fd(t,n?.equal),o=e,a=o[Et];return o.set=r,o.update=i,o.asReadonly=v_.bind(o),o}function v_(){let t=this[Et];if(t.readonlyFn===void 0){let n=()=>this();n[Et]=t,t.readonlyFn=n}return t.readonlyFn}function oh(t){return ih(t)&&typeof t.set=="function"}var ur=class{},Us=new G("",{providedIn:"root",factory:()=>!1});var sh=new G(""),ah=new G("");var cc=(()=>{class t{view;node;constructor(e,r){this.view=e,this.node=r}static __NG_ELEMENT_ID__=HD}return t})();function HD(){return new cc(he(),_t())}var Gn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})(),$s=(()=>{class t{internalPendingTasks=D(Gn);scheduler=D(ur);errorHandler=D(Gt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let r=this.add();e().catch(this.errorHandler).finally(r)}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})();function Gs(...t){}var lh=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>new df})}return t})(),df=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,r=this.queues.get(e);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let r=this.queues.get(e);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,r]of this.queues)e===null?n||=this.flushQueue(r):n||=e.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,e=!0,r.run());return e}};function Io(t){return{toString:t}.toString()}var uc="__parameters__";function YD(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function J_(t,n,e){return Io(()=>{let r=YD(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(l,c,u){let d=l.hasOwnProperty(uc)?l[uc]:Object.defineProperty(l,uc,{value:[]})[uc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Js=Df(J_("Optional"),8);var Jh=Df(J_("SkipSelf"),4);function ev(t){let n=tt.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function KD(t){return typeof t=="function"}var Cc=class{previousValue;currentValue;firstChange;constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function tv(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}var an=(()=>{let t=()=>nv;return t.ngInherit=!0,t})();function nv(t){return t.type.prototype.ngOnChanges&&(t.setInput=QD),ZD}function ZD(){let t=iv(this),n=t?.current;if(n){let e=t.previous;if(e===xr)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function QD(t,n,e,r,i){let o=this.declaredInputs[r],a=iv(t)||XD(t,{previous:xr,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new Cc(c&&c.currentValue,e,l===xr),tv(t,n,i,e)}var rv="__ngSimpleChanges__";function iv(t){return t[rv]||null}function XD(t,n){return t[rv]=n}var y_=[];var Le=function(t,n=null,e){for(let r=0;r<y_.length;r++){let i=y_[r];i(t,n,e)}};function JD(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let a=nv(n);(e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function ov(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(t.contentHooks??=[]).push(-e,a),s&&((t.contentHooks??=[]).push(e,s),(t.contentCheckHooks??=[]).push(e,s)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function mc(t,n,e){sv(t,n,3,e)}function _c(t,n,e,r){(t[de]&3)===e&&sv(t,n,e,r)}function ch(t,n){let e=t[de];(e&3)===n&&(e&=16383,e+=1,t[de]=e)}function sv(t,n,e,r){let i=r!==void 0?t[pi]&65535:0,o=r??-1,a=n.length-1,s=0;for(let l=i;l<a;l++)if(typeof n[l+1]=="number"){if(s=n[l],r!=null&&s>=r)break}else n[l]<0&&(t[pi]+=65536),(s<o||o==-1)&&(eb(t,e,n,l),t[pi]=(t[pi]&4294901760)+l+2),l++}function C_(t,n){Le(4,t,n);let e=me(null);try{n.call(t)}finally{me(e),Le(5,t,n)}}function eb(t,n,e,r){let i=e[r]<0,o=e[r+1],a=i?-e[r]:e[r],s=t[a];i?t[de]>>14<t[pi]>>16&&(t[de]&3)===n&&(t[de]+=16384,C_(s,o)):C_(s,o)}var Eo=-1,Ei=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=e,this.injectImpl=r}};function tb(t){return(t.flags&8)!==0}function nb(t){return(t.flags&16)!==0}function rb(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let o=e[r++],a=e[r++],s=e[r++];t.setAttribute(n,a,s,o)}else{let o=i,a=e[++r];ob(o)?t.setProperty(n,o,a):t.setAttribute(n,o,a),r++}}return r}function ib(t){return t===3||t===4||t===6}function ob(t){return t.charCodeAt(0)===64}function wo(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?S_(t,e,i,null,n[++r]):S_(t,e,i,null,null))}}return t}function S_(t,n,e,r,i){let o=0,a=t.length;if(n===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===n){a=-1;break}else if(s>n){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===e){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,n),o=a+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i)}function av(t){return t!==Eo}function Sc(t){return t&32767}function sb(t){return t>>16}function Ec(t,n){let e=sb(t),r=n;for(;e>0;)r=r[hi],e--;return r}var Ch=!0;function wc(t){let n=Ch;return Ch=t,n}var ab=256,lv=ab-1,cv=5,lb=0,zn={};function cb(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(di)&&(r=e[di]),r==null&&(r=e[di]=lb++);let i=r&lv,o=1<<i;n.data[t+(i>>cv)]|=o}function Dc(t,n){let e=uv(t,n);if(e!==-1)return e;let r=n[ae];r.firstCreatePass&&(t.injectorIndex=n.length,uh(r.data,t),uh(n,null),uh(r.blueprint,null));let i=ep(t,n),o=t.injectorIndex;if(av(i)){let a=Sc(i),s=Ec(i,n),l=s[ae].data;for(let c=0;c<8;c++)n[o+c]=s[a+c]|l[a+c]}return n[o+8]=i,o}function uh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function uv(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function ep(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=gv(i),r===null)return Eo;if(e++,i=i[hi],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return Eo}function Sh(t,n,e){cb(t,n,e)}function dv(t,n,e){if(e&8||t!==void 0)return t;Kl(n,"NodeInjector")}function fv(t,n,e,r){if(e&8&&r===void 0&&(r=null),(e&3)===0){let i=t[fi],o=Tt(void 0);try{return i?i.get(n,r,e&8):wf(n,r,e&8)}finally{Tt(o)}}return dv(r,n,e)}function hv(t,n,e,r=0,i){if(t!==null){if(n[de]&2048&&!(r&2)){let a=hb(t,n,e,r,zn);if(a!==zn)return a}let o=pv(t,n,e,r,zn);if(o!==zn)return o}return fv(n,e,r,i)}function pv(t,n,e,r,i){let o=db(e);if(typeof o=="function"){if(!th(n,t,r))return r&1?dv(i,e,r):fv(n,e,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Kl(e);else return a}finally{nh()}}else if(typeof o=="number"){let a=null,s=uv(t,n),l=Eo,c=r&1?n[nn][tn]:null;for((s===-1||r&4)&&(l=s===-1?ep(t,n):n[s+8],l===Eo||!w_(r,!1)?s=-1:(a=n[ae],s=Sc(l),n=Ec(l,n)));s!==-1;){let u=n[ae];if(E_(o,s,u.data)){let d=ub(s,n,e,a,r,c);if(d!==zn)return d}l=n[s+8],l!==Eo&&w_(r,n[ae].data[s+8]===c)&&E_(o,s,n)?(a=u,s=Sc(l),n=Ec(l,n)):s=-1}}return i}function ub(t,n,e,r,i,o){let a=n[ae],s=a.data[t+8],l=r==null?Ar(s)&&Ch:r!=a&&(s.type&3)!==0,c=i&1&&o===s,u=vc(s,a,e,l,c);return u!==null?qs(n,a,u,s,i):zn}function vc(t,n,e,r,i){let o=t.providerIndexes,a=n.data,s=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?s:s+u,y=i?s+u:c;for(let h=d;h<y;h++){let w=a[h];if(h<l&&e===w||h>=l&&w.type===e)return h}if(i){let h=a[l];if(h&&$n(h)&&h.type===e)return l}return null}function qs(t,n,e,r,i){let o=t[e],a=n.data;if(o instanceof Ei){let s=o;if(s.resolving){let h=zl(a[e]);throw Ef(h)}let l=wc(s.canSeeViewProviders);s.resolving=!0;let c=a[e].type||a[e],u,d=s.injectImpl?Tt(s.injectImpl):null,y=th(t,r,0);try{o=t[e]=s.factory(void 0,i,a,t,r),n.firstCreatePass&&e>=r.directiveStart&&JD(e,a[e],n)}finally{d!==null&&Tt(d),wc(l),s.resolving=!1,nh()}}return o}function db(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(di)?t[di]:void 0;return typeof n=="number"?n>=0?n&lv:fb:n}function E_(t,n,e){let r=1<<t;return!!(e[n+(t>>cv)]&r)}function w_(t,n){return!(t&2)&&!(t&1&&n)}var Si=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return hv(this._tNode,this._lView,n,li(r),e)}};function fb(){return new Si(_t(),he())}function Lr(t){return Io(()=>{let n=t.prototype.constructor,e=n[xs]||Eh(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xs]||Eh(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eh(t){return hf(t)?()=>{let n=Eh(mt(t));return n&&n()}:Tr(t)}function hb(t,n,e,r,i){let o=t,a=n;for(;o!==null&&a!==null&&a[de]&2048&&!_o(a);){let s=pv(o,a,e,r|2,zn);if(s!==zn)return s;let l=o.parent;if(!l){let c=a[kf];if(c){let u=c.get(e,zn,r);if(u!==zn)return u}l=gv(a),a=a[hi]}o=l}return i}function gv(t){let n=t[ae],e=n.type;return e===2?n.declTNode:e===1?t[tn]:null}function pb(){return To(_t(),he())}function To(t,n){return new Qe(Sn(t,n))}var Qe=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=pb}return t})();function gb(t){return t instanceof Qe?t.nativeElement:t}function mb(){return this._results[Symbol.iterator]()}var bc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new oe}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=j0(n);(this._changesDetected=!V0(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mb};function mv(t){return(t.flags&128)===128}var tp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tp||{}),_v=new Map,_b=0;function vb(){return _b++}function yb(t){_v.set(t[ks],t)}function wh(t){_v.delete(t[ks])}var D_="__ngContext__";function Do(t,n){Un(n)?(t[D_]=n[ks],yb(n)):t[D_]=n}function vv(t){return Cv(t[go])}function yv(t){return Cv(t[en])}function Cv(t){for(;t!==null&&!Cn(t);)t=t[en];return t}var Dh;function np(t){Dh=t}function rp(){if(Dh!==void 0)return Dh;if(typeof document<"u")return document;throw new F(210,!1)}var Mo=new G("",{providedIn:"root",factory:()=>Cb}),Cb="ng",Lc=new G(""),Fr=new G("",{providedIn:"platform",factory:()=>"unknown"});var Fc=new G("",{providedIn:"root",factory:()=>rp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Sb="h",Eb="b";var Sv=!1,Ev=new G("",{providedIn:"root",factory:()=>Sv});var wb=(t,n,e,r)=>{};function Db(t,n,e,r){wb(t,n,e,r)}function ip(t){return(t.flags&32)===32}var bb=()=>null;function wv(t,n,e=!1){return bb(t,n,e)}function Dv(t,n){let e=t.contentQueries;if(e!==null){let r=me(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],a=e[i+1];if(a!==-1){let s=t.data[a];oc(o),s.contentQueries(2,n[a],a)}}}finally{me(r)}}}function bh(t,n,e){oc(0);let r=me(null);try{n(t,e)}finally{me(r)}}function op(t,n,e){if(Lf(n)){let r=me(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let a=i;a<o;a++){let s=t.data[a];if(s.contentQueries){let l=e[a];s.contentQueries(1,l,a)}}}finally{me(r)}}}var pr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pr||{}),dc;function Ib(){if(dc===void 0&&(dc=null,tt.trustedTypes))try{dc=tt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dc}function Vc(t){return Ib()?.createHTML(t)||t}var fc;function Tb(){if(fc===void 0&&(fc=null,tt.trustedTypes))try{fc=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fc}function b_(t){return Tb()?.createHTML(t)||t}var gr=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ql})`}},Ih=class extends gr{getTypeName(){return"HTML"}},Th=class extends gr{getTypeName(){return"Style"}},Mh=class extends gr{getTypeName(){return"Script"}},xh=class extends gr{getTypeName(){return"URL"}},Rh=class extends gr{getTypeName(){return"ResourceURL"}};function bn(t){return t instanceof gr?t.changingThisBreaksApplicationSecurity:t}function mr(t,n){let e=bv(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ql})`)}return e===n}function bv(t){return t instanceof gr&&t.getTypeName()||null}function sp(t){return new Ih(t)}function ap(t){return new Th(t)}function lp(t){return new Mh(t)}function cp(t){return new xh(t)}function up(t){return new Rh(t)}function Mb(t){let n=new Ah(t);return xb()?new Ph(n):n}var Ph=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(Vc(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},Ah=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=Vc(n),e}};function xb(){try{return!!new window.DOMParser().parseFromString(Vc(""),"text/html")}catch{return!1}}var Rb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ea(t){return t=String(t),t.match(Rb)?t:"unsafe:"+t}function _r(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function ta(...t){let n={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}var Iv=_r("area,br,col,hr,img,wbr"),Tv=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mv=_r("rp,rt"),Pb=ta(Mv,Tv),Ab=ta(Tv,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nb=ta(Mv,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),I_=ta(Iv,Ab,Nb,Pb),xv=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ob=_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kb=_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Lb=ta(xv,Ob,kb),Fb=_r("script,style,template"),Nh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=Hb(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=jb(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(n){let e=T_(n).toLowerCase();if(!I_.hasOwnProperty(e))return this.sanitizedSomething=!0,!Fb.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),a=o.name,s=a.toLowerCase();if(!Lb.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;xv[s]&&(l=ea(l)),this.buf.push(" ",a,'="',M_(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=T_(n).toLowerCase();I_.hasOwnProperty(e)&&!Iv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(M_(n))}};function Vb(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function jb(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw Rv(n);return n}function Hb(t){let n=t.firstChild;if(n&&Vb(t,n))throw Rv(n);return n}function T_(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function Rv(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Bb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ub=/([^\#-~ |!])/g;function M_(t){return t.replace(/&/g,"&amp;").replace(Bb,function(n){let e=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(Ub,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var hc;function jc(t,n){let e=null;try{hc=hc||Mb(t);let r=n?String(n):"";e=hc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=hc.getInertBodyElement(r)}while(r!==o);let s=new Nh().sanitizeChildren(x_(e)||e);return Vc(s)}finally{if(e){let r=x_(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function x_(t){return"content"in t&&$b(t)?t.content:null}function $b(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var In=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(In||{});function bt(t){let n=Pv();return n?b_(n.sanitize(In.HTML,t)||""):mr(t,"HTML")?b_(bn(t)):jc(rp(),Jt(t))}function Ne(t){let n=Pv();return n?n.sanitize(In.URL,t)||"":mr(t,"URL")?bn(t):ea(Jt(t))}function Pv(){let t=he();return t&&t[Hn].sanitizer}var Gb=/^>|^->|<!--|-->|--!>|<!-$/g,zb=/(<|>)/g,Wb="\u200B$1\u200B";function qb(t){return t.replace(Gb,n=>n.replace(zb,Wb))}function Av(t){return t instanceof Function?t():t}function Yb(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}var Nv="ng-template";function Kb(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&Yb(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(dp(t))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function dp(t){return t.type===4&&t.value!==Nv}function Zb(t,n,e){let r=t.type===4&&!e?Nv:t.value;return n===r}function Qb(t,n,e){let r=4,i=t.attrs,o=i!==null?eI(i):0,a=!1;for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number"){if(!a&&!En(r)&&!En(l))return!1;if(a&&En(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!Zb(t,l,e)||l===""&&n.length===1){if(En(r))return!1;a=!0}}else if(r&8){if(i===null||!Kb(t,i,l,e)){if(En(r))return!1;a=!0}}else{let c=n[++s],u=Xb(l,i,dp(t),e);if(u===-1){if(En(r))return!1;a=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(En(r))return!1;a=!0}}}}return En(r)||a}function En(t){return(t&1)===0}function Xb(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){let a=n[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=n[++i];for(;typeof s=="string";)s=n[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return tI(n,t)}function Jb(t,n,e=!1){for(let r=0;r<n.length;r++)if(Qb(t,n[r],e))return!0;return!1}function eI(t){for(let n=0;n<t.length;n++){let e=t[n];if(ib(e))return n}return t.length}function tI(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function R_(t,n){return t?":not("+n.trim()+")":n}function nI(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let a=t[e];if(typeof a=="string")if(r&2){let s=t[++e];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!En(a)&&(n+=R_(o,i),i=""),r=a,o=o||!En(r);e++}return i!==""&&(n+=R_(o,i)),n}function rI(t){return t.map(nI).join(",")}function iI(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&n.push(o,t[++r]):i===8&&e.push(o);else{if(!En(i))break;i=o}r++}return e.length&&n.push(1,...e),n}var xt={};function oI(t,n){return t.createText(n)}function sI(t,n,e){t.setValue(n,e)}function aI(t,n){return t.createComment(qb(n))}function Ov(t,n,e){return t.createElement(n,e)}function Ic(t,n,e,r,i){t.insertBefore(n,e,r,i)}function kv(t,n,e){t.appendChild(n,e)}function P_(t,n,e,r,i){r!==null?Ic(t,n,e,r,i):kv(t,n,e)}function lI(t,n,e){t.removeChild(null,n,e)}function cI(t,n,e){t.setAttribute(n,"style",e)}function uI(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Lv(t,n,e){let{mergedAttrs:r,classes:i,styles:o}=e;r!==null&&rb(t,n,r),i!==null&&uI(t,n,i),o!==null&&cI(t,n,o)}function fp(t,n,e,r,i,o,a,s,l,c,u){let d=dt+r,y=d+i,h=dI(d,y),w=typeof c=="function"?c():c;return h[ae]={type:t,blueprint:h,template:e,queries:null,viewQuery:s,declTNode:n,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:u}}function dI(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:xt);return e}function fI(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=fp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function hp(t,n,e,r,i,o,a,s,l,c,u){let d=n.blueprint.slice();return d[yn]=i,d[de]=r|4|128|8|64|1024,(c!==null||t&&t[de]&2048)&&(d[de]|=2048),Hf(d),d[ct]=d[hi]=t,d[Dt]=e,d[Hn]=a||t&&t[Hn],d[qe]=s||t&&t[qe],d[fi]=l||t&&t[fi]||null,d[tn]=o,d[ks]=vb(),d[Os]=u,d[kf]=c,d[nn]=n.type==2?t[nn]:d,d}function hI(t,n,e){let r=Sn(n,t),i=fI(e),o=t[Hn].rendererFactory,a=pp(t,hp(t,i,null,Fv(e),r,n,null,o.createRenderer(r,e),null,null,null));return t[n.index]=a}function Fv(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Vv(t,n,e,r){if(e===0)return-1;let i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function pp(t,n){return t[go]?t[Of][en]=n:t[go]=n,t[Of]=n,n}function p(t=1){jv(ft(),he(),hr()+t,!1)}function jv(t,n,e,r){if(!r)if((n[de]&3)===3){let o=t.preOrderCheckHooks;o!==null&&mc(n,o,e)}else{let o=t.preOrderHooks;o!==null&&_c(n,o,0,e)}Nr(e)}var Hc=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hc||{});function Oh(t,n,e,r){let i=me(null);try{let[o,a,s]=t.inputs[e],l=null;(a&Hc.SignalBased)!==0&&(l=n[o][Et]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):s!==null&&(r=s.call(n,r)),t.setInput!==null?t.setInput(n,l,r,e,o):tv(n,l,o,r)}finally{me(i)}}var wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wn||{}),pI;function gp(t,n){return pI(t,n)}function So(t,n,e,r,i){if(r!=null){let o,a=!1;Cn(r)?o=r:Un(r)&&(a=!0,r=r[yn]);let s=rn(r);t===0&&e!==null?i==null?kv(n,e,s):Ic(n,e,s,i||null,!0):t===1&&e!==null?Ic(n,e,s,i||null,!0):t===2?lI(n,s,a):t===3&&n.destroyNode(s),o!=null&&II(n,t,o,e,i)}}function gI(t,n){Hv(t,n),n[yn]=null,n[tn]=null}function mI(t,n,e,r,i,o){r[yn]=i,r[tn]=n,Bc(t,r,e,1,i,o)}function Hv(t,n){n[Hn].changeDetectionScheduler?.notify(9),Bc(t,n,n[qe],2,null,null)}function _I(t){let n=t[go];if(!n)return dh(t[ae],t);for(;n;){let e=null;if(Un(n))e=n[go];else{let r=n[Mt];r&&(e=r)}if(!e){for(;n&&!n[en]&&n!==t;)Un(n)&&dh(n[ae],n),n=n[ct];n===null&&(n=t),Un(n)&&dh(n[ae],n),e=n&&n[en]}n=e}}function mp(t,n){let e=t[mi],r=e.indexOf(n);e.splice(r,1)}function Bv(t,n){if(_i(n))return;let e=n[qe];e.destroyNode&&Bc(t,n,e,3,null,null),_I(n)}function dh(t,n){if(_i(n))return;let e=me(null);try{n[de]&=-129,n[de]|=256,n[$t]&&Cs(n[$t]),yI(t,n),vI(t,n),n[ae].type===1&&n[qe].destroy();let r=n[Rr];if(r!==null&&Cn(n[ct])){r!==n[ct]&&mp(r,n);let i=n[Bn];i!==null&&i.detachView(t)}wh(n)}finally{me(e)}}function vI(t,n){let e=t.cleanup,r=n[po];if(e!==null)for(let a=0;a<e.length-1;a+=2)if(typeof e[a]=="string"){let s=e[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[e[a+1]];e[a].call(s)}r!==null&&(n[po]=null);let i=n[lr];if(i!==null){n[lr]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=n[Ls];if(o!==null){n[Ls]=null;for(let a of o)a.destroy()}}function yI(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof Ei)){let o=e[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],l=o[a+1];Le(4,s,l);try{l.call(s)}finally{Le(5,s,l)}}else{Le(4,i,o);try{o.call(i)}finally{Le(5,i,o)}}}}}function CI(t,n,e){return SI(t,n.parent,e)}function SI(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[yn];if(Ar(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===pr.None||i===pr.Emulated)return null}return Sn(r,e)}function EI(t,n,e){return DI(t,n,e)}function wI(t,n,e){return t.type&40?Sn(t,e):null}var DI=wI,A_;function _p(t,n,e,r){let i=CI(t,r,n),o=n[qe],a=r.parent||n[tn],s=EI(a,r,n);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)P_(o,i,e[l],s,!1);else P_(o,i,e,s,!1);A_!==void 0&&A_(o,r,n,e,i)}function zs(t,n){if(n!==null){let e=n.type;if(e&3)return Sn(n,t);if(e&4)return kh(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return zs(t,r);{let i=t[n.index];return Cn(i)?kh(-1,i):rn(i)}}else{if(e&128)return zs(t,n.next);if(e&32)return gp(n,t)()||rn(t[n.index]);{let r=Uv(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Mr(t[nn]);return zs(i,r)}else return zs(t,n.next)}}}return null}function Uv(t,n){if(n!==null){let r=t[nn][tn],i=n.projection;return r.projection[i]}return null}function kh(t,n){let e=Mt+t+1;if(e<n.length){let r=n[e],i=r[ae].firstChild;if(i!==null)return zs(r,i)}return n[Pr]}function vp(t,n,e,r,i,o,a){for(;e!=null;){if(e.type===128){e=e.next;continue}let s=r[e.index],l=e.type;if(a&&n===0&&(s&&Do(rn(s),r),e.flags|=2),!ip(e))if(l&8)vp(t,n,e.child,r,i,o,!1),So(n,t,i,s,o);else if(l&32){let c=gp(e,r),u;for(;u=c();)So(n,t,i,u,o);So(n,t,i,s,o)}else l&16?bI(t,n,r,e,i,o):So(n,t,i,s,o);e=a?e.projectionNext:e.next}}function Bc(t,n,e,r,i,o){vp(e,r,t.firstChild,n,i,o,!1)}function bI(t,n,e,r,i,o){let a=e[nn],l=a[tn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];So(n,t,i,u,o)}else{let c=l,u=a[ct];mv(r)&&(c.flags|=128),vp(t,n,c,u,i,o,!0)}}function II(t,n,e,r,i){let o=e[Pr],a=rn(e);o!==a&&So(n,t,r,o,i);for(let s=Mt;s<e.length;s++){let l=e[s];Bc(l[ae],l,t,n,r,o)}}function TI(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?t.removeStyle(e,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wn.Important),t.setStyle(e,r,i,o))}}function $v(t,n,e,r,i){let o=hr(),a=r&2;try{Nr(-1),a&&n.length>dt&&jv(t,n,dt,!1),Le(a?2:0,i,e),e(r,i)}finally{Nr(o),Le(a?3:1,i,e)}}function Uc(t,n,e){NI(t,n,e),(e.flags&64)===64&&OI(t,n,e)}function $c(t,n,e=Sn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?e(n,t):t[a];t[i++]=s}}}function MI(t,n,e,r){let o=r.get(Ev,Sv)||e===pr.ShadowDom,a=t.selectRootElement(n,o);return xI(a),a}function xI(t){RI(t)}var RI=()=>null;function PI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gv(t,n,e,r,i,o){let a=n[ae];if(Ep(t,a,n,e,r)){Ar(t)&&AI(n,t.index);return}t.type&3&&(e=PI(e)),zv(t,n,e,r,i,o)}function zv(t,n,e,r,i,o){if(t.type&3){let a=Sn(t,n);r=o!=null?o(r,t.value||"",e):r,i.setProperty(a,e,r)}else t.type&12}function AI(t,n){let e=on(n,t);e[de]&16||(e[de]|=64)}function NI(t,n,e){let r=e.directiveStart,i=e.directiveEnd;Ar(e)&&hI(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||Dc(e,n);let o=e.initialInputs;for(let a=r;a<i;a++){let s=t.data[a],l=qs(n,t,a,e);if(Do(l,n),o!==null&&VI(n,a-r,l,s,e,o),$n(s)){let c=on(e.index,n);c[Dt]=qs(n,t,a,e)}}}function OI(t,n,e){let r=e.directiveStart,i=e.directiveEnd,o=e.index,a=c_();try{Nr(o);for(let s=r;s<i;s++){let l=t.data[s],c=n[s];ic(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&kI(l,c)}}finally{Nr(-1),ic(a)}}function kI(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function yp(t,n){let e=t.directiveRegistry,r=null;if(e)for(let i=0;i<e.length;i++){let o=e[i];Jb(n,o.selectors,!1)&&(r??=[],$n(o)?r.unshift(o):r.push(o))}return r}function LI(t,n,e,r,i,o){let a=Sn(t,n);FI(n[qe],a,o,t.value,e,r,i)}function FI(t,n,e,r,i,o,a){if(o==null)t.removeAttribute(n,i,e);else{let s=a==null?Jt(o):a(o,r||"",i);t.setAttribute(n,i,s,e)}}function VI(t,n,e,r,i,o){let a=o[n];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];Oh(r,e,l,c)}}function Cp(t,n,e,r,i){let o=dt+e,a=n[ae],s=i(a,n,t,r,e);n[o]=s,yo(t,!0);let l=t.type===2;return l?(Lv(n[qe],s,t),(t_()===0||mo(t))&&Do(s,n),n_()):Do(s,n),lc()&&(!l||!ip(t))&&_p(a,n,s,t),t}function Sp(t){let n=t;return Kf()?o_():(n=n.parent,yo(n,!1)),n}function jI(t,n){let e=t[fi];if(!e)return;e.get(Gt,null)?.(n)}function Ep(t,n,e,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],u=a[l+1],d=n.data[c];Oh(d,e[c],u,i),s=!0}if(o)for(let l of o){let c=e[l],u=n.data[l];Oh(u,c,r,i),s=!0}return s}function HI(t,n){let e=on(n,t),r=e[ae];BI(r,e);let i=e[yn];i!==null&&e[Os]===null&&(e[Os]=wv(i,e[fi])),Le(18),wp(r,e,e[Dt]),Le(19,e[Dt])}function BI(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function wp(t,n,e){sc(n);try{let r=t.viewQuery;r!==null&&bh(1,r,e);let i=t.template;i!==null&&$v(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Bn]?.finishViewCreation(t),t.staticContentQueries&&Dv(t,n),t.staticViewQueries&&bh(2,t.viewQuery,e);let o=t.components;o!==null&&UI(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[de]&=-5,ac()}}function UI(t,n){for(let e=0;e<n.length;e++)HI(t,n[e])}function $I(t,n,e,r){let i=me(null);try{let o=n.tView,s=t[de]&4096?4096:16,l=hp(t,o,e,s,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[n.index];l[Rr]=c;let u=t[Bn];return u!==null&&(l[Bn]=u.createEmbeddedView(o)),wp(o,l,e),l}finally{me(i)}}function N_(t,n){return!n||n.firstChild===null||mv(t)}var O_=!1,GI=new G("");function Ys(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=n[e.index];o!==null&&r.push(rn(o)),Cn(o)&&Wv(o,r);let a=e.type;if(a&8)Ys(t,n,e.child,r);else if(a&32){let s=gp(e,n),l;for(;l=s();)r.push(l)}else if(a&16){let s=Uv(n,e);if(Array.isArray(s))r.push(...s);else{let l=Mr(n[nn]);Ys(l[ae],l,s,r,!0)}}e=i?e.projectionNext:e.next}return r}function Wv(t,n){for(let e=Mt;e<t.length;e++){let r=t[e],i=r[ae].firstChild;i!==null&&Ys(r[ae],r,i,n)}t[Pr]!==t[yn]&&n.push(t[Pr])}function qv(t){if(t[gi]!==null){for(let n of t[gi])n.impl.addSequence(n);t[gi].length=0}}var Yv=[];function zI(t){return t[$t]??WI(t)}function WI(t){let n=Yv.pop()??Object.create(YI);return n.lView=t,n}function qI(t){t.lView[$t]!==t&&(t.lView=null,Yv.push(t))}var YI=ue(N({},Jr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{vo(t.lView)},consumerOnSignalRead(){this.lView[$t]=this}});function KI(t){let n=t[$t]??Object.create(ZI);return n.lView=t,n}var ZI=ue(N({},Jr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=Mr(t.lView);for(;n&&!Kv(n[ae]);)n=Mr(n);n&&Bf(n)},consumerOnSignalRead(){this.lView[$t]=this}});function Kv(t){return t.type!==2}function Zv(t){if(t[Ls]===null)return;let n=!0;for(;n;){let e=!1;for(let r of t[Ls])r.dirty&&(e=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=e&&!!(t[de]&8192)}}var QI=100;function Dp(t,n=0){let r=t[Hn].rendererFactory,i=!1;i||r.begin?.();try{XI(t,n)}finally{i||r.end?.()}}function XI(t,n){let e=Qf();try{Xf(!0),Lh(t,n);let r=0;for(;Vs(t);){if(r===QI)throw new F(103,!1);r++,Lh(t,1)}}finally{Xf(e)}}function Qv(t,n){Zf(n?js.Exhaustive:js.OnlyDirtyViews);try{Dp(t)}finally{Zf(js.Off)}}function JI(t,n,e,r){if(_i(n))return;let i=n[de],o=!1,a=!1;sc(n);let s=!0,l=null,c=null;o||(Kv(t)?(c=zI(n),l=ei(c)):ll()===null?(s=!1,c=KI(n),l=ei(c)):n[$t]&&(Cs(n[$t]),n[$t]=null));try{Hf(n),s_(t.bindingStartIndex),e!==null&&$v(t,n,e,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&mc(n,h,null)}else{let h=t.preOrderHooks;h!==null&&_c(n,h,0,null),ch(n,0)}if(a||eT(n),Zv(n),Xv(n,0),t.contentQueries!==null&&Dv(t,n),!o)if(u){let h=t.contentCheckHooks;h!==null&&mc(n,h)}else{let h=t.contentHooks;h!==null&&_c(n,h,1),ch(n,1)}nT(t,n);let d=t.components;d!==null&&ey(n,d,0);let y=t.viewQuery;if(y!==null&&bh(2,y,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&mc(n,h)}else{let h=t.viewHooks;h!==null&&_c(n,h,2),ch(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[Xl]){for(let h of n[Xl])h();n[Xl]=null}o||(qv(n),n[de]&=-73)}catch(u){throw o||vo(n),u}finally{c!==null&&(qi(c,l),s&&qI(c)),ac()}}function Xv(t,n){for(let e=vv(t);e!==null;e=yv(e))for(let r=Mt;r<e.length;r++){let i=e[r];Jv(i,n)}}function eT(t){for(let n=vv(t);n!==null;n=yv(n)){if(!(n[de]&2))continue;let e=n[mi];for(let r=0;r<e.length;r++){let i=e[r];Bf(i)}}}function tT(t,n,e){Le(18);let r=on(n,t);Jv(r,e),Le(19,r[Dt])}function Jv(t,n){ec(t)&&Lh(t,n)}function Lh(t,n){let r=t[ae],i=t[de],o=t[$t],a=!!(n===0&&i&16);if(a||=!!(i&64&&n===0),a||=!!(i&1024),a||=!!(o?.dirty&&ys(o)),a||=!1,o&&(o.dirty=!1),t[de]&=-9217,a)JI(r,t,r.template,t[Dt]);else if(i&8192){let s=me(null);try{Zv(t),Xv(t,1);let l=r.components;l!==null&&ey(t,l,1),qv(t)}finally{me(s)}}}function ey(t,n,e){for(let r=0;r<n.length;r++)tT(t,n[r],e)}function nT(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)Nr(~i);else{let o=i,a=e[++r],s=e[++r];l_(a,o);let l=n[o];Le(24,l),s(2,l),Le(25,l)}}}finally{Nr(-1)}}function bp(t,n){let e=Qf()?64:1088;for(t[Hn].changeDetectionScheduler?.notify(n);t;){t[de]|=e;let r=Mr(t);if(_o(t)&&!r)return t;t=r}return null}function ty(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function rT(t,n,e,r=!0){let i=n[ae];if(iT(i,n,t,e),r){let a=kh(e,t),s=n[qe],l=s.parentNode(t[Pr]);l!==null&&mI(i,t[tn],s,n,l,a)}let o=n[Os];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Fh(t,n){if(t.length<=Mt)return;let e=Mt+n,r=t[e];if(r){let i=r[Rr];i!==null&&i!==t&&mp(i,r),n>0&&(t[e-1][en]=r[en]);let o=As(t,Mt+n);gI(r[ae],r);let a=o[Bn];a!==null&&a.detachView(o[ae]),r[ct]=null,r[en]=null,r[de]&=-129}return r}function iT(t,n,e,r){let i=Mt+r,o=e.length;r>0&&(e[i-1][en]=n),r<o-Mt?(n[en]=e[i],bf(e,Mt+r,n)):(e.push(n),n[en]=null),n[ct]=e;let a=n[Rr];a!==null&&e!==a&&ny(a,n);let s=n[Bn];s!==null&&s.insertView(t),tc(n),n[de]|=128}function ny(t,n){let e=t[mi],r=n[ct];if(Un(r))t[de]|=2;else{let i=r[ct][nn];n[nn]!==i&&(t[de]|=2)}e===null?t[mi]=[n]:e.push(n)}var Or=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[ae];return Ys(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[Dt]}set context(n){this._lView[Dt]=n}get destroyed(){return _i(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ct];if(Cn(n)){let e=n[Fs],r=e?e.indexOf(this):-1;r>-1&&(Fh(n,r),As(e,r))}this._attachedToViewContainer=!1}Bv(this._lView[ae],this._lView)}onDestroy(n){Uf(this._lView,n)}markForCheck(){bp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){tc(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,Dp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[fi].get(GI,O_)}catch{this.exhaustive=O_}}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=_o(this._lView),e=this._lView[Rr];e!==null&&!n&&mp(e,this._lView),Hv(this._lView[ae],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=n;let e=_o(this._lView),r=this._lView[Rr];r!==null&&!e&&ny(r,this._lView),tc(this._lView)}};var Wn=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=oT;constructor(e,r,i){this._declarationLView=e,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,i){let o=$I(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:i});return new Or(o)}}return t})();function oT(){return Ip(_t(),he())}function Ip(t,n){return t.type&4?new Wn(n,t,To(t,n)):null}function Gc(t,n,e,r,i){let o=t.data[n];if(o===null)o=sT(t,n,e,r,i),a_()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=r,o.attrs=i;let a=i_();o.injectorIndex=a===null?-1:a.injectorIndex}return yo(o,!0),o}function sT(t,n,e,r,i){let o=Yf(),a=Kf(),s=a?o:o&&o.parent,l=t.data[n]=lT(t,s,e,n,r,i);return aT(t,l,o,a),l}function aT(t,n,e,r){t.firstChild===null&&(t.firstChild=n),e!==null&&(r?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function lT(t,n,e,r,i,o){let a=n?n.injectorIndex:-1,s=0;return r_()&&(s|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var I3=new RegExp(`^(\\d+)*(${Eb}|${Sb})*(.*)`);var cT=()=>null;function k_(t,n){return cT(t,n)}var ry=class{},zc=class{},Vh=class{resolveComponentFactory(n){throw new F(917,!1)}},na=class{static NULL=new Vh},zt=class{},ln=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>uT()}return t})();function uT(){let t=he(),n=_t(),e=on(n.index,t);return(Un(e)?e:t)[qe]}var iy=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>null})}return t})();var yc={},jh=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){let i=this.injector.get(n,yc,r);return i!==yc||e===yc?i:this.parentInjector.get(n,e,r)}};function Tc(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let s=n[a];if(typeof s=="number")o=s;else if(o==1)i=ff(i,s);else if(o==2){let l=s,c=n[++a];r=ff(r,l+": "+c+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function W(t,n=0){let e=he();if(e===null)return U(t,n);let r=_t();return hv(r,e,mt(t),n)}function Tp(){let t="invalid";throw new Error(t)}function oy(t,n,e,r,i){let o=r===null?null:{"":-1},a=i(t,e);if(a!==null){let s=a,l=null,c=null;for(let u of a)if(u.resolveHostDirectives!==null){[s,l,c]=u.resolveHostDirectives(a);break}hT(t,n,e,s,o,l,c)}o!==null&&r!==null&&dT(e,r,o)}function dT(t,n,e){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let o=e[n[i+1]];if(o==null)throw new F(-301,!1);r.push(n[i],o)}}function fT(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function hT(t,n,e,r,i,o,a){let s=r.length,l=!1;for(let y=0;y<s;y++){let h=r[y];!l&&$n(h)&&(l=!0,fT(t,e,y)),Sh(Dc(e,n),t,h.type)}yT(e,t.data.length,s);for(let y=0;y<s;y++){let h=r[y];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=Vv(t,n,s,null);s>0&&(e.directiveToIndex=new Map);for(let y=0;y<s;y++){let h=r[y];if(e.mergedAttrs=wo(e.mergedAttrs,h.hostAttrs),gT(t,e,n,d,h),vT(d,h,i),a!==null&&a.has(h)){let[R,I]=a.get(h);e.directiveToIndex.set(h.type,[d,R+e.directiveStart,I+e.directiveStart])}else(o===null||!o.has(h))&&e.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let w=h.type.prototype;!c&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),c=!0),!u&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),d++}pT(t,e,o)}function pT(t,n,e){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=t.data[r];if(e===null||!e.has(i))L_(0,n,i,r),L_(1,n,i,r),V_(n,r,!1);else{let o=e.get(i);F_(0,n,o,r),F_(1,n,o,r),V_(n,r,!0)}}}function L_(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(r),sy(n,o)}}function F_(t,n,e,r){let i=t===0?e.inputs:e.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;t===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),sy(n,a)}}function sy(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function V_(t,n,e){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!e&&i===null||e&&o===null||dp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let l=r[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!e&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){a??=[],a.push(l,r[s+1]);break}}else if(e&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){a??=[],a.push(c[u+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function gT(t,n,e,r,i){t.data[r]=i;let o=i.factory||(i.factory=Tr(i.type,!0)),a=new Ei(o,$n(i),W,null);t.blueprint[r]=a,e[r]=a,mT(t,n,r,Vv(t,e,i.hostVars,xt),i)}function mT(t,n,e,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~n.index;_T(a)!=s&&a.push(s),a.push(e,r,o)}}function _T(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function vT(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;$n(n)&&(e[""]=t)}}function yT(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Mp(t,n,e,r,i,o,a,s){let l=n[ae],c=l.consts,u=vi(c,a),d=Gc(l,t,e,r,u);return o&&oy(l,n,d,vi(c,s),i),d.mergedAttrs=wo(d.mergedAttrs,d.attrs),d.attrs!==null&&Tc(d,d.attrs,!1),d.mergedAttrs!==null&&Tc(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function xp(t,n){ov(t,n),Lf(n)&&t.queries.elementEnd(n)}function CT(t,n,e,r,i,o){let a=n.consts,s=vi(a,i),l=Gc(n,t,e,r,s);if(l.mergedAttrs=wo(l.mergedAttrs,l.attrs),o!=null){let c=vi(a,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Tc(l,l.attrs,!1),l.mergedAttrs!==null&&Tc(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function Rp(t){return Wc(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ay(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function Wc(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Pp(t,n,e){return t[n]=e}function ST(t,n){return t[n]}function Dn(t,n,e){if(e===xt)return!1;let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function Ap(t,n,e,r){let i=Dn(t,n,e);return Dn(t,n+1,r)||i}function ET(t,n,e,r,i){let o=Ap(t,n,e,r);return Dn(t,n+2,i)||o}function fh(t,n,e){return function r(i){let o=Ar(t)?on(t.index,n):n;bp(o,5);let a=n[Dt],s=j_(n,a,e,i),l=r.__ngNextListenerFn__;for(;l;)s=j_(n,a,l,i)&&s,l=l.__ngNextListenerFn__;return s}}function j_(t,n,e,r){let i=me(null);try{return Le(6,n,e),e(r)!==!1}catch(o){return jI(t,o),!1}finally{Le(7,n,e),me(i)}}function wT(t,n,e,r,i,o,a,s){let l=mo(t),c=!1,u=null;if(!r&&l&&(u=DT(n,e,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=a,u.__ngLastListenerFn__=a,c=!0}else{let d=Sn(t,e),y=r?r(d):d;Db(e,y,o,s);let h=i.listen(y,o,s),w=r?R=>r(rn(R[t.index])):t.index;ly(w,n,e,o,s,h,!1)}return c}function DT(t,n,e,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===e&&i[o+1]===r){let s=n[po],l=i[o+2];return s&&s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function ly(t,n,e,r,i,o,a){let s=n.firstCreatePass?Gf(n):null,l=$f(e),c=l.length;l.push(i,o),s&&s.push(r,t,c,(c+1)*(a?-1:1))}function H_(t,n,e,r,i,o){let a=n[e],s=n[ae],c=s.data[e].outputs[r],d=a[c].subscribe(o);ly(t.index,s,n,i,o,d,!0)}var Hh=Symbol("BINDING");var Mc=class extends na{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=jn(n);return new kr(e,this.ngModule)}};function bT(t){return Object.keys(t).map(n=>{let[e,r,i]=t[n],o={propName:e,templateName:n,isSignal:(r&Hc.SignalBased)!==0};return i&&(o.transform=i),o})}function IT(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function TT(t,n,e){let r=n instanceof Ye?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new jh(e,r):e}function MT(t){let n=t.get(zt,null);if(n===null)throw new F(407,!1);let e=t.get(iy,null),r=t.get(ur,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:r,ngReflect:!1}}function xT(t,n){let e=(t.selectors[0][0]||"div").toLowerCase();return Ov(n,e,e==="svg"?Y0:e==="math"?K0:null)}var kr=class extends zc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=bT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=IT(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=rI(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,r,i,o,a){Le(22);let s=me(null);try{let l=this.componentDef,c=RT(r,l,a,o),u=TT(l,i||this.ngModule,n),d=MT(u),y=d.rendererFactory.createRenderer(null,l),h=r?MI(y,r,l.encapsulation,u):xT(l,y),w=a?.some(B_)||o?.some(M=>typeof M!="function"&&M.bindings.some(B_)),R=hp(null,c,null,512|Fv(l),null,null,d,y,u,null,wv(h,u,!0));R[dt]=h,sc(R);let I=null;try{let M=Mp(dt,R,2,"#host",()=>c.directiveRegistry,!0,0);h&&(Lv(y,h,M),Do(h,R)),Uc(c,R,M),op(c,M,R),xp(c,M),e!==void 0&&AT(M,this.ngContentSelectors,e),I=on(M.index,R),R[Dt]=I[Dt],wp(c,R,null)}catch(M){throw I!==null&&wh(I),wh(R),M}finally{Le(23),ac()}return new xc(this.componentType,R,!!w)}finally{me(s)}}};function RT(t,n,e,r){let i=t?["ng-version","20.1.7"]:iI(n.selectors[0]),o=null,a=null,s=0;if(e)for(let u of e)s+=u[Hh].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(a??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let y of d.bindings){s+=y[Hh].requiredVars;let h=u+1;y.create&&(y.targetIdx=h,(o??=[]).push(y)),y.update&&(y.targetIdx=h,(a??=[]).push(y))}}let l=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,y=xf(d);l.push(y)}return fp(0,null,PT(o,a),1,s,l,null,null,null,[i],null)}function PT(t,n){return!t&&!n?null:e=>{if(e&1&&t)for(let r of t)r.create();if(e&2&&n)for(let r of n)r.update()}}function B_(t){let n=t[Hh].kind;return n==="input"||n==="twoWay"}var xc=class extends ry{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,r){super(),this._rootLView=e,this._hasInputBindings=r,this._tNode=Jl(e[ae],dt),this.location=To(this._tNode,e),this.instance=on(this._tNode.index,e)[Dt],this.hostView=this.changeDetectorRef=new Or(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let i=this._rootLView,o=Ep(r,i[ae],i,n,e);this.previousInputValues.set(n,e);let a=on(r.index,i);bp(a,1)}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function AT(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let o=e[i];r.push(o!=null&&o.length?Array.from(o):null)}}var cn=(()=>{class t{static __NG_ELEMENT_ID__=NT}return t})();function NT(){let t=_t();return uy(t,he())}var OT=cn,cy=class extends OT{_lContainer;_hostTNode;_hostLView;constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return To(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let n=ep(this._hostTNode,this._hostLView);if(av(n)){let e=Ec(n,this._hostLView),r=Sc(n),i=e[ae].data[r+8];return new Si(i,e)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=U_(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(n,e,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=k_(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,i,N_(this._hostTNode,a)),s}createComponent(n,e,r,i,o,a,s){let l=n&&!KD(n),c;if(l)c=e;else{let I=e||{};c=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef,a=I.directives,s=I.bindings}let u=l?n:new kr(jn(n)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(l?d:this.parentInjector).get(Ye,null);M&&(o=M)}let y=jn(u.componentType??{}),h=k_(this._lContainer,y?.id??null),w=h?.firstChild??null,R=u.create(d,i,w,o,a,s);return this.insertImpl(R.hostView,c,N_(this._hostTNode,h)),R}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(Q0(i)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let l=i[ct],c=new cy(l,l[tn],l[ct]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),a=this._lContainer;return rT(a,i,o,r),n.attachToViewContainerRef(),bf(hh(a),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=U_(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=Fh(this._lContainer,e);r&&(As(hh(this._lContainer),e),Bv(r[ae],r))}detach(n){let e=this._adjustIndex(n,-1),r=Fh(this._lContainer,e);return r&&As(hh(this._lContainer),e)!=null?new Or(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function U_(t){return t[Fs]}function hh(t){return t[Fs]||(t[Fs]=[])}function uy(t,n){let e,r=n[t.index];return Cn(r)?e=r:(e=ty(r,n,null,t),n[t.index]=e,pp(n,e)),LT(e,n,t,r),new cy(e,t,n)}function kT(t,n){let e=t[qe],r=e.createComment(""),i=Sn(n,t),o=e.parentNode(i);return Ic(e,o,r,e.nextSibling(i),!1),r}var LT=jT,FT=()=>!1;function VT(t,n,e){return FT(t,n,e)}function jT(t,n,e,r){if(t[Pr])return;let i;e.type&8?i=rn(r):i=kT(n,e),t[Pr]=i}var Bh=class t{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Uh=class t{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){let a=e.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new t(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)Np(n,e).matches!==null&&this.queries[e].setDirty()}},$h=class{flags;read;predicate;constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=qT(n):this.predicate=n}},Gh=class t{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},zh=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,e,HT(e,o)),this.matchTNodeWithReadOption(n,e,vc(e,n,o,!1,!1))}else r===Wn?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,vc(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Qe||i===cn||i===Wn&&e.type&4)this.addMatch(e.index,-2);else{let o=vc(e,n,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function HT(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function BT(t,n){return t.type&11?To(t,n):t.type&4?Ip(t,n):null}function UT(t,n,e,r){return e===-1?BT(n,t):e===-2?$T(t,n,r):qs(t,t[ae],e,n)}function $T(t,n,e){if(e===Qe)return To(n,t);if(e===Wn)return Ip(n,t);if(e===cn)return uy(n,t)}function dy(t,n,e,r){let i=n[Bn].queries[r];if(i.matches===null){let o=t.data,a=e.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let u=o[c];s.push(UT(n,u,a[l+1],e.metadata.read))}}i.matches=s}return i.matches}function Wh(t,n,e,r){let i=t.queries.getByIndex(e),o=i.matches;if(o!==null){let a=dy(t,n,i,e);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)r.push(a[s/2]);else{let c=o[s+1],u=n[-l];for(let d=Mt;d<u.length;d++){let y=u[d];y[Rr]===y[ct]&&Wh(y[ae],y,c,r)}if(u[mi]!==null){let d=u[mi];for(let y=0;y<d.length;y++){let h=d[y];Wh(h[ae],h,c,r)}}}}}return r}function GT(t,n){return t[Bn].queries[n].queryList}function zT(t,n,e){let r=new bc((e&4)===4);return e_(t,n,r,r.destroy),(n[Bn]??=new Uh).queries.push(new Bh(r))-1}function WT(t,n,e){let r=ft();return r.firstCreatePass&&(YT(r,new $h(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),zT(r,he(),n)}function qT(t){return t.split(",").map(n=>n.trim())}function YT(t,n,e){t.queries===null&&(t.queries=new Gh),t.queries.track(new zh(n,e))}function Np(t,n){return t.queries.getByIndex(n)}function KT(t,n){let e=t[ae],r=Np(e,n);return r.crossesNgTemplate?Wh(e,t,n,[]):dy(e,t,r,n)}function fy(t){let n=[],e=new Map;function r(i){let o=e.get(i);if(!o){let a=t(i);e.set(i,o=a.then(s=>QT(i,s)))}return o}return Rc.forEach((i,o)=>{let a=[];i.templateUrl&&a.push(r(i.templateUrl).then(c=>{i.template=c}));let s=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=s,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,y)=>{s.push(""),a.push(r(d).then(h=>{s[c+y]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&a.push(r(i.styleUrl).then(c=>{s.push(c),i.styleUrl=void 0}));let l=Promise.all(a).then(()=>XT(o));n.push(l)}),hy(),Promise.all(n).then(()=>{})}var Rc=new Map,ZT=new Set;function hy(){let t=Rc;return Rc=new Map,t}function py(){return Rc.size===0}function QT(t,n){return typeof n=="string"?n:n.status!==void 0&&n.status!==200?Promise.reject(new F(918,!1)):n.text()}function XT(t){ZT.delete(t)}var $_=new Set;function xo(t){$_.has(t)||($_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var wi=class{},qc=class{};var Ks=class extends wi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Mc(this);constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e;let o=Mf(n);this._bootstrapComponents=Av(o.bootstrap),this._r3Injector=rh(n,e,[{provide:wi,useValue:this},{provide:na,useValue:this.componentFactoryResolver},...r],cr(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Zs=class extends qc{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Ks(this.moduleType,n,[])}};function gy(t,n,e){return new Ks(t,n,e,!1)}var Pc=class extends wi{injector;componentFactoryResolver=new Mc(this);instance=null;constructor(n){super();let e=new ui([...n.providers,{provide:wi,useValue:this},{provide:na,useValue:this.componentFactoryResolver}],n.parent||ho(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Ro(t,n,e=null){return new Pc({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var JT=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=Rf(!1,e.type),i=r.length>0?Ro([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:t,providedIn:"environment",factory:()=>new t(U(Ye))})}return t})();function Vt(t){return Io(()=>{let n=my(t),e=ue(N({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(JT).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&xo("NgStandalone"),_y(e);let r=t.dependencies;return e.directiveDefs=G_(r,e1),e.pipeDefs=G_(r,U0),e.id=r1(e),e})}function e1(t){return jn(t)||xf(t)}function Be(t){return Io(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function t1(t,n){if(t==null)return xr;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,s,l;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,l=i[3]||null):(o=i,a=i,s=Hc.None,l=null),e[o]=[r,s,l],n[o]=a}return e}function n1(t){if(t==null)return xr;let n={};for(let e in t)t.hasOwnProperty(e)&&(n[t[e]]=e);return n}function ke(t){return Io(()=>{let n=my(t);return _y(n),n})}function Vr(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function my(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:t1(t.inputs,n),outputs:n1(t.outputs),debugInfo:null}}function _y(t){t.features?.forEach(n=>n(t))}function G_(t,n){return t?()=>{let e=typeof t=="function"?t():t,r=[];for(let i of e){let o=n(i);o!==null&&r.push(o)}return r}:null}function r1(t){let n=0,e=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function i1(t){return Object.getPrototypeOf(t.prototype).constructor}function Wt(t){let n=i1(t.type),e=!0,r=[t];for(;n;){let i;if($n(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new F(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let a=t;a.inputs=ph(t.inputs),a.declaredInputs=ph(t.declaredInputs),a.outputs=ph(t.outputs);let s=i.hostBindings;s&&c1(t,s);let l=i.viewQuery,c=i.contentQueries;if(l&&a1(t,l),c&&l1(t,c),o1(t,i),N0(t.outputs,i.outputs),$n(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(t),s===Wt&&(e=!1)}}n=Object.getPrototypeOf(n)}s1(r)}function o1(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e])}}function s1(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=wo(i.hostAttrs,e=wo(e,i.hostAttrs))}}function ph(t){return t===xr?{}:t===Ut?[]:t}function a1(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function l1(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,o)=>{n(r,i,o),e(r,i,o)}:t.contentQueries=n}function c1(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function u1(t,n,e,r,i,o,a,s){if(e.firstCreatePass){t.mergedAttrs=wo(t.mergedAttrs,t.attrs);let u=t.tView=fp(2,t,i,o,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,t),u.queries=e.queries.embeddedTView(t))}s&&(t.flags|=s),yo(t,!1);let l=f1(e,n,t,r);lc()&&_p(e,n,l,t),Do(l,n);let c=ty(l,n,l,t);n[r+dt]=c,pp(n,c),VT(c,t,n)}function d1(t,n,e,r,i,o,a,s,l,c,u){let d=e+dt,y;return n.firstCreatePass?(y=Gc(n,d,4,a||null,s||null),nc()&&oy(n,t,y,vi(n.consts,c),yp),ov(n,y)):y=n.data[d],u1(y,t,n,e,r,i,o,l),mo(y)&&Uc(n,t,y),c!=null&&$c(t,y,u),y}function k(t,n,e,r,i,o,a,s){let l=he(),c=ft(),u=vi(c.consts,o);return d1(l,c,t,n,e,r,i,u,void 0,a,s),k}var f1=h1;function h1(t,n,e,r){return Bs(!0),n[qe].createComment("")}var Yc=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Yc||{}),bi=new G(""),vy=!1,qh=class extends oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Nf()&&(this.destroyRef=D(sn,{optional:!0})??void 0,this.pendingTasks=D(Gn,{optional:!0})??void 0)}emit(n){let e=me(null);try{super.next(n)}finally{me(e)}}subscribe(n,e,r){let i=n,o=e||(()=>null),a=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return n instanceof Te&&n.add(s),s}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ee=qh;function yy(t){let n,e;function r(){t=Gs;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function z_(t){return queueMicrotask(()=>t()),()=>{t=Gs}}var Op="isAngularZone",Ac=Op+"_ID",p1=0,we=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ee(!1);onMicrotaskEmpty=new Ee(!1);onStable=new Ee(!1);onError=new Ee(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=vy}=n;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,_1(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Op)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,n,g1,Gs,Gs);try{return o.runTask(a,e,r)}finally{o.cancelTask(a)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},g1={};function kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function m1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){yy(()=>{t.callbackScheduled=!1,Yh(t),t.isCheckStableRunning=!0,kp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Yh(t)}function _1(t){let n=()=>{m1(t)},e=p1++;t._inner=t._inner.fork({name:"angular",properties:{[Op]:!0,[Ac]:e,[Ac+e]:!0},onInvokeTask:(r,i,o,a,s,l)=>{if(v1(l))return r.invokeTask(o,a,s,l);try{return W_(t),r.invokeTask(o,a,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),q_(t)}},onInvoke:(r,i,o,a,s,l,c)=>{try{return W_(t),r.invoke(o,a,s,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!y1(l)&&n(),q_(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,Yh(t),kp(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function Yh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function W_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function q_(t){t._nesting--,kp(t)}var Qs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ee;onMicrotaskEmpty=new Ee;onStable=new Ee;onError=new Ee;run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function v1(t){return Cy(t,"__ignore_ng_zone__")}function y1(t){return Cy(t,"__scheduler_tick__")}function Cy(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}function Sy(t="zone.js",n){return t==="noop"?new Qs:t==="zone.js"?new we(n):t}var Lp=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ey=[0,1,2,3],wy=(()=>{class t{ngZone=D(we);scheduler=D(ur);errorHandler=D(_n,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(bi,{optional:!0})}execute(){let e=this.sequences.size>0;e&&Le(16),this.executing=!0;for(let r of Ey)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&Le(17)}register(e){let{view:r}=e;r!==void 0?((r[gi]??=[]).push(e),vo(r),r[de]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,r){return r?r.run(Yc.AFTER_NEXT_RENDER,e):e()}static \u0275prov=O({token:t,providedIn:"root",factory:()=>new t})}return t})(),Nc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,r,i,o,a=null){this.impl=n,this.hooks=e,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[gi];n&&(this.view[gi]=n.filter(e=>e!==this))}};function jr(t,n){let e=n?.injector??D(Ve);return xo("NgAfterNextRender"),S1(t,e,n,!0)}function C1(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function S1(t,n,e,r){let i=n.get(Lp);i.impl??=n.get(wy);let o=n.get(bi,null,{optional:!0}),a=e?.manualCleanup!==!0?n.get(sn):null,s=n.get(cc,null,{optional:!0}),l=new Nc(i.impl,C1(t),s?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var Kc=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Zc=new G(""),Po=new G(""),ra=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,r,i){this._ngZone=e,this.registry=r,Nf()&&(this._destroyRef=D(sn,{optional:!0})??void 0),Fp||(Dy(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(e)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e()},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static \u0275fac=function(r){return new(r||t)(U(we),U(ia),U(Po))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),ia=(()=>{class t{_applications=new Map;registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Fp?.findTestabilityInTree(this,e,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Dy(t){Fp=t}var Fp;function Hr(t){return!!t&&typeof t.then=="function"}function Vp(t){return!!t&&typeof t.subscribe=="function"}var jp=new G("");function Ao(t){return fr([{provide:jp,multi:!0,useValue:t}])}var Hp=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r});appInits=D(jp,{optional:!0})??[];injector=D(Ve);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=ut(this.injector,i);if(Hr(o))e.push(o);else if(Vp(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qc=new G("");function by(){Ld(()=>{let t="";throw new F(600,t)})}function Iy(t){return t.isBoundToModule}var E1=10;function Bp(t,n){return Array.isArray(n)?n.reduce(Bp,t):N(N({},t),n)}var ht=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Gt);afterRenderManager=D(Lp);zonelessEnabled=D(Us);rootEffectScheduler=D(lh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=D(Gn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(re(e=>!e))}constructor(){D(bi,{optional:!0})}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}_injector=D(Ye);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,r){return this.bootstrapImpl(e,r)}bootstrapImpl(e,r,i=Ve.NULL){return this._injector.get(we).run(()=>{Le(10);let a=e instanceof zc;if(!this._injector.get(Hp).done){let w="";throw new F(405,w)}let l;a?l=e:l=this._injector.get(na).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=Iy(l)?void 0:this._injector.get(wi),u=r||l.selector,d=l.create(i,[],u,c),y=d.location.nativeElement,h=d.injector.get(Zc,null);return h?.registerApplication(y),d.onDestroy(()=>{this.detachView(d.hostView),Ws(this.components,d),h?.unregisterApplication(y)}),this._loadComponent(d),Le(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Yc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let e=me(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,me(e),this.afterTick.next(),Le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zt,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<E1;)Le(14),this.synchronizeOnce(),Le(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Vs(i))continue;let o=r&&!this.zonelessEnabled?0:1;Dp(i,o),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Vs(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;Ws(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(e),this._injector.get(Qc,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ws(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new F(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ws(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Tn(t,n,e,r){let i=he(),o=yi();if(Dn(i,o,n)){let a=ft(),s=Hs();LI(s,i,t,n,e,r)}return Tn}function C(t,n,e){let r=he(),i=yi();if(Dn(r,i,n)){let o=ft(),a=Hs();Gv(a,r,t,n,r[qe],e)}return C}function Y_(t,n,e,r,i){Ep(n,t,e,i?"class":"style",r)}function g(t,n,e,r){let i=he(),o=i[ae],a=t+dt,s=o.firstCreatePass?Mp(a,i,2,n,yp,nc(),e,r):o.data[a];if(Cp(s,i,t,n,Ty),mo(s)){let l=i[ae];Uc(l,i,s),op(l,s,i)}return r!=null&&$c(i,s),g}function f(){let t=ft(),n=_t(),e=Sp(n);return t.firstCreatePass&&xp(t,e),Wf(e)&&qf(),zf(),e.classesWithoutHost!=null&&tb(e)&&Y_(t,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nb(e)&&Y_(t,e,he(),e.stylesWithoutHost,!1),f}function Y(t,n,e,r){return g(t,n,e,r),f(),Y}function No(t,n,e,r){let i=he(),o=i[ae],a=t+dt,s=o.firstCreatePass?CT(a,o,2,n,e,r):o.data[a];return Cp(s,i,t,n,Ty),r!=null&&$c(i,s),No}function Oo(){let t=_t(),n=Sp(t);return Wf(n)&&qf(),zf(),Oo}function oa(t,n,e,r){return No(t,n,e,r),Oo(),oa}var Ty=(t,n,e,r,i)=>(Bs(!0),Ov(n[qe],r,g_()));function vr(t,n,e){let r=he(),i=r[ae],o=t+dt,a=i.firstCreatePass?Mp(o,r,8,"ng-container",yp,nc(),n,e):i.data[o];if(Cp(a,r,t,"ng-container",w1),mo(a)){let s=r[ae];Uc(s,r,a),op(s,a,r)}return e!=null&&$c(r,a),vr}function yr(){let t=ft(),n=_t(),e=Sp(n);return t.firstCreatePass&&xp(t,e),yr}var w1=(t,n,e,r,i)=>(Bs(!0),aI(n[qe],""));function pe(){return he()}function Xc(t,n,e){let r=he(),i=yi();if(Dn(r,i,n)){let o=ft(),a=Hs();zv(a,r,t,n,r[qe],e)}return Xc}var Ci=void 0;function D1(t){let n=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var b1=["en",[["a","p"],["AM","PM"],Ci],[["AM","PM"],Ci,Ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ci,"{1} 'at' {0}",Ci],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",D1],gh={};function Jc(t){let n=I1(t),e=K_(n);if(e)return e;let r=n.split("-")[0];if(e=K_(r),e)return e;if(r==="en")return b1;throw new F(701,!1)}function K_(t){return t in gh||(gh[t]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[t]),gh[t]}var Ii=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ii||{});function I1(t){return t.toLowerCase().replace(/_/g,"-")}var sa="en-US";var T1=sa;function My(t){typeof t=="string"&&(T1=t.toLowerCase().replace(/_/g,"-"))}function z(t,n,e){let r=he(),i=ft(),o=_t();return xy(i,r,r[qe],o,t,n,e),z}function xy(t,n,e,r,i,o,a){let s=!0,l=null;if((r.type&3||a)&&(l??=fh(r,n,o),wT(r,t,n,a,e,i,o,l)&&(s=!1)),s){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let y=u[d],h=u[d+1];l??=fh(r,n,o),H_(r,n,y,h,i,l)}if(c&&c.length)for(let d of c)l??=fh(r,n,o),H_(r,n,d,i,i,l)}}function S(t=1){return p_(t)}function ko(t,n,e){WT(t,n,e)}function Ti(t){let n=he(),e=ft(),r=eh();oc(r+1);let i=Np(e,r);if(t.dirty&&Z0(n)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=KT(n,r);t.reset(o,gb),t.notifyOnChanges()}return!0}return!1}function Mi(){return GT(he(),eh())}function pc(t,n){return t<<17|n<<2}function Di(t){return t>>17&32767}function M1(t){return(t&2)==2}function x1(t,n){return t&131071|n<<17}function Kh(t){return t|2}function bo(t){return(t&131068)>>2}function mh(t,n){return t&-131069|n<<2}function R1(t){return(t&1)===1}function Zh(t){return t|1}function P1(t,n,e,r,i,o){let a=o?n.classBindings:n.styleBindings,s=Di(a),l=bo(a);t[r]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||fo(d,u)>0)&&(c=!0)}else u=e;if(i)if(l!==0){let y=Di(t[s+1]);t[r+1]=pc(y,s),y!==0&&(t[y+1]=mh(t[y+1],r)),t[s+1]=x1(t[s+1],r)}else t[r+1]=pc(s,0),s!==0&&(t[s+1]=mh(t[s+1],r)),s=r;else t[r+1]=pc(l,0),s===0?s=r:t[l+1]=mh(t[l+1],r),l=r;c&&(t[r+1]=Kh(t[r+1])),Z_(t,u,r,!0),Z_(t,u,r,!1),A1(n,u,t,r,o),a=pc(s,l),o?n.classBindings=a:n.styleBindings=a}function A1(t,n,e,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&fo(o,n)>=0&&(e[r+1]=Zh(e[r+1]))}function Z_(t,n,e,r){let i=t[e+1],o=n===null,a=r?Di(i):bo(i),s=!1;for(;a!==0&&(s===!1||o);){let l=t[a],c=t[a+1];N1(l,n)&&(s=!0,t[a+1]=r?Zh(c):Kh(c)),a=r?Di(c):bo(c)}s&&(t[e+1]=r?Kh(i):Zh(i))}function N1(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?fo(t,n)>=0:!1}function Lo(t,n,e){return Ry(t,n,e,!1),Lo}function De(t,n){return Ry(t,n,null,!0),De}function Ry(t,n,e,r){let i=he(),o=ft(),a=rc(2);if(o.firstUpdatePass&&k1(o,t,a,r),n!==xt&&Dn(i,a,n)){let s=o.data[hr()];H1(o,s,i,i[qe],t,i[a+1]=B1(n,e),r,a)}}function O1(t,n){return n>=t.expandoStartIndex}function k1(t,n,e,r){let i=t.data;if(i[e+1]===null){let o=i[hr()],a=O1(t,e);U1(o,r)&&n===null&&!a&&(n=!1),n=L1(i,o,n,r),P1(i,o,n,e,a,r)}}function L1(t,n,e,r){let i=u_(t),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=_h(null,t,n,e,r),e=Xs(e,n.attrs,r),o=null);else{let a=n.directiveStylingLast;if(a===-1||t[a]!==i)if(e=_h(i,t,n,e,r),o===null){let l=F1(t,n,r);l!==void 0&&Array.isArray(l)&&(l=_h(null,t,n,l[1],r),l=Xs(l,n.attrs,r),V1(t,n,r,l))}else o=j1(t,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),e}function F1(t,n,e){let r=e?n.classBindings:n.styleBindings;if(bo(r)!==0)return t[Di(r)]}function V1(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[Di(i)]=r}function j1(t,n,e){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=Xs(r,a,e)}return Xs(r,n.attrs,e)}function _h(t,n,e,r,i){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=n[s],r=Xs(r,o.hostAttrs,i),o!==t);)s++;return t!==null&&(e.directiveStylingLast=s),r}function Xs(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),B0(t,a,e?!0:n[++o]))}return t===void 0?null:t}function H1(t,n,e,r,i,o,a,s){if(!(n.type&3))return;let l=t.data,c=l[s+1],u=R1(c)?Q_(l,n,e,i,bo(c),a):void 0;if(!Oc(u)){Oc(o)||M1(c)&&(o=Q_(l,null,e,i,s,a));let d=Ff(hr(),e);TI(r,a,d,i,o)}}function Q_(t,n,e,r,i,o){let a=n===null,s;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,y=e[i+1];y===xt&&(y=d?Ut:void 0);let h=d?Ql(y,r):u===r?y:void 0;if(c&&!Oc(h)&&(h=Ql(l,r)),Oc(h)&&(s=h,a))return s;let w=t[i+1];i=a?Di(w):bo(w)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(s=Ql(l,r))}return s}function Oc(t){return t!==void 0}function B1(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=cr(bn(t)))),t}function U1(t,n){return(t.flags&(n?8:16))!==0}function v(t,n=""){let e=he(),r=ft(),i=t+dt,o=r.firstCreatePass?Gc(r,i,1,n,null):r.data[i],a=$1(r,e,o,n,t);e[i]=a,lc()&&_p(r,e,a,o),yo(o,!1)}var $1=(t,n,e,r,i)=>(Bs(!0),oI(n[qe],r));function Py(t,n,e,r=""){return Dn(t,yi(),e)?n+Jt(e)+r:xt}function G1(t,n,e,r,i,o=""){let a=Jf(),s=Ap(t,a,e,i);return rc(2),s?n+Jt(e)+r+Jt(i)+o:xt}function z1(t,n,e,r,i,o,a,s=""){let l=Jf(),c=ET(t,l,e,i,a);return rc(3),c?n+Jt(e)+r+Jt(i)+o+Jt(a)+s:xt}function Q(t){return ne("",t),Q}function ne(t,n,e){let r=he(),i=Py(r,t,n,e);return i!==xt&&Up(r,hr(),i),ne}function aa(t,n,e,r,i){let o=he(),a=G1(o,t,n,e,r,i);return a!==xt&&Up(o,hr(),a),aa}function qn(t,n,e,r,i,o,a){let s=he(),l=z1(s,t,n,e,r,i,o,a);return l!==xt&&Up(s,hr(),l),qn}function Up(t,n,e){let r=Ff(n,t);sI(t[qe],r,e)}function Rt(t,n,e){oh(n)&&(n=n());let r=he(),i=yi();if(Dn(r,i,n)){let o=ft(),a=Hs();Gv(a,r,t,n,r[qe],e)}return Rt}function jt(t,n){let e=oh(t);return e&&t.set(n),e}function Pt(t,n){let e=he(),r=ft(),i=_t();return xy(r,e,e[qe],i,t,n),Pt}function la(t){return Dn(he(),yi(),t)?Jt(t):xt}function $p(t,n,e=""){return Py(he(),t,n,e)}function W1(t,n,e){let r=ft();if(r.firstCreatePass){let i=$n(t);Qh(e,r.data,r.blueprint,i,!0),Qh(n,r.data,r.blueprint,i,!1)}}function Qh(t,n,e,r,i){if(t=mt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Qh(t[o],n,e,r,i);else{let o=ft(),a=he(),s=_t(),l=ci(t)?t:mt(t.provide),c=Af(t),u=s.providerIndexes&1048575,d=s.directiveStart,y=s.providerIndexes>>20;if(ci(t)||!t.multi){let h=new Ei(c,i,W,null),w=yh(l,n,i?u:u+y,d);w===-1?(Sh(Dc(s,a),o,l),vh(o,t,n.length),n.push(l),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),e.push(h),a.push(h)):(e[w]=h,a[w]=h)}else{let h=yh(l,n,u+y,d),w=yh(l,n,u,u+y),R=h>=0&&e[h],I=w>=0&&e[w];if(i&&!I||!i&&!R){Sh(Dc(s,a),o,l);let M=K1(i?Y1:q1,e.length,i,r,c,t);!i&&I&&(e[w].providerFactory=M),vh(o,t,n.length,0),n.push(l),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),e.push(M),a.push(M)}else{let M=Ay(e[i?w:h],c,!i&&r);vh(o,t,h>-1?h:w,M)}!i&&r&&I&&e[w].componentProviders++}}}function vh(t,n,e,r){let i=ci(n),o=W0(n);if(i||o){let l=(o?mt(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[r,l]):c[u+1].push(r,l)}else c.push(e,l)}}}function Ay(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function yh(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function q1(t,n,e,r,i){return Xh(this.multi,[])}function Y1(t,n,e,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=qs(r,r[ae],this.providerFactory.index,i);a=l.slice(0,s),Xh(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],Xh(o,a);return a}function Xh(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function K1(t,n,e,r,i,o){let a=new Ei(t,e,W,null);return a.multi=[],a.index=n,a.componentProviders=0,Ay(a,i,r&&!e),a}function qt(t,n=[]){return e=>{e.providersResolver=(r,i)=>W1(r,i?i(t):t,n)}}function Yn(t,n,e){let r=Co()+t,i=he();return i[r]===xt?Pp(i,r,e?n.call(e):n()):ST(i,r)}function vt(t,n,e,r){return Oy(he(),Co(),t,n,e,r)}function Fo(t,n,e,r,i){return ky(he(),Co(),t,n,e,r,i)}function Ny(t,n){let e=t[n];return e===xt?void 0:e}function Oy(t,n,e,r,i,o){let a=n+e;return Dn(t,a,i)?Pp(t,a+1,o?r.call(o,i):r(i)):Ny(t,a+1)}function ky(t,n,e,r,i,o,a){let s=n+e;return Ap(t,s,i,o)?Pp(t,s+2,a?r.call(a,i,o):r(i,o)):Ny(t,s+2)}function et(t,n){let e=ft(),r,i=t+dt;e.firstCreatePass?(r=Z1(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let o=r.factory||(r.factory=Tr(r.type,!0)),a,s=Tt(W);try{let l=wc(!1),c=o();return wc(l),jf(e,he(),i,c),c}finally{Tt(s)}}function Z1(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function Br(t,n,e){let r=t+dt,i=he(),o=Vf(i,r);return Ly(i,r)?Oy(i,Co(),n,o.transform,e,o):o.transform(e)}function At(t,n,e,r){let i=t+dt,o=he(),a=Vf(o,i);return Ly(o,i)?ky(o,Co(),n,a.transform,e,r,a):a.transform(e,r)}function Ly(t,n){return t[ae].data[n].pure}var gc=null;function Fy(t){gc!==null&&(t.defaultEncapsulation!==gc.defaultEncapsulation||t.preserveWhitespaces!==gc.preserveWhitespaces)||(gc=t)}var kc=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Gp=(()=>{class t{compileModuleSync(e){return new Zs(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=Mf(e),o=Av(i.declarations).reduce((a,s)=>{let l=jn(s);return l&&a.push(new kr(l)),a},[]);return new kc(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vy=new G("");var Q1=(()=>{class t{zone=D(we);changeDetectionScheduler=D(ur);applicationRef=D(ht);applicationErrorHandler=D(Gt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jy({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new we(ue(N({},zp()),{scheduleInRootZone:e})),[{provide:we,useFactory:t},{provide:dr,multi:!0,useFactory:()=>{let r=D(Q1,{optional:!0});return()=>r.initialize()}},{provide:dr,multi:!0,useFactory:()=>{let r=D(X1);return()=>{r.initialize()}}},n===!0?{provide:sh,useValue:!0}:[],{provide:ah,useValue:e??vy},{provide:Gt,useFactory:()=>{let r=D(we),i=D(Ye),o;return a=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw a}):(o??=i.get(_n),o.handleError(a))})}}}]}function zp(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var X1=(()=>{class t{subscription=new Te;initialized=!1;zone=D(we);pendingTasks=D(Gn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hy=(()=>{class t{applicationErrorHandler=D(Gt);appRef=D(ht);taskService=D(Gn);ngZone=D(we);zonelessEnabled=D(Us);tracing=D(bi,{optional:!0});disableScheduling=D(sh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Te;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ac):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(ah,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qs||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let r=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?z_:yy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ac+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(e),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,z_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function J1(){return typeof $localize<"u"&&$localize.locale||sa}var ca=new G("",{providedIn:"root",factory:()=>D(ca,{optional:!0,skipSelf:!0})||J1()});function un(t){return R0(t)}function Vo(t,n){return dl(t,n?.equal)}var By=class{[Et];constructor(n){this[Et]=n}destroy(){this[Et].destroy()}};var Zy=Symbol("InputSignalNode#UNSET"),pM=ue(N({},fl),{transformFn:void 0,applyValueToInputSignal(t,n){Ki(t,n)}});function Qy(t,n){let e=Object.create(pM);e.value=t,e.transformFn=n?.transform;function r(){if(Wi(e),e.value===Zy){let i=null;throw new F(-950,i)}return e.value}return r[Et]=e,r}var gM=new G("");gM.__NG_ELEMENT_ID__=t=>{let n=_t();if(n===null)throw new F(204,!1);if(n.type&2)return n.value;if(t&8)return null;throw new F(204,!1)};function Uy(t,n){return Qy(t,n)}function mM(t){return Qy(Zy,t)}var Xy=(Uy.required=mM,Uy);function _M(t,n,e){let r=new Zs(e);return Promise.resolve(r)}function $y(t){for(let n=t.length-1;n>=0;n--)if(t[n]!==void 0)return t[n]}var eu=new G(""),vM=new G("");function ua(t){return!t.moduleRef}function yM(t){let n=ua(t)?t.r3Injector:t.moduleRef.injector,e=n.get(we);return e.run(()=>{ua(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(Gt),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:r})}),ua(t)){let o=()=>n.destroy(),a=t.platformInjector.get(eu);a.add(o),n.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(eu);a.add(o),t.moduleRef.onDestroy(()=>{Ws(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return SM(r,e,()=>{let o=n.get(Gn),a=o.add(),s=n.get(Hp);return s.runInitializers(),s.donePromise.then(()=>{let l=n.get(ca,sa);if(My(l||sa),!n.get(vM,!0))return ua(t)?n.get(ht):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ua(t)){let u=n.get(ht);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return Jy?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var Jy;function Gy(){Jy=CM}function CM(t,n){let e=t.injector.get(ht);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new F(-403,!1);n.push(t)}function SM(t,n,e){try{let r=e();return Hr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t(r)),r}}var eC=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,r){let i=r?.scheduleInRootZone,o=()=>Sy(r?.ngZone,ue(N({},zp({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),a=r?.ignoreChangesOutsideZone,s=[jy({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:ur,useExisting:Hy},__],l=gy(e.moduleType,this.injector,s);return Gy(),yM({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,r=[]){let i=Bp({},r);return Gy(),_M(this.injector,i,e).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let e=this._injector.get(eu,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||t)(U(Ve))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),da=null,tC=new G("");function EM(t){if(da&&!da.get(tC,!1))throw new F(400,!1);by(),da=t;let n=t.get(eC);return bM(t),n}function Jp(t,n,e=[]){let r=`Platform: ${n}`,i=new G(r);return(o=[])=>{let a=nC();if(!a||a.injector.get(tC,!1)){let s=[...e,...o,{provide:i,useValue:!0}];t?t(s):EM(wM(s,r))}return DM(i)}}function wM(t=[],n){return Ve.create({name:n,providers:[{provide:Ns,useValue:"platform"},{provide:eu,useValue:new Set([()=>da=null])},...t]})}function DM(t){let n=nC();if(!n)throw new F(401,!1);return n}function nC(){return da?.get(eC)??null}function bM(t){let n=t.get(Lc,null);ut(t,()=>{n?.forEach(e=>e())})}function rC(){return!1}var Ht=(()=>{class t{static __NG_ELEMENT_ID__=IM}return t})();function IM(t){return TM(_t(),he(),(t&16)===16)}function TM(t,n,e){if(Ar(t)&&!e){let r=on(t.index,n);return new Or(r,r)}else if(t.type&175){let r=n[nn];return new Or(r,n)}return null}var Wp=class{constructor(){}supports(n){return Rp(n)}create(n){return new qp(n)}},MM=(t,n)=>n,qp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||MM}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){let a=!r||e&&e.currentIndex<zy(r,i,o)?e:r,s=zy(a,i,o),l=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(e=e._next,a.previousIndex==null)i++;else{o||(o=[]);let c=s-i,u=l-i;if(c!=u){for(let y=0;y<c;y++){let h=y<o.length?o[y]:o[y]=0,w=h+y;u<=w&&w<c&&(o[y]=h+1)}let d=a.previousIndex;o[d]=u-c}}s!==l&&n(a,s,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!Rp(n))throw new F(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,o,a;if(Array.isArray(n)){this.length=n.length;for(let s=0;s<this.length;s++)o=n[s],a=this._trackByFn(s,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,s),r=!0):(r&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,ay(n,s=>{a=this._trackByFn(i,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,i),r=!0):(r&&(e=this._verifyReinsertion(e,s,a,i)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new Yp(e,r),o,i)),n}_verifyReinsertion(n,e,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new tu),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tu),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Yp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},Kp=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},tu=class{map=new Map;put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Kp,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zy(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}var Zp=class{constructor(){}supports(n){return n instanceof Map||Wc(n)}create(){return new Qp}},Qp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Wc(n)))throw new F(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,e);let o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}let r=new Xp(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}},Xp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function Wy(){return new nu([new Wp])}var nu=(()=>{class t{factories;static \u0275prov=O({token:t,providedIn:"root",factory:Wy});constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Wy()),deps:[[t,new Jh,new Js]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new F(901,!1)}}return t})();function qy(){return new eg([new Zp])}var eg=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:qy});factories;constructor(e){this.factories=e}static create(e,r){if(r){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||qy()),deps:[[t,new Jh,new Js]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r)return r;throw new F(901,!1)}}return t})();var iC=Jp(null,"core",[]),oC=(()=>{class t{constructor(e){}static \u0275fac=function(r){return new(r||t)(U(ht))};static \u0275mod=Be({type:t});static \u0275inj=je({})}return t})();function dn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function tg(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}function sC(t,n){let e=jn(t),r=n.elementInjector||ho();return new kr(e).create(r,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}function aC(t){let n=jn(t);if(!n)return null;let e=new kr(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var uC=null;function Yt(){return uC}function ng(t){uC??=t}var fa=class{},ha=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>D(dC),providedIn:"platform"})}return t})(),rg=new G(""),dC=(()=>{class t extends ha{_location;_history;_doc=D(Ae);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(e){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ru(t,n){return t?n?t.endsWith("/")?n.startsWith("/")?t+n.slice(1):t+n:n.startsWith("/")?t+n:`${t}/${n}`:t:n}function lC(t){let n=t.search(/#|\?|$/);return t[n-1]==="/"?t.slice(0,n-1)+t.slice(n):t}function Mn(t){return t&&t[0]!=="?"?`?${t}`:t}var Cr=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>D(ou),providedIn:"root"})}return t})(),iu=new G(""),ou=(()=>{class t extends Cr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ru(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+Mn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){let a=this.prepareExternalUrl(i+Mn(o));this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,o){let a=this.prepareExternalUrl(i+Mn(o));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(U(ha),U(iu,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ur=(()=>{class t{_subject=new oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=PM(lC(cC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Mn(r))}normalize(e){return t.stripTrailingSlash(RM(this._basePath,cC(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mn;static joinWithSlash=ru;static stripTrailingSlash=lC;static \u0275fac=function(r){return new(r||t)(U(Cr))};static \u0275prov=O({token:t,factory:()=>xM(),providedIn:"root"})}return t})();function xM(){return new Ur(U(Cr))}function RM(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function cC(t){return t.replace(/\/index.html$/,"")}function PM(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var ag=(()=>{class t extends Cr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=ru(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let a=this.prepareExternalUrl(i+Mn(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,o){let a=this.prepareExternalUrl(i+Mn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||t)(U(ha),U(iu,8))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var lg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(lg||{});var Kn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function jo(t,n){let e=Jc(t),r=e[Ii.NumberSymbols][n];if(typeof r>"u"){if(n===Kn.CurrencyDecimal)return e[Ii.NumberSymbols][Kn.Decimal];if(n===Kn.CurrencyGroup)return e[Ii.NumberSymbols][Kn.Group]}return r}function mC(t,n){return Jc(t)[Ii.NumberFormats][n]}var AM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fC=22,su=".",pa="0",NM=";",OM=",",ig="#";function kM(t,n,e,r,i,o,a=!1){let s="",l=!1;if(!isFinite(t))s=jo(e,Kn.Infinity);else{let c=VM(t);a&&(c=FM(c));let u=n.minInt,d=n.minFrac,y=n.maxFrac;if(o){let J=o.match(AM);if(J===null)throw new F(2306,!1);let q=J[1],L=J[3],V=J[5];q!=null&&(u=og(q)),L!=null&&(d=og(L)),V!=null?y=og(V):L!=null&&d>y&&(y=d)}jM(c,d,y);let h=c.digits,w=c.integerLen,R=c.exponent,I=[];for(l=h.every(J=>!J);w<u;w++)h.unshift(0);for(;w<0;w++)h.unshift(0);w>0?I=h.splice(w,h.length):(I=h,h=[0]);let M=[];for(h.length>=n.lgSize&&M.unshift(h.splice(-n.lgSize,h.length).join(""));h.length>n.gSize;)M.unshift(h.splice(-n.gSize,h.length).join(""));h.length&&M.unshift(h.join("")),s=M.join(jo(e,r)),I.length&&(s+=jo(e,i)+I.join("")),R&&(s+=jo(e,Kn.Exponential)+"+"+R)}return t<0&&!l?s=n.negPre+s+n.negSuf:s=n.posPre+s+n.posSuf,s}function _C(t,n,e){let r=mC(n,lg.Decimal),i=LM(r,jo(n,Kn.MinusSign));return kM(t,i,n,Kn.Group,Kn.Decimal,e)}function LM(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(NM),i=r[0],o=r[1],a=i.indexOf(su)!==-1?i.split(su):[i.substring(0,i.lastIndexOf(pa)+1),i.substring(i.lastIndexOf(pa)+1)],s=a[0],l=a[1]||"";e.posPre=s.substring(0,s.indexOf(ig));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===pa?e.minFrac=e.maxFrac=u+1:d===ig?e.maxFrac=u+1:e.posSuf+=d}let c=s.split(OM);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-e.posPre.length-e.posSuf.length,d=o.indexOf(ig);e.negPre=o.substring(0,d).replace(/'/g,""),e.negSuf=o.slice(d+u).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function FM(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function VM(t){let n=Math.abs(t)+"",e=0,r,i,o,a,s;for((i=n.indexOf(su))>-1&&(n=n.replace(su,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===pa;o++);if(o===(s=n.length))r=[0],i=1;else{for(s--;n.charAt(s)===pa;)s--;for(i-=o,r=[],a=0;o<=s;o++,a++)r[a]=Number(n.charAt(o))}return i>fC&&(r=r.splice(0,fC-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function jM(t,n,e){if(n>e)throw new F(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(n,i),e),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let d=a;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let d=1;d<a;d++)r[d]=0}if(s>=5)if(a-1<0){for(let d=0;d>a;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=n+t.integerLen,u=r.reduceRight(function(d,y,h,w){return y=y+d,w[h]=y<10?y:y-10,l&&(w[h]===0&&h>=c?w.pop():l=!1),y>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function og(t){let n=parseInt(t);if(isNaN(n))throw new F(2305,!1);return n}var sg=/\s+/,hC=[],xi=(()=>{class t{_ngEl;_renderer;initialClasses=hC;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=e!=null?e.trim().split(sg):hC}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(sg):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(sg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(W(Qe),W(ln))};static \u0275dir=ke({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var au=class{$implicit;ngForOf;index;count;constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$r=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,o,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new au(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let s=r.get(o);r.move(s,a),pC(s,i)}});for(let i=0,o=r.length;i<o;i++){let s=r.get(i).context;s.index=i,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);pC(o,i)})}static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(W(cn),W(Wn),W(nu))};static \u0275dir=ke({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function pC(t,n){t.context.$implicit=n.item}var Ri=(()=>{class t{_viewContainer;_context=new lu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){gC(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){gC(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||t)(W(cn),W(Wn))};static \u0275dir=ke({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),lu=class{$implicit=null;ngIf=null};function gC(t,n){if(t&&!t.createEmbeddedView)throw new F(2020,!1)}var Pi=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){let[i,o]=e.split("."),a=i.indexOf("-")===-1?void 0:wn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,i,a)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(W(Qe),W(eg),W(ln))};static \u0275dir=ke({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();function vC(t,n){return new F(2100,!1)}var HM=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,cg=(()=>{class t{transform(e){if(e==null)return null;if(typeof e!="string")throw vC(t,e);return e.replace(HM,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=Vr({name:"titlecase",type:t,pure:!0})}return t})();var ug=(()=>{class t{_locale;constructor(e){this._locale=e}transform(e,r,i){if(!BM(e))return null;i||=this._locale;try{let o=UM(e);return _C(o,i,r)}catch(o){throw vC(t,o.message)}}static \u0275fac=function(r){return new(r||t)(W(ca,16))};static \u0275pipe=Vr({name:"number",type:t,pure:!0})}return t})();function BM(t){return!(t==null||t===""||t!==t)}function UM(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new F(2309,!1);return t}var Sr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({})}return t})();function ga(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,o]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Ai=class{};var fg="browser";function CC(t){return t===fg}var SC=(()=>{class t{static \u0275prov=O({token:t,providedIn:"root",factory:()=>new dg(D(Ae),window)})}return t})(),dg=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,e){this.window.scrollTo(ue(N({},e),{left:n[0],top:n[1]}))}scrollToAnchor(n,e){let r=$M(this.document,n);r&&(this.scrollToElement(r,e),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(vn(2400,!1))}}scrollToElement(n,e){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(ue(N({},e),{left:i-a[0],top:o-a[1]}))}};function $M(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}var uu=new G(""),vg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,o){return this._findPluginFor(r).addEventListener(e,r,i,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||t)(U(uu),U(we))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),ma=class{_doc;constructor(n){this._doc=n}manager},pg="ng-app-id";function EC(t){for(let n of t)n.remove()}function wC(t,n){let e=n.createElement("style");return e.textContent=t,e}function GM(t,n,e,r){let i=t.head?.querySelectorAll(`style[${pg}="${n}"],link[${pg}="${n}"]`);if(i)for(let o of i)o.removeAttribute(pg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function mg(t,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var yg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,GM(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,wC);r?.forEach(i=>this.addUsage(i,this.external,mg))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let o=r.get(e);o?o.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(EC(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])EC(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,wC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,mg(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),e.appendChild(r)}static \u0275fac=function(r){return new(r||t)(U(Ae),U(Mo),U(Fc,8),U(Fr))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cg=/%COMP%/g;var bC="%COMP%",zM=`_nghost-${bC}`,WM=`_ngcontent-${bC}`,qM=!0,YM=new G("",{providedIn:"root",factory:()=>qM});function KM(t){return WM.replace(Cg,t)}function ZM(t){return zM.replace(Cg,t)}function IC(t,n){return n.map(e=>e.replace(Cg,t))}var Sg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,o,a,s,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new _a(e,a,l,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,r);return i instanceof cu?i.applyToHost(e):i instanceof va&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case pr.Emulated:o=new cu(l,c,r,this.appId,u,a,s,d,y);break;case pr.ShadowDom:return new _g(l,c,e,r,a,s,this.nonce,d,y);default:o=new va(l,c,r,u,a,s,d,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||t)(U(vg),U(yg),U(Mo),U(YM),U(Ae),U(Fr),U(we),U(Fc),U(bi,8))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),_a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,r,i,o){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(gg[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(DC(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(DC(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new F(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let o=gg[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=gg[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(wn.DashCase|wn.Important)?n.style.setProperty(e,r,i&wn.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&wn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r,i){if(typeof n=="string"&&(n=Yt().getGlobalEventTarget(this.doc,n),!n))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,e,o)),this.eventManager.addEventListener(n,e,o,i)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function DC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _g=class extends _a{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,r,i,o,a,s,l,c){super(n,o,a,l,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=IC(i.id,u);for(let y of u){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=y,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let y of d){let h=mg(y,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},va=class extends _a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,r,i,o,a,s,l,c){super(n,o,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?IC(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cu=class extends va{contentAttr;hostAttr;constructor(n,e,r,i,o,a,s,l,c){let u=i+"-"+r.id;super(n,e,r,o,a,s,l,c,u),this.contentAttr=KM(u),this.hostAttr=ZM(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}};var du=class t extends fa{supportsDOMEvents=!0;static makeCurrent(){ng(new t)}onAndCancel(n,e,r,i){return n.addEventListener(e,r,i),()=>{n.removeEventListener(e,r,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=QM();return e==null?null:XM(e)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ga(document.cookie,n)}},ya=null;function QM(){return ya=ya||document.head.querySelector("base"),ya?ya.getAttribute("href"):null}function XM(t){return new URL(t,document.baseURI).pathname}var fu=class{addToWindow(n){tt.getAngularTestability=(r,i=!0)=>{let o=n.findTestabilityInTree(r,i);if(o==null)throw new F(5103,!1);return o},tt.getAllAngularTestabilities=()=>n.getAllTestabilities(),tt.getAllAngularRootElements=()=>n.getAllRootElements();let e=r=>{let i=tt.getAllAngularTestabilities(),o=i.length,a=function(){o--,o==0&&r()};i.forEach(s=>{s.whenStable(a)})};tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,r){if(e==null)return null;let i=n.getTestability(e);return i??(r?Yt().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},JM=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),MC=(()=>{class t extends ma{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,o){return e.addEventListener(r,i,o),()=>this.removeEventListener(e,r,i,o)}removeEventListener(e,r,i,o){return e.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(U(Ae))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),TC=["alt","control","meta","shift"],ex={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xC=(()=>{class t extends ma{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(e,a.domEventName,s,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),TC.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),a+=c+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(e,r){let i=ex[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TC.forEach(a=>{if(a!==i){let s=tx[a];s(e)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||t)(U(Ae))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function nx(){du.makeCurrent()}function rx(){return new _n}function ix(){return np(document),document}var ox=[{provide:Fr,useValue:fg},{provide:Lc,useValue:nx,multi:!0},{provide:Ae,useFactory:ix}],Eg=Jp(iC,"browser",ox);var sx=[{provide:Po,useClass:fu},{provide:Zc,useClass:ra,deps:[we,ia,Po]},{provide:ra,useClass:ra,deps:[we,ia,Po]}],ax=[{provide:Ns,useValue:"root"},{provide:_n,useFactory:rx},{provide:uu,useClass:MC,multi:!0,deps:[Ae]},{provide:uu,useClass:xC,multi:!0,deps:[Ae]},Sg,yg,vg,{provide:zt,useExisting:Sg},{provide:Ai,useClass:JM},[]],wg=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[...ax,...sx],imports:[Sr,oC]})}return t})();var Uo=class{},Ca=class{},Gr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),o=e.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,e);let i=(n.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let o=n.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(n,e){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(n,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var pu=class{encodeKey(n){return RC(n)}encodeValue(n){return RC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function lx(t,n){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var cx=/%(\d[a-f0-9])/gi,ux={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RC(t){return encodeURIComponent(t).replace(cx,(n,e)=>ux[e]??n)}function hu(t){return`${t}`}var Er=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new pu,n.fromString){if(n.fromObject)throw new F(2805,!1);this.map=lx(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let r=n.fromObject[e],i=Array.isArray(r)?r.map(hu):[hu(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(hu(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(hu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var gu=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function dx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PC(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function AC(t){return typeof Blob<"u"&&t instanceof Blob}function NC(t){return typeof FormData<"u"&&t instanceof FormData}function fx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var OC="Content-Type",kC="Accept",FC="X-Request-URL",VC="text/plain",jC="application/json",hx=`${jC}, ${VC}, */*`,Ho=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,r,i){this.url=e,this.method=n.toUpperCase();let o;if(dx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Gr,this.context??=new gu,!this.params)this.params=new Er,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PC(this.body)||AC(this.body)||NC(this.body)||fx(this.body)?this.body:this.body instanceof Er?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NC(this.body)?null:AC(this.body)?this.body.type||null:PC(this.body)?null:typeof this.body=="string"?VC:this.body instanceof Er?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?jC:null}clone(n={}){let e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,a=n.priority||this.priority,s=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.transferCache??this.transferCache,y=n.timeout??this.timeout,h=n.body!==void 0?n.body:this.body,w=n.withCredentials??this.withCredentials,R=n.reportProgress??this.reportProgress,I=n.headers||this.headers,M=n.params||this.params,J=n.context??this.context;return n.setHeaders!==void 0&&(I=Object.keys(n.setHeaders).reduce((q,L)=>q.set(L,n.setHeaders[L]),I)),n.setParams&&(M=Object.keys(n.setParams).reduce((q,L)=>q.set(L,n.setParams[L]),M)),new t(e,r,h,{params:M,headers:I,context:J,reportProgress:R,responseType:i,withCredentials:w,transferCache:d,keepalive:o,cache:s,priority:a,timeout:y,mode:l,redirect:c,credentials:u})}},Ni=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ni||{}),$o=class{headers;status;statusText;url;ok;type;constructor(n,e=200,r="OK"){this.headers=n.headers||new Gr,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},mu=class t extends $o{constructor(n={}){super(n)}type=Ni.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Sa=class t extends $o{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Ni.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Bo=class extends $o{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},px=200,gx=204;function Dg(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var zr=(()=>{class t{handler;constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Ho)o=e;else{let l;i.headers instanceof Gr?l=i.headers:l=new Gr(i.headers);let c;i.params&&(i.params instanceof Er?c=i.params:c=new Er({fromObject:i.params})),o=new Ho(e,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let a=te(o).pipe(Fn(l=>this.handler.handle(l)));if(e instanceof Ho||i.observe==="events")return a;let s=a.pipe(Je(l=>l instanceof Sa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new F(2806,!1);return l.body}));case"blob":return s.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new F(2807,!1);return l.body}));case"text":return s.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new F(2808,!1);return l.body}));case"json":default:return s.pipe(re(l=>l.body))}case"response":return s;default:throw new F(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new Er().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Dg(i,r))}post(e,r,i={}){return this.request("POST",e,Dg(i,r))}put(e,r,i={}){return this.request("PUT",e,Dg(i,r))}static \u0275fac=function(r){return new(r||t)(U(Uo))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var mx=new G("");function HC(t,n){return n(t)}function _x(t,n){return(e,r)=>n.intercept(e,{handle:i=>t(i,r)})}function vx(t,n,e){return(r,i)=>ut(e,()=>n(r,o=>t(o,i)))}var BC=new G(""),Ig=new G(""),UC=new G(""),Tg=new G("",{providedIn:"root",factory:()=>!0});function yx(){let t=null;return(n,e)=>{t===null&&(t=(D(BC,{optional:!0})??[]).reduceRight(_x,HC));let r=D($s);if(D(Tg)){let o=r.add();return t(n,e).pipe(Ir(o))}else return t(n,e)}}var _u=(()=>{class t extends Uo{backend;injector;chain=null;pendingTasks=D($s);contributeToStability=D(Tg);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Ig),...this.injector.get(UC,[])]));this.chain=r.reduceRight((i,o)=>vx(i,o,this.injector),HC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Ir(r))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(U(Ca),U(Ye))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var Cx=/^\)\]\}',?\n/,Sx=RegExp(`^${FC}:`,"m");function Ex(t){return"responseURL"in t&&t.responseURL?t.responseURL:Sx.test(t.getAllResponseHeaders())?t.getResponseHeader(FC):null}var bg=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new F(-2800,!1);let r=this.xhrFactory;return te(null).pipe(He(()=>new ie(o=>{let a=r.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((I,M)=>a.setRequestHeader(I,M.join(","))),e.headers.has(kC)||a.setRequestHeader(kC,hx),!e.headers.has(OC)){let I=e.detectContentTypeHeader();I!==null&&a.setRequestHeader(OC,I)}if(e.timeout&&(a.timeout=e.timeout),e.responseType){let I=e.responseType.toLowerCase();a.responseType=I!=="json"?I:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let I=a.statusText||"OK",M=new Gr(a.getAllResponseHeaders()),J=Ex(a)||e.url;return l=new mu({headers:M,status:a.status,statusText:I,url:J}),l},u=()=>{let{headers:I,status:M,statusText:J,url:q}=c(),L=null;M!==gx&&(L=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=L?px:0);let V=M>=200&&M<300;if(e.responseType==="json"&&typeof L=="string"){let _=L;L=L.replace(Cx,"");try{L=L!==""?JSON.parse(L):null}catch(m){L=_,V&&(V=!1,L={error:m,text:L})}}V?(o.next(new Sa({body:L,headers:I,status:M,statusText:J,url:q||void 0})),o.complete()):o.error(new Bo({error:L,headers:I,status:M,statusText:J,url:q||void 0}))},d=I=>{let{url:M}=c(),J=new Bo({error:I,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});o.error(J)},y=d;e.timeout&&(y=I=>{let{url:M}=c(),J=new Bo({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:M||void 0});o.error(J)});let h=!1,w=I=>{h||(o.next(c()),h=!0);let M={type:Ni.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),e.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),o.next(M)},R=I=>{let M={type:Ni.UploadProgress,loaded:I.loaded};I.lengthComputable&&(M.total=I.total),o.next(M)};return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",y),a.addEventListener("abort",d),e.reportProgress&&(a.addEventListener("progress",w),s!==null&&a.upload&&a.upload.addEventListener("progress",R)),a.send(s),o.next({type:Ni.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",y),e.reportProgress&&(a.removeEventListener("progress",w),s!==null&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(U(Ai))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),$C=new G(""),wx="XSRF-TOKEN",Dx=new G("",{providedIn:"root",factory:()=>wx}),bx="X-XSRF-TOKEN",Ix=new G("",{providedIn:"root",factory:()=>bx}),Ea=class{},Tx=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r){this.doc=e,this.cookieName=r}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ga(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||t)(U(Ae),U(Dx))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function Mx(t,n){let e=t.url.toLowerCase();if(!D($C)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(t);let r=D(Ea).getToken(),i=D(Ix);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}var Mg=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Mg||{});function xx(t,n){return{\u0275kind:t,\u0275providers:n}}function GC(...t){let n=[zr,bg,_u,{provide:Uo,useExisting:_u},{provide:Ca,useFactory:()=>D(mx,{optional:!0})??D(bg)},{provide:Ig,useValue:Mx,multi:!0},{provide:$C,useValue:!0},{provide:Ea,useClass:Tx}];for(let e of t)n.push(...e.\u0275providers);return fr(n)}var LC=new G("");function zC(){return xx(Mg.LegacyInterceptors,[{provide:LC,useFactory:yx},{provide:Ig,useExisting:LC,multi:!0}])}var xg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[GC(zC())]})}return t})();var WC=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||t)(U(Ae))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Pg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=U(Rx),i},providedIn:"root"})}return t})(),Rx=(()=>{class t extends Pg{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case In.NONE:return r;case In.HTML:return mr(r,"HTML")?bn(r):jc(this._doc,String(r)).toString();case In.STYLE:return mr(r,"Style")?bn(r):r;case In.SCRIPT:if(mr(r,"Script"))return bn(r);throw new F(5200,!1);case In.URL:return mr(r,"URL")?bn(r):ea(String(r));case In.RESOURCE_URL:if(mr(r,"ResourceURL"))return bn(r);throw new F(5201,!1);default:throw new F(5202,!1)}}bypassSecurityTrustHtml(e){return sp(e)}bypassSecurityTrustStyle(e){return ap(e)}bypassSecurityTrustScript(e){return lp(e)}bypassSecurityTrustUrl(e){return cp(e)}bypassSecurityTrustResourceUrl(e){return up(e)}static \u0275fac=function(r){return new(r||t)(U(Ae))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nS=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||t)(W(ln),W(Qe))};static \u0275dir=ke({type:t})}return t})(),jg=(()=>{class t extends nS{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})();static \u0275dir=ke({type:t,features:[Wt]})}return t})(),Ma=new G("");var Px={provide:Ma,useExisting:Xt(()=>Iu),multi:!0};function Ax(){let t=Yt()?Yt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Nx=new G(""),Iu=(()=>{class t extends nS{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Ax())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||t)(W(ln),W(Qe),W(Nx,8))};static \u0275dir=ke({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&z("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[qt([Px]),Wt]})}return t})();var Hg=new G(""),Bg=new G("");function rS(t){return t!=null}function iS(t){return Hr(t)?Fe(t):t}function oS(t){let n={};return t.forEach(e=>{n=e!=null?N(N({},n),e):n}),Object.keys(n).length===0?null:n}function sS(t,n){return n.map(e=>e(t))}function Ox(t){return!t.validate}function aS(t){return t.map(n=>Ox(n)?n:e=>n.validate(e))}function kx(t){if(!t)return null;let n=t.filter(rS);return n.length==0?null:function(e){return oS(sS(e,n))}}function lS(t){return t!=null?kx(aS(t)):null}function Lx(t){if(!t)return null;let n=t.filter(rS);return n.length==0?null:function(e){let r=sS(e,n).map(iS);return bs(r).pipe(re(oS))}}function cS(t){return t!=null?Lx(aS(t)):null}function qC(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function uS(t){return t._rawValidators}function dS(t){return t._rawAsyncValidators}function Ng(t){return t?Array.isArray(t)?t:[t]:[]}function yu(t,n){return Array.isArray(t)?t.includes(n):t===n}function YC(t,n){let e=Ng(n);return Ng(t).forEach(i=>{yu(e,i)||e.push(i)}),e}function KC(t,n){return Ng(n).filter(e=>!yu(t,e))}var Cu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=lS(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=cS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Oi=class extends Cu{name;get formDirective(){return null}get path(){return null}},ki=class extends Cu{_parent=null;name=null;valueAccessor=null},Su=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Fx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hW=ue(N({},Fx),{"[class.ng-submitted]":"isSubmitted"}),Tu=(()=>{class t extends Su{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(W(ki,2))};static \u0275dir=ke({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&De("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Wt]})}return t})(),fS=(()=>{class t extends Su{constructor(e){super(e)}static \u0275fac=function(r){return new(r||t)(W(Oi,10))};static \u0275dir=ke({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&De("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Wt]})}return t})();var wa="VALID",vu="INVALID",Go="PENDING",Da="DISABLED",Wr=class{},Eu=class extends Wr{value;source;constructor(n,e){super(),this.value=n,this.source=e}},ba=class extends Wr{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Ia=class extends Wr{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},zo=class extends Wr{status;source;constructor(n,e){super(),this.status=n,this.source=e}},Og=class extends Wr{source;constructor(n){super(),this.source=n}},kg=class extends Wr{source;constructor(n){super(),this.source=n}};function Ug(t){return(Mu(t)?t.validators:t)||null}function Vx(t){return Array.isArray(t)?lS(t):t||null}function $g(t,n){return(Mu(n)?n.asyncValidators:t)||null}function jx(t){return Array.isArray(t)?cS(t):t||null}function Mu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hS(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new F(1e3,"");if(!r[e])throw new F(1001,"")}function pS(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new F(1002,"")})}var Wo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return un(this.statusReactive)}set status(n){un(()=>this.statusReactive.set(n))}_status=Vo(()=>this.statusReactive());statusReactive=Ft(void 0);get valid(){return this.status===wa}get invalid(){return this.status===vu}get pending(){return this.status==Go}get disabled(){return this.status===Da}get enabled(){return this.status!==Da}errors;get pristine(){return un(this.pristineReactive)}set pristine(n){un(()=>this.pristineReactive.set(n))}_pristine=Vo(()=>this.pristineReactive());pristineReactive=Ft(!0);get dirty(){return!this.pristine}get touched(){return un(this.touchedReactive)}set touched(n){un(()=>this.touchedReactive.set(n))}_touched=Vo(()=>this.touchedReactive());touchedReactive=Ft(!1);get untouched(){return!this.touched}_events=new oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(YC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(YC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(KC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(KC(n,this._rawAsyncValidators))}hasValidator(n){return yu(this._rawValidators,n)}hasAsyncValidator(n){return yu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ue(N({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Ia(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Ia(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ue(N({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new ba(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new ba(!0,r))}markAsPending(n={}){this.status=Go;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new zo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ue(N({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Da,this.errors=null,this._forEachChild(i=>{i.disable(ue(N({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Eu(this.value,r)),this._events.next(new zo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(N({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=wa,this._forEachChild(r=>{r.enable(ue(N({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ue(N({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wa||this.status===Go)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Eu(this.value,e)),this._events.next(new zo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ue(N({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Da:wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Go,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let r=iS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new zo(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new Ee,this.statusChanges=new Ee}_calculateStatus(){return this._allControlsDisabled()?Da:this.errors?vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Go)?Go:this._anyControlsHaveStatus(vu)?vu:wa}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new ba(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ia(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Mu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Vx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=jx(this._rawAsyncValidators)}},wu=class extends Wo{constructor(n,e,r){super(Ug(e),$g(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){pS(this,!0,n),Object.keys(n).forEach(r=>{hS(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Lg=class extends wu{};var xu=new G("",{providedIn:"root",factory:()=>Ru}),Ru="always";function gS(t,n){return[...n.path,t]}function Fg(t,n,e=Ru){Gg(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),Bx(t,n),$x(t,n),Ux(t,n),Hx(t,n)}function ZC(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),bu(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Du(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Hx(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Gg(t,n){let e=uS(t);n.validator!==null?t.setValidators(qC(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=dS(t);n.asyncValidator!==null?t.setAsyncValidators(qC(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Du(n._rawValidators,i),Du(n._rawAsyncValidators,i)}function bu(t,n){let e=!1;if(t!==null){if(n.validator!==null){let i=uS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(n.asyncValidator!==null){let i=dS(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Du(n._rawValidators,r),Du(n._rawAsyncValidators,r),e}function Bx(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mS(t,n)})}function Ux(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mS(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function mS(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $x(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function Gx(t,n){t==null,Gg(t,n)}function zx(t,n){return bu(t,n)}function _S(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Wx(t){return Object.getPrototypeOf(t.constructor)===jg}function qx(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vS(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(o=>{o.constructor===Iu?e=o:Wx(o)?r=o:i=o}),i||r||e||null}function Yx(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function QC(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function XC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ta=class extends Wo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,r){super(Ug(e),$g(r,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(XC(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){QC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){QC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){XC(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Kx=t=>t instanceof Ta;var Zx={provide:ki,useExisting:Xt(()=>xa)},JC=Promise.resolve(),xa=(()=>{class t extends ki{_changeDetectorRef;callSetDisabledState;control=new Ta;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ee;constructor(e,r,i,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vS(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_S(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){JC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,i=r!==0&&dn(r);JC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?gS(e,this._parent):[e]}static \u0275fac=function(r){return new(r||t)(W(Oi,9),W(Hg,10),W(Bg,10),W(Ma,10),W(Ht,8),W(xu,8))};static \u0275dir=ke({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qt([Zx]),Wt,an]})}return t})();var yS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ke({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var CS=new G("");var Qx={provide:Oi,useExisting:Xt(()=>zg)},zg=(()=>{class t extends Oi{callSetDisabledState;get submitted(){return un(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Vo(()=>this._submittedReactive());_submittedReactive=Ft(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ee;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Fg(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){ZC(e.control||null,e,!1),Yx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),qx(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Og(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,r={}){this.form.reset(e,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new kg(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(ZC(r||null,e),Kx(i)&&(Fg(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);Gx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&zx(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gg(this.form,this),this._oldForm&&bu(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(W(Hg,10),W(Bg,10),W(xu,8))};static \u0275dir=ke({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&z("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qt([Qx]),Wt,an]})}return t})();var Xx={provide:ki,useExisting:Xt(()=>Wg)},Wg=(()=>{class t extends ki{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Ee;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=vS(this,o)}ngOnChanges(e){this._added||this._setUpControl(),_S(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gS(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(W(Oi,13),W(Hg,10),W(Bg,10),W(Ma,10),W(CS,8))};static \u0275dir=ke({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[qt([Xx]),Wt,an]})}return t})();var Jx={provide:Ma,useExisting:Xt(()=>qo),multi:!0};function SS(t,n){return t==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function eR(t){return t.split(":")[0]}var qo=(()=>{class t extends jg{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=D(ht).injector;destroyRef=D(sn);cdr=D(Ht);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,jr({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let r=this._getOptionId(e),i=SS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=eR(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})();static \u0275dir=ke({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&z("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([Jx]),Wt]})}return t})(),Pu=(()=>{class t{_element;_renderer;_select;id;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(SS(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(W(Qe),W(ln),W(qo,9))};static \u0275dir=ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),tR={provide:Ma,useExisting:Xt(()=>ES),multi:!0};function eS(t,n){return t==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${t}: ${n}`.slice(0,50))}function nR(t){return t.split(":")[0]}var ES=(()=>{class t extends jg{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let r;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);i.push(c)}}else{let a=r.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=nR(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})();static \u0275dir=ke({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([tR]),Wt]})}return t})(),Au=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(eS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(eS(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(W(Qe),W(ln),W(ES,9))};static \u0275dir=ke({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var wS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({})}return t})(),Vg=class extends Wo{constructor(n,e,r){super(Ug(e),$g(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){pS(this,!1,n),n.forEach((r,i)=>{hS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function tS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var DS=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),o={};return tS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new wu(i,o)}record(e,r=null){let i=this._reduceControls(e);return new Lg(i,r)}control(e,r,i){let o={};return this.useNonNullable?(tS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ta(e,ue(N({},o),{nonNullable:!0}))):new Ta(e,r,i)}array(e,r,i){let o=e.map(a=>this._createControl(a));return new Vg(o,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof Ta)return e;if(e instanceof Wo)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,i,o)}else return this.control(e)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yo=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:xu,useValue:e.callSetDisabledState??Ru}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({imports:[wS]})}return t})(),bS=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:CS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:xu,useValue:e.callSetDisabledState??Ru}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({imports:[wS]})}return t})();var ge="primary",Ua=Symbol("RouteTitle"),Qg=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Vi(t){return new Qg(t)}function OS(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rR(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Zn(t[e],n[e]))return!1;return!0}function Zn(t,n){let e=t?Xg(t):void 0,r=n?Xg(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!kS(t[i],n[i]))return!1;return!0}function Xg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kS(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}else return t===n}function LS(t){return t.length>0?t[t.length-1]:null}function wr(t){return Ll(t)?t:Hr(t)?Fe(Promise.resolve(t)):te(t)}var iR={exact:VS,subset:jS},FS={exact:oR,subset:sR,ignored:()=>!0};function TS(t,n,e){return iR[e.paths](t.root,n.root,e.matrixParams)&&FS[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function oR(t,n){return Zn(t,n)}function VS(t,n,e){if(!Li(t.segments,n.segments)||!ku(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!VS(t.children[r],n.children[r],e))return!1;return!0}function sR(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>kS(t[e],n[e]))}function jS(t,n,e){return HS(t,n,n.segments,e)}function HS(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!Li(i,e)||n.hasChildren()||!ku(i,e,r))}else if(t.segments.length===e.length){if(!Li(t.segments,e)||!ku(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!jS(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!Li(t.segments,i)||!ku(t.segments,i,r)||!t.children[ge]?!1:HS(t.children[ge],n,o,r)}}function ku(t,n,e){return n.every((r,i)=>FS[e](t[i].parameters,r.parameters))}var Xn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new xe([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vi(this.queryParams),this._queryParamMap}toString(){return cR.serialize(this)}},xe=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lu(this)}},qr=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Vi(this.parameters),this._parameterMap}toString(){return US(this)}};function aR(t,n){return Li(t,n)&&t.every((e,r)=>Zn(e.parameters,n[r].parameters))}function Li(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function lR(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===ge&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ge&&(e=e.concat(n(i,r)))}),e}var ji=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>new Yr,providedIn:"root"})}return t})(),Yr=class{parse(n){let e=new em(n);return new Xn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Ra(n.root,!0)}`,r=fR(n.queryParams),i=typeof n.fragment=="string"?`#${uR(n.fragment)}`:"";return`${e}${r}${i}`}},cR=new Yr;function Lu(t){return t.segments.map(n=>US(n)).join("/")}function Ra(t,n){if(!t.hasChildren())return Lu(t);if(n){let e=t.children[ge]?Ra(t.children[ge],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${Ra(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=lR(t,(r,i)=>i===ge?[Ra(t.children[ge],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${Lu(t)}/${e[0]}`:`${Lu(t)}/(${e.join("//")})`}}function BS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nu(t){return BS(t).replace(/%3B/gi,";")}function uR(t){return encodeURI(t)}function Jg(t){return BS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fu(t){return decodeURIComponent(t)}function MS(t){return Fu(t.replace(/\+/g,"%20"))}function US(t){return`${Jg(t.path)}${dR(t.parameters)}`}function dR(t){return Object.entries(t).map(([n,e])=>`;${Jg(n)}=${Jg(e)}`).join("")}function fR(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Nu(e)}=${Nu(i)}`).join("&"):`${Nu(e)}=${Nu(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var hR=/^[^\/()?;#]+/;function qg(t){let n=t.match(hR);return n?n[0]:""}var pR=/^[^\/()?;=#]+/;function gR(t){let n=t.match(pR);return n?n[0]:""}var mR=/^[^=?&#]+/;function _R(t){let n=t.match(mR);return n?n[0]:""}var vR=/^[^&#]+/;function yR(t){let n=t.match(vR);return n?n[0]:""}var em=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[ge]=new xe(n,e)),r}parseSegment(){let n=qg(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(n),new qr(Fu(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=gR(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=qg(this.remaining);i&&(r=i,this.capture(r))}n[Fu(e)]=Fu(r)}parseQueryParam(n){let e=_R(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=yR(this.remaining);a&&(r=a,this.capture(r))}let i=MS(e),o=MS(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(o)}else n[i]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ge);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[ge]:new xe([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new F(4011,!1)}};function $S(t){return t.segments.length>0?new xe([],{[ge]:t}):t}function GS(t){let n={};for(let[r,i]of Object.entries(t.children)){let o=GS(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))n[a]=s;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let e=new xe(t.segments,n);return CR(e)}function CR(t){if(t.numberOfChildren===1&&t.children[ge]){let n=t.children[ge];return new xe(t.segments.concat(n.segments),n.children)}return t}function es(t){return t instanceof Xn}function zS(t,n,e=null,r=null){let i=WS(t);return qS(i,n,e,r)}function WS(t){let n;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new xe(o.url,a);return o===t&&(n=s),s}let r=e(t.root),i=$S(r);return n??i}function qS(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Yg(i,i,i,e,r);let o=SR(n);if(o.toRoot())return Yg(i,i,new xe([],{}),e,r);let a=ER(o,i,t),s=a.processChildren?Aa(a.segmentGroup,a.index,o.commands):KS(a.segmentGroup,a.index,o.commands);return Yg(i,a.segmentGroup,s,e,r)}function Vu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oa(t){return typeof t=="object"&&t!=null&&t.outlets}function Yg(t,n,e,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;t===n?a=e:a=YS(t,n,e);let s=$S(GS(a));return new Xn(s,o,i)}function YS(t,n,e){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===n?r[i]=e:r[i]=YS(o,n,e)}),new xe(t.segments,r)}var ju=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Vu(r[0]))throw new F(4003,!1);let i=r.find(Oa);if(i&&i!==LS(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ju(!0,0,t);let n=0,e=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?n++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new ju(e,n,r)}var Qo=class{segmentGroup;processChildren;index;constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function ER(t,n,e){if(t.isAbsolute)return new Qo(n,!0,0);if(!e)return new Qo(n,!1,NaN);if(e.parent===null)return new Qo(e,!0,0);let r=Vu(t.commands[0])?0:1,i=e.segments.length-1+r;return wR(e,i,t.numberOfDoubleDots)}function wR(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Qo(r,!1,i-o)}function DR(t){return Oa(t[0])?t[0].outlets:{[ge]:t}}function KS(t,n,e){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return Aa(t,n,e);let r=bR(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[ge]=new xe(t.segments.slice(r.pathIndex),t.children),Aa(o,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?tm(t,n,e):r.match?Aa(t,0,i):tm(t,n,e)}function Aa(t,n,e){if(e.length===0)return new xe(t.segments,{});{let r=DR(e),i={};if(Object.keys(r).some(o=>o!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let o=Aa(t.children[ge],n,e);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=KS(t.children[o],n,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new xe(t.segments,i)}}function bR(t,n,e){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;let a=t.segments[i],s=e[r];if(Oa(s))break;let l=`${s}`,c=r<e.length-1?e[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!RS(l,c,a))return o;r+=2}else{if(!RS(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tm(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let o=e[i];if(Oa(o)){let l=IR(o.outlets);return new xe(r,l)}if(i===0&&Vu(e[0])){let l=t.segments[n];r.push(new qr(l.path,xS(e[0]))),i++;continue}let a=Oa(o)?o.outlets[ge]:`${o}`,s=i<e.length-1?e[i+1]:null;a&&s&&Vu(s)?(r.push(new qr(a,xS(s))),i+=2):(r.push(new qr(a,{})),i++)}return new xe(r,{})}function IR(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=tm(new xe([],{}),0,r))}),n}function xS(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function RS(t,n,e){return t==e.path&&Zn(n,e.parameters)}var Xo="imperative",ot=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ot||{}),Zt=class{id;url;constructor(n,e){this.id=n,this.url=e}},Kr=class extends Zt{type=ot.NavigationStart;navigationTrigger;restoredState;constructor(n,e,r="imperative",i=null){super(n,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends Zt{urlAfterRedirects;type=ot.NavigationEnd;constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Nt||{}),ts=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ts||{}),Qn=class extends Zt{reason;code;type=ot.NavigationCancel;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jn=class extends Zt{reason;code;type=ot.NavigationSkipped;constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i}},ns=class extends Zt{error;target;type=ot.NavigationError;constructor(n,e,r,i){super(n,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ka=class extends Zt{urlAfterRedirects;state;type=ot.RoutesRecognized;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class extends Zt{urlAfterRedirects;state;type=ot.GuardsCheckStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bu=class extends Zt{urlAfterRedirects;state;shouldActivate;type=ot.GuardsCheckEnd;constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uu=class extends Zt{urlAfterRedirects;state;type=ot.ResolveStart;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class extends Zt{urlAfterRedirects;state;type=ot.ResolveEnd;constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class{route;type=ot.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zu=class{route;type=ot.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wu=class{snapshot;type=ot.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qu=class{snapshot;type=ot.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yu=class{snapshot;type=ot.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ku=class{snapshot;type=ot.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rs=class{routerEvent;position;anchor;type=ot.Scroll;constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},La=class{},is=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function TR(t){return!(t instanceof La)&&!(t instanceof is)}function MR(t,n){return t.providers&&!t._injector&&(t._injector=Ro(t.providers,n,`Route: ${t.path}`)),t._injector??n}function xn(t){return t.outlet||ge}function xR(t,n){let e=t.filter(r=>xn(r)===n);return e.push(...t.filter(r=>xn(r)!==n)),e}function as(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Zu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return as(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Hi(this.rootInjector)}},Hi=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Zu(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||t)(U(Ye))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=nm(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=nm(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=rm(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return rm(n,this._root).map(e=>e.value)}};function nm(t,n){if(t===n.value)return n;for(let e of n.children){let r=nm(t,e);if(r)return r}return null}function rm(t,n){if(t===n.value)return[n];for(let e of n.children){let r=rm(t,e);if(r.length)return r.unshift(n),r}return[]}var Kt=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Zo(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var Fa=class extends Qu{snapshot;constructor(n,e){super(n),this.snapshot=e,dm(this,n)}toString(){return this.snapshot.toString()}};function ZS(t){let n=RR(t),e=new it([new qr("",{})]),r=new it({}),i=new it({}),o=new it({}),a=new it(""),s=new Zr(e,r,o,a,i,ge,t,n.root);return s.snapshot=n.root,new Fa(new Kt(s,[]),n)}function RR(t){let n={},e={},r={},i="",o=new Fi([],n,r,i,e,ge,t,null,{});return new Va("",new Kt(o,[]))}var Zr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,r,i,o,a,s,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(c=>c[Ua]))??te(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(n=>Vi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(n=>Vi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xu(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:N(N({},n.params),t.params),data:N(N({},n.data),t.data),resolve:N(N(N(N({},t.data),n.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&XS(i)&&(r.resolve[Ua]=i.title),r}var Fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ua]}constructor(n,e,r,i,o,a,s,l,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Va=class extends Qu{url;constructor(n,e){super(e),this.url=n,dm(this,e)}toString(){return QS(this._root)}};function dm(t,n){n.value._routerState=t,n.children.forEach(e=>dm(t,e))}function QS(t){let n=t.children.length>0?` { ${t.children.map(QS).join(", ")} } `:"";return`${t.value}${n}`}function Kg(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Zn(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Zn(n.params,e.params)||t.paramsSubject.next(e.params),rR(n.url,e.url)||t.urlSubject.next(e.url),Zn(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function im(t,n){let e=Zn(t.params,n.params)&&aR(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||im(t.parent,n.parent))}function XS(t){return typeof t.title=="string"||t.title===null}var JS=new G(""),$a=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new Ee;deactivateEvents=new Ee;attachEvents=new Ee;detachEvents=new Ee;routerOutletData=Xy(void 0);parentContexts=D(Hi);location=D(cn);changeDetector=D(Ht);inputBinder=D(Ga,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=e;let i=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new om(e,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ke({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[an]})}return t})(),om=class{route;childContexts;parent;outletData;constructor(n,e,r,i){this.route=n,this.childContexts=e,this.parent=r,this.outletData=i}get(n,e){return n===Zr?this.route:n===Hi?this.childContexts:n===JS?this.outletData:this.parent.get(n,e)}},Ga=new G(""),fm=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=ws([r.queryParams,r.params,r.data]).pipe(He(([o,a,s],l)=>(s=N(N(N({},o),a),s),l===0?te(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=aC(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),hm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Vt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Y(0,"router-outlet")},dependencies:[$a],encapsulation:2})}return t})();function pm(t){let n=t.children&&t.children.map(pm),e=n?ue(N({},t),{children:n}):N({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==ge&&(e.component=hm),e}function PR(t,n,e){let r=ja(t,n._root,e?e._root:void 0);return new Fa(r,n)}function ja(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=AR(t,n,e);return new Kt(r,i)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(s=>ja(t,s)),a}}let r=NR(n.value),i=n.children.map(o=>ja(t,o));return new Kt(r,i)}}function AR(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ja(t,r,i);return ja(t,r)})}function NR(t){return new Zr(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var os=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},eE="ngNavigationCancelingError";function Ju(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=es(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=tE(!1,Nt.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function tE(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[eE]=!0,e.cancellationCode=n,e}function OR(t){return nE(t)&&es(t.url)}function nE(t){return!!t&&t[eE]}var kR=(t,n,e,r)=>re(i=>(new sm(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),sm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Kg(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=Zo(e);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Zo(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:s})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=Zo(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=Zo(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ku(o.value.snapshot))}),n.children.length&&this.forwardEvent(new qu(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,o=e?e.value:null;if(Kg(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Kg(s.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,r)}},ed=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Jo=class{component;route;constructor(n,e){this.component=n,this.route=e}};function LR(t,n,e){let r=t._root,i=n?n._root:null;return Pa(r,i,e,[r.value])}function FR(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function ls(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!gf(t)?t:n.get(t):r}function Pa(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zo(n);return t.children.forEach(a=>{VR(a,o[a.value.outlet],e,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Na(s,e.getContext(a),i)),i}function VR(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=n?n.value:null,s=e?e.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=jR(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ed(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Pa(t,n,s?s.children:null,r,i):Pa(t,n,e,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Jo(s.outlet.component,a))}else a&&Na(n,s,i),i.canActivateChecks.push(new ed(r)),o.component?Pa(t,null,s?s.children:null,r,i):Pa(t,null,e,r,i);return i}function jR(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Li(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Li(t.url,n.url)||!Zn(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!im(t,n)||!Zn(t.queryParams,n.queryParams);case"paramsChange":default:return!im(t,n)}}function Na(t,n,e){let r=Zo(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?n?Na(a,n.children.getContext(o),e):Na(a,null,e):Na(a,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Jo(n.outlet.component,i)):e.canDeactivateChecks.push(new Jo(null,i)):e.canDeactivateChecks.push(new Jo(null,i))}function za(t){return typeof t=="function"}function HR(t){return typeof t=="boolean"}function BR(t){return t&&za(t.canLoad)}function UR(t){return t&&za(t.canActivate)}function $R(t){return t&&za(t.canActivateChild)}function GR(t){return t&&za(t.canDeactivate)}function zR(t){return t&&za(t.canMatch)}function rE(t){return t instanceof ir||t?.name==="EmptyError"}var Ou=Symbol("INITIAL_VALUE");function ss(){return He(t=>ws(t.map(n=>n.pipe(gt(1),si(Ou)))).pipe(re(n=>{for(let e of n)if(e!==!0){if(e===Ou)return Ou;if(e===!1||WR(e))return e}return!0}),Je(n=>n!==Ou),gt(1)))}function WR(t){return es(t)||t instanceof os}function qR(t,n){return Xe(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?te(ue(N({},e),{guardsResult:!0})):YR(a,r,i,t).pipe(Xe(s=>s&&HR(s)?KR(r,o,t,n):te(s)),re(s=>ue(N({},e),{guardsResult:s})))})}function YR(t,n,e,r){return Fe(t).pipe(Xe(i=>eP(i.component,i.route,e,n,r)),ar(i=>i!==!0,!0))}function KR(t,n,e,r){return Fe(n).pipe(Fn(i=>lo(QR(i.route.parent,r),ZR(i.route,r),JR(t,i.path,e),XR(t,i.route,e))),ar(i=>i!==!0,!0))}function ZR(t,n){return t!==null&&n&&n(new Yu(t)),te(!0)}function QR(t,n){return t!==null&&n&&n(new Wu(t)),te(!0)}function XR(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Ds(()=>{let a=as(n)??e,s=ls(o,a),l=UR(s)?s.canActivate(n,t):ut(a,()=>s(n,t));return wr(l).pipe(ar())}));return te(i).pipe(ss())}function JR(t,n,e){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>FR(a)).filter(a=>a!==null).map(a=>Ds(()=>{let s=a.guards.map(l=>{let c=as(a.node)??e,u=ls(l,c),d=$R(u)?u.canActivateChild(r,t):ut(c,()=>u(r,t));return wr(d).pipe(ar())});return te(s).pipe(ss())}));return te(o).pipe(ss())}function eP(t,n,e,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let a=o.map(s=>{let l=as(n)??i,c=ls(s,l),u=GR(c)?c.canDeactivate(t,n,e,r):ut(l,()=>c(t,n,e,r));return wr(u).pipe(ar())});return te(a).pipe(ss())}function tP(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(a=>{let s=ls(a,t),l=BR(s)?s.canLoad(n,e):ut(t,()=>s(n,e));return wr(l)});return te(o).pipe(ss(),iE(r))}function iE(t){return Gd(Ze(n=>{if(typeof n!="boolean")throw Ju(t,n)}),re(n=>n===!0))}function nP(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(a=>{let s=ls(a,t),l=zR(s)?s.canMatch(n,e):ut(t,()=>s(n,e));return wr(l)});return te(o).pipe(ss(),iE(r))}var Ha=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ba=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ko(t){return ao(new Ha(t))}function rP(t){return ao(new F(4e3,!1))}function iP(t){return ao(tE(!1,Nt.GuardRejected))}var am=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[ge])return rP(`${n.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(n,e,r,i,o){return oP(e,i,o).pipe(re(a=>{if(a instanceof Xn)throw new Ba(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,r);if(a[0]==="/")throw new Ba(s);return s}))}applyRedirectCreateUrlTree(n,e,r,i){let o=this.createSegmentGroup(n,e.root,r,i);return new Xn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=e[s]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){let o=this.createSegments(n,e.segments,r,i),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(n,l,r,i)}),new xe(o,a)}createSegments(n,e,r,i){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}};function oP(t,n,e){if(typeof t=="string")return te(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:l,params:c,data:u,title:d}=n;return wr(ut(e,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:l,title:d})))}var lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sP(t,n,e,r,i){let o=oE(t,n,e);return o.matched?(r=MR(n,r),nP(r,n,e,i).pipe(re(a=>a===!0?o:N({},lm)))):te(o)}function oE(t,n,e){if(n.path==="**")return aP(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?N({},lm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||OS)(e,t,n);if(!i)return N({},lm);let o={};Object.entries(i.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function aP(t){return{matched:!0,parameters:t.length>0?LS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PS(t,n,e,r){return e.length>0&&uP(t,e,r)?{segmentGroup:new xe(n,cP(r,new xe(e,t.children))),slicedSegments:[]}:e.length===0&&dP(t,e,r)?{segmentGroup:new xe(t.segments,lP(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:e}}function lP(t,n,e,r){let i={};for(let o of e)if(nd(t,n,o)&&!r[xn(o)]){let a=new xe([],{});i[xn(o)]=a}return N(N({},r),i)}function cP(t,n){let e={};e[ge]=n;for(let r of t)if(r.path===""&&xn(r)!==ge){let i=new xe([],{});e[xn(r)]=i}return e}function uP(t,n,e){return e.some(r=>nd(t,n,r)&&xn(r)!==ge)}function dP(t,n,e){return e.some(r=>nd(t,n,r))}function nd(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function fP(t,n,e){return n.length===0&&!t.children[e]}var cm=class{};function hP(t,n,e,r,i,o,a="emptyOnly"){return new um(t,n,e,r,i,a,o).recognize()}var pP=31,um=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,r,i,o,a,s){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new am(this.urlSerializer,this.urlTree)}noMatchError(n){return new F(4002,`'${n.segmentGroup}'`)}recognize(){let n=PS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(re(({children:e,rootSnapshot:r})=>{let i=new Kt(r,e),o=new Va("",i),a=zS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(n){let e=new Fi([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,ge,e).pipe(re(r=>({children:r,rootSnapshot:e})),sr(r=>{if(r instanceof Ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ha?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,o):this.processSegment(n,e,r,r.segments,i,!0,o).pipe(re(a=>a instanceof Kt?[a]:[]))}processChildren(n,e,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return Fe(o).pipe(Fn(a=>{let s=r.children[a],l=xR(e,a);return this.processSegmentGroup(n,l,s,a,i)}),Xd((a,s)=>(a.push(...s),a)),br(null),Qd(),Xe(a=>{if(a===null)return Ko(r);let s=sE(a);return gP(s),te(s)}))}processSegment(n,e,r,i,o,a,s){return Fe(e).pipe(Fn(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,o,a,s).pipe(sr(c=>{if(c instanceof Ha)return te(null);throw c}))),ar(l=>!!l),sr(l=>{if(rE(l))return fP(r,i,o)?te(new cm):Ko(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,o,a,s,l){return xn(r)!==a&&(a===ge||!nd(i,o,r))?Ko(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,a,l):Ko(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,a,s){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:y}=oE(e,i,o);if(!l)return Ko(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pP&&(this.allowRedirects=!1));let h=new Fi(o,c,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,AS(i),xn(i),i.component??i._loadedComponent??null,i,NS(i)),w=Xu(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(w.params),h.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,n).pipe(He(I=>this.applyRedirects.lineralizeSegments(i,I)),Xe(I=>this.processSegment(n,r,e,I.concat(y),a,!1,s)))}matchSegmentAgainstRoute(n,e,r,i,o,a){let s=sP(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),s.pipe(He(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(He(({routes:c})=>{let u=r._loadedInjector??n,{parameters:d,consumedSegments:y,remainingSegments:h}=l,w=new Fi(y,d,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,AS(r),xn(r),r.component??r._loadedComponent??null,r,NS(r)),R=Xu(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data);let{segmentGroup:I,slicedSegments:M}=PS(e,y,h,c);if(M.length===0&&I.hasChildren())return this.processChildren(u,c,I,w).pipe(re(q=>new Kt(w,q)));if(c.length===0&&M.length===0)return te(new Kt(w,[]));let J=xn(r)===o;return this.processSegment(u,c,I,M,J?ge:o,!0,w).pipe(re(q=>new Kt(w,q instanceof Kt?[q]:[])))}))):Ko(e)))}getChildConfig(n,e,r){return e.children?te({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?te({routes:e._loadedRoutes,injector:e._loadedInjector}):tP(n,e,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(n,e).pipe(Ze(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):iP(e))):te({routes:[],injector:n})}};function gP(t){t.sort((n,e)=>n.value.outlet===ge?-1:e.value.outlet===ge?1:n.value.outlet.localeCompare(e.value.outlet))}function mP(t){let n=t.value.routeConfig;return n&&n.path===""}function sE(t){let n=[],e=new Set;for(let r of t){if(!mP(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=sE(r.children);n.push(new Kt(r.value,i))}return n.filter(r=>!e.has(r))}function AS(t){return t.data||{}}function NS(t){return t.resolve||{}}function _P(t,n,e,r,i,o){return Xe(a=>hP(t,n,e,r,a.extractedUrl,i,o).pipe(re(({state:s,tree:l})=>ue(N({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function vP(t,n){return Xe(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return te(e);let o=new Set(i.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of aE(l))a.add(c);let s=0;return Fe(a).pipe(Fn(l=>o.has(l)?yP(l,r,t,n):(l.data=Xu(l,l.parent,t).resolve,te(void 0))),Ze(()=>s++),co(1),Xe(l=>s===a.size?te(e):wt))})}function aE(t){let n=t.children.map(e=>aE(e)).flat();return[t,...n]}function yP(t,n,e,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!XS(i)&&(o[Ua]=i.title),Ds(()=>(t.data=Xu(t,t.parent,e).resolve,CP(o,t,n,r).pipe(re(a=>(t._resolvedData=a,t.data=N(N({},t.data),a),null)))))}function CP(t,n,e,r){let i=Xg(t);if(i.length===0)return te({});let o={};return Fe(i).pipe(Xe(a=>SP(t[a],n,e,r).pipe(ar(),Ze(s=>{if(s instanceof os)throw Ju(new Yr,s);o[a]=s}))),co(1),re(()=>o),sr(a=>rE(a)?wt:ao(a)))}function SP(t,n,e,r){let i=as(n)??r,o=ls(t,i),a=o.resolve?o.resolve(n,e):ut(i,()=>o(n,e));return wr(a)}function Zg(t){return He(n=>{let e=t(n);return e?Fe(e).pipe(re(()=>n)):te(n)})}var gm=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(e){return e.data[Ua]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>D(lE),providedIn:"root"})}return t})(),lE=(()=>{class t extends gm{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(U(WC))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bi=new G("",{providedIn:"root",factory:()=>({})}),cs=new G(""),rd=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(Gp);loadComponent(e,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(ut(e,()=>r.loadComponent())).pipe(re(uE),He(dE),Ze(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),Ir(()=>{this.componentLoaders.delete(r)})),o=new no(i,()=>new oe).pipe(to());return this.componentLoaders.set(r,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cE(r,this.compiler,e,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(r)})),a=new no(o,()=>new oe).pipe(to());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cE(t,n,e,r){return wr(ut(e,()=>t.loadChildren())).pipe(re(uE),He(dE),Xe(i=>i instanceof qc||Array.isArray(i)?te(i):Fe(n.compileModuleAsync(i))),re(i=>{r&&r(t);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(e).injector,a=o.get(cs,[],{optional:!0,self:!0}).flat()),{routes:a.map(pm),injector:o}}))}function EP(t){return t&&typeof t=="object"&&"default"in t}function uE(t){return EP(t)?t.default:t}function dE(t){return te(t)}var id=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>D(wP),providedIn:"root"})}return t})(),wP=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mm=new G(""),_m=new G("");function fE(t,n,e){let r=t.get(_m),i=t.get(Ae);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=i.startViewTransition(()=>(o(),DP(t)));s.ready.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&ut(t,()=>l({transition:s,from:n,to:e})),a}function DP(t){return new Promise(n=>{jr({read:()=>setTimeout(n)},{injector:t})})}var vm=new G(""),od=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oe;transitionAbortWithErrorSubject=new oe;configLoader=D(rd);environmentInjector=D(Ye);destroyRef=D(sn);urlSerializer=D(ji);rootContexts=D(Hi);location=D(Ur);inputBindingEnabled=D(Ga,{optional:!0})!==null;titleStrategy=D(gm);options=D(Bi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(id);createViewTransition=D(mm,{optional:!0});navigationErrorHandler=D(vm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Gu(i)),r=i=>this.events.next(new zu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ue(N({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(e){return this.transitions=new it(null),this.transitions.pipe(Je(r=>r!==null),He(r=>{let i=!1;return te(r).pipe(He(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),wt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ue(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&s!=="reload"){let l="";return this.events.next(new Jn(o.id,this.urlSerializer.serialize(o.rawUrl),l,ts.IgnoredSameUrlNavigation)),o.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return te(o).pipe(He(l=>(this.events.next(new Kr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?wt:Promise.resolve(l))),_P(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ue(N({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new ka(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:y}=o,h=new Kr(l,this.urlSerializer.serialize(c),u,d);this.events.next(h);let w=ZS(this.rootComponentType).snapshot;return this.currentTransition=r=ue(N({},o),{targetSnapshot:w,urlAfterRedirects:c,extras:ue(N({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,te(r)}else{let l="";return this.events.next(new Jn(o.id,this.urlSerializer.serialize(o.extractedUrl),l,ts.IgnoredByUrlHandlingStrategy)),o.resolve(!1),wt}}),Ze(o=>{let a=new Hu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),re(o=>(this.currentTransition=r=ue(N({},o),{guards:LR(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),qR(this.environmentInjector,o=>this.events.next(o)),Ze(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ju(this.urlSerializer,o.guardsResult);let a=new Bu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Je(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Nt.GuardRejected),!1)),Zg(o=>{if(o.guards.canActivateChecks.length!==0)return te(o).pipe(Ze(a=>{let s=new Uu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),He(a=>{let s=!1;return te(a).pipe(vP(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",Nt.NoDataFromResolver)}}))}),Ze(a=>{let s=new $u(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Zg(o=>{let a=s=>{let l=[];if(s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent){let c=as(s)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,s.routeConfig).pipe(Ze(u=>{s.component=u}),re(()=>{})))}for(let c of s.children)l.push(...a(c));return l};return ws(a(o.targetSnapshot.root)).pipe(br(null),gt(1))}),Zg(()=>this.afterPreactivation()),He(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?Fe(s).pipe(re(()=>r)):te(r)}),re(o=>{let a=PR(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ue(N({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ze(()=>{this.events.next(new La)}),kR(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),gt(1),Vn(new ie(o=>{let a=r.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Je(()=>!i&&!r.targetRouterState),Ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Nt.Aborted)}))),Ze({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Vn(this.transitionAbortWithErrorSubject.pipe(Ze(o=>{throw o}))),Ir(()=>{i||this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(o=>{if(this.destroyed)return r.resolve(!1),wt;if(i=!0,nE(o))this.events.next(new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),OR(o)?this.events.next(new is(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ns(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=ut(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof os){let{message:l,cancellationCode:c}=Ju(this.urlSerializer,s);this.events.next(new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new is(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return wt}))}))}cancelNavigationTransition(e,r,i){let o=new Qn(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bP(t){return t!==Xo}var hE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>D(IP),providedIn:"root"})}return t})(),td=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},IP=(()=>{class t extends td{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pE=(()=>{class t{urlSerializer=D(ji);options=D(Bi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=D(Ur);urlHandlingStrategy=D(id);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,r):r,a=i??o;return a instanceof Xn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=ZS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:()=>D(TP),providedIn:"root"})}return t})(),TP=(()=>{class t extends pE{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Kr?this.updateStateMemento():e instanceof Jn?this.commitTransition(r):e instanceof ka?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof La?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Qn&&e.code!==Nt.SupersededByNewNavigation&&e.code!==Nt.Redirect?this.restoreHistory(r):e instanceof ns?this.restoreHistory(r,!0):e instanceof Rn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(e)||o){let s=this.browserPageId,l=N(N({},a),this.generateNgRouterState(i,s));this.location.replaceState(e,"",l)}else{let s=N(N({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Lr(t)))(i||t)}})();static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sd(t,n){t.events.pipe(Je(e=>e instanceof Rn||e instanceof Qn||e instanceof ns||e instanceof Jn),re(e=>e instanceof Rn||e instanceof Jn?0:(e instanceof Qn?e.code===Nt.Redirect||e.code===Nt.SupersededByNewNavigation:!1)?2:1),Je(e=>e!==2),gt(1)).subscribe(()=>{n()})}var MP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(Kc);stateManager=D(pE);options=D(Bi,{optional:!0})||{};pendingTasks=D(Gn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(od);urlSerializer=D(ji);location=D(Ur);urlHandlingStrategy=D(id);injector=D(Ye);_events=new oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(hE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(cs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Ga,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Te;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Qn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof is){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=N({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bP(i.source)},a);this.scheduleNavigation(s,Xo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}TR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let l=N({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,r,a,o).catch(l=>{this.disposed||this.injector.get(Gt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let y=i?i.snapshot:this.routerState.snapshot.root;d=WS(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),d=this.currentUrlTree.root}return qS(d,e,u,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=es(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xo,null,r)}navigate(e,r={skipLocationChange:!1}){return RP(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=N({},MP):r===!1?i=N({},xP):i=r,es(e))return TS(this.currentUrlTree,e,i);let o=this.parseUrl(e);return TS(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(e,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,y)=>{s=d,l=y});let u=this.pendingTasks.add();return sd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RP(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new F(4008,!1)}var Wa=class{};var gE=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,o){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Je(e=>e instanceof Rn),Fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ro(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(s,o.children??o._loadedRoutes))}return Fe(i).pipe(Dr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=te(null);let o=i.pipe(Xe(a=>a===null?te(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(e,r);return Fe([o,a]).pipe(Dr())}else return o})}static \u0275fac=function(r){return new(r||t)(U(Qr),U(Ye),U(Wa),U(rd))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mE=new G(""),PP=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Xo;restoredId=0;store={};constructor(e,r,i,o,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Kr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Rn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Jn&&e.code===ts.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rs&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>pt(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new rs(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Tp()};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();function AP(t){return t.routerState.root}function qa(t,n){return{\u0275kind:t,\u0275providers:n}}function NP(){let t=D(Ve);return n=>{let e=t.get(ht);if(n!==e.components[0])return;let r=t.get(Qr),i=t.get(_E);t.get(Cm)===1&&r.initialNavigation(),t.get(CE,null,{optional:!0})?.setUpPreloading(),t.get(mE,null,{optional:!0})?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _E=new G("",{factory:()=>new oe}),Cm=new G("",{providedIn:"root",factory:()=>1});function vE(){let t=[{provide:Cm,useValue:0},Ao(()=>{let n=D(Ve);return n.get(rg,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Qr),o=n.get(_E);sd(i,()=>{r(!0)}),n.get(od).afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),i.initialNavigation()}))})];return qa(2,t)}function yE(){let t=[Ao(()=>{D(Qr).setUpLocationChangeListener()}),{provide:Cm,useValue:2}];return qa(3,t)}var CE=new G("");function SE(t){return qa(0,[{provide:CE,useExisting:gE},{provide:Wa,useExisting:t}])}function EE(){return qa(8,[fm,{provide:Ga,useExisting:fm}])}function wE(t){xo("NgRouterViewTransitions");let n=[{provide:mm,useValue:fE},{provide:_m,useValue:N({skipNextTransition:!!t?.skipInitialTransition},t)}];return qa(9,n)}var DE=[Ur,{provide:ji,useClass:Yr},Qr,Hi,{provide:Zr,useFactory:AP,deps:[Qr]},rd,[]],ad=(()=>{class t{constructor(){}static forRoot(e,r){return{ngModule:t,providers:[DE,[],{provide:cs,multi:!0,useValue:e},[],r?.errorHandler?{provide:vm,useValue:r.errorHandler}:[],{provide:Bi,useValue:r||{}},r?.useHash?kP():LP(),OP(),r?.preloadingStrategy?SE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?FP(r):[],r?.bindToComponentInputs?EE().\u0275providers:[],r?.enableViewTransitions?wE().\u0275providers:[],VP()]}}static forChild(e){return{ngModule:t,providers:[{provide:cs,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({})}return t})();function OP(){return{provide:mE,useFactory:()=>{let t=D(SC),n=D(we),e=D(Bi),r=D(od),i=D(ji);return e.scrollOffset&&t.setOffset(e.scrollOffset),new PP(i,r,t,n,e)}}}function kP(){return{provide:Cr,useClass:ag}}function LP(){return{provide:Cr,useClass:ou}}function FP(t){return[t.initialNavigation==="disabled"?yE().\u0275providers:[],t.initialNavigation==="enabledBlocking"?vE().\u0275providers:[]]}var ym=new G("");function VP(){return[{provide:ym,useFactory:NP},{provide:Qc,multi:!0,useExisting:ym}]}var BP=[],bE=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Be({type:n}),n.\u0275inj=je({imports:[ad.forRoot(BP),ad]});let t=n;return t})();var Ui=[{slot:1,name:"Head",side:"left"},{slot:2,name:"Neck",side:"left"},{slot:3,name:"Shoulders",side:"left"},{slot:5,name:"Chest",side:"left"},{slot:6,name:"Waist",side:"left"},{slot:7,name:"Legs",side:"left"},{slot:8,name:"Feet",side:"left"},{slot:9,name:"Wrists",side:"left"},{slot:10,name:"Hands",side:"right"},{slot:11,name:"Finger 1",side:"right"},{slot:12,name:"Finger 2",side:"right"},{slot:13,name:"Trinket 1",side:"right"},{slot:14,name:"Trinket 2",side:"right"},{slot:16,name:"Back",side:"right"},{slot:21,name:"Main Hand",side:"right"},{slot:22,name:"Off Hand",side:"right"},{slot:26,name:"Ranged",side:"right"}],IE={0:[4],1:[1,3,4],2:[1,3],3:[1,7],4:[1,7],5:[3,4],6:[1,3,4,7],7:[1,3,4,7]},ld={Scholomance:[["tank:Warrior","tank:Druid"],["heal:Priest"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Live Stratholme":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Undead Stratholme":[["tank:Warrior","tank:Druid"],["heal:Priest"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Lower Blackrock Spire":[["tank:Warrior","tank:Druid"],["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Upper Blackrock Spire":["tank:Warrior",["tank:Warrior","tank:Druid"],"heal:Priest",["heal:Priest","heal:Paladin","heal:Druid"],"heal:Paladin","damage:Mage",["damage:Mage","damage:Warlock","damage:Rogue"],"damage:Hunter","damage:Rogue","damage:Warlock"],"Blackrock Depths":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul East":[["tank:Warrior","tank:Druid"],["heal:Paladin","heal:Priest"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul West":[["tank:Warrior","tank:Druid"],"heal:Priest","damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul North":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Dire Maul Tribute":[["tank:Warrior","tank:Druid"],["heal:Priest","heal:Paladin"],"damage:Mage","damage:Rogue",["damage:Hunter","damage:Warlock"]]},Qt={0:{0:{name:"Moonglow - Healer",icon:"spell_nature_starfall",role:"heal",spellList:[5188,25297,9858,25299]},1:{name:"Feral - Tank",icon:"ability_racial_bearform",role:"tank",spellList:[9881,9908,9850,9830,9896,31018]},2:{name:"Swiftmend - Healer",icon:"spell_nature_healingtouch",role:"heal",spellList:[5188,25297,9858,25299,18562]}},1:{0:{name:"Discipline - Healer",icon:"spell_holy_wordfortitude",role:"heal",spellList:[10901,25315,25314,6064]},1:{name:"Holy - Healer",icon:"spell_holy_guardianspirit",role:"heal",spellList:[10901,25315,25314,6064,27871]},2:{name:"Shadow - Ranged",icon:"spell_shadow_shadowwordpain",role:"damage",spellList:[10901,18807,10894,10947]}},2:{0:{name:"Holy - Healer",icon:"spell_holy_holybolt",role:"heal",spellList:[20930,19943,25292]},1:{name:"Protection - Tank",icon:"spell_holy_devotionaura",role:"tank",spellList:[20293,20924,20271]},2:{name:"Retribution - Melee",icon:"spell_holy_auraoflight",role:"damage",spellList:[20920,20924,20271]}},3:{0:{name:"Arcane - Ranged",icon:"spell_holy_magicalsentry",role:"damage",spellList:[25304]},1:{name:"Fire - Ranged",icon:"spell_fire_firebolt02",role:"damage",spellList:[25306,10207]},2:{name:"Frost - Ranged",icon:"spell_frost_frostbolt02",role:"damage",spellList:[25304]}},4:{0:{name:"Shadow Mastery - Ranged",icon:"spell_shadow_deathcoil",role:"damage",spellList:[25311,25307,25309,11713,18871,18881]},1:{name:"Demonologist - Ranged",icon:"spell_shadow_metamorphosis",role:"damage",spellList:[25311,25307,25309,11713,18871]},2:{name:"Demonic Sacrifice - Ranged",icon:"spell_shadow_rainoffire",role:"damage",spellList:[25311,25307,25309,11713,18871]}},5:{0:{name:"Beast Mastery - Ranged",icon:"ability_hunter_beasttaming",role:"damage",spellList:[20904,25294,25295]},1:{name:"Marksmanship - Ranged",icon:"ability_marksmanship",role:"damage",spellList:[20904,25294,25295]},2:{name:"Survival - Ranged",icon:"ability_hunter_swiftstrike",role:"damage",spellList:[20904,25294,25295]}},6:{0:{name:"Seal Fate - Daggers",icon:"ability_rogue_eviscerate",role:"damage",spellList:[11294,31016,25300,11275]},1:{name:"Combat - Swords",icon:"ability_backstab",role:"damage",spellList:[11294,31016,25300,11275]},2:{name:"Combat - Daggers",icon:"ability_stealth",role:"damage",spellList:[11294,31016,25300,11275]}},7:{0:{name:"Fury - Two-Hand",icon:"ability_rogue_eviscerate",role:"damage",spellList:[23894,20662,1680,25286,11605]},1:{name:"Fury - Dual-Wield",icon:"ability_warrior_innerrage",role:"damage",spellList:[23894,20662,1680,25286]},2:{name:"Protection - Tank",icon:"inv_shield_06",role:"tank",spellList:[23925,25288,25286]}}},er=[{RACEID:1,RACE:"Human",GENDER:0,options:{SKIN:10,FACE:12,HAIRSTYLE:12,HAIRCOLOR:10,FACIALSTYLE:9}},{RACEID:1,RACE:"Human",GENDER:1,options:{SKIN:10,FACE:12,HAIRSTYLE:20,HAIRCOLOR:10,FACIALSTYLE:1}},{RACEID:3,RACE:"Dwarf",GENDER:0,options:{SKIN:9,FACE:10,HAIRSTYLE:11,HAIRCOLOR:10,FACIALSTYLE:11}},{RACEID:3,RACE:"Dwarf",GENDER:1,options:{SKIN:9,FACE:10,HAIRSTYLE:14,HAIRCOLOR:10,FACIALSTYLE:1}},{RACEID:4,RACE:"Night Elf",GENDER:0,options:{SKIN:9,FACE:9,HAIRSTYLE:7,HAIRCOLOR:7,FACIALSTYLE:5}},{RACEID:4,RACE:"Night Elf",GENDER:1,options:{SKIN:9,FACE:9,HAIRSTYLE:7,HAIRCOLOR:8,FACIALSTYLE:1}},{RACEID:7,RACE:"Gnome",GENDER:0,options:{SKIN:5,FACE:8,HAIRSTYLE:8,HAIRCOLOR:9,FACIALSTYLE:8}},{RACEID:7,RACE:"Gnome",GENDER:1,options:{SKIN:5,FACE:8,HAIRSTYLE:8,HAIRCOLOR:9,FACIALSTYLE:1}}],cd=[{key:"strength",label:"Strength"},{key:"agility",label:"Agility"},{key:"stamina",label:"Stamina"},{key:"intellect",label:"Intellect"},{key:"spirit",label:"Spirit"},{key:"health",label:"Health"}],ud=[{key:"damage",label:"Spell Damage"},{key:"healing",label:"Spell Healing"},{key:"shadow",label:"Spell Shadow"},{key:"fire",label:"Spell Fire"},{key:"frost",label:"Spell Frost"}],dd=[{key:"fire",label:"Fire Resistance"},{key:"shadow",label:"Shadow Resistance"},{key:"nature",label:"Nature Resistance"},{key:"frost",label:"Frost Resistance"},{key:"arcane",label:"Arcane Resistance"}],Sm=[{CLASSID:"7",RACEID:"4",HP:2599,MP:0,STR:117,AGI:85,STA:109,INT:30,SPI:45,ARM:170},{CLASSID:"7",RACEID:"1",HP:2609,MP:0,STR:120,AGI:80,STA:110,INT:30,SPI:49,ARM:160},{CLASSID:"7",RACEID:"3",HP:2639,MP:0,STR:122,AGI:76,STA:113,INT:29,SPI:44,ARM:152},{CLASSID:"7",RACEID:"7",HP:2599,MP:0,STR:115,AGI:83,STA:109,INT:36,SPI:45,ARM:166},{CLASSID:"2",RACEID:"1",HP:2201,MP:2282,STR:105,AGI:65,STA:100,INT:70,SPI:81,ARM:130},{CLASSID:"2",RACEID:"3",HP:2231,MP:2267,STR:107,AGI:61,STA:103,INT:69,SPI:74,ARM:122},{CLASSID:"1",RACEID:"1",HP:1707,MP:2956,STR:35,AGI:40,STA:50,INT:120,SPI:137,ARM:80},{CLASSID:"1",RACEID:"3",HP:1737,MP:2941,STR:37,AGI:36,STA:53,INT:119,SPI:124,ARM:72},{CLASSID:"1",RACEID:"4",HP:1697,MP:2956,STR:32,AGI:45,STA:49,INT:120,SPI:125,ARM:90},{CLASSID:"0",RACEID:"4",HP:1993,MP:2464,STR:62,AGI:65,STA:69,INT:100,SPI:110,ARM:130},{CLASSID:"3",RACEID:"1",HP:1630,MP:2868,STR:30,AGI:35,STA:45,INT:125,SPI:132,ARM:70},{CLASSID:"3",RACEID:"7",HP:1620,MP:3078,STR:25,AGI:38,STA:44,INT:139,SPI:120,ARM:76},{CLASSID:"4",RACEID:"1",HP:1884,MP:2743,STR:45,AGI:50,STA:65,INT:110,SPI:125,ARM:100},{CLASSID:"4",RACEID:"7",HP:1874,MP:2953,STR:40,AGI:53,STA:64,INT:124,SPI:115,ARM:106},{CLASSID:"5",RACEID:"3",HP:2217,MP:2400,STR:57,AGI:121,STA:93,INT:64,SPI:69,ARM:242},{CLASSID:"5",RACEID:"4",HP:2177,MP:2415,STR:52,AGI:130,STA:89,INT:65,SPI:70,ARM:260},{CLASSID:"6",RACEID:"1",HP:2093,MP:0,STR:80,AGI:130,STA:75,INT:35,SPI:54,ARM:260},{CLASSID:"6",RACEID:"3",HP:2123,MP:0,STR:82,AGI:126,STA:78,INT:34,SPI:49,ARM:252},{CLASSID:"6",RACEID:"4",HP:2083,MP:0,STR:77,AGI:135,STA:74,INT:35,SPI:50,ARM:270},{CLASSID:"6",RACEID:"7",HP:2083,MP:0,STR:75,AGI:133,STA:74,INT:42,SPI:50,ARM:266}],fd={0:"physical",1:"holy",2:"fire",3:"nature",4:"frost",5:"shadow",6:"arcane",7:"magic",8:"all"};var TE={1:{description:"Self",minRange:0,maxRange:0},2:{description:"Melee",minRange:0,maxRange:5},3:{description:"20 yards",minRange:0,maxRange:20},4:{description:"30 yards",minRange:0,maxRange:30},5:{description:"40 yards",minRange:0,maxRange:40},6:{description:"100 yards",minRange:0,maxRange:100},7:{description:"10 yards",minRange:0,maxRange:10},11:{description:"15 yards",minRange:0,maxRange:15},12:{description:"5 yards",minRange:0,maxRange:5},35:{description:"36 yards",minRange:0,maxRange:36},95:{description:"8-25 yards",minRange:8,maxRange:25},114:{description:"8-35 yards",minRange:8,maxRange:35}},ME={1:0,3:.5,4:1,5:2,7:10,14:3,16:1.5,18:0,19:2.5,20:2.5,22:3.5,171:6},Ya={1:10,3:60,4:120,5:300,6:600,8:15,9:30,18:20,21:86400,25:180,27:3,28:5,29:12,30:1800,31:8,32:6,35:4,40:1200,41:360,42:3600,64:40,85:18,86:21,105:9,106:24,165:7,185:21,205:27,245:50,347:900,553:16},hd={1:"Tgt HP",2:"HP",3:"MP",4:"Tank HP",5:"Ally HP",6:"Energy",7:"Rage",8:"Combo",9:"Tanking",10:"Duration"},fn={1:"< 100%",2:"< 90%",3:"< 80%",4:"< 70%",5:"< 60%",6:"< 50%",7:"< 40%",8:"< 30%",9:"< 20%",10:"< 10%",11:"=100%",12:"> 90%",13:"> 80%",14:"> 70%",15:"> 60%",16:"> 50%",17:"> 40%",18:"> 30%",19:"> 20%",20:"> 10%",21:"1",22:"2",23:"3",24:"4",25:"5",26:"true",27:"false",31:"= 0sec",32:"<= 3sec",33:"<= 6sec",34:"<= 9sec"},xE={0:"Stance/Aura",1:"Dispel",2:"Heal",3:"Taunt/Threat",4:"Buff",5:"Damage",6:"Crowd Control",7:"Debuff",8:"Resurrection",9:"Movement",10:"Damage with Debuff",11:"Damage and Heal",12:"Create Object",13:"Create Item",14:"Utility",15:"Summon",16:"Interrupt",17:"Mana",18:"Energy",19:"Rage",20:"Combinaton"},RE=[[100,54,20,7,1,1],[0,33,49,26,14,3],[0,11,24,48,40,16],[0,2,6,18,34,55],[0,0,1,1,11,25]];var hn={Maraudon:`<h4>The Legacy of Maraudon<h4>

    <p>Long before mortals walked Kalimdor, the Elemental Lords roamed Azeroth. When the Titans imprisoned them, their influence lingered in deep places of the world. Among those bound to Azeroth\u2019s stone and soil was Theradras, Princess of Earth.</p>

    <p>When the demigod Zaetar, son of Cenarius, wandered into her cavernous domain, Theradras ensnared him. From their union was born the centaur, a race cursed with savagery and bloodlust. When Zaetar\u2019s children murdered him, Theradras claimed his corpse and his spirit, keeping them within her cavern as both trophy and anchor of her power.</p>

    <p>The centaur tribes that spread across Desolace all trace their lineage back to this union. Despite their wars and rivalries, they revere Maraudon\u2014Theradras\u2019s cavernous temple\u2014as a holy site, a place of both worship and fear. They pilgrimage here to honor their \u201Cmother,\u201D even as her corruption poisons the land.</p>

    <p>Now Maraudon stands as both a natural wonder and a cursed shrine: waterfalls and crystalline caverns tainted by Theradras\u2019s elemental decay, where centaur zealots, twisted elementals, and the princess herself guard the remains of Zaetar.</p>

    <h4>Maraudon \u2013 The Elemental Caverns</h4>

    <p>Maraudon is unique in that it feels alive: part underground wilderness, part temple, part elemental lair. Its wings reflect the dual nature of the earth\u2014life-giving and destructive.</p>

    <h4>1. The Purple Wing (Shadow and Corruption)</h4>

    <p>Dark caverns where Theradras\u2019s corruption spreads unchecked. Oozes, slimes, and shadowy elementals lurk in the depths, feeding on the dungeon\u2019s tainted energy.<br>
    Theme: Decay and corruption.<br>
    Foes: Vile slimes, corrupted elementals, centaur warlocks.</p>

    <h4>2. The Orange Wing (Earth and Stone)</h4>

    <p>Rocky halls where earth elementals and centaur guardians dwell, representing Theradras\u2019s raw, destructive power. The very stone seems hostile, as golems and guardians rise to crush intruders.<br>
    Theme: Elemental fury and centaur guardianship.<br>
    Foes: Earth elementals, stalagmites brought to life, centaur shamans.</p>

    <h4>3. The Inner Falls (The Living Grove)</h4>

    <p>Past the two wings lies a breathtaking cavern of waterfalls, crystalline lakes, and strange flora \u2014 a reminder of the wild beauty Zaetar once cherished. But even here, Theradras\u2019s corruption bleeds through, twisting plants and beasts into monstrous forms.<br>
    Theme: Natural beauty tainted by corruption.<br>
    Foes: Wildkin, lashers, corrupted dryads, crystal beasts.</p>

    <h4>4. The Inner Sanctum (Theradras\u2019s Lair)</h4>

    <p>At the very heart lies Theradras, the Earth Princess herself. Colossal and terrible, she clutches the spirit of Zaetar, her unwilling consort, whose sorrow lingers in the air. The final confrontation is both tragic and apocalyptic\u2014defeating her releases Zaetar\u2019s spirit, but also shakes the caverns with elemental fury.<br>
    Theme: A corrupted shrine to forbidden union.<br>
    Foes: Princess Theradras, avatar of decay and grief.</p>

    <h4>Why Maraudon Matters</h4>

    <p>Maraudon is not just a dungeon; it\u2019s the cradle of the centaur race and the prison of a demigod\u2019s spirit. It explains the endless wars in Desolace, the corruption seeping into the land, and the origin of one of Azeroth\u2019s most brutal peoples. To delve here is to confront the tragedy of Zaetar, the corruption of Theradras, and the savage legacy left to their children.</p>`,"Sunken Temple":`<h4>The Legacy of the Temple of Atal\u2019Hakkar</h4>

    <p>Deep within the <strong>Swamp of Sorrows</strong>, half-submerged beneath choking vines and stagnant waters, lies the <strong>Temple of Atal\u2019Hakkar</strong>\u2014a ruin steeped in both troll superstition and dark prophecy.</p>

    <p>Ages ago, the <strong>Gurubashi trolls</strong>\u2014once rulers of a vast jungle empire\u2014fell into the worship of the blood god <strong>Hakkar the Soulflayer</strong>, a being of gluttony and sacrifice who demanded the hearts of the living. The Atal\u2019ai, Hakkar\u2019s most fervent priests, were driven from Zul\u2019Gurub after the empire\u2019s collapse and built this temple in exile, vowing to summon their god into the world once more.</p>

    <p>But Hakkar\u2019s power could not be contained. His corruption seeped into the land, twisting the swamp, driving beasts mad, and summoning serpents in his image. The dragonflights themselves took notice: the <strong>Green Dragon Aspect, Ysera,</strong> dispatched her brood to contain the threat. The battle between Atal\u2019ai zealots and green dragon guardians left the temple shattered, partially sunken, and haunted by both troll priests and enraged dragon spirits.</p>

    <p>What remains today is a labyrinthine ruin\u2014part troll shrine, part dragon graveyard, and part prison for Hakkar\u2019s lingering essence. To enter is to tread on cursed ground, where ancient troll magic and dragon wrath still collide.</p>

    <h4>Temple of Atal\u2019Hakkar \u2013 The Sunken Depths</h4>

    <p>The dungeon is a blend of troll ritualism and dragon corruption:</p>
    <ul>
    <li><strong>Outer Halls</strong>: Murky corridors overrun with Atal\u2019ai priests, shadow hunters, and their serpent totems, where the walls are carved with images of Hakkar\u2019s blood rites.</li>

    <li><strong>The Pools of Vision</strong>: Stagnant waters inhabited by cursed spirits and swamp beasts, corrupted by the temple\u2019s lingering magic.</li>

    <li><strong>The Dragonkin Chambers</strong>: Tombs where the green dragonflight fell in battle\u2014now restless shades and dragonkin stalk the halls, lashing out at intruders.</li>

    <li><strong>The Inner Sanctum</strong>: The seat of the Atal\u2019ai high priests, where they conduct rituals to prepare the world for Hakkar\u2019s return.</li>

    <li><strong>The Avatar of Hakkar (Optional Encounter)</strong>: Adventurers may attempt to summon and confront a fragment of the Soulflayer himself, a vision of the blood god\u2019s hunger given form.</li>
    </ul>

    <p><strong>Theme</strong>: Forbidden blood rituals, dragon corruption, ancient ruin swallowed by swamp.
    <strong>Key foes</strong>: Atal\u2019ai priests and zealots, green dragon spirits, the Avatar of Hakkar.</p>

    <h4>Why the Temple Matters</h4>

    <p>The Temple of Atal\u2019Hakkar is not just a dungeon\u2014it is the <strong>prologue to Zul\u2019Gurub</strong>. The Atal\u2019ai cultists here are the remnants of an empire obsessed with Hakkar, and their temple is both a shrine and a laboratory for his return. By striking them down, adventurers delay the rise of the Soulflayer\u2014but the whispers of Hakkar cannot be silenced forever.</p>`,"Blackrock Depths":`<h4>The Legacy of Blackrock Depths (BRD)</h4>

    <p>At the heart of <strong>Blackrock Mountain</strong>, beyond molten rivers and endless caverns, lies <strong>Blackrock Depths</strong>, the sprawling subterranean city of the <strong>Dark Iron dwarves.</strong></p>

    <p>Centuries ago, when the Dark Iron clan warred with their Bronzebeard and Wildhammer kin, they sought to claim dominion through sorcery and greed. In desperation, their thane, <strong>Thaurissan</strong>, invoked a terrible ritual that shattered the land and summoned forth the <strong>Firelord Ragnaros</strong>. The cataclysm birthed Blackrock Mountain as a volcano and bound the Dark Irons in eternal slavery to their fiery master.</p>

    <p>From that day, the Dark Irons dwelled within the mountain\u2019s depths, carving an empire beneath molten stone. Their king, <strong>Emperor Dagran Thaurissan</strong>, rules in Ragnaros\u2019s name, served by generals, high priests, and a court steeped in cruelty. BRD is not just a dungeon \u2014 it is a city, complete with a king\u2019s throne, a temple to fire, a slave market, forges, breweries, and barracks. It is the Dark Irons\u2019 capital and the heart of Ragnaros\u2019s growing dominion.</p>

    <h4>Blackrock Depths \u2013 The Dark Iron Capital</h4>

    <p>BRD is unique among dungeons: it feels alive, a true underground kingdom of oppression, industry, and flame. Its major sections highlight the power of the Dark Irons and their fiery master:</p>

    <h4>1. The Outer Wards \u2013 The City Gates</h4>

    <p>The entry halls are patrolled by elite Dark Iron guards and constructs. Here, the scale of the city is revealed: massive gates, barracks, and armories demonstrate this is no mere outpost, but a capital.<br>
    <strong>Theme</strong>: Militarized stronghold.<br>
    <strong>Foes</strong>: Dark Iron soldiers, golems, warhounds.</p>

    <h4>2. The Detention Block and Shadowforge City</h4>

    <p>The sprawling prison of the Dark Irons, where political prisoners, criminals, and enslaved adventurers rot in chains. Beyond lies Shadowforge City itself, a bustling subterranean metropolis complete with taverns, markets, and forges.<br>
    <strong>Theme</strong>: Slavery and oppression.<br>
    <strong>Foes</strong>: Jailors, overseers, slaves driven to madness, and powerful named lieutenants.</p>

    <h4>3. The Grim Guzzler</h4>

    <p>A tavern hidden deep inside the city, where Dark Iron dwarves drink, brawl, and boast. Here, adventurers may interact with NPCs, trigger bar fights, or slip deeper into the dungeon\u2019s heart. It\u2019s one of the rare moments of levity inside the Depths, though still dangerous.<br>
    <strong>Theme</strong>: Dark Iron culture and drunken chaos.<br>
    <strong>Foes</strong>: Rowdy patrons, mercenaries, and brawlers.</p>

    <h4>4. The Black Anvil and the Forge District</h4>

    <p>The industrial heart of the Dark Irons. Here, their blacksmiths forge weapons for their armies and even construct fiery elementals. The legendary Black Anvil lies here, a forge of immense power.<br>
    <strong>Theme</strong>: Industry and elemental fire.<br>
    <strong>Foes</strong>: Master smiths, fire elementals, molten war machines.</p>

    <h4>5. The Temple of Ragnaros</h4>

    <p>A holy place for the Dark Irons, dedicated to the Firelord. Priests and summoners chant his praises, channeling his molten might. From here, the line between dwarf and elemental blurs.<br>
    <strong>Theme</strong>: Cultic devotion to Ragnaros.<br>
    <strong>Foes</strong>: Fire priests, elemental guardians, High Priestess of Thaurissan.</p>

    <h4>6. The Emperor\u2019s Throne</h4>

    <p>At the deepest heart of the Depths lies the throne of <strong>Emperor Dagran Thaurissan</strong>, seated beside <strong>Princess Moira Bronzebeard</strong>\u2014the daughter of Ironforge\u2019s king, abducted and bound to the Emperor. This final chamber is both political and personal: to slay the Emperor is to weaken the Dark Irons, but the presence of Moira complicates matters.<br>
    <strong>Theme</strong>: Tyranny and politics.<br>
    <strong>Foes</strong>: Emperor Dagran Thaurissan and his royal guard.</p>

    <h4>Why Blackrock Depths Matters</h4>

    <p>BRD is not just a dungeon; it\u2019s a <strong>capital city, a prison, a forge, a temple, and a throne room</strong>. It represents the culmination of the Dark Irons\u2019 history: their greed, their servitude to Ragnaros, and their defiance of their Bronzebeard kin. To strike here is to wound the Firelord\u2019s influence directly.</p>

    <p>For adventurers, BRD is the crucible of endgame Classic WoW \u2014 a sprawling, living dungeon where every corner tells a story, and every chamber deepens the tragedy of a people who sold their souls to flame.</p>`,"Lower Blackrock Spire":`<h4>Lower Blackrock Spire (LBRS) \u2013 The Shadow of Rend</h4>

    <p>The <strong>Lower Spire</strong> serves as the staging ground for the <strong>Blackrock clan</strong> and their allies. It is a fortress of orc warbands, trolls who revel in blood sacrifice, and ogres drawn by promises of power. Here, Rend Blackhand\u2019s forces prepare for war, seeking to claim dominance over the fractured orc clans and reestablish the Blackrock name in glory.</p>

    <p>Yet LBRS is more than a war camp\u2014it is also home to vile sorcery. Dark shamanistic rites, shadowcasters, and the machinations of the Dark Irons fuel the orc army. The halls resound with the snarls of <strong>worgs</strong>, the chants of <strong>shadow hunters</strong>, and the clash of steel as Rend\u2019s champions prove themselves in endless combat.</p>

    <p><strong>Theme</strong>: Brutal orcish war camp in the ruins of dwarven halls, strengthened by dark magic and beast allies.<br>
    <strong>Key foes</strong>: Blackrock orcs, trolls, ogres, worgs, shadowcasters.<br>
    <strong>Final confrontation:</strong> Warchief Rend Blackhand\u2019s lieutenants, preparing the way for their master above.</p>`,"Blackrock Spire Conclusion":`<h4>The Split of Blackrock Spire</h4>
    <ul>
    <li><strong>LBRS (Lower)</strong>: Orcish savagery, trolls and ogres, dark rites and beastmasters\u2014a war camp forged from dwarven ruins.</li>

    <li><strong>UBRS (Upper)</strong>: The black dragonflight\u2019s fortress, Rend Blackhand\u2019s throne, and the staging ground for Nefarian\u2019s corruption.</li>
    </ul>

    <p>Together, the two wings represent the <strong>Dark Horde\u2013Black Dragon pact</strong>, a dangerous coalition that threatens both factions of Azeroth.</p>`,"Dire Maul":`<h4>The Legacy of Dire Maul</h4>

    <p>Deep in the heart of northern Feralas lie the ancient ruins of <strong>Eldre\u2019Thalas</strong>, once the shining jewel of night elven civilization. Raised more than 10,000 years ago by the Highborne, it stood as a vast city dedicated to arcane mastery and preservation of elven lore. At its heart was an immense library and a powerful energy nexus, built to harness and safeguard magical knowledge for generations.</p>

    <p>When the <strong>War of the Ancients</strong> shattered the Well of Eternity, the Highborne of Eldre\u2019Thalas cut themselves off from the rest of their kin. Under Prince <strong>Tortheldrin</strong>, they sought to survive the Long Vigil by siphoning magic from a captured demon. This act ensured their survival but twisted their fate. Over millennia, the city fell to ruin, its noble guardians fading into corruption, its wards failing, and its sprawling districts becoming overrun by ogres, satyrs, demons, and magical anomalies.</p>

    <p>Adventurers who brave Dire Maul do not merely enter another dungeon; they step into the fractured remains of a once-glorious empire, where faded grandeur and lingering arrogance echo in every crumbling hall.</p>`,"Dire Maul West":`<h4>Dire Maul West \u2013 The Ruined Court</h4>

    <p>The western wing is the most direct remnant of Highborne hubris. Here the halls are haunted by warped guardians and bound demons. Ancient constructs patrol shattered courtyards, and the corrupted treants of Feralas have claimed sections of the once-pristine gardens. The imprisoned demon <strong>Immol\u2019thar</strong> lies at the heart of this wing, contained by magical pylons for millennia. Prince Tortheldrin himself, bitter and prideful, oversees the prison, siphoning energy from the demon to sustain himself and his followers. To free the city from its cursed heart, heroes must dismantle the pylons and confront both the demon and the mad prince.</p>

    <p><strong>Theme</strong>: Faded arcane splendor, hubris of the Highborne, demonic corruption.<br>
    <strong>Key foes</strong>: Arcane aberrations, ancient constructs, Prince Tortheldrin.</p>`,"Dire Maul North":`<h4>Dire Maul North \u2013 Gordok Commons</h4>

    <p>The northern quarter has been overrun by the brutish <strong>Gordok ogres</strong>, who seized the ruins as their stronghold. Here, massive banquet halls, courtyards, and crumbling barracks echo with the roars of ogre lords and their enslaved minions. The ogres jealously guard their new seat of power, and their king\u2014<strong>King Gordok</strong>\u2014rules with brute strength.</p>

    <p><strong>Theme</strong>: Savage strength in the halls of ancient ruins, ogre dominance.<br>
    <strong>Key foes</strong>: Gordok ogres, shamans, warlocks, beastmasters.</p>`,"Dire Maul East":`<h4>Dire Maul East \u2013 Warpwood Quarter</h4>

    <p>The eastern wing has become overgrown and wild, reclaimed by nature but twisted by unchecked magic. Massive treants, lashers, and corrupted dryads stalk the halls, led astray by satyrs who spread the taint of demonic influence. At its heart, a powerful satyr named <strong>Alzzin the Wildshaper</strong> channels the energies of the ruins to spread chaos through Feralas. The once-cultivated gardens have become a jungle of corruption, where ancient wards collapse under creeping vines and demonic whispers.</p>

    <p><strong>Theme</strong>: Arcane gardens overtaken by corrupted nature, satyr mischief.<br>
    <strong>Key foes</strong>: Lashers, satyrs, warped dryads, Alzzin the Wildshaper.</p>`,"Dire Maul Tribute":`<h4>The Gordok Tribute Run</h4>

    <p>Among adventurers, the Dire Maul North wing is infamous for the so-called <strong>\u201CTribute Run.\u201D</strong> Rather than cutting down every ogre in their path, cunning groups spare most of the chieftains and instead slay only <strong>King Gordok</strong> himself. By leaving his lieutenants alive, the victors claim the throne not as conquerors, but as successors. The ogres, bound by their crude sense of honor, shower the \u201Cnew king\u201D and his allies with riches, feasts, and rare treasures. The Tribute Run is less a test of brute strength than of restraint, planning, and guile\u2014an alternate path through Dire Maul\u2019s dangers that rewards wit as much as steel.</p>

    <p><strong>Theme</strong>: Political cunning, manipulation of ogre hierarchy.
    <strong>Key foes</strong>: King Gordok (only), with tribute rewards from spared bosses.</p>`,"Dire Maul Conclusion":"<p>Together, the three wings of Dire Maul and the alternate Tribute challenge paint a picture of one of World of Warcraft\u2019s richest dungeons: a place of <strong>ancient pride, magical corruption, and opportunistic invaders</strong>, where history itself weighs heavy on every broken column.</p>",Scholomance:`<h4>The Legacy of Scholomance</h4>

    <p>High in the wintry crags of <strong>Western Plaguelands</strong>, overlooking the ruins of Caer Darrow, stands a darkened keep that once belonged to the noble <strong>Barov family</strong>. Generations ago, the Barovs were a wealthy bloodline, owning vast tracts of land across Lordaeron. But their ambition was their undoing. When <strong>Kel\u2019Thuzad</strong> and the Cult of the Damned rose to power, the Barovs pledged themselves\u2014and their ancestral home\u2014to the service of the Lich King in exchange for the promise of eternal life.</p>

    <p>Thus, the once-proud halls of the Barovs became the necromantic academy of the Scourge, known thereafter as <strong>Scholomance</strong>. Here, Kel\u2019Thuzad\u2019s followers train new necromancers, warlocks, and deathknights, perfecting the arts of undeath. The laboratories run red with experiments in reanimation, while classrooms echo with the twisted lessons of dark magisters. Adventurers who enter Scholomance confront not just undead horrors, but the heart of the Cult of the Damned itself.</p>

    <h4>Scholomance \u2013 The Necromantic Academy</h4>

    <p>Scholomance is not a fortress of brute strength\u2014it is a school of damnation. Every chamber reveals another facet of Scourge depravity:</p>
    <ul>
    <li><strong>The Reliquary</strong>: Arcane laboratories filled with necrotic experiments, where alchemists brew plagues and dark mages twist souls.</li>

    <li><strong>The Summoning Chambers</strong>: Circles of binding and sacrifice, where warlocks summon demonic allies to bolster the Scourge.</li>

    <li><strong>The Hall of the Barovs</strong>: The corrupted remains of the Barov family themselves, turned into deathless servants of their own bargain.</li>

    <li><strong>The Headmaster\u2019s Study</strong>: Seat of <strong>Darkmaster Gandling</strong>, Kel\u2019Thuzad\u2019s favored servant in Lordaeron, who oversees the training of necromancers with cruel mastery.</li>
    </ul>
    <p><strong>Theme</strong>: Corruption of noble blood, forbidden knowledge, the cold hand of undeath.
    <strong>Key foes</strong>: Necromancers, bone golems, ghasts, death knights, Darkmaster Gandling.</p>

    <h4>Why Scholomance Matters</h4>

    <p>Scholomance is more than another Scourge dungeon\u2014it is the <strong>nerve center of their necromantic war machine in Lordaeron</strong>. From here, the Cult of the Damned disseminates its teachings, creating new generations of necromancers to fuel the Scourge\u2019s endless armies. To cut down Gandling and his pupils is not only vengeance for the Barovs\u2019 betrayal, but also a crippling blow against the Scourge\u2019s presence in the Plaguelands.</p>`,Stratholme:`<h4>The Legacy of Stratholme</h4>

    <p>Once a shining jewel of Lordaeron, <strong>Stratholme</strong> was a bustling trade hub and one of the largest human cities in the north. Its spires and marketplaces echoed with prosperity\u2014until the <strong>Scourge</strong> came.</p>

    <p>During the <strong>Third War</strong>, Prince <strong>Arthas Menethil</strong> discovered that the citizens of Stratholme had been fed grain tainted with the plague of undeath. In a moment that forever scarred his soul, Arthas ordered the <strong>Culling of Stratholme</strong>, personally leading the slaughter of its infected populace before they could rise as undead. This act, though intended to save his kingdom, marked his descent into ruthlessness and ultimately paved the way for his fall to Frostmourne.</p>

    <p>Now, Stratholme is a city divided. The western quarter, known as the <strong>Scarlet Bastion</strong>, is held by the fanatical <strong>Scarlet Crusade</strong>, who seek to purge undead at all costs\u2014but whose zeal has made them nearly as dangerous as the Scourge they fight. The eastern quarter is a ruined nightmare, crawling with <strong>undead horrors</strong> under the command of <strong>Baron Rivendare</strong>, who has turned the plague-stricken streets into his domain. To enter Stratholme is to walk into a living scar of Lordaeron\u2019s tragedy.</p>`,"Live Stratholme":`<h4>Stratholme \u2013 Scarlet Bastion (Live Side)</h4>

    <p>The so-called \u201Clive side\u201D is far from safe\u2014it is held by the zealous warriors and priests of the <strong>Scarlet Crusade</strong>. From the moment adventurers pass through the gates, they face patrols of Scarlet soldiers, crusaders, and spellcasters, all bent on purging anyone they consider heretical or infected.</p>

    <p>The <strong>Crusade\u2019s leadership in Stratholme</strong>\u2014commanders such as <strong>Cannon Master Willey</strong> and <strong>Balnazzar</strong> in disguise\u2014have turned the Bastion into a fortress of fanaticism. Though they once sought to hold back the undead tide, their madness and corruption have led them into dark pacts, leaving them blind to the true evil within their own ranks.</p>

    <p><strong>Theme</strong>: Fanatic zeal, human-on-human conflict, corrupted holy order.
    <strong>Key foes</strong>: Scarlet Crusade zealots, spellcasters, Balnazzar (a dreadlord in disguise).</p>`,"Undead Stratholme":`<h4>Stratholme \u2013 Plague Quarter (Undead Side)</h4>

    <p>The eastern half of Stratholme is a necropolis in all but name. Cobblestone streets are littered with corpses, plagued vermin scurry through the alleys, and skeletal horrors patrol under the shadow of burning towers. This wing is ruled by <strong>Baron Rivendare</strong>, the Scourge\u2019s horseman, who rides his dread steed Deathcharger through the city\u2019s blackened avenues.</p>

    <p>The undead side is crawling with abominations, banshees, gargoyles, and necromancers\u2014all remnants of Arthas\u2019 purge and later waves of Scourge corruption. Here, the tragedy of Stratholme is most vivid: homes turned into crypts, holy places into unholy shrines, the cries of the innocent replaced with the wails of the damned.</p>

    <p><strong>Theme</strong>: Undeath and despair, Scourge dominion.
    <strong>Key foes</strong>: Plague abominations, banshees, Baron Rivendare (and his Deathcharger).</p>`,"Stratholme Conclusion":`<h4>The Split of Stratholme \u2013 Live vs. Undead</h4>

    <p>Unlike many dungeons, Stratholme represents <strong>two conflicting but equally dangerous forces:</strong></p>
    <ul>
    <li>On the <strong>Scarlet Bastion side</strong>, mortals consumed by zeal and paranoia kill with fire and scripture, but are themselves manipulated by a dreadlord\u2019s shadow.</li>

    <li>On the <strong>Plague Quarter side</strong>, the Scourge marches unopposed, feeding on the corpses left behind by Arthas\u2019 infamous purge.</li>
    </ul>

    <p>Adventurers often explore both sides in separate forays, each a chapter of Lordaeron\u2019s tragic fall.</p>`,"Blackrock Spire":`<h4>The Legacy of Blackrock Spire</h4>

    <p>Carved into the fiery heart of <strong>Blackrock Mountain</strong>, Blackrock Spire was once a stronghold of the <strong>Dark Iron dwarves</strong>, who sought dominion over their kin. But the mountain\u2019s molten depths became a battlefield of greater powers. When the black dragonflight, led by <strong>Nefarian</strong>, son of Deathwing, sought a base of operations, they found willing allies among the Dark Irons and the remnants of the Blackrock orcs who had once served under <strong>Warchief Rend Blackhand.</strong></p>

    <p>Thus, the vast spire was split into layers of dominion: the <strong>Lower Spire</strong>, where orcs, trolls, ogres, and worgs marshaled their strength, and the <strong>Upper Spire</strong>, where Nefarian\u2019s black dragons and Rend\u2019s warband plotted to challenge both Horde and Alliance alike. To enter Blackrock Spire is to enter a cauldron of treachery, where fire, steel, and dragonflame rule.</p>`,"Upper Blackrock Spire":`<h4>Upper Blackrock Spire (UBRS) \u2013 Nefarian\u2019s Fortress</h4>

    <p>Atop the Spire lies the lair of <strong>General Drakkisath</strong> and the black dragonflight. Here, the alliance between <strong>Nefarian</strong> and <strong>Warchief Rend Blackhand</strong> is sealed in blood and fire. The Upper Spire is a crucible of draconic power: black dragonkin stalk the halls, flame wreathed corridors test intruders, and the banners of Rend\u2019s Dark Horde hang from the vaulted ceilings.</p>

    <p>This is no mere fortress\u2014it is <strong>Nefarian\u2019s war machine</strong>, a staging ground for his twisted experiments in draconic corruption and a seat of power for the black dragonflight. Adventurers who dare UBRS must overcome Rend\u2019s warlords, face legions of orcs and dragonkin, and ultimately confront <strong>General Drakkisath</strong>, whose mastery of flame and steel guards the way into Nefarian\u2019s true domain: Blackwing Lair.</p>

    <p><strong>Theme</strong>: Black dragonflight dominion, dark orcish power, looming threat of Nefarian.
    <strong>Key foes</strong>: Black dragonkin, Dark Horde champions, General Drakkisath.
    <strong>Final confrontation</strong>: Paves the way directly into <strong>Blackwing Lair</strong>, the next tier of the black dragonflight\u2019s schemes.</p>`};var AE=Bw(PE());var It=(()=>{let n=class n{constructor(r){this.http=r,this.itemsMap=new Map,this.statWeights=[],this.itemSpell=[],this.itemSet=[],this.buff=[],this.debuff=[],this.consumable=[],this.spells=[],this.talents=[],this.dungeonBosses=[],this.dungeonUnlocks=[],this.dungeonDrops=[],this.dungeonQuests=[],this.raidAttacks=[],this.raidDrops=[],this.raidStats=[],this.raidSpawns=[],this.raidPaths=[],this.uniqueDungeons=[],this.defaultGambits=[],this.guildWeek=1,this.dungeonAssignments=[],this.dungeonProgress={week:0,attempts:0}}loadAllData(){return this.loadDungeonData(),bs({items:this.http.get("assets/items.csv",{responseType:"text"}),spells:this.http.get("assets/spells.csv",{responseType:"text"}),talents:this.http.get("assets/talents.csv",{responseType:"text"}),dungeonBosses:this.http.get("assets/dungeon_bosses.csv",{responseType:"text"}),dungeonUnlocks:this.http.get("assets/dungeon_unlock.csv",{responseType:"text"}),dungeonDrops:this.http.get("assets/dungeon_drops.csv",{responseType:"text"}),dungeonQuests:this.http.get("assets/dungeon_quests.csv",{responseType:"text"}),statWeights:this.http.get("assets/stat_weights.csv",{responseType:"text"}),itemSpell:this.http.get("assets/item_spells.csv",{responseType:"text"}),itemSet:this.http.get("assets/item_sets.csv",{responseType:"text"}),buff:this.http.get("assets/buffs.csv",{responseType:"text"}),debuff:this.http.get("assets/debuffs.csv",{responseType:"text"}),consumable:this.http.get("assets/consumables.csv",{responseType:"text"}),raidAttacks:this.http.get("assets/raid_attacks.csv",{responseType:"text"}),raidDrops:this.http.get("assets/raid_drops.csv",{responseType:"text"}),raidStats:this.http.get("assets/raid_stats.csv",{responseType:"text"}),raidSpawns:this.http.get("assets/raid_spawn.csv",{responseType:"text"}),raidPaths:this.http.get("assets/raid_path.csv",{responseType:"text"}),defaultGambits:this.http.get("assets/gambits.csv",{responseType:"text"})}).pipe(Ze(({items:r,spells:i,talents:o,dungeonBosses:a,dungeonUnlocks:s,dungeonDrops:l,dungeonQuests:c,statWeights:u,itemSpell:d,itemSet:y,buff:h,debuff:w,consumable:R,raidAttacks:I,raidDrops:M,raidStats:J,raidSpawns:q,raidPaths:L,defaultGambits:V})=>{this.parseItems(r,this.itemsMap),this.spells=this.parseCsv(i,["CLASSID","SPELLID","RACEID","SPELLTYPE","WeaponDmg","School","Dispel","Mechanic","Targets","TargetCreatureType","CastingTimeIndex","RecoveryTime","ProcCharges","MaxLevel","BaseLevel","DurationIndex","ManaCost","ManaPerSecond","PowerType","RangeIndex","Speed","EffectDieSides1","EffectRealPointsPerLevel1","EffectBasePoints1","EffectMechanic1","EffectDieSides2","EffectRealPointsPerLevel2","EffectBasePoints2","EffectMechanic2","ManaCostPercentage","StartRecoveryTime","EffectBonusCoefficient1","EffectAmplitude1","EffectApplyAuraName1","EffectBonusCoefficient2","EffectAmplitude2","EffectApplyAuraName2","EffectPointsPerComboPoint1","StackAmount"]),this.talents=this.parseCsv(o,["CLASSID","SPELLID","SPEC_0","SPEC_1","SPEC_2"]),this.dungeonBosses=this.parseCsv(a,["NPC_ID","LEVEL","ORDER","LOOT","SPAWN"]),this.uniqueDungeons=[...new Set(this.dungeonBosses.map(_=>_.DUNGEON))],this.dungeonUnlocks=this.parseCsv(s,["NPC_ID"]),this.dungeonDrops=this.parseCsv(l,["NPC_ID","DB_ID","LEVEL","DROP_PCT","VALUE"]),this.dungeonQuests=this.parseCsv(c,["NPC_ID","ITEM_0","ITEM_1","ITEM_2","ITEM_3","ITEM_4","ITEM_5"]),this.statWeights=this.parseCsv(u,["CLASSID","SPEC","2H_SPEED","R_DPS","MH_DPS","OH_DPS","SKILL","ARMOR","STAMINA","STRENGTH","AGILITY","INTELLIGENCE","SPIRIT","MP5","ATTACK_POWER","R_ATTACK_POWER","SPELL_DAMAGE","SPELL_HEAL","HIT_PCT","CRIT_PCT","SPELL_HIT","SPELL_CRIT","DEFENSE","DODGE_PCT","PARRY_PCT","BLOCK_PCT","BLOCK_VALUE","RESIST_FIRE","SPELL_FIRE","SPELL_SHADOW","SPELL_FROST"]),this.itemSpell=this.parseCsv(d,["entry","spellid_1","spelltrigger_1","spellcooldown_1","spellppmRate1","spellcategory_1","spellcategorycooldown_1","spellid_2","spelltrigger_2","spellcooldown_2","spellppmRate_2","spellid_3","spelltrigger_3","spellcooldown_3"]),this.itemSet=this.parseCsv(y,["SET_ID","NUM_ITEM","PROC_SPELLID","PROC_CHANCE","ARMOR","DEFENSE","ATTACK_POWER","HIT_PCT","CRIT_PCT","SPELL_CRIT","BLOCK_VALUE","PARRY_PCT","RESIST_FIRE","RESIST_SHADOW","RESIST_FROST","RESIST_NATURE","RESIST_ARCANE","SPELL_DAMAGE","SPELL_HEAL","MOVESPEED","STAMINA","STRENGTH","AGILITY","INTELLECT","SPIRIT","SPELL_PEN","THREAT_MOD_MULT","THREAT_MOD_SCHOOL"]),this.buff=this.parseCsv(h,["DB_ID","AUTO","PROC_SPELLID","PROC_CHANCE","PROC_PPM","MIN_DAMAGE","MAX_DAMAGE","DAMAGE_SCHOOL","ARMOR","HEALTH","HEALTH_MULT","MANA","MIN_SHIELD","MAX_SHIELD","SHIELD_SCHOOL","SPELL_DAMAGE","SPELL_HEAL","SPELL_FROST","SPELL_SHADOW","SPELL_FIRE","RESIST_FIRE","RESIST_SHADOW","RESIST_NATURE","RESIST_FROST","RESIST_ARCANE","STRENGTH","AGILITY","INTELLECT","SPIRIT","STAMINA","MOVESPEED","DODGE_PCT","PARRY_PCT","BLOCK_PCT","CRIT_PCT","MP5","HP5","THREAT_MULT","THREAT_SCHOOL","ATTACK_POWER","R_ATTACK_POWER","SPELL_CRIT","SPELL_CRIT_FIRE","ATTACK_SPEED","NUM_OPP_MOD","THORNS","BLOCK_THORNS","DMG_TAKEN_MOD","DMG_TAKEN_MULT","DMG_MULT","DMG_MULT_SCHOOL","ARMOR_MULT","RAGE_PER_SEC","MANA_PER_SEC","CAST_TIME_MOD","HEALTH_PER_SEC","SPIRIT_CAST_PCT","SPIRIT_TICK_MULT","ENERGY_REGEN_MULT","IMMUNE_FEAR","MANA_COST_MOD","MANA_COST_MULT","IMMUNE_CC","IMMUNE_DMG","PUSHBACK_RESIST"]),this.debuff=this.parseCsv(w,["DB_ID","STACK","PER_PLAYER","PROC_SPELLID","PROC_CHANCE","ATTACK_POWER_MOD","ARMOR_MOD","MIN_DAMAGE","MAX_DAMAGE","CAST_SPEED_MULT","RESIST_FIRE","RESIST_SHADOW","RESIST_FROST","RESIST_NATURE","RESIST_ARCANE","ATTACK_SPEED","DMG_TAKEN_MOD","DMG_TAKEN_MOD_SCHOOL","DMG_TAKEN_MULT","DMG_TAKEN_MULT_SCHOOL","MOVESPEED","R_ATTACK_POWER_TAKEN","STAMINA","STRENGTH","AGILITY","INTELLECT","SPIRIT","SILENCE","SPELL_HEAL","SPELL_CRIT_TAKEN","SPELL_CRIT_TAKEN_SCHOOL","HIT_PCT","HEAL_MOD_MULT"]),this.consumable=this.parseCsv(R,["DB_ID","SPELLID","GOLD","DUR","STACK","CD","CD_SHARE","MIN_HEALTH","MAX_HEALTH","MIN_MANA","MAX_MANA","MIN_RAGE","MAX_RAGE","MIN_DAMAGE","MAX_DAMAGE","ARMOR","HEALTH","MANA","SPELL_DAMAGE","SPELL_HEAL","SPELL_FROST","SPELL_SHADOW","SPELL_FIRE,","RESIST_FIRE","RESIST_SHADOW","RESIST_NATURE","RESIST_FROST","RESIST_ARCANCE","STRENGTH","AGILITY","INTELLECT","SPIRIT","STAMINA","MOVESPEED","CRIT_PCT","MP5","ATTACK_POWER","SPELL_CRIT"]),this.raidAttacks=this.parseCsv(I,["entry","id","event_type","event_inverse_phase_mask","event_chance","event_flags","event_param1","event_param2","event_param3","event_param4","event_param5","event_param6","action1_type","action1_param1","action1_param2","action1_param3","action2_type","action2_param1","action2_param2","action2_param3","action3_type","action3_param1","action3_param2","action3_param3"]),this.raidDrops=this.parseCsv(M,["NPC_ID","DROP_PCT","DB_ID","REF_ID"]),this.raidStats=this.parseCsv(J,["id","scale","spawntimesecsmin","spawndist","movementtype","maxlevel","max_health","max_mana","armor","dmg_multiplier","min_dmg","max_dmg","melee_attack_power","melee_attack_speed","speedwalk","speedrun","lootid","damageschool","schoolimmunemask","resistancefire","resistancearcane","resistanceshadow","resistancefrost","resistancenature"]),this.raidSpawns=this.parseCsv(q,["guid","id","map","spawn_x","spawn_y","spawn_z","orientation","auto_spawn"]),this.raidPaths=this.parseCsv(L,["guid","movement_point","path_x","path_y","path_z","path_waittime"]),this.defaultGambits=this.parseCsv(V,["class","spec","actionId"])}),re(()=>{}))}loadDungeonData(){this.guildWeek=parseInt(localStorage.getItem("guildWeek")||"1",10),console.log("Loaded guild week from storage:",this.guildWeek),this.guildWeek=this.guildWeek;let r=localStorage.getItem("dungeonAssignment");r?(this.dungeonAssignments=JSON.parse(r),console.log("Loaded dungeon assignments from storage:",this.dungeonAssignments)):this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}];let i=localStorage.getItem("dungeonProgress");i?(this.dungeonProgress=JSON.parse(i),console.log("Loaded dungeon progress from storage:",this.dungeonProgress)):this.dungeonProgress={week:this.guildWeek,attempts:0}}getGuildWeek(){return this.guildWeek}setGuildWeek(r){this.guildWeek=r}getDungeonAssignments(){return this.dungeonAssignments}getDefaultGambits(){return this.defaultGambits}setDungeonAssignments(r){this.dungeonAssignments=r,localStorage.setItem("dungeonAssignment",JSON.stringify(this.dungeonAssignments))}getDungeonProgress(){return this.dungeonProgress}setDungeonProgress(r){this.dungeonProgress=r,localStorage.setItem("dungeonProgress",JSON.stringify(this.dungeonProgress))}getRaidStats(){return this.raidStats}getRaidSpawns(){return this.raidSpawns}setItemsMap(r){this.itemsMap.clear(),this.itemsMap=r}getItemsMap(){return this.itemsMap}setStatWeights(r){this.statWeights=[],this.statWeights=r}getStatWeights(){return this.statWeights}getBuffs(){return this.buff}getDebuffs(){return this.debuff}getConsumables(){return this.consumable}getItemSetBonus(){return this.itemSet}getItemSpells(){return this.itemSpell}getSpells(){return this.spells}getTalents(){return this.talents}getDungeonBosses(){return this.dungeonBosses}getDungeonUnlocks(){return this.dungeonUnlocks}getDungeonDrops(){return this.dungeonDrops}getDungeonQuests(){return this.dungeonQuests}getUniqueDungeons(){return this.uniqueDungeons}parseCsv(r,i){try{return(0,AE.parse)(r,{header:!0,skipEmptyLines:!0,transformHeader:a=>a.trim().replace(/^"|"$/g,""),transform:a=>a.trim()}).data.map(a=>(i.forEach(s=>{(!a[s]||isNaN(+a[s]))&&(a[s]="0")}),a.TOOLTIP&&(a.TOOLTIP=this.cleanTooltip(a.TOOLTIP)),a))}catch(o){return console.error("Error parsing CSV:",o),[]}}parseItems(r,i){try{this.parseCsv(r,["DB_ID","DISP_ID","EQ_TYPE","CLASS_MASK","FIERY_CORE","LAVA_CORE"]).forEach(a=>{!a.DB_ID||isNaN(+a.DB_ID)||!a.DISP_ID||isNaN(+a.DISP_ID)||!a.EQ_TYPE||isNaN(+a.EQ_TYPE)||i.set(+a.DB_ID,{disp_id:+a.DISP_ID,eq_type:+a.EQ_TYPE,sub_type:a.TYPE||`Item ${a.DB_ID}`,icon_name:a.ICON_NAME||`Item ${a.DB_ID}`,name:a.NAME||`Item ${a.DB_ID}`,tooltip:a.TOOLTIP,class_mask:a.CLASS_MASK,source:a.SOURCE,item_quality:a.ITEM_QUALITY,item_level:a.ITEM_LEVEL,bis:a.BIS,role:a.ROLE,fiery_core:a.FIERY_CORE,lava_core:a.LAVA_CORE,set_id:a.SET,min_damage:a.MIN_DAMAGE,max_damage:a.MAX_DAMAGE,speed:a.SPEED,armor:a.ARMOR,block_value:a.BLOCK_VALUE,stamina:a.STAMINA,strength:a.STRENGTH,agility:a.AGILITY,intelligence:a.INTELLIGENCE,spirit:a.SPIRIT,mp5:a.MP5,hp5:a.HP5,attack_power:a.ATTACK_POWER,attack_power_ranged:a.R_ATTACK_POWER,spell_damage:a.SPELL_DAMAGE,spell_heal:a.SPELL_HEAL,spell_frost:a.SPELL_FROST,spell_shadow:a.SPELL_SHADOW,spell_fire:a.SPELL_FIRE,spell_nature:a.SPELL_NATURE,hit_pct:a.HIT_PCT,crit_pct:a.CRIT_PCT,hit_pct_spell:a.SPELL_HIT,crit_pct_spell:a.SPELL_CRIT,parry_pct:a.PARRY_PCT,dodge_pct:a.DODGE_PCT,block_rate:a.BLOCK_PCT,defense:a.DEFENSE,resist_fire:a.RESIST_FIRE,resist_shadow:a.RESIST_SHADOW,resist_nature:a.RESIST_NATURE,resist_frost:a.RESIST_FROST,resist_arcane:a.RESIST_ARCANE,skill_dagger:a.SKILL_DAGGER,skill_sword:a.SKILL_SWORD,thorns:a.THORNS})})}catch(o){console.error("Error parsing items.csv:",o)}}cleanTooltip(r){if(!r)return"";let i=r;return i=i.replace(/<!--.*?-->/gs,""),i=i.replace(/<a[^>]*>(.*?)<\/a>/gi,"$1"),i=i.replace(/Durability \d+ \/ \d+/gi,""),i=i.replace(/Requires Level \d+/gi,""),i=i.replace(/Binds when picked up/gi,""),i=i.replace(/\(0\/\d+\)/gi,""),i=i.replace(/<(div|span)[^>]*class="[^"]*(whtt-sellprice|wowhead-tooltip-requirements)[^"]*"[^>]*>.*?<\/\1>/gi,""),i=i.replace(/<div[^>]*class="[^"]*indent[^"]*"[^>]*>[\s\S]*?(?=<\/div>)/gi,""),i=i.replace(/<span class="q0">([\s\S]*?)<\/span>/gi,"$1"),i=i.replace(/<span>(\(\d+\)\s*Set\s*:[\s\S]*?)(?=\(\d+\)\s*Set\s*:|$)/gi,"$1"),i=i.replace(/<b[^>]*class="[^"]*"[^>]*>/gi,"<b>"),i=i.replace(/<\/a>/gi,""),i=i.replace(/\s+/g," ").trim(),i=i.replace(/(?:<br\s*\/?>\s*){2,}/gi,"<br>"),i}saveVariableToStorage(r,i){try{localStorage.setItem(r,JSON.stringify(i))}catch(o){console.error(`Error saving ${r} to localStorage:`,o)}}};n.\u0275fac=function(i){return new(i||n)(U(zr))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var tr=(()=>{let n=class n{constructor(r){this.dataService=r,this.spellSchool=fd,this.durIndex=Ya}calculateStats(r,i,o,a){let s={general:{health:0,mana:0,strength:0,agility:0,stamina:0,intellect:0,spirit:0},armor:0,armorDR:0,attackPower:0,rangedAttackPower:0,attackSpeed:0,damage:{MHbase1:0,MHbase2:0,OHbase1:0,OHbase2:0,Rbase1:0,Rbase2:0,MHmin:0,MHmax:0,MHspeed:2,MHskill:300,MHtype:"",OHmin:0,OHmax:0,OHspeed:2,OHskill:300,OHtype:"",Rmin:0,Rmax:0,Rspeed:2,Rskill:300,Rtype:""},thorns:0,hitChance:0,critChance:5,dodgeChance:0,parryChance:5,blockChance:0,blockValue:0,defense:300,spellHitChance:0,spellCritChance:0,healthPer5:0,manaPer5:0,spiritTick:0,spiritCastPct:0,spellPower:{damage:0,healing:0,fire:0,shadow:0,nature:0,frost:0,arcane:0},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},healthMult:0,moveSpeed:0,spellPen:0,blockThorns:0,castSpeedMult:0,dmgMult:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},dmgTakenMod:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},dmgTakenMult:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},rangedAttackPowerTaken:0,healModMult:0,threatMult:0,armorMult:0,castTimeMod:0,spiritTickMult:0,energyRegenMult:0,immuneFear:0,immuneCC:0,immuneDmg:0,pushbackResist:0,manaCostMod:0,manaCostMult:0,spellCritTaken:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},pets:{},gearscore:0};if(!i)return s;let l=+i.CLASSID,c=+i.RACE,u=+i.SPEC,d=Sm.find(m=>m.CLASSID===l.toString()&&m.RACEID===c.toString())||{HP:0,MP:0,STR:0,AGI:0,STA:0,INT:0,SPI:0,ARM:0};s.general={health:+d.HP,mana:+d.MP,strength:+d.STR,agility:+d.AGI,stamina:+d.STA,intellect:+d.INT,spirit:+d.SPI},s.armor=+d.ARM;let y={},h=!1,w={};o.forEach(m=>{if(m.dbId!==-1){let E=this.dataService.getItemsMap().get(m.dbId);E&&(E.set_id&&E.set_id>0&&(w[E.set_id]=(w[E.set_id]||0)+1),s.general.stamina+=parseInt((E.stamina||0).toString()),s.general.strength+=parseInt((E.strength||0).toString()),s.general.agility+=parseInt((E.agility||0).toString()),s.general.intellect+=parseInt((E.intelligence||0).toString()),s.general.spirit+=parseInt((E.spirit||0).toString()),s.armor+=parseInt((E.armor||0).toString()),s.attackPower+=parseInt((E.attack_power||0).toString()),s.rangedAttackPower+=parseInt((E.attack_power_ranged||0).toString()),m.slot===21?(s.damage.MHmin=parseInt((E.min_damage||0).toString()),s.damage.MHmax=parseInt((E.max_damage||0).toString()),s.damage.MHbase1=s.damage.MHmin,s.damage.MHbase2=s.damage.MHmax,s.damage.MHspeed=parseFloat((E.speed||0).toString()),s.damage.MHtype=E.sub_type||""):m.slot===22?(s.damage.OHmin=parseInt((E.min_damage||0).toString()),s.damage.OHmax=parseInt((E.max_damage||0).toString()),s.damage.OHbase1=s.damage.OHmin,s.damage.OHbase2=s.damage.OHmax,s.damage.OHspeed=parseFloat((E.speed||0).toString()),s.damage.OHtype=E.sub_type||"",h=!0):m.slot===26&&(s.damage.Rmin=parseInt((E.min_damage||0).toString()),s.damage.Rmax=parseInt((E.max_damage||0).toString()),s.damage.Rbase1=s.damage.Rmin,s.damage.Rbase2=s.damage.Rmax,s.damage.Rspeed=parseFloat((E.speed||0).toString()),s.damage.Rtype=E.sub_type||""),s.hitChance+=parseInt((E.hit_pct||0).toString()),s.critChance+=parseInt((E.crit_pct||0).toString()),s.spellHitChance+=parseInt((E.hit_pct_spell||0).toString()),s.spellCritChance+=parseInt((E.crit_pct_spell||0).toString()),s.dodgeChance+=parseInt((E.dodge_pct||0).toString()),s.parryChance+=parseInt((E.parry_pct||0).toString()),s.blockChance+=parseInt((E.block_rate||0).toString()),s.blockValue+=parseInt((E.block_value||0).toString()),s.defense+=parseInt((E.defense||0).toString()),s.spellPower.damage+=parseInt((E.spell_damage||0).toString()),s.spellPower.healing+=parseInt((E.spell_heal||0).toString()),s.spellPower.fire+=parseInt((E.spell_fire||0).toString()),s.spellPower.frost+=parseInt((E.spell_frost||0).toString()),s.spellPower.shadow+=parseInt((E.spell_shadow||0).toString()),s.spellPower.nature+=parseInt((E.spell_nature||0).toString()),s.resistances.fire+=parseInt((E.resist_fire||0).toString()),s.resistances.shadow+=parseInt((E.resist_shadow||0).toString()),s.resistances.nature+=parseInt((E.resist_nature||0).toString()),s.resistances.frost+=parseInt((E.resist_frost||0).toString()),s.resistances.arcane+=parseInt((E.resist_arcane||0).toString()),s.healthPer5+=parseInt((E.hp5||0).toString()),s.manaPer5+=parseInt((E.mp5||0).toString()))}});let R=a.findIndex(m=>m.NAME===i.NAME),I=this.computeEqTypeScores(a,R);s.gearscore=this.computeGearscore(I,o);let M=s.armor-d.ARM;(l===7&&u===2||l===2&&u===1)&&(s.armor+=.1*M),l===0&&u===1&&(s.armor+=.04*M);for(let m in w){let E=w[m];this.dataService.getItemSetBonus().filter(T=>T.SET_ID===parseInt(m)&&E>=T.NUM_ITEM).forEach(T=>{s.armor+=parseInt((T.ARMOR||0).toString()),s.defense+=parseInt((T.DEFENSE||0).toString()),s.attackPower+=parseInt((T.ATTACK_POWER||0).toString()),s.hitChance+=parseInt((T.HIT_PCT||0).toString()),s.critChance+=parseInt((T.CRIT_PCT||0).toString()),s.spellCritChance+=parseInt((T.SPELL_CRIT||0).toString()),s.blockValue+=parseInt((T.BLOCK_VALUE||0).toString()),s.parryChance+=parseInt((T.PARRY_PCT||0).toString()),s.resistances.fire+=parseInt((T.RESIST_FIRE||0).toString()),s.resistances.shadow+=parseInt((T.RESIST_SHADOW||0).toString()),s.resistances.frost+=parseInt((T.RESIST_FROST||0).toString()),s.resistances.nature+=parseInt((T.RESIST_NATURE||0).toString()),s.resistances.arcane+=parseInt((T.RESIST_ARCANE||0).toString()),s.spellPower.damage+=parseInt((T.SPELL_DAMAGE||0).toString()),s.spellPower.healing+=parseInt((T.SPELL_HEAL||0).toString()),s.moveSpeed+=parseInt((T.MOVESPEED||0).toString()),s.general.stamina+=parseInt((T.STAMINA||0).toString()),s.general.strength+=parseInt((T.STRENGTH||0).toString()),s.general.agility+=parseInt((T.AGILITY||0).toString()),s.general.intellect+=parseInt((T.INTELLECT||0).toString()),s.general.spirit+=parseInt((T.SPIRIT||0).toString()),s.spellPen+=parseInt((T.SPELL_PEN||0).toString()),s.threatMult+=parseInt((T.THREAT_MOD_MULT||0).toString())})}if(s.pets={},l===5?s.pets.cat={general:{health:3390,mana:100,strength:136,agility:100,stamina:296,intellect:50,spirit:80},armor:4014,armorDR:0,attackPower:252,damage:{min:55,max:72,speed:1},resistances:{fire:120,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Claw: 43-59 damage per 25 focus"]}:l===4&&(s.pets.imp={general:{health:1009,mana:1898,strength:122,agility:35,stamina:86,intellect:264,spirit:260},armor:1233,armorDR:0,attackPower:112,damage:{min:85,max:96,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Firebolt: 85-96 damage, 2 sec cast, 115 mana"]},s.pets.voidwalker={general:{health:3149,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:4915,armorDR:0,attackPower:238,damage:{min:65,max:82,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Sacrifice: 1930 shield for 30 sec"]},s.pets.succubus={general:{health:1709,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:2431,armorDR:0,attackPower:238,damage:{min:67,max:84,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Lash of Pain: 87 damage, 145 mana, 12 sec cd"]},s.pets.felhunter={general:{health:2320,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:2487,armorDR:0,attackPower:238,damage:{min:59,max:72,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:[]}),r){i.activeBuffs&&i.activeBuffs.forEach(x=>{let b=this.dataService.getBuffs().find(B=>+B.DB_ID==+x.spellId);if(b){s.damage.MHmin+=parseInt((b.MIN_DAMAGE||0).toString()),s.damage.MHmax+=parseInt((b.MAX_DAMAGE||0).toString()),s.damage.MHbase1+=parseInt((b.MIN_DAMAGE||0).toString()),s.damage.MHbase2+=parseInt((b.MAX_DAMAGE||0).toString()),s.damage.OHbase1>0&&(s.damage.OHmin+=parseInt((b.MIN_DAMAGE||0).toString()),s.damage.OHmax+=parseInt((b.MAX_DAMAGE||0).toString()),s.damage.OHbase1+=parseInt((b.MIN_DAMAGE||0).toString()),s.damage.OHbase2+=parseInt((b.MAX_DAMAGE||0).toString())),s.armor+=parseInt((b.ARMOR||0).toString()),s.armorMult+=parseInt((b.ARMOR_MULT||0).toString()),s.general.health+=parseInt((b.HEALTH||0).toString()),s.healthMult+=parseInt((b.HEALTH_MULT||0).toString()),s.general.mana+=parseInt((b.MANA||0).toString()),s.spellPower.damage+=parseInt((b.SPELL_DAMAGE||0).toString()),s.spellPower.healing+=parseInt((b.SPELL_HEAL||0).toString()),s.spellPower.fire+=parseInt((b.SPELL_FIRE||0).toString()),s.spellPower.shadow+=parseInt((b.SPELL_SHADOW||0).toString()),s.spellPower.frost+=parseInt((b.SPELL_FROST||0).toString()),s.resistances.fire+=parseInt((b.RESIST_FIRE||0).toString()),s.resistances.shadow+=parseInt((b.RESIST_SHADOW||0).toString()),s.resistances.nature+=parseInt((b.RESIST_NATURE||0).toString()),s.resistances.frost+=parseInt((b.RESIST_FROST||0).toString()),s.resistances.arcane+=parseInt((b.RESIST_ARCANE||0).toString()),s.general.strength+=parseInt((b.STRENGTH||0).toString()),s.general.agility+=parseInt((b.AGILITY||0).toString()),s.general.intellect+=parseInt((b.INTELLECT||0).toString()),s.general.spirit+=parseInt((b.SPIRIT||0).toString()),s.general.stamina+=parseInt((b.STAMINA||0).toString()),s.moveSpeed+=parseInt((b.MOVESPEED||0).toString()),s.dodgeChance+=parseInt((b.DODGE_PCT||0).toString()),s.parryChance+=parseInt((b.PARRY_PCT||0).toString()),s.blockChance+=parseInt((b.BLOCK_PCT||0).toString()),s.critChance+=parseInt((b.CRIT_PCT||0).toString()),s.manaPer5+=parseInt((b.MP5||0).toString()),s.healthPer5+=parseInt((b.HP5||0).toString()),s.threatMult+=parseInt((b.THREAT_MULT||0).toString()),s.attackPower+=parseInt((b.ATTACK_POWER||0).toString()),s.rangedAttackPower+=parseInt((b.R_ATTACK_POWER||0).toString()),s.spellCritChance+=parseInt((b.SPELL_CRIT||0).toString()),s.spellCritChance+=parseInt((b.SPELL_CRIT_FIRE||0).toString()),s.attackSpeed+=parseInt((b.ATTACK_SPEED||0).toString()),s.thorns+=parseInt((b.THORNS||0).toString()),s.blockThorns+=parseInt((b.BLOCK_THORNS||0).toString()),s.dmgTakenMod.all+=parseInt((b.DMG_TAKEN_MOD||0).toString()),s.dmgTakenMult.all+=parseInt((b.DMG_TAKEN_MULT||0).toString()),s.armorMult+=parseInt((b.ARMOR_MULT||0).toString()),s.spiritTick+=parseInt((b.MANA_PER_SEC||0).toString()),s.castTimeMod+=parseInt((b.CAST_TIME_MOD||0).toString()),s.spiritCastPct+=parseInt((b.SPIRIT_CAST_PCT||0).toString()),s.spiritTickMult+=parseInt((b.SPIRIT_TICK_MULT||0).toString()),s.energyRegenMult+=parseInt((b.ENERGY_REGEN_MULT||0).toString()),s.immuneFear+=parseInt((b.IMMUNE_FEAR||0).toString()),s.immuneCC+=parseInt((b.IMMUNE_CC||0).toString()),s.immuneDmg+=parseInt((b.IMMUNE_DMG||0).toString()),s.pushbackResist+=parseInt((b.PUSHBACK_RESIST||0).toString()),s.manaCostMod+=parseInt((b.MANA_COST_MOD||0).toString()),s.manaCostMult+=parseInt((b.MANA_COST_MULT||0).toString());let B=parseInt((b.DMG_MULT||0).toString()),A=parseInt((b.DAMAGE_SCHOOL||0).toString());B!==0&&(A===0?s.dmgMult.physical=((s.dmgMult.physical/100+1)*(1+B/100)-1)*100:A===1?s.dmgMult.holy=((s.dmgMult.holy/100+1)*(1+B/100)-1)*100:A===2?s.dmgMult.fire=((s.dmgMult.fire/100+1)*(1+B/100)-1)*100:A===3?s.dmgMult.nature=((s.dmgMult.nature/100+1)*(1+B/100)-1)*100:A===4?s.dmgMult.frost=((s.dmgMult.frost/100+1)*(1+B/100)-1)*100:A===5?s.dmgMult.shadow=((s.dmgMult.shadow/100+1)*(1+B/100)-1)*100:A===6?s.dmgMult.arcane=((s.dmgMult.arcane/100+1)*(1+B/100)-1)*100:A===7?s.dmgMult.magic=((s.dmgMult.magic/100+1)*(1+B/100)-1)*100:A===8&&(s.dmgMult.all=((s.dmgMult.all/100+1)*(1+B/100)-1)*100))}});let m=1;for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==0&&(+b.SPEC==0||+b.SPEC==2)){m=1.35;break}}let E=12*m,P=20*m,T=285*m;if(s.general.stamina+=E,s.general.strength+=E,s.general.agility+=E,s.general.intellect+=E,s.general.spirit+=E,s.resistances.fire+=P,s.resistances.shadow+=P,s.resistances.nature+=P,s.resistances.frost+=P,s.resistances.arcane+=P,s.armor+=T,l===5||l===4)for(let x in s.pets)Object.prototype.hasOwnProperty.call(s.pets,x)&&(s.pets[x].general.stamina+=E,s.pets[x].general.strength+=E,s.pets[x].general.agility+=E,s.pets[x].general.intellect+=E,s.pets[x].general.spirit+=E,s.pets[x].resistances.fire+=P,s.pets[x].resistances.shadow+=P,s.pets[x].resistances.nature+=P,s.pets[x].resistances.frost+=P,s.pets[x].resistances.arcane+=P,s.pets[x].armor+=T,s.pets[x].general.health+=10*E,s.pets[x].armor+=2*E,l===4&&(s.pets[x].general.mana+=15*E),x==="imp"?s.attackPower+=E:s.attackPower+=2*E);let $=1;for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==2&&(+b.SPEC==0||+b.SPEC==2)){$=1.2;break}}if(s.attackPower+=185*$,s.manaPer5+=33*$,l===5||l===4)for(let x in s.pets)Object.prototype.hasOwnProperty.call(s.pets,x)&&(s.pets[x].attackPower+=185*$,s.pets[x].general.stamina+=54*1.3,s.pets[x].general.health+=54*1.3*10,s.pets[x].general.intellect+=31,s.pets[x].resistances.shadow+=60,x!=="cat"&&(s.pets[x].manaPer5+=33*$,s.pets[x].general.mana+=15*31));s.general.stamina+=54*1.3;for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==1&&+b.SPEC==0){if(s.general.spirit+=40,l===5||l===4)for(let B in s.pets)Object.prototype.hasOwnProperty.call(s.pets,B)&&(s.pets[B].general.spirit+=40);break}}s.resistances.shadow+=60,s.general.intellect+=31;for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==2&&+b.GROUP==+i.GROUP){if(s.resistances.fire+=60,l===5||l===4)for(let B in s.pets)Object.prototype.hasOwnProperty.call(s.pets,B)&&(s.pets[B].resistances.fire+=60);break}}for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==0&&+b.SPEC==1&&+b.GROUP==+i.GROUP){if(s.critChance+=3,l===5||l===4)for(let B in s.pets)Object.prototype.hasOwnProperty.call(s.pets,B)&&(s.pets[B].critChance+=3);break}}for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==5&&+b.SPEC==1&&+b.GROUP==+i.GROUP){if(s.attackPower+=100,s.rangedAttackPower+=100,l===5||l===4)for(let B in s.pets)Object.prototype.hasOwnProperty.call(s.pets,B)&&(s.pets[B].attackPower+=100);break}}let X=0;for(let x=0;x<a.length;x++){let b=a[x];+b.CLASSID==4&&+b.GROUP==+i.GROUP&&+b.SPEC!=2&&(+b.SPEC==0&&X==0?X=42:X=42*1.3)}if(X>0&&(s.general.stamina+=X,l===5||l===4))for(let x in s.pets)Object.prototype.hasOwnProperty.call(s.pets,x)&&(s.pets[x].general.stamina+=X,s.pets[x].general.health+=10*X);for(let x=0;x<a.length;x++){let b=a[x];if(+b.CLASSID==2&&+b.SPEC==0){if(s.general.stamina*=1.1,s.general.strength*=1.1,s.general.agility*=1.1,s.general.intellect*=1.1,s.general.spirit*=1.1,l===5||l===4)for(let B in s.pets)Object.prototype.hasOwnProperty.call(s.pets,B)&&(s.pets[B].general.health+=10*.1*s.pets[B].general.stamina,s.pets[B].general.mana+=15*.1*s.pets[B].general.intellect,s.pets[B].armor+=2*.1*s.pets[B].general.agility,B==="imp"?s.pets[B].attackPower+=.1*s.pets[B].general.strength:s.pets[B].attackPower+=2*.1*s.pets[B].general.strength,s.pets[B].general.stamina*=1.1,s.pets[B].general.strength*=1.1,s.pets[B].general.agility*=1.1,s.pets[B].general.intellect*=1.1,s.pets[B].general.spirit*=1.1);break}}let le=0;for(let x=0;x<a.length;x++){let b=a[x];+b.CLASSID==7&&+b.GROUP==+i.GROUP&&(+b.SPEC==1?s.attackPower+=232*1.25:+b.SPEC==0&&le<232*1.2?le=232*1.05:le===0&&(le=232))}if(le>0&&(s.attackPower+=le,l===5||l===4))for(let x in s.pets)Object.prototype.hasOwnProperty.call(s.pets,x)&&(s.pets[x].attackPower+=le)}c===1?(s.general.spirit*=1.05,(s.damage.MHtype==="Sword"||s.damage.MHtype==="Mace")&&(s.damage.MHskill+=5),(s.damage.OHtype==="Sword"||s.damage.OHtype==="Mace")&&(s.damage.OHskill+=5)):c===7?(s.general.intellect*=1.05,s.resistances.arcane+=10):c===3?(s.resistances.frost+=10,s.damage.Rtype==="Gun"&&(s.damage.Rskill+=5)):c===4&&(s.dodgeChance+=1,s.resistances.nature+=10),s.general.health+=(s.general.stamina-d.STA)*10,s.general.mana+=(s.general.intellect-d.INT)*15,s.armor+=(s.general.agility-d.AGI)*2,l===0&&u===1&&(s.critChance+=6,s.attackPower+=90,s.general.mana+=.2*s.general.intellect*15,s.general.intellect*=1.2,s.armor+=3.6*(M*1.04),s.attackPower+=180,s.general.health+=.2*s.general.stamina*10,s.general.stamina*=1.2,s.general.health+=1240),l===1&&(s.armor+=1395,u!==2&&(s.spellCritChance+=5),u===0?s.general.mana*=1.1:u===1?(s.spellPower.damage+=.25*s.general.spirit,s.spellPower.healing+=.25*s.general.spirit):(s.damage.Rmin>0&&(s.damage.Rmin*=1.25,s.damage.Rmax*=1.25),s.spellHitChance+=10)),l===2&&(s.hitChance+=3,u!==1&&(s.general.mana+=.1*s.general.intellect*15,s.general.intellect*=1.1),u!=0&&(s.general.strength*=1.1),u===0?s.spellCritChance+=5:u===1?(s.parryChance+=4,s.defense+=10):s.critChance+=5),l===3&&(s.spellHitChance+=6,u===0?(s.general.mana*=1.1,s.armor+=.5*s.general.intellect,s.resistances.arcane+=8,s.resistances.nature+=8,s.resistances.fire+=8,s.resistances.frost+=8,s.resistances.shadow+=8,s.spellCritChance+=3):u===1?(s.resistances.arcane+=10,s.resistances.nature+=10,s.resistances.fire+=10,s.resistances.frost+=10,s.resistances.shadow+=10,s.spellCritChance+=6):(s.armor+=.5*s.general.intellect,s.resistances.arcane+=2,s.resistances.nature+=2,s.resistances.fire+=2,s.resistances.frost+=2,s.resistances.shadow+=2)),l===4&&(s.spellCritChance+=5,s.armor+=570,s.resistances.shadow+=15,s.healthPer5+=15,u===1&&(s.general.health+=.15*s.general.stamina*10,s.general.stamina*=1.15,s.general.spirit*=.95)),l===5&&(s.critChance+=5,s.rangedAttackPower+=120,s.rangedAttackPower+=14*17.5,s.attackSpeed=13,u===2&&(s.general.health*=1.1,s.armor+=.15*s.general.agility*2,s.general.agility*=1.15,s.hitChance+=3,s.critChance+=3)),l===6&&(s.hitChance+=5,s.critChance+=5,u===2&&s.damage.MHtype==="Dagger"&&(s.critChance+=5),u===1&&(s.dodgeChance+=1),u!==0&&((s.damage.MHtype==="Sword"||s.damage.MHtype==="Fist"||s.damage.MHtype==="Dagger")&&(s.damage.MHskill+=5),(s.damage.OHtype==="Sword"||s.damage.OHtype==="Fist"||s.damage.OHtype==="Dagger")&&(s.damage.OHskill+=5))),[0,2,7].includes(l)?s.attackPower+=s.general.strength*2:s.attackPower+=s.general.strength,(l===0&&u===1||l===5||l===6)&&(s.attackPower+=s.general.agility),l===5?s.rangedAttackPower+=s.general.agility*2:(l===6||l===7)&&(s.rangedAttackPower+=s.general.agility),o.some(m=>m.dbId!==-1&&this.dataService.getItemsMap().get(m.dbId)?.eq_type===14)&&[2,7].includes(l)&&(s.blockChance+=5,s.blockValue+=Math.floor(s.general.strength/20)),[0,2,7].includes(l)?s.critChance+=s.general.agility/20:l===6?s.critChance+=s.general.agility/29:l===5&&(s.critChance+=s.general.agility/53);let q={0:.9,5:0,3:3.2,2:.7,1:3,6:0,4:2,7:0},L={0:20,5:26.5,3:19.444,2:19.767,1:20,6:14.5,4:20,7:20};s.dodgeChance+=q[l]||0,s.dodgeChance+=s.general.agility/(L[l]||20);let V={0:3.33,3:3.7,1:2.97,4:3.18,2:3.7},_={0:59.81,3:53.77,1:59.23,4:60.5,2:53.77};if(V[l]&&(s.spellCritChance+=V[l]+s.general.intellect/_[l]),l===0&&u!==1)s.spiritCastPct+=15,s.spiritTick+=s.general.spirit/4.5+15;else if([0,5,2,4].includes(l))s.spiritTick+=s.general.spirit/5+15;else if([3,1].includes(l)){let m=15;l===3&&(u==1?m=40:u==2?m=35:m=45),s.spiritCastPct+=m,s.spiritTick+=s.general.spirit/4+12.5}if(s.damage.MHmin>0){let m=s.attackPower/14*s.damage.MHspeed;s.damage.MHmin+=m,s.damage.MHmax+=m}if(s.damage.OHmin>0){let m=s.attackPower/14*s.damage.OHspeed;s.damage.OHmin+=m,s.damage.OHmax+=m,s.damage.OHmin*=.5,s.damage.OHmax*=.5}if(s.damage.Rmin>0&&s.damage.Rtype!=="Wand"){let m=s.rangedAttackPower/14*s.damage.Rspeed;s.damage.Rmin+=m,s.damage.Rmax+=m}if(l===2&&(u===1&&h?s.damage.MHmin*=1.1:u===2&&!h&&(s.damage.MHmin*=1.06,s.damage.MHmax*=1.06)),l===4)for(let m in s.pets)Object.prototype.hasOwnProperty.call(s.pets,m)&&(s.pets[m].spiritTick+=s.pets[m].general.spirit/5+15,u===1?(s.pets[m].general.health*=1.06,s.pets[m].general.mana*=1.15,m=="succubus"?(s.pets[m].damage.min*=1.1,s.pets[m].damage.max*=1.1):m==="felhunter"&&(s.pets[m].resistances.arcane+=60,s.pets[m].resistances.fire+=60,s.pets[m].resistances.frost+=60,s.pets[m].resistances.nature+=60,s.pets[m].resistances.shadow+=60)):u===2&&(s.pets[m].general.health*=1.15),m==="imp"?u!==2&&(s.pets[m].damage.speed=1,u===1&&(s.pets[m].damage.min*=1.3,s.pets[m].damage.max*=1.3)):u===1?(s.pets[m].damage.min*=1.2,s.pets[m].damage.max*=1.2):u===2&&(s.pets[m].damage.min*=1.08,s.pets[m].damage.max*=1.08));if(l===5){u==1&&s.damage.Rmin>0&&(s.damage.Rmin*=1.05,s.damage.Rmax*=1.05);let m=(s.pets.cat.attackPower-252)/14*1.1*1.25;s.pets.cat.damage.min+=m,s.pets.cat.damage.max+=m,u!==2&&(s.pets.cat.damage.min*=1.2,s.pets.cat.damage.max*=1.2,s.pets.cat.critChance+=15,u===0?s.pets.cat.general.health*=1.12:s.pets.cat.general.health*=1.09)}if(l===6){let m=1.5;u===0&&(m=1.1),s.damage.OHmin>0&&(s.damage.OHmin*=m,s.damage.OHmax*=m)}if(l===7&&(s.critChance+=5,u===2?(s.defense+=10,s.blockChance+=5,s.parryChance+=5,s.damage.OHmin===0&&h&&(s.damage.MHmin*=1.1,s.damage.MHmax*=1.1)):u===1?s.damage.OHmin>0&&(s.damage.OHmin*=1.25,s.damage.OHmax*=1.25):h||(s.damage.MHmin*=1.03,s.damage.MHmax*=1.03)),s.healthMult!==0&&(s.general.health*=1+s.healthMult/100),s.armorMult!==0&&(s.armor*=1+s.armorMult/100),s.general.health=Math.round(s.general.health),s.general.mana=Math.round(s.general.mana),s.general.stamina=Math.round(s.general.stamina),s.general.strength=Math.round(s.general.strength),s.general.agility=Math.round(s.general.agility),s.general.intellect=Math.round(s.general.intellect),s.general.spirit=Math.round(s.general.spirit),s.armor=Math.round(s.armor),s.armorDR=Number((100*(s.armor/(s.armor+400+85*63))).toFixed(2)),s.attackPower=Math.round(s.attackPower),s.rangedAttackPower=Math.round(s.rangedAttackPower),s.damage.MHmin=Math.round(s.damage.MHmin),s.damage.MHmax=Math.round(s.damage.MHmax),s.damage.MHspeed=Number(s.damage.MHspeed.toFixed(2)),s.damage.OHmin=Math.round(s.damage.OHmin),s.damage.OHmax=Math.round(s.damage.OHmax),s.damage.OHspeed=Number(s.damage.OHspeed.toFixed(2)),s.damage.Rmin=Math.round(s.damage.Rmin),s.damage.Rmax=Math.round(s.damage.Rmax),s.damage.Rspeed=Number(s.damage.Rspeed.toFixed(2)),s.critChance=Number(s.critChance.toFixed(2)),s.dodgeChance=Number(s.dodgeChance.toFixed(2)),s.spellCritChance=Number(s.spellCritChance.toFixed(2)),s.manaPer5=Number(s.manaPer5.toFixed(1)),s.spiritTick=Number(s.spiritTick.toFixed(1)),l===4||l===5)for(let m in s.pets)Object.prototype.hasOwnProperty.call(s.pets,m)&&(s.pets[m].general.health=Math.round(s.pets[m].general.health),s.pets[m].general.mana=Math.round(s.pets[m].general.mana),s.pets[m].general.stamina=Math.round(s.pets[m].general.stamina),s.pets[m].general.strength=Math.round(s.pets[m].general.strength),s.pets[m].general.agility=Math.round(s.pets[m].general.agility),s.pets[m].general.intellect=Math.round(s.pets[m].general.intellect),s.pets[m].general.spirit=Math.round(s.pets[m].general.spirit),s.pets[m].armor=Math.round(s.pets[m].armor),s.pets[m].armorDR=Number((100*(s.pets[m].armor/(s.pets[m].armor+400+85*63))).toFixed(2)),s.pets[m].attackPower=Math.round(s.pets[m].attackPower),s.pets[m].critChance=Number(s.pets[m].critChance.toFixed(2)),s.pets[m].damage.min=Math.round(s.pets[m].damage.min),s.pets[m].damage.max=Math.round(s.pets[m].damage.max),s.pets[m].damage.speed=Number(s.pets[m].damage.speed.toFixed(2)),s.pets[m].manaPer5=Number(s.pets[m].manaPer5.toFixed(1)),s.pets[m].spiritTick=Number(s.pets[m].spiritTick.toFixed(1)));return s}calculateMobStats(r){let i=this.dataService.getRaidStats().find(a=>a.name===r.name);if(!i)return null;let o={health:+i.max_health,mana:+i.max_mana,armor:+i.armor,dmg_mult:+i.dmg_multiplier,melee_min_base:+i.min_dmg,melee_max_base:+i.max_dmg,attack_power:+i.melee_attack_power,attack_power_r:0,min_damage:+i.min_dmg,max_damage:+i.max_dmg,melee_speed:+i.melee_attack_speed,speedwalk:+i.speedwalk,speedrun:+i.speedrun,damageschool:+i.damageschool,castSpeedMult:0,healModMult:0,attack_speed:0,strength:0,spellCritTaken:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},hitPct:0,dmgTakenMod:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},dmgTakenMult:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},shield:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},movespeed:0,schoolimmunemask:+i.schoolimmunemask,resistances:{fire:+i.resistancefire,shadow:+i.resistanceshadow,nature:+i.resistancenature,frost:+i.resistancefrost,arcane:+i.resistancearcane}};return r.activeDebuffs&&r.activeDebuffs.forEach(a=>{let s=this.dataService.getDebuffs().find(l=>+l.DB_ID==+a.spellId);if(s){o.min_damage+=parseInt((s.MIN_DAMAGE||0).toString()),o.max_damage+=parseInt((s.MAX_DAMAGE||0).toString()),o.armor+=parseInt((s.ARMOR_MOD||0).toString()),o.attack_power+=parseInt((s.ATTACK_POWER_MOD||0).toString()),o.castSpeedMult+=parseInt((s.CAST_SPEED_MULT||0).toString()),o.resistances.fire+=parseInt((s.RESIST_FIRE||0).toString()),o.resistances.shadow+=parseInt((s.RESIST_SHADOW||0).toString()),o.resistances.nature+=parseInt((s.RESIST_NATURE||0).toString()),o.resistances.frost+=parseInt((s.RESIST_FROST||0).toString()),o.resistances.arcane+=parseInt((s.RESIST_ARCANE||0).toString()),o.attack_speed+=parseInt((s.ATTACK_SPEED||0).toString()),o.movespeed+=parseInt((s.MOVESPEED||0).toString()),o.strength+=parseInt((s.STRENGTH||0).toString()),o.hitPct+=parseInt((s.HIT_PCT||0).toString()),o.healModMult+=parseInt((s.HEAL_MOD_MULT||0).toString()),o.attack_power_r+=parseInt((s.R_ATTACK_POWER_TAKEN||0).toString());let l=parseInt((s.DMG_TAKEN_MOD||0).toString()),c=parseInt((s.DMG_TAKEN_MOD_SCHOOL||0).toString());l!==0&&(c===0?o.dmgTakenMod.physical+=l:c===1?o.dmgTakenMod.holy+=l:c===2?o.dmgTakenMod.fire+=l:c===3?o.dmgTakenMod.nature+=l:c===4?o.dmgTakenMod.frost+=l:c===5?o.dmgTakenMod.shadow+=l:c===6?o.dmgTakenMod.arcane+=l:c===7?o.dmgTakenMod.magic+=l:c===8&&(o.dmgTakenMod.all+=l));let u=parseInt((s.SPELL_CRIT_TAKEN||0).toString()),d=parseInt((s.SPELL_CRIT_TAKEN_SCHOOL||0).toString());u!==0&&(d===0?o.spellCritTaken.physical+=u:d===1?o.spellCritTaken.holy+=u:d===2?o.spellCritTaken.fire+=u:d===3?o.spellCritTaken.nature+=u:d===4?o.spellCritTaken.frost+=u:d===5?o.spellCritTaken.shadow+=u:d===6?o.spellCritTaken.arcane+=u:d===7?o.spellCritTaken.magic+=u:d===8&&(o.spellCritTaken.all+=u));let y=parseInt((s.DMG_TAKEN_MULT||0).toString()),h=parseInt((s.DMG_TAKEN_MULT_SCHOOL||0).toString());y!==0&&(h===0?o.dmgTakenMult.physical=((o.dmgTakenMult.physical/100+1)*(1+y/100)-1)*100:h===1?o.dmgTakenMult.holy=((o.dmgTakenMult.holy/100+1)*(1+y/100)-1)*100:h===2?o.dmgTakenMult.fire=((o.dmgTakenMult.fire/100+1)*(1+y/100)-1)*100:h===3?o.dmgTakenMult.nature=((o.dmgTakenMult.nature/100+1)*(1+y/100)-1)*100:h===4?o.dmgTakenMult.frost=((o.dmgTakenMult.frost/100+1)*(1+y/100)-1)*100:h===5?o.dmgTakenMult.shadow=((o.dmgTakenMult.shadow/100+1)*(1+y/100)-1)*100:h===6?o.dmgTakenMult.arcane=((o.dmgTakenMult.arcane/100+1)*(1+y/100)-1)*100:h===7?o.dmgTakenMult.magic=((o.dmgTakenMult.magic/100+1)*(1+y/100)-1)*100:h===8&&(o.dmgTakenMult.all=((o.dmgTakenMult.all/100+1)*(1+y/100)-1)*100))}}),o}computeEqTypeScores(r,i){let o={};return i!==-1&&(r[i].INVENTORY||"").split(";").map(l=>+l.trim()).filter(l=>!isNaN(l)).forEach(l=>{let c=this.dataService.getItemsMap().get(l);if(c){let u=Number(c.item_quality)??0,d=Number(c.item_level)??0,y=1;u===3?y=1.3:u===4?y=1.6:u===5&&(y=2);let h=d*y,w=c.eq_type;o[w]||(o[w]={top:0,second:0}),h>o[w].top?(o[w].second=o[w].top,o[w].top=h):h>o[w].second&&(o[w].second=h)}}),o}computeGearscore(r,i){let o={},a=!1;i&&i.forEach(h=>{if(h.dbId!==-1){let w=this.dataService.getItemsMap().get(h.dbId);if(w){let R=Number(w.item_quality)??0,I=Number(w.item_level)??0,M=1;R===3?M=1.3:R===4?M=1.6:R===5&&(M=2),o[h.slot]=I*M,h.slot===22&&(a=!0)}}else o[h.slot]=0}),[1,2,3,5,6,7,8,9,10,16,26].forEach(h=>{o[h]=Math.max(o[h]||0,r[h]?.top||0)}),r[20]&&(o[5]=Math.max(o[5]||0,r[20].top||0)),r[28]&&(o[26]=Math.max(o[26]||0,r[28].top||0)),o[11]&&o[11]>r[11].second&&o[11]!==r[11].top&&(o[11]>r[11].top?(r[11].second=r[11].top,r[11].top=o[11]):r[11].second=o[11]),o[12]&&o[12]>r[11].second&&o[12]!==r[11].top&&(o[12]>r[11].top?(r[11].second=r[11].top,r[11].top=o[12]):r[11].second=o[12]),o[11]=r[11].top,o[12]=r[11].second,o[13]&&o[13]>r[12].second&&o[13]!==r[12].top&&(o[13]>r[12].top?(r[12].second=r[12].top,r[12].top=o[13]):r[12].second=o[13]),o[14]&&o[14]>r[12].second&&o[14]!==r[12].top&&(o[14]>r[12].top?(r[12].second=r[12].top,r[12].top=o[14]):r[12].second=o[14]),o[13]=r[12].top,o[14]=r[12].second,r[13]&&(r[21]?(r[13].second>0&&(r[21].second===0||r[13].second>r[21].second)&&(r[13].second>r[21].top?r[21]={top:r[13].top,second:r[13].second}:r[21].second=r[13].second),r[13].top>r[21].second&&(r[13].top>r[21].top?(r[21].second=r[21].top,r[21].top=r[13].top):r[21].second=r[13].top)):r[21]={top:r[13].top,second:r[13].second}),[13,14,23].forEach(h=>{r[h]&&(r[22]?(r[h].second>0&&(r[22].second===0||r[h].second>r[22].second)&&(r[h].second>r[22].top?r[22]={top:r[h].top,second:r[h].second}:r[22].second=r[h].second),r[h].top>r[22].second&&(r[h].top>r[22].top?(r[22].second=r[22].top,r[22].top=r[h].top):r[22].second=r[h].top)):r[22]={top:r[h].top,second:r[h].second})}),a?[21,22].forEach(h=>{o[h]&&(r[h]?o[h]>r[h].second&&(o[h]>r[h].top?(r[h].second=r[h].top,r[h].top=o[h]):o[h]!==r[h].top&&(r[h].second=o[h])):r[h]={top:o[h],second:0})}):o[21]&&(r[17]?o[21]>r[17].second&&(o[21]>r[17].top?(r[17].second=r[17].top,r[17].top=o[21]):o[21]!==r[17].top&&(r[17].second=o[21])):r[17]={top:o[21],second:0}),r[17]?o[17]=r[17].top:o[17]=0,r[22]?(o[21]=r[21].top,r[21].top!==r[22].top?o[22]=r[22].top:r[21].second>r[22].second?o[22]=r[21].second:o[22]=r[22].second):(o[21]=r[21].top,o[22]=0),o[21]+o[22]>o[17]?o[17]=0:(o[21]=0,o[22]=0),o[26]||(o[26]=50),[3,8,10,6].forEach(h=>{o[h]&&(o[h]*=.752)}),[11,12,13,14,2,16,9,26].forEach(h=>{o[h]&&(o[h]*=.566)}),o[17]*=2;let c=Object.values(o).reduce((h,w)=>h+w,0)/13,u=Math.abs(c-55),d=Math.pow(u,2/3);u<1&&(d=u);let y=c>=55?55+d:55-d;return Math.round(y*100)/100}getPlayerGearScore(r,i){let o=this.computeEqTypeScores(r,i);return this.computeGearscore(o,null)}calculateItemWeight(r,i,o){let a=this.dataService.getStatWeights().find(l=>+l.CLASSID===i&&+l.SPEC===o);if(!a)return 0;let s=0;if(s+=(r.stamina||0)*(a.STAMINA||0),s+=(r.strength||0)*(a.STRENGTH||0),s+=(r.agility||0)*(a.AGILITY||0),s+=(r.intelligence||0)*(a.INTELLIGENCE||0),+r.dbId==13937&&(s+=20*2*(a.INTELLIGENCE||0)),s+=(r.spirit||0)*(a.SPIRIT||0),s+=(r.mp5||0)*(a.MP5||0),+r.dbId==13143&&(s+=22*.5*(a.MP5||0)),+r.dbId==14152&&(s+=16.67*(a.MP5||0)),s+=(r.attack_power||0)*(a.ATTACK_POWER||0),s+=(r.attack_power_ranged||0)*(a.R_ATTACK_POWER||0),s+=(r.spell_damage||0)*(a.SPELL_DAMAGE||0),+r.dbId==18820&&(s+=29.17*(a.SPELL_DAMAGE||0)),+r.dbId==22268&&(s+=20*(a.SPELL_DAMAGE||0),s+=18*(a.SPELL_HEAL||0)),s+=(r.spell_heal||0)*(a.SPELL_HEAL||0),s+=(r.spell_frost||0)*(a.SPELL_FROST||0),s+=(r.spell_shadow||0)*(a.SPELL_SHADOW||0),s+=(r.spell_fire||0)*(a.SPELL_FIRE||0),s+=(r.hit_pct||0)*(a.HIT_PCT||0),+r.dbId==11815&&[1,2,6,7].includes(i)&&(s+=2*(a.HIT_PCT||0)),s+=(r.crit_pct||0)*(a.CRIT_PCT||0),s+=(r.hit_pct_spell||0)*(a.SPELL_HIT||0),s+=(r.crit_pct_spell||0)*(a.SPELL_CRIT||0),s+=(r.parry_pct||0)*(a.PARRY_PCT||0),s+=(r.dodge_pct||0)*(a.DODGE_PCT||0),s+=(r.block_rate||0)*(a.BLOCK_PCT||0),s+=(r.defense||0)*(a.DEFENSE||0),s+=(r.resist_fire||0)*(a.RESIST_FIRE||0),s+=(r.skill_dagger||0)*(a.SKILL||0),s+=(r.skill_sword||0)*(a.SKILL||0),s+=(r.armor||0)*(a.ARMOR||0),s+=(r.block_value||0)*(a.BLOCK_VALUE||0),r.speed>0){let l=((r.min_damage||0)+(r.max_damage||0))/2/r.speed,c=0;[25,26].includes(r.eq_type)?c=a.R_DPS||0:[22,23].includes(r.eq_type)?c=a.OH_DPS||0:c=a.MH_DPS||0,s+=l*c,[6,8,9,10,17].includes(r.eq_type)&&(s+=r.speed*(a["2H_SPEED"]||0))}return r.eq_type===28&&(s+=1),s}getDoTTicks(r,i,o){let a=this.durIndex[r]||0;r===553?a=16-2*(5-i):r===185&&(a=21-3*(5-i));let s=o/1e3;return a>0&&s>0?Math.floor(a/s):0}calculateSpellDetails(r,i,o){let a=this.dataService.getSpells(),s=this.dataService.getTalents();if(!i||!o||!a||!s)return console.warn("Missing required data for tooltip calculation"),null;let l=+i.CLASSID,c=+i.RACE,u=+i.SPEC,d=Sm.find(x=>x.CLASSID===l.toString()&&x.RACEID===c.toString())||{HP:0,MP:0,STR:0,AGI:0,STA:0,INT:0,SPI:0,ARM:0},y=s.filter(x=>+x[`SPEC_${u}`]==1&&+x.CLASSID===l),h=a.find(x=>+x.SPELLID==+r),w=this.getTalentModifications(r,y),R=h.TOOLTIP.toLowerCase().includes("channeled"),I=TE[h.RangeIndex],M=I.minRange,J=I.maxRange,q=I.description,L=ME[h.CastingTimeIndex],V=h.ManaCost,_=h.ManaPerSecond,m=h.ManaCostPercentage,E=h.PowerType;if(m>0)if(E===1)V=m/100*1e3;else if(E===3)V=m/100*100;else if(E===4){let x=d.HP;V=m/100*x}else{let x=d.MP;V=m/100*x}let P=h.RecoveryTime,T=Ya[h.DurationIndex];+r==6774&&(T=6+3*i.resources.comboPoints);let $=h.StartRecoveryTime;w.rangeMod&&q!=="Melee"&&(w.rangeMod.type==="percent"?J*=1+w.rangeMod.value/100:J+=w.rangeMod.value),w.costMod&&(V>0&&(w.costMod.type==="percent"?V*=1-w.costMod.value/100:V-=w.costMod.value),_>0&&w.costMod.type==="percent"&&(_*=1-w.costMod.value/100)),w.castTimeMod&&(L=Math.max(0,L-w.castTimeMod.value)),w.cooldownMod&&(P=Math.max(0,P-w.cooldownMod.value*1e3)),w.durationMod&&(w.durationMod.type==="percent"?T*=1+w.durationMod.value/100:T+=w.durationMod.value);let X=h;if(r===27871&&(X=a.find(x=>+x.SPELLID==27874)),[2,5,10,11,17,18,19].includes(+h.SPELLTYPE)||+h.SPELLID==10901){let x=this.calculateDamageValues(h,y,o,i.resources.comboPoints),{minDmg1:b,maxDmg1:B,minDmg2:A,maxDmg2:ee,ticks:K}=x;return A>2&&+h.WeaponDmg==0?b>2?B-b<=1?(b=B,A=ee):ee-A<=1&&(A=ee):(b=0,B=0,ee-A<=1&&(A=ee)):(A=0,ee=0,B-b<=1&&(b=B)),h.EffectAmplitude1>0&&K&&K>0&&(b/=K,B/=K),h.EffectAmplitude2>0&&K&&K>0&&(A/=K,ee/=K),{range1:M,range2:J,cost:V,cost2:_,costType:E,spellType:h.SPELLTYPE,time:L,channeled:R,cd:P,dur:T,global:$,school:h.School,min1:b,max1:B,amp1:h.EffectAmplitude1,min2:A,max2:ee,amp2:h.EffectAmplitude2}}else return{range1:M,range2:J,cost:V,cost2:_,costType:E,spellType:h.SPELLTYPE,time:L,channeled:R,cd:P,dur:T,global:$,school:h.School,min1:0,max1:0,amp1:h.EffectAmplitude1,min2:0,max2:0,amp2:h.EffectAmplitude2}}getTalentModifications(r,i){let o=this.dataService.getSpells().find(_=>+_.SPELLID==+r),a={};o||console.log(`did not find spell: ${r}`);let s=o.TOOLTIP.toLowerCase().replace(/:/g,"")||"",l=this.spellSchool[+o.School||0],c=+o.RangeIndex==114||+o.RangeIndex==11,u=+o.School==0,d=+o.SPELLTYPE==2,h=[{id:19500,value:6,type:"flat",unit:"yd",appliesTo:()=>c},{id:12353,value:6,type:"flat",unit:"yd",appliesTo:()=>s.includes("fire")&&l==="fire"},{id:16757,value:10,type:"percent",appliesTo:()=>l==="frost"},{id:16758,value:20,type:"percent",appliesTo:()=>l==="frost"},{id:17918,value:20,type:"percent",appliesTo:()=>s.includes("destructive")||l==="fire"||l==="shadow"},{id:18219,value:20,type:"percent",appliesTo:()=>s.includes("affliction")||l==="shadow"},{id:16820,value:20,type:"percent",appliesTo:()=>["wrath","hurricane","roots","starfire","faerie fire"].some(_=>s.includes(_))},{id:17325,value:20,type:"percent",appliesTo:()=>l==="shadow"},{id:27789,value:10,type:"percent",appliesTo:()=>["smite","holy fire","poh","nova"].some(_=>s.includes(_))}].find(_=>i.some(m=>+m.SPELLID===_.id&&_.appliesTo()));h&&(a.rangeMod=N({type:h.type,value:h.value},h.unit&&{unit:h.unit}));let R=[{id:12519,value:15,type:"percent",power:"mana",appliesTo:()=>l==="frost"},{id:17779,value:2,type:"percent",power:"mana",appliesTo:()=>l==="fire"||l==="shadow"},{id:18710,value:40,type:"percent",power:"mana",appliesTo:()=>s.includes("summon")},{id:19420,value:10,type:"percent",power:"mana",appliesTo:()=>["shot","sting"].some(_=>s.includes(_))},{id:19575,value:40,type:"percent",power:"mana",appliesTo:()=>s.includes("revive pet")},{id:13863,value:5,type:"flat",power:"energy",appliesTo:()=>s.includes("sinister strike")},{id:12663,value:2,type:"flat",power:"rage",appliesTo:()=>s.includes("heroic strike")},{id:12664,value:3,type:"flat",power:"rage",appliesTo:()=>s.includes("heroic strike")},{id:12811,value:3,type:"flat",power:"rage",appliesTo:()=>s.includes("sunder armor")},{id:20503,value:5,type:"flat",power:"rage",appliesTo:()=>s.includes("execute")},{id:16834,value:20,type:"percent",power:"mana",appliesTo:()=>s.includes("form")},{id:16835,value:30,type:"percent",power:"mana",appliesTo:()=>s.includes("form")},{id:16847,value:18.1,type:"percent",power:"mana",appliesTo:()=>["healing touch"].some(_=>s.includes(_))},{id:16847,value:9,type:"percent",power:"mana",appliesTo:()=>["starfire","moonfire","wrath","regrowth","rejuvenation"].some(_=>s.includes(_))},{id:16938,value:5,type:"flat",power:"energy",appliesTo:()=>["rake","claw"].some(_=>s.includes(_))},{id:16938,value:5,type:"flat",power:"rage",appliesTo:()=>["maul","swipe"].some(_=>s.includes(_))},{id:16968,value:12,type:"flat",power:"energy",appliesTo:()=>s.includes("shred")},{id:24972,value:10,type:"percent",power:"mana",appliesTo:()=>["healing touch","tranquility"].some(_=>s.includes(_))},{id:14783,value:10,type:"percent",power:"mana",appliesTo:()=>s.includes("instant")},{id:15014,value:15,type:"percent",power:"mana",appliesTo:()=>[2053,6064,25314].includes(+r)},{id:20104,value:12,type:"percent",power:"mana",appliesTo:()=>["judgement","seal"].some(_=>s.includes(_))},{id:20105,value:15,type:"percent",power:"mana",appliesTo:()=>["judgement","seal"].some(_=>s.includes(_))}].find(_=>i.some(m=>+m.SPELLID===_.id&&_.appliesTo()));R&&(a.costMod={type:R.type,value:R.value});let M=[{id:18710,value:4,appliesTo:()=>s.includes("summon")},{id:19575,value:6,appliesTo:()=>s.includes("revive pet")},{id:20498,value:.4,appliesTo:()=>s.includes("slam")},{id:16818,value:.5,appliesTo:()=>s.includes("wrath")},{id:17073,value:.5,appliesTo:()=>s.includes("healing touch")},{id:18535,value:.5,appliesTo:()=>[25314,6064,10934,15261].includes(+r)},{id:12341,value:.5,appliesTo:()=>s.includes("fireball")},{id:16766,value:.5,appliesTo:()=>s.includes("frostbolt")},{id:17792,value:.5,appliesTo:()=>["shadow bolt","immolate"].some(_=>s.includes(_))},{id:17792,value:2,appliesTo:()=>["soul fire"].some(_=>s.includes(_))},{id:17814,value:2,appliesTo:()=>s.includes("corruption")},{id:18127,value:1,appliesTo:()=>s.includes("firebolt")}].find(_=>i.some(m=>+m.SPELLID===_.id&&_.appliesTo()));M&&(a.castTimeMod={value:M.value});let q=[{id:25957,value:2,appliesTo:()=>s.includes("judgement")},{id:12302,value:1,appliesTo:()=>s.includes("taunt")},{id:20175,value:120,appliesTo:()=>s.includes("blessing of protection")},{id:20235,value:1200,appliesTo:()=>s.includes("lay on hands")},{id:13872,value:90,appliesTo:()=>["sprint","evasion"].some(_=>s.includes(_))}].find(_=>i.some(m=>+m.SPELLID===_.id&&_.appliesTo()));q&&(a.cooldownMod={value:q.value});let V=[{id:14167,value:45,type:"percent",appliesTo:()=>s.includes("slice and dice")},{id:12945,value:.5,type:"flat",unit:"sec",appliesTo:()=>s.includes("shield block")},{id:15317,value:6,type:"flat",unit:"sec",appliesTo:()=>s.includes("shadow word pain")},{id:20175,value:6,type:"flat",unit:"sec",appliesTo:()=>s.includes("blessing of freedom")}].find(_=>i.some(m=>+m.SPELLID===_.id&&_.appliesTo()));return V&&(a.durationMod=N({type:V.type,value:V.value},V.unit&&{unit:V.unit})),a}calculateDamageValues(r,i,o,a){let s=+r.SPELLID,l=+r.School==0,c=+r.SPELLTYPE==2,u=[2,5,10,11,17,18,19].includes(+r.SPELLTYPE),d=r.EffectAmplitude1>0,y=r.EffectAmplitude2>0,h=(+r.EffectBasePoints1||0)+1,w=+r.EffectDieSides1||0,R=+r.EffectBonusCoefficient1||0,I=(+r.EffectBasePoints2||0)+1,M=+r.EffectDieSides2||0,J=+r.EffectBonusCoefficient2||0,q=this.spellSchool[+r.School||0],L=+r.EffectPointsPerComboPoint1||0,V=l&&+r.WeaponDmg||0,_=+r.EffectRealPointsPerLevel1||0,m=+r.EffectRealPointsPerLevel2||0,E=+r.BaseLevel||0,P=0,T=h;w===1&&(T+=1);let $=w>0?h+w:h,X=I;M===1&&(X+=1);let le=M>0?I+M:I;E<60&&_!==0&&(T+=_*(60-E),$+=_*(60-E)),E<60&&m!==0&&(X+=m*(60-E),le+=m*(60-E)),+r.SPELLID==20569&&i.some(A=>+A.SPELLID==20496)&&(T*=2.2,$*=2.2);let x=0,b=0;if(l){let A=3.3;s===9850||s===9908?(A=1,o.damage.MHbase1=38,o.damage.MHbase2=46):s===9881?(A=2.5,o.damage.MHbase1=128,o.damage.MHbase2=142):+r.RangeIndex==114||+r.RangeIndex==11?A=2.8:o.damage.MHtype==="dagger"?A=1.7:o.damage.OHbase1>0&&(A=2.4),P=o.attackPower*A/14;let ee=0,K=1;switch(s){case 9896:ee=T+L*a,x=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude1),b=ee+o.attackPower*.2/x,T=b,$=T+($-h);break;case 31018:ee=L*a;let se=35*2.7;T=ee+se+o.attackPower*.06*5,$=T+($-h);break;case 11275:ee=T+L*a,x=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude1),b=ee+o.attackPower*.2/x,T=b,$=T+($-h);break;case 31016:ee=(+r.EffectPointsPerComboPoint1||0)*5,T=ee+o.attackPower*.03*5,$=T+($-h);break;case 20662:T+=21*35,$=T+($-h);break;case 23925:X+=o.blockValue,le+=o.blockValue;break;case 23894:T=o.attackPower*.45,$=T;break;default:V>0&&(K=V/100,I>1?(T=X,$=le,X=0,le=0):h<=1&&w<=1&&(T=0,$=0),T=(o.damage.MHbase1+P+T)*K,$=(o.damage.MHbase2+P+$)*K)}}else{if(R>0){let A=0;c?A=R*(o.spellPower.healing||0):A=R*((o.spellPower[q]||0)+(o.spellPower.damage||0)),T+=A,$+=A}if(J>0){let A=0;c?A=J*(o.spellPower.healing||0):A=J*((o.spellPower[q]||0)+(o.spellPower.damage||0)),X+=A,le+=A}}d?(x=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude1),T*=x,$*=x):y&&(x=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude2),X*=x,le*=x);let B=this.getTalentMultiplier(s,i);return T*=B,$*=B,X*=B,le*=B,{minDmg1:T,maxDmg1:$,minDmg2:X,maxDmg2:le,ticks:x}}getTalentMultiplier(r,i,o=!0){let a=1,s=this.dataService.getSpells().find(l=>+l.SPELLID===r);return i.forEach(l=>{let c=l.TOOLTIP.toLowerCase().replace(/:/g,""),u=l.SPELLNAME,d=this.dataService.getSpells().find(y=>+y.SPELLID==+l.SPELLID);if(!d||+d.RecoveryTime<=5e3){let y=c.match(/increas(?:es|ing) (?:the |your )?(?:effect of |duration |damage |healing |critical effect chance of |damage you deal with [a-z\s-]+ )?(?:by |of )?(?:your )?(?:[a-z\s,]+?by )?(\d+)\s?(%|sec|seconds)/i),h=/\brange\b/i.test(c),w=/\bcritical (strike|effect)? chance\b/i.test(c),R=/\bcritical strike damage bonus\b/i.test(c),I=+l.SPELLID==19552||+l.SPELLID==20496||+l.SPELLID==12571||+l.SPELLID==19556,M=!o&&(+l.SPELLID==15334||+l.SPELLID==12873||+l.SPELLID==28595),J=(u.startsWith("One-Handed")||u.startsWith("Two-Handed"))&&this.spellSchool[+s.School]==="physical";if(y&&s&&!h&&!w&&!R&&!I&&!M){let q=parseInt(y[1])/100;(+l.SPELLID==15334||+l.SPELLID==12873)&&(q=.15),+l.SPELLID==28595&&(q=.1),+l.SPELLID==15317&&(q=1/3),(c.includes(s.SPELLNAME.toLowerCase().replace(/:/g,""))&&r!==6064||this.spellSchool[+s.School]==="nature"&&c.includes("nature")&&!c.includes("nature's grasp")&&+l.SPELLID!=24946||this.spellSchool[+s.School]==="shadow"&&c.includes("shadow")&&+l.SPELLID!=15317||this.spellSchool[+s.School]==="fire"&&c.includes("fire")||this.spellSchool[+s.School]==="frost"&&c.includes("frost")||this.spellSchool[+s.School]==="arcane"&&c.includes("arcane")&&+l.SPELLID!=12503||this.spellSchool[+s.School]==="holy"&&c.includes("holy")&&+l.SPELLID!=15473&&+l.SPELLID!=20239&&+l.SPELLID!=20337||xE[s.SPELLTYPE]==="Heal"&&c.includes("healing")&&!c.includes("mana cost")&&+l.SPELLID!=20239||this.spellSchool[+s.School]==="physical"&&c.includes("physical")||c.includes("all")&&+l.SPELLID!=16906&&+l.SPELLID!=24946&&+l.SPELLID!=28595||s.SPELLNAME.toLowerCase()==="regrowth"&&c.includes("critical effect chance")&&l.SPELLNAME.toLowerCase()==="improved regrowth"||J)&&(a*=1+q)}}}),a}getResistTable(r,i){let o=["fire","shadow","nature","frost","arcane"],a=["No Resist","Resist 25%","Resist 50%","Resist 75%","Full Resist","Binary Resist"],s=[],l=[];return o.forEach(c=>{let d=((r[c]||0)+i)/4;d=Math.max(0,Math.min(75,d)),l.push(d);let y=15,h=Math.floor(d/y),w=h<5?(d-h*y)/y:0,R=RE.map(M=>{let J=h<5?M[h]*(1-w)+M[h+1]*w:M[5];return Math.max(0,Math.round(J*100)/100)}),I=R.reduce((M,J)=>M+J,0);Math.abs(I-100)>.01&&(R[0]+=100-I),s.push(R)}),a.map((c,u)=>c==="Binary Resist"?{label:c,fire:l[0]===100?`${l[0].toFixed(0)}%`:`${l[0].toFixed(1)}%`,shadow:l[1]===100?`${l[1].toFixed(0)}%`:`${l[1].toFixed(1)}%`,nature:l[2]===100?`${l[2].toFixed(0)}%`:`${l[2].toFixed(1)}%`,frost:l[3]===100?`${l[3].toFixed(0)}%`:`${l[3].toFixed(1)}%`,arcane:l[4]===100?`${l[4].toFixed(0)}%`:`${l[4].toFixed(1)}%`}:{label:c,fire:s[0][u]===100?`${s[0][u].toFixed(0)}%`:`${s[0][u].toFixed(1)}%`,shadow:s[1][u]===100?`${s[1][u].toFixed(0)}%`:`${s[1][u].toFixed(1)}%`,nature:s[2][u]===100?`${s[2][u].toFixed(0)}%`:`${s[2][u].toFixed(1)}%`,frost:s[3][u]===100?`${s[3][u].toFixed(0)}%`:`${s[3][u].toFixed(1)}%`,arcane:s[4][u]===100?`${s[4][u].toFixed(0)}%`:`${s[4][u].toFixed(1)}%`})}getCombatTable(r,i,o){let s=i.critChance||0,l=200;o==="spell"&&(s=i.spellCritChance||0,l=150);let c=5,u=Qt[r.CLASSID]?.[r.SPEC]?.role==="tank"?14:0,d=5,y=i.damage.MHskill||300;o==="ranged"?(y=i.damage.Rskill||300,l=230):r&&(+r.CLASSID==4||+r.CLASSID==3&&+r.SPEC!=1)?l=200:r&&+r.CLASSID==7&&+r.SPEC!=2&&(l=220);let h=Math.max(0,315-y);h>10?d+=h*.2:d+=h*.1,c+=h*.1;let w,R=100;switch(h>5&&(R-=(h-5)*3),o){case"dual-wield":d=d*.8+20-i.hitChance,w=40;break;case"melee":d=Math.max(0,d-i.hitChance),w=40;break;case"ranged":d=Math.max(0,d-i.hitChance),w=0,c=0;break;case"spell":d=Math.max(0,17-i.spellHitChance),Qt[r.CLASSID]?.[r.SPEC]?.role==="heal"&&(d=0),s*=(100-d)/100,w=0,c=0;break;default:d=8,w=40}o!=="spell"&&(s=Math.max(s-4.8,0));let I=100-d-c-u-w-s;return[{label:"Miss",value:`${d.toFixed(2)}%`,damage:"0%"},{label:"Dodge",value:`${c.toFixed(2)}%`,damage:"0%"},{label:"Parry",value:`${u.toFixed(2)}%`,damage:"0%"},{label:"Glancing",value:`${w.toFixed(2)}%`,damage:`${R.toFixed(0)}%`},{label:"Crit",value:`${s.toFixed(2)}%`,damage:`${l.toFixed(0)}%`},{label:"Hit",value:`${Math.max(I,0).toFixed(2)}%`,damage:"100%"}].filter(M=>parseFloat(M.value)>0)}};n.\u0275fac=function(i){return new(i||n)(U(It))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var pn=(()=>{let n=class n{constructor(r){this.dataService=r}getClassName(r=7){return{0:"Druid",1:"Priest",2:"Paladin",3:"Mage",4:"Warlock",5:"Hunter",6:"Rogue",7:"Warrior"}[r]||"warrior"}getColor(r){return{0:"#FF7D0A",1:"#FFFFFF",2:"#F58CBA",3:"#69CCF0",4:"#9482C9",5:"#ABD473",6:"#FFF569",7:"#C79C6E"}[r]||"gray"}getRaceName(r){let i=er.find(o=>o.RACEID===r);return i?i.RACE.replace(" ",""):"human"}getTalentName(r,i){return!r||!r.CLASSID||r.CLASSID==null||i==null?"":Qt[r.CLASSID]?.[i].name??""}getTalentIcon(r,i){return!r||!r.CLASSID||r.CLASSID==null?"default":Qt[r.CLASSID]?.[i].icon??""}getRoleIcon(r,i){return"assets/icons/role_"+this.getRole(r,i)+"2.png"}getRole(r,i){return Qt[r][i].role}getSlotName(r){let i=Ui.find(o=>o.slot===r);return i?i.name:`Slot ${r}`}getSlotSide(r){let i=Ui.find(o=>o.slot===r);return i?i.side:"left"}getItemIcon(r){let i=this.dataService.getItemsMap().get(r);return i?`/assets/icons/${i.icon_name}.jpg`:"/assets/icons/default.jpg"}getItemTooltip(r,i){let o=this.dataService.getItemsMap().get(r);return o?o.tooltip?o.tooltip:i?`Name: ${o.name||"Unknown"}
Slot: ${this.getSlotName(i.find(a=>a.dbId===r)?.slot||0)}
DB_ID: ${r}
DISP_ID: ${o.disp_id}
EQ_TYPE: ${o.eq_type}`:`Name: ${o.name||"Unknown"}`:`Unknown Item (DB_ID: ${r})`}isPhysicalDps(r,i){return[5,6,7].includes(r)||r===2&&i===2||r===0&&i===1}};n.\u0275fac=function(i){return new(i||n)(U(It))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var ds=(()=>{let n=class n{constructor(r,i,o){this.dataService=r,this.statsService=i,this.utilityService=o}getFilteredInventoryItems(r,i,o,a){if(!i)return[];if(o==="equipment")return a.find(c=>c.slot===r)?.dbIds.filter(c=>{let u=this.dataService.getItemsMap().get(c);return u?u.eq_type===r&&![11,12,13,14,22].includes(r)||r===5&&u.eq_type===20||r===21&&[13,17,21].includes(u.eq_type)||r===22&&([14,23].includes(u.eq_type)||[13,22].includes(u.eq_type)&&[5,6,7].includes(+i.CLASSID))||r===26&&u.eq_type===28||[11,12].includes(r)&&u.eq_type===11||[13,14].includes(r)&&u.eq_type===12:!1})||[];let s=1<<+i.CLASSID,l=Array.from(this.dataService.getItemsMap().keys()).filter(c=>{let u=this.dataService.getItemsMap().get(c);if(!u||!u.class_mask||!u.source||isNaN(+u.class_mask))return!1;let d=(+u.class_mask&s)!==0,y=u.eq_type===r&&![11,12,13,14,22].includes(r)||r===5&&u.eq_type===20||r===21&&[13,17,21].includes(u.eq_type)||r===22&&([14,23].includes(u.eq_type)||[13,22].includes(u.eq_type)&&[5,6,7].includes(+i.CLASSID))||r===26&&u.eq_type===28||[11,12].includes(r)&&u.eq_type===11||[13,14].includes(r)&&u.eq_type===12;return o==="crafted"?d&&u.source==="Crafted"&&y:o==="mcquest"?d&&["MC","QUEST"].includes(u.source)&&y:o==="dungeon"?d&&["Dungeon"].includes(u.source)&&y:!1});return l=l.sort((c,u)=>{let d=this.dataService.getItemsMap().get(c),y=this.dataService.getItemsMap().get(u);return y.bis!==d.bis?(y.bis??0)-(d.bis??0):(y.item_level??0)-(d.item_level??0)}).slice(0,18),l}isItemOwned(r,i,o){return i.some(a=>a.dbIds.includes(r))||o.some(a=>a.dbId===r)}canAffordItem(r,i){let o=this.dataService.getItemsMap().get(r);if(!o)return!1;let a=parseInt(o.fiery_core)||0,s=parseInt(o.lava_core)||0;return i.fieryCores>=a&&i.lavaCores>=s}buyItem(r,i,o,a,s,l){let c=this.dataService.getItemsMap().get(r);if(!c||this.isItemOwned(r,s,[])||!this.canAffordItem(r,a))return;let u=parseInt(c.fiery_core)||0,d=parseInt(c.lava_core)||0;a.fieryCores-=u,a.lavaCores-=d;let h={17:21,21:21,14:22,23:22,13:23,12:13,20:5}[c.eq_type]??c.eq_type;if(({23:[21,22],13:[13,14],11:[11,12]}[h]||[h]).forEach(I=>{let M=s.find(J=>J.slot===I);M||(M={slot:I,dbIds:[]},s.push(M)),M.dbIds.push(r)}),o!==-1){let I=l[o].INVENTORY?l[o].INVENTORY.split(";").map(M=>+M.trim()):[];I.push(r),l[o].INVENTORY=I.join(";")}}swapItem(r,i,o,a,s,l,c){if(!o)return;let u=s.findIndex(h=>h.slot===r);if(u===-1)return;let d=r,y=i?this.dataService.getItemsMap().get(i):null;try{if(i===null)s[u].dbId=-1,c&&(l[a][`SLOT_${r}`]="");else{if(s[u].dbId=i,c&&(l[a][`SLOT_${r}`]=i.toString()),y&&y.eq_type===17){let h=s.findIndex(w=>w.slot===22);h!==-1&&s[h].dbId!==-1&&(s[h].dbId=-1,c&&(l[a].SLOT_22=""))}if(d===22){let h=s.findIndex(w=>w.slot===21);if(h!==-1){let w=this.dataService.getItemsMap().get(s[h].dbId);w&&w.eq_type===17&&(s[h].dbId=-1,c&&(l[a].SLOT_21=""))}}}}catch(h){console.error(`Error updating model viewer for slot ${r}:`,h)}}optimizeGear(r){r.forEach((i,o)=>{let a=Number(i.CLASSID),s=Number(i.SPEC),l=i.INVENTORY||"",c=this.utilityService.getRole(a,s),u=l?l.split(";").map(Number).filter(E=>this.dataService.getItemsMap().get(E)):[],d=new Map;u.forEach(E=>{let P=this.dataService.getItemsMap().get(E);if(P?.eq_type){let T=this.statsService.calculateItemWeight(P,a,s);c==="tank"&&P.eq_type===14&&(T*=1e4),d.has(P.eq_type)||d.set(P.eq_type,[]),d.get(P.eq_type).push({id:E,weight:T})}}),d.forEach(E=>E.sort((P,T)=>T.weight-P.weight));let y=E=>{let P=null;return E.forEach(T=>{let $=d.get(T)?.[0];$&&(!P||$.weight>P.weight)&&(P=$)}),P},h=E=>E.flatMap(T=>d.get(T)||[]).sort((T,$)=>$.weight-T.weight).slice(0,2);[1,2,3,6,7,8,9,10,16,26].forEach(E=>{let P=d.get(E)?.[0];P&&(i[`SLOT_${E}`]=P.id.toString())});let R=y([5,20]);if(R&&(i.SLOT_5=R.id.toString()),(d.get(11)?.slice(0,2)||[]).forEach((E,P)=>{i[`SLOT_${11+P}`]=E.id.toString()}),(d.get(12)?.slice(0,2)||[]).forEach((E,P)=>{i[`SLOT_${13+P}`]=E.id.toString()}),a===0||a===2){let E=d.get(28)?.[0];E&&(i.SLOT_26=E.id.toString())}else{let E=d.get(26)?.[0];E&&(i.SLOT_26=E.id.toString())}let J=h([13,21]),L=h(a===5||a===6||a===7?[13,14,22]:[14,23]),V=J[0]||null,_=L[0]||null;if(V&&_&&V.id===_.id&&L.length>1&&(_=L[1]),V&&(i.SLOT_21=V.id.toString()),_&&(i.SLOT_22=_.id.toString()),!(a===2&&s===1||a===7&&(s===1||s===2)||a===6)){let E=d.get(17)?.[0];if(E&&V&&_){let P=V.weight+_.weight;E.weight>P&&(i.SLOT_21=E.id.toString(),i.SLOT_22="")}}})}getEquippedItemsForPlayer(r,i){let o=i[r];return Ui.map(a=>({slot:a.slot,dbId:Number(o[`SLOT_${a.slot}`])||-1}))}};n.\u0275fac=function(i){return new(i||n)(U(It),U(tr),U(pn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var pd=(()=>{let n=class n{constructor(r,i,o,a){this.statsService=r,this.dataService=i,this.utilityService=o,this.gearService=a,this.statWeights=[],this.tankClasses=new Set([0,2,7]),this.healerClasses=new Set([0,1,2]),this.guildWeek=1,this.dungeonAssignments=[],this.dungeonProgress={week:0,attempts:0}}getGuildWeek(){return this.dataService.getGuildWeek()}setGuildWeek(r){this.dataService.setGuildWeek(r)}getDungeonAssignments(){return this.dataService.getDungeonAssignments()}setDungeonAssignments(r){this.dataService.setDungeonAssignments(r)}getDungeonProgress(){return this.dataService.getDungeonProgress()}setDungeonProgress(r){this.dataService.setDungeonProgress(r)}getDungeonSummary(r){return r.startsWith("Dire")?hn["Dire Maul"]+(hn[r]||"")+hn["Dire Maul Conclusion"]:r.endsWith("Stratholme")?hn.Stratholme+(hn[r]||"")+hn["Stratholme Conclusion"]:r.endsWith("Spire")?hn["Blackrock Spire"]+(hn[r]||"")+hn["Blackrock Spire Conclusion"]:hn[r]?hn[r]:"No summary available"}getDungeonImage(r){return r==="Blackrock Depths"?"/assets/images/Blackrock_Depths_loading_screen.jpg":["Upper Blackrock Spire","Lower Blackrock Spire"].includes(r)?"/assets/images/Blackrock_Spire_loading_screen.jpg":["Dire Maul East","Dire Maul West","Dire Maul North","Dire Maul Tribute"].includes(r)?"/assets/images/Dire_Maul_loading_screen.jpg":r==="Scholomance"?"/assets/images/Scholomance_old_loading_screen.jpg":["Live Stratholme","Undead Stratholme"].includes(r)?"/assets/images/Stratholme_loading_screen.jpg":r==="Sunken Temple"?"/assets/images/Temple_of_Atal'Hakkar_loading_screen.jpg":r==="Maraudon"?"/assets/images/Maraudon_loading_screen.jpg":"/assets/images/Molten_Core_loading_screen.jpg"}getDungeonLevel(r){let i=this.dataService.getDungeonBosses().filter(l=>l.DUNGEON===r);if(!i.length)return"(?)";let o=i.map(l=>Number(l.LEVEL)),a=Math.min(...o),s=Math.max(...o);return a===s?`(${a})`:`(${a} - ${s})`}isDungeonAvailable(r,i){if(!i)return!0;let o=this.dataService.getDungeonUnlocks().find(s=>s.UNLOCK===i),a=o?o.NPC_ID:null;return a?this.getBossKills(r,+a)>=1:!0}isDungeonAvailableForGroup(r,i){if(r.length===0)return!1;let o=this.dataService.getDungeonUnlocks().find(s=>s.UNLOCK===i),a=o?o.NPC_ID:null;return r.every(s=>a?this.getBossKills(s,+a)>=1:!0)}getBossKills(r,i){if(!r.DUNGEON_EXP)return 0;let o=new Map;return r.DUNGEON_EXP.split(";").forEach(a=>{if(a){let[s,l]=a.split(":"),c=parseInt(s,10),u=parseInt(l,10);!isNaN(c)&&!isNaN(u)&&o.set(c,u)}}),o.get(i)||0}getCompositionPenalty(r,i){let d=ld[r];if(!d)return 0;let y=q=>{let[L,V]=q.split(":");return{role:L,className:V}},h=d.map(q=>{let L=(Array.isArray(q)?q:[q]).map(y),V=L[0].role,_=Array.from(new Set(L.map(m=>m.className)));return{alts:L,role:V,classes:_}}),w=i.map(q=>({role:this.utilityService.getRole(+q.CLASSID,+q.SPEC),classId:+q.CLASSID,className:this.utilityService.getClassName(q.CLASSID)})),R=0,I=new Set;h.forEach(q=>{let L=w.findIndex((V,_)=>!I.has(_)&&q.alts.some(m=>m.role===V.role&&m.className===V.className));L>=0&&(I.add(L),q.matched=!0)}),h.forEach(q=>{if(!q.matched){if(q.role==="heal"){let L=w.findIndex((_,m)=>!I.has(m)&&this.healerClasses.has(_.classId)),V=w.findIndex((_,m)=>!I.has(m)&&this.healerClasses.has(_.classId)&&_.role==="heal");V>=0?(I.add(V),q.matched=!0):L>=0?(R+=2,I.add(L),q.matched=!0):R+=5}else if(q.role==="tank"){let L=w.findIndex((_,m)=>!I.has(m)&&this.tankClasses.has(_.classId)),V=w.findIndex((_,m)=>!I.has(m)&&this.tankClasses.has(_.classId)&&_.role==="tank");V>=0?(I.add(V),q.matched=!0):L>=0?(R+=3,I.add(L),q.matched=!0):R+=7}}});let M=h.filter(q=>!q.matched&&q.role==="damage").length;M>0&&(R+=M*0);let J=new Map;return w.forEach(q=>J.set(q.className,1+(J.get(q.className)??0))),h.forEach(q=>{q.classes.some(V=>J.has(V))||(R+=2)}),R}simulateDungeonRun(r,i,o,a,s){let l=[];o[r].bosses=[];let c=o[r].players.flat().filter(L=>L),u=c.map(L=>a.findIndex(V=>V.NAME===L.NAME)),d=u.map(L=>this.statsService.getPlayerGearScore(a,L)),y=o[r].penalty,h=this.dataService.getDungeonBosses().filter(L=>L.DUNGEON===i).sort((L,V)=>L.ORDER-V.ORDER),w=!1,R=0,I=s.gold,M=Math.floor(Math.random()*6)+9027;for(let L of h){if([9027,9028,9029,9030,9031,9032].includes(+L.NPC_ID)){if(+L.NPC_ID!==M)continue}else if(+L.SPAWN<1&&Math.random()>+L.SPAWN)continue;let V=0,_="";for(;!w;){let m=u.map($=>Math.min(this.getBossKills(a[$],+L.NPC_ID),5)),E=u.map(($,X)=>d[X]+m[X]),P=E.reduce(($,X)=>$+X,0)/E.length,T=this.successRate(P-y,+L.LEVEL);if(Math.random()<T){if(u.forEach(($,X)=>{let le=a[$],x=new Map;le.DUNGEON_EXP&&le.DUNGEON_EXP.split(";").forEach(b=>{if(b){let[B,A]=b.split(":");x.set(parseInt(B,10),parseInt(A,10))}}),m[X]===0&&this.dataService.getDungeonQuests().forEach(b=>{if(+b.NPC_ID==+L.NPC_ID&&Number(b.CLASS_MASK)&1<<Number(le.CLASSID)){let A=(le.INVENTORY||"").split(";").filter(K=>K),ee=!1;for(let K=0;K<=5;K++){let se=`ITEM_${K}`,Z=b[se];if(Z){let Ie=this.dataService.getItemsMap().get(+Z);Ie&&Number(Ie.class_mask)&1<<Number(le.CLASSID)&&(ee=!0,A.push(Z.toString()),l.push({itemId:Number(Z),playerName:le.NAME,playerClass:le.CLASSID}))}}ee&&(a[$].INVENTORY=A.join(";"))}}),x.set(L.NPC_ID,m[X]+1),le.DUNGEON_EXP=Array.from(x.entries()).map(([b,B])=>`${b}:${B}`).join(";")}),_+="\u2713",o[r].bosses.push({bossName:L.NAME,results:_}),+L.LOOT==1){let $=this.dataService.getDungeonDrops().filter(X=>X.NPC_ID===L.NPC_ID);for(let X of $)if(Math.random()<+X.DROP_PCT){let le=this.dataService.getItemsMap().get(+X.DB_ID);if(!le)continue;+X.DB_ID==22397&&console.log("idol of ferocity dropped");let x=c.filter(A=>(Number(le.class_mask)&1<<Number(A.CLASSID))!==0?!new Set((A.INVENTORY||"").split(";").filter(se=>se)).has(X.DB_ID.toString()):!1);if(x.length===0){s.gold+=Number(X.VALUE);continue}let b=[],B=new Map;for(let A of x){let ee=u.find(ce=>a[ce].NAME===A.NAME),K=this.statsService.calculateItemWeight(le,Number(A.CLASSID),Number(A.SPEC)),Z=this.gearService.getEquippedItemsForPlayer(ee,a).filter(ce=>ce.dbId!==-1&&this.dataService.getItemsMap().get(ce.dbId)?.eq_type===le.eq_type).map(ce=>ce.dbId),Ie=a[ee].INVENTORY||"",Ke=Ie?Ie.split(";").map(Number).filter(ce=>this.dataService.getItemsMap().get(ce)?.eq_type===le.eq_type):[],nt=[...new Set([...Z,...Ke])],st=0;nt.forEach(ce=>{let be=this.dataService.getItemsMap().get(ce);if(be){let Ue=this.statsService.calculateItemWeight(be,Number(A.CLASSID),Number(A.SPEC));st=Math.max(st,Ue)}}),B.set(A.NAME,st),K>st&&b.push({player:A,playerIndex:ee,improvement:K-st})}if(b.length>0){let A=b.filter(Ie=>this.matchRole(Number(Ie.player.CLASSID),Number(Ie.player.SPEC),le.role||"")),ee=A.length>0?A:b,K=ee[Math.floor(Math.random()*ee.length)],Z=(a[K.playerIndex].INVENTORY||"").split(";").filter(Ie=>Ie);Z.includes(X.DB_ID.toString())?s.gold+=Number(X.VALUE):(Z.push(X.DB_ID.toString()),a[K.playerIndex].INVENTORY=Z.join(";"),l.push({itemId:X.DB_ID,playerName:K.player.NAME,playerClass:Number(K.player.CLASSID)}))}else{let A=[];for(let ee of x){let K=u.find(Ie=>a[Ie].NAME===ee.NAME),se=this.statsService.calculateItemWeight(le,Number(ee.CLASSID),Number(ee.SPEC)),Z=B.get(ee.NAME)??0;se>Z*.9&&A.push({player:ee,playerIndex:K})}if(A.length>0){let ee=A[Math.floor(Math.random()*A.length)],se=(a[ee.playerIndex].INVENTORY||"").split(";").filter(Z=>Z);se.includes(X.DB_ID.toString())?s.gold+=Number(X.VALUE):(se.push(X.DB_ID.toString()),a[ee.playerIndex].INVENTORY=se.join(";"),l.push({itemId:X.DB_ID,playerName:ee.player.NAME,playerClass:Number(ee.player.CLASSID)}))}else s.gold+=Number(X.VALUE)}}}break}else if(_+="X",V++,R++,Math.random()<R*.05){w=!0,o[r].bosses.push({bossName:L.NAME,results:_});break}}}let J=o[r].bosses.filter(L=>L.results.endsWith("\u2713")).length,q=o[r].bosses.length;return o[r].progress=w?`Abandoned after ${q-1} boss(es)`:`Completed ${J} / ${q} bosses`,i==="Upper Blackrock Spire"?!w&&s.gold-I<50&&(s.gold=I+50):!w&&s.gold-I<25&&(s.gold=I+25),l}successRate(r,i){let o=r-i,a=Math.max(-8,Math.min(8,o)),s=Math.log(1e3)/8;return 1/(1+Math.exp(-s*a))}matchRole(r,i,o){let a=this.utilityService.getRole(r,i);return!!(a==="tank"&&o.toUpperCase()==="TANK"||a==="heal"&&o.toUpperCase()==="HEAL"||a==="damage"&&(o.toUpperCase()==="PHYS"&&this.utilityService.isPhysicalDps(r,i)||o.toUpperCase()==="MAGI"&&!this.utilityService.isPhysicalDps(r,i)))}};n.\u0275fac=function(i){return new(i||n)(U(tr),U(It),U(pn),U(ds))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var UP=()=>({"margin-right.px":20}),$P=()=>({"margin-left.px":50}),GP=t=>({"active-slot":t});function zP(t,n){if(t&1){let e=pe();vr(0),g(1,"button",9),z("click",function(){j(e);let i=S().$implicit,o=S(3);return H(o.handlePlayerClick(i))}),g(2,"div",17),v(3),f(),v(4),f(),Y(5,"img",18),yr()}if(t&2){let e=S().$implicit,r=S(3);p(),C("ngStyle",r.getCellStyle(e)),p(2),ne(" ",r.getGearScore(e.NAME).toFixed(1)," "),p(),ne(" ",e.NAME," "),p(),C("src","assets/icons/role_"+r.utilityService.getRole(e.CLASSID,e.SPEC)+"2.png",Ne)}}function WP(t,n){if(t&1&&(g(0,"td",16),k(1,zP,6,4,"ng-container",4),f()),t&2){let e=n.$implicit;p(),C("ngIf",e)}}function qP(t,n){if(t&1&&(g(0,"tr"),k(1,WP,2,1,"td",15),f()),t&2){let e=n.$implicit;p(),C("ngForOf",e)}}function YP(t,n){if(t&1&&(g(0,"div")(1,"table"),k(2,qP,2,1,"tr",14),f()()),t&2){let e=S();p(2),C("ngForOf",e.grid)}}function KP(t,n){if(t&1&&(g(0,"option",27),v(1),f()),t&2){let e=n.$implicit;C("ngValue",e),p(),ne(" ",e," ")}}function ZP(t,n){if(t&1){let e=pe();g(0,"button",28),z("click",function(){j(e);let i=S(2);return H(i.addDungeonRowClicked())}),v(1," Add Dungeon "),f()}}function QP(t,n){if(t&1&&(g(0,"div",30),v(1),f()),t&2){let e=n.$implicit,r=S(3);p(),qn(" ",e.bossName," (",r.getBossLevel(e.bossName),"): ",e.results," ")}}function XP(t,n){if(t&1&&(g(0,"details")(1,"summary"),v(2),f(),k(3,QP,2,3,"div",29),f()),t&2){let e=S().index,r=S();p(2),Q(r.dungeonAssignments[e].progress),p(),C("ngForOf",r.dungeonAssignments[e].bosses)}}function JP(t,n){if(t&1&&(g(0,"div",30),v(1),f()),t&2){let e=n.$implicit;p(),ne(" ",e," ")}}function eA(t,n){if(t&1&&(g(0,"details")(1,"summary"),v(2),f(),k(3,JP,2,1,"div",29),f()),t&2){let e=S().index,r=S();p(2),ne("Composition Penalty: -",r.dungeonAssignments[e].penalty),p(),C("ngForOf",r.dungeonCompositions[r.dungeonAssignments[e].dungeon||""])}}function tA(t,n){if(t&1&&Y(0,"img",18),t&2){let e=S().$implicit,r=S(3);C("src","assets/icons/role_"+r.utilityService.getRole(e.CLASSID,e.SPEC)+"2.png",Ne)}}function nA(t,n){if(t&1&&(g(0,"div",37)(1,"div",38),v(2),f(),g(3,"div",39),v(4),f()()),t&2){let e=S().$implicit,r=S(3);p(),Lo("color",r.getColor(e.CLASSID)),p(),ne(" ",e.NAME," "),p(2),aa(" ",r.getClassName(e.CLASSID)," ",r.getGearScore(e.NAME).toFixed(1)," ")}}function rA(t,n){if(t&1&&(g(0,"span"),v(1),f()),t&2){let e=S().index;p(),ne("Slot ",e+1)}}function iA(t,n){if(t&1){let e=pe();g(0,"div",33)(1,"button",34),z("click",function(){let i=j(e).index,o=S().index,a=S().index,s=S();return H(s.setActiveSlotClicked(a,o,i))}),k(2,tA,1,1,"img",35)(3,nA,5,5,"div",36)(4,rA,2,1,"span",4),f()()}if(t&2){let e=n.$implicit,r=n.index,i=S().index,o=S().index,a=S();p(),C("ngClass",vt(4,GP,a.activeSlot&&a.activeSlot.group===o&&a.activeSlot.row===i&&a.activeSlot.slot===r)),p(),C("ngIf",e),p(),C("ngIf",e),p(),C("ngIf",!e)}}function oA(t,n){if(t&1&&(g(0,"div",31),k(1,iA,5,6,"div",32),f()),t&2){let e=n.$implicit;p(),C("ngForOf",e)}}function sA(t,n){if(t&1){let e=pe();g(0,"div",19)(1,"div",20)(2,"select",21),Pt("ngModelChange",function(i){let o=j(e).index,a=S();return jt(a.dungeonAssignments[o].dungeon,i)||(a.dungeonAssignments[o].dungeon=i),H(i)}),z("change",function(){let i=j(e).index,o=S();return H(o.onDungeonChange(i))}),g(3,"option",22),v(4,"Select Dungeon"),f(),k(5,KP,2,2,"option",23),f(),g(6,"span",24),v(7),f(),k(8,ZP,2,0,"button",25),f(),k(9,XP,4,2,"details",4)(10,eA,4,2,"details",4)(11,oA,2,1,"div",26),f()}if(t&2){let e=n.$implicit,r=n.index,i=S();p(2),Rt("ngModel",i.dungeonAssignments[r].dungeon),p(),C("ngValue",null),p(2),C("ngForOf",i.dataService.getUniqueDungeons()),p(2),Q(i.getDungeonLevel(i.dungeonAssignments[r].dungeon||"")),p(),C("ngIf",r===i.dungeonAssignments.length-1&&e.dungeon),p(),C("ngIf",i.dungeonAssignments[r].progress),p(),C("ngIf",i.dungeonAssignments[r].penalty>0),p(),C("ngForOf",e.players)}}function aA(t,n){if(t&1&&(g(0,"tr")(1,"td",42),Y(2,"img",43),f(),g(3,"td",44)(4,"span"),v(5),f()(),g(6,"td",45),Y(7,"div",46),f()()),t&2){let e=n.$implicit,r=S(2);p(2),C("src",r.getItemIcon(+e.itemId),Ne),p(2),Lo("color",r.getColor(e.playerClass)),p(),Q(e.playerName),p(),C("innerHTML",r.utilityService.getItemTooltip(+e.itemId,null),bt),p(),C("innerHTML",r.utilityService.getItemTooltip(+e.itemId,null),bt)}}function lA(t,n){if(t&1&&(g(0,"div",40)(1,"h2"),v(2,"Dungeon Loot"),f(),g(3,"table",41),k(4,aA,8,6,"tr",14),f()()),t&2){let e=S();p(4),C("ngForOf",e.dungeonUpgrades)}}function cA(t,n){if(t&1&&(g(0,"details",47)(1,"summary"),v(2),f(),g(3,"div",48),Y(4,"img",49),g(5,"div",50),Y(6,"p",51),f()()()),t&2){let e=n.$implicit,r=S();p(2),Q(e),p(2),C("alt",$p("",e," background"))("src",r.getDungeonImage(e),Ne),p(2),C("innerHTML",r.getDungeonSummary(e),bt)}}function uA(t,n){if(t&1&&(g(0,"li"),v(1),f()),t&2){let e=n.$implicit;p(),ne(" ",e.NAME," ")}}function dA(t,n){if(t&1&&(g(0,"details")(1,"summary"),v(2),f(),g(3,"ul"),k(4,uA,2,1,"li",14),f()()),t&2){let e=S().$implicit,r=S();p(2),ne("Missing Unlock (",r.getLockedPlayers(e).length,")"),p(2),C("ngForOf",r.getLockedPlayers(e))}}function fA(t,n){if(t&1&&(g(0,"div",47)(1,"strong"),v(2),f(),v(3),k(4,dA,5,2,"details",4),f()),t&2){let e=n.$implicit,r=S();p(2),Q(e.UNLOCK),p(),qn(": ",r.getUnlockedPlayerCount(e),"/",r.players.length," - Kill: ",r.getBossName(+e.NPC_ID)||"NPC ID "+e.NPC_ID," "),p(),C("ngIf",r.getLockedPlayers(e).length>0)}}var fs=(()=>{let n=class n{constructor(r,i,o,a){this.dungeonService=r,this.utilityService=i,this.dataService=o,this.statsService=a,this.grid=[],this.players=[],this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.playerGearScores=new Map,this.dungeonCompositions=ld,this.dungeonUpgrades=[],this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}],this.guildWeek=1,this.dungeonProgress={week:this.guildWeek,attempts:0},this.activeSlot=null}calcAllGearScores(){this.playerGearScores.clear(),this.players.forEach((r,i)=>{let o=this.statsService.getPlayerGearScore(this.players,i);this.playerGearScores.set(r.NAME,o)})}syncDataFromService(){this.dungeonAssignments=this.dungeonService.getDungeonAssignments(),this.dungeonProgress=this.dungeonService.getDungeonProgress(),this.guildWeek=this.dungeonService.getGuildWeek(),this.calcAllGearScores()}syncDataToService(){this.dungeonService.setDungeonAssignments(this.dungeonAssignments),this.dungeonService.setDungeonProgress(this.dungeonProgress||{week:this.guildWeek,attempts:0}),this.dungeonService.setGuildWeek(this.guildWeek)}getGearScore(r){return this.playerGearScores.get(r)??0}getDungeonImage(r){return this.dungeonService.getDungeonImage(r)}getDungeonSummary(r){return this.dungeonService.getDungeonSummary(r)}getDungeonLevel(r){return this.dungeonService.getDungeonLevel(r)}getCompositionPenalty(r,i){return this.dungeonService.getCompositionPenalty(r,i)}getBossName(r){let i=this.dataService.getDungeonBosses().find(o=>+o.NPC_ID===r);return i?i.NAME:null}getBossLevel(r){let i=this.dataService.getDungeonBosses().find(o=>o.NAME===r);return i?i.LEVEL:null}getDungeonUnlocks(){return this.dataService.getDungeonUnlocks()}getUnlockedPlayerCount(r){return r.NPC_ID?this.players.filter(i=>this.dungeonService.getBossKills(i,+r.NPC_ID)>=1).length:this.players.length}getLockedPlayers(r){return r.NPC_ID?this.players.filter(i=>this.dungeonService.getBossKills(i,+r.NPC_ID)<1):[]}getLockedPlayersNames(r){return this.getLockedPlayers(r).map(i=>i.NAME).join(", ")}isDungeonAvailableForGroup(r,i){let o=this.dungeonAssignments[r].players.flat().filter(a=>a);return this.dungeonService.isDungeonAvailableForGroup(o,i)}isRunDungeonDisabled(){return!!(!this.dungeonAssignments.some(r=>r.dungeon!==null)||this.dungeonProgress&&this.dungeonProgress.attempts>=10)}getCellStyle(r){if(!r)return{"background-color":"#d3d3d3",color:"black"};let i=this.dungeonAssignments.some(s=>s.players.some(l=>l.some(c=>c&&c.NAME===r.NAME))),o=this.activeSlot&&!this.dungeonService.isDungeonAvailable(r,this.activeSlot?this.dungeonAssignments[this.activeSlot.group]?.dungeon:null);return{"background-color":this.activeSlot&&(i||o)?"#d3d3d3":this.utilityService.getColor(r.CLASSID),color:"black",border:this.activeSlot&&this.activeSlot.group===r.GROUP&&this.activeSlot.slot===r.POSITION?"2px solid red":"1px solid black"}}getRoleIcon(r,i){return this.utilityService.getRoleIcon?.(r,i)||`/assets/icons/role-${r}.png`}getItemIcon(r){return this.utilityService.getItemIcon?.(r)||`/assets/icons/item-${r}.png`}getItemTooltip(r,i){return this.utilityService.getItemTooltip?.(r,i)||`Item ID: ${r}`}onDungeonChange(r){let i=this.dungeonAssignments[r].dungeon;i==="Upper Blackrock Spire"?this.dungeonAssignments[r].players=[Array(5).fill(null),Array(5).fill(null)]:this.isDungeonAvailableForGroup(r,i||"")||(this.dungeonAssignments[r].players=[Array(5).fill(null)]),this.dungeonAssignments[r].bosses=[],this.dungeonAssignments[r].progress="",this.dungeonAssignments[r].penalty=0,this.updateGroupPenalty(r)}addDungeonRowClicked(){this.addDungeonRow()}addDungeonRow(){this.dungeonAssignments.push({dungeon:null,players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0})}runDungeonsClicked(){this.runDungeons()}runDungeons(){this.dungeonUpgrades=[];for(let r=0;r<this.dungeonAssignments.length;r++){let i=this.dungeonAssignments[r],o=i.players.flat().every(s=>s!==null),a=Number(this.dungeonProgress?.attempts||0);(a<10&&i.dungeon!=="Upper Blackrock Spire"||a<9)&&i.dungeon&&o&&this.isDungeonAvailableForGroup(r,i.dungeon)&&this.simulateDungeonRun(r,i.dungeon)}this.calcAllGearScores(),this.savePlayersToStorage(),this.saveBankToStorage(),this.saveAssignmentsToStorage(),this.syncDataToService()}simulateDungeonRun(r,i){let o=this.dungeonService.simulateDungeonRun(r,i,this.dungeonAssignments,this.players,this.guildBank);this.dungeonUpgrades.push(...o),this.updateDungeonProgress(!0),i==="Upper Blackrock Spire"&&this.updateDungeonProgress(!0)}updateDungeonProgress(r=!0){r?this.dungeonProgress&&this.dungeonProgress.attempts++:this.dungeonProgress={week:this.guildWeek,attempts:0};try{localStorage.setItem("dungeonProgress",JSON.stringify(this.dungeonProgress))}catch(i){console.error("Error saving dungeonProgress to localStorage:",i)}}clearAssignmentsClicked(){this.clearAssignments()}clearAssignments(){this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}],this.dungeonUpgrades=[]}setActiveSlotClicked(r,i,o){this.setActiveSlot(r,i,o)}setActiveSlot(r,i,o){this.activeSlot&&this.activeSlot.group===r&&this.activeSlot.row===i&&this.activeSlot.slot===o?this.activeSlot=null:this.activeSlot={group:r,row:i,slot:o}}handlePlayerClick(r){this.activeSlot&&this.assignPlayerToSlot(r,this.activeSlot.group,this.activeSlot.row,this.activeSlot.slot)}assignPlayerToSlot(r,i,o,a){!this.dungeonAssignments.some(l=>l.players.some(c=>c.some(u=>u&&u.NAME===r.NAME)))&&this.dungeonService.isDungeonAvailable(r,this.dungeonAssignments[i].dungeon)&&(this.dungeonAssignments[i].players[o][a]=r,this.activeSlot=null,this.updateGroupPenalty(i))}updateGroupPenalty(r){let o=this.dungeonAssignments[r].players.flat().every(a=>a!==null);if(console.log("dungeon filled:",o),o&&this.dungeonAssignments[r].dungeon){console.log("checking dungeon");let a=this.dungeonAssignments[r].players.flat().filter(s=>s);this.dungeonAssignments[r].penalty=this.getCompositionPenalty(this.dungeonAssignments[r].dungeon,a)}}nextWeekClicked(){this.nextWeek()}nextWeek(){this.guildWeek++,localStorage.setItem("guildWeek",this.guildWeek.toString()),this.updateDungeonProgress(!1)}getColor(r){return this.utilityService.getColor(r)}getClassName(r){return this.utilityService.getClassName(r)}saveAssignmentsToStorage(){this.dataService.saveVariableToStorage("dungeonAssignment",this.dungeonAssignments)}savePlayersToStorage(){this.dataService.saveVariableToStorage("players",this.players)}saveBankToStorage(){this.dataService.saveVariableToStorage("guildBank",this.guildBank)}};n.\u0275fac=function(i){return new(i||n)(W(pd),W(pn),W(It),W(tr))},n.\u0275cmp=Vt({type:n,selectors:[["app-dungeon"]],inputs:{grid:"grid",players:"players",guildBank:"guildBank",playerGearScores:"playerGearScores"},decls:31,vars:14,consts:[[1,"maincontainer"],[1,"guild-bank-bar2"],[1,"guild-bank-item"],["src","/assets/icons/ui_plundercoins.jpg","alt","Gold",1,"bank-icon"],[4,"ngIf"],[1,"dungeon-assignment"],[3,"ngStyle"],[3,"click","disabled"],["class","dungeon-group",4,"ngFor","ngForOf"],[3,"click","ngStyle"],["class","upgrades-section",4,"ngIf"],[1,"dungeon-info"],[1,"dungeon-list"],["class","dungeon-detail",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","player-cell",4,"ngFor","ngForOf"],[1,"player-cell"],[1,"player-gearscore"],["alt","role icon",1,"role-icon",3,"src"],[1,"dungeon-group"],[1,"dungeon-selector"],[3,"ngModelChange","change","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"dungeon-level"],[3,"click",4,"ngIf"],["class","player-slots",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"click"],["class","boss-detail",4,"ngFor","ngForOf"],[1,"boss-detail"],[1,"player-slots"],["class","slot-button",4,"ngFor","ngForOf"],[1,"slot-button"],[3,"click","ngClass"],["class","role-icon","alt","role icon",3,"src",4,"ngIf"],["class","assigned-player-card",4,"ngIf"],[1,"assigned-player-card"],[1,"player-name"],[1,"player-details"],[1,"upgrades-section"],[1,"upgrades-table"],[1,"upgrade-icon"],["alt","item icon",3,"src"],[1,"upgrade-player"],[1,"upgrade-tooltip",3,"innerHTML"],[1,"tooltip-content",3,"innerHTML"],[1,"dungeon-detail"],[1,"dungeon-image-container"],[1,"dungeon-image",3,"src","alt"],[1,"dungeon-overlay"],[1,"dungeon-summary",3,"innerHTML"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),Y(3,"img",3),g(4,"span"),v(5),f()()(),k(6,YP,3,1,"div",4),g(7,"div",5)(8,"h2"),v(9,"Dungeon Assignments"),f(),g(10,"div")(11,"span",6),v(12),f(),g(13,"button",7),z("click",function(){return o.nextWeekClicked()}),v(14,"Next Week"),f()(),k(15,sA,12,8,"div",8),g(16,"button",7),z("click",function(){return o.runDungeonsClicked()}),v(17,"Run Dungeons"),f(),g(18,"button",9),z("click",function(){return o.clearAssignmentsClicked()}),v(19,"Clear Players"),f()(),k(20,lA,5,1,"div",10),g(21,"details",11)(22,"summary"),v(23,"Dungeon Info"),f(),g(24,"div",12),k(25,cA,7,5,"details",13),f()(),g(26,"details",11)(27,"summary"),v(28,"Unlocks"),f(),g(29,"div",12),k(30,fA,5,5,"div",13),f()()()),i&2&&(p(5),ne("x",o.guildBank.gold.toFixed(2)),p(),C("ngIf",o.activeSlot),p(5),C("ngStyle",Yn(12,UP)),p(),aa("Current Week: ",o.guildWeek,"; Attempts: ",o.dungeonProgress==null?null:o.dungeonProgress.attempts,"/10"),p(),C("disabled",o.dungeonProgress&&o.dungeonProgress.attempts<10),p(2),C("ngForOf",o.dungeonAssignments),p(),C("disabled",o.isRunDungeonDisabled()),p(2),C("ngStyle",Yn(13,$P)),p(2),C("ngIf",o.dungeonUpgrades.length>0),p(5),C("ngForOf",o.dataService.getUniqueDungeons()),p(5),C("ngForOf",o.getDungeonUnlocks()))},dependencies:[Sr,xi,$r,Ri,Pi,Yo,Pu,Au,qo,Tu,xa],styles:[".maincontainer[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;padding:20px;box-sizing:border-box;min-width:100vw;overflow-x:auto}.guild-bank-item[_ngcontent-%COMP%]{display:flex;width:100%;gap:5px}.bank-icon[_ngcontent-%COMP%]{width:100%;height:20px}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%]{width:100px;height:50px;padding:0;text-align:center;vertical-align:middle}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,100px);gap:10px;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:contents}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:50px;cursor:pointer}.player-gearscore[_ngcontent-%COMP%]{font-size:.75em;color:#000;margin-top:0}.player-cell[_ngcontent-%COMP%]{position:relative}.role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;height:22px;pointer-events:none;z-index:1000}details[_ngcontent-%COMP%]{margin-bottom:1rem}summary[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.dungeon-assignment[_ngcontent-%COMP%]{margin-top:0;padding-left:10px;padding-right:10px;box-sizing:border-box;width:100%;max-width:100vw;margin-bottom:20px}.dungeon-assignment[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]{margin-bottom:15px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px;padding-left:5px;box-sizing:border-box;width:100%;align-items:flex-end}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px;padding:5px;font-size:1em}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:36px;margin-top:20px;padding:10 10px;cursor:pointer;display:flex;align-items:center;justify-content:center}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   .dungeon-level[_ngcontent-%COMP%]{margin-bottom:5px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]{display:flex;gap:5px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;width:75px;height:50px;display:flex;align-items:center;justify-content:center;border:1px solid white;background:#363636;cursor:pointer;box-sizing:border-box}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button.active-slot[_ngcontent-%COMP%]{border:2px solid red;background:#363636}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]{text-align:center;padding:10px;transform:scale(.67);transform-origin:center;width:100%;box-sizing:border-box}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{font-weight:700}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]   .player-details[_ngcontent-%COMP%]{font-size:1em;color:#fff}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:14px;height:14px;pointer-events:none;z-index:10}.upgrades-section[_ngcontent-%COMP%]{margin-top:20px}.upgrades-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   td.upgrade-tooltip[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid gray}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-icon[_ngcontent-%COMP%]{width:20%;padding:5px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px;border:1px solid gray}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-player[_ngcontent-%COMP%]{width:30%;padding:5px;font-weight:700}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .tooltip-content[_ngcontent-%COMP%]{display:inline-block;max-width:300px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]{padding:5px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]    {color:#fff;background:#1a1a1a;border:1px solid #444;padding:8px;font-size:.9em}.dungeon-info[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}.dungeon-info[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.dungeon-list[_ngcontent-%COMP%]{padding:10px}.dungeon-list[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1em;font-weight:700}.dungeon-detail[_ngcontent-%COMP%]{margin:10px 0}.dungeon-image-container[_ngcontent-%COMP%]{position:relative;width:100%}.dungeon-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.dungeon-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;max-height:100%;background-color:#000000b3;display:flex;align-items:flex-start;padding:20px;box-sizing:border-box;overflow-y:auto}.dungeon-summary[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin:0;text-align:left}.dungeon-summary[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.dungeon-summary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.settings-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin-top:20px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{padding:14px 28px;font-size:1.1rem;font-weight:700;border-radius:10px;border:none;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;cursor:pointer;box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease;width:auto;min-width:200px;max-width:280px}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:disabled{background:#666;cursor:not-allowed}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 3px 8px #0003}"]});let t=n;return t})();var bm="Service workers are disabled or not supported by this browser",hs=class{serviceWorker;worker;registration;events;constructor(n,e){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new ie(r=>r.error(new F(5601,!1)));else{let r=null,i=new oe;this.worker=new ie(c=>(r!==null&&c.next(r),i.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=n;c!==null&&(r=c,i.next(r))};n.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(He(()=>n.getRegistration().then(c=>{if(!c)throw new F(5601,!1);return c})));let a=new oe;this.events=a.asObservable();let s=c=>{let{data:u}=c;u?.type&&a.next(u)};n.addEventListener("message",s),e?.get(ht,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",o),n.removeEventListener("message",s)})}}postMessage(n,e){return new Promise(r=>{this.worker.pipe(gt(1)).subscribe(i=>{i.postMessage(N({action:n},e)),r()})})}postMessageWithOperation(n,e,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(n,e);return Promise.all([o,i]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=r=>r.type===n:e=r=>n.includes(r.type),this.events.pipe(Je(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(gt(1))}waitForOperationCompleted(n){return new Promise((e,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Je(i=>i.nonce===n),gt(1),re(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:e,error:r})})}get isEnabled(){return!!this.serviceWorker}},kE=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new oe;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=or,this.notificationClicks=or,this.notificationCloses=or,this.pushSubscriptionChanges=or,this.subscription=or;return}this.messages=this.sw.eventsOfType("PUSH").pipe(re(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(re(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(re(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(re(i=>i.data)),this.pushManager=this.sw.registration.pipe(re(i=>i.pushManager));let r=this.pushManager.pipe(He(i=>i.getSubscription()));this.subscription=new ie(i=>{let o=r.subscribe(i),a=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),a.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(bm));let r={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return r.applicationServerKey=o,new Promise((a,s)=>{this.pushManager.pipe(He(l=>l.subscribe(r)),gt(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),a(l)},error:s})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(bm));let e=r=>{if(r===null)throw new F(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new F(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(gt(1),He(e)).subscribe({next:r,error:i})})}decodeBase64(e){return atob(e)}static \u0275fac=function(r){return new(r||t)(U(hs))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})(),gd=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=or,this.unrecoverable=or;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(bm));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new F(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(r){return new(r||t)(U(hs))};static \u0275prov=O({token:t,factory:t.\u0275fac})}return t})();var LE=new G("");function pA(){let t=D(Za);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let n=D(LE),e=D(we),r=D(ht);e.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),e.runOutsideAngular(()=>{let i,{registrationStrategy:o}=t;if(typeof o=="function")i=new Promise(a=>o().subscribe(()=>a()));else{let[a,...s]=(o||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=OE(+s[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),OE(+s[0])]);break;default:throw new F(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(n,{scope:t.scope}).catch(a=>console.error(vn(5604,!1)))})})}function OE(t){return new Promise(n=>setTimeout(n,t))}function gA(t,n){return new hs(t.enabled!==!1?navigator.serviceWorker:void 0,n)}var Za=class{enabled;scope;registrationStrategy};function mA(t,n={}){return fr([kE,gd,{provide:LE,useValue:t},{provide:Za,useValue:n},{provide:hs,useFactory:gA,deps:[Za,Ve]},Ao(pA)])}var FE=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[mA(e,r)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[kE,gd]})}return t})();var ps=(()=>{let n=class n{constructor(){this.lastAnimation=null,this.animationTimeout=null,this.animations=["Stand","Walk","Run","Stop","Death","StandWound","CombatWound","CombatCritical","ShuffleLeft","ShuffleRight","Walkbackwards","Stun","HandsClosed","AttackUnarmed","Attack1H","Attack2H","Attack2HL","ParryUnarmed","Parry1H","Parry2H","Parry2HL","ShieldBlock","ReadyUnarmed","Ready1H","Ready2H","Ready2HL","ReadyBow","Dodge","JumpStart","Jump","JumpEnd","Fall","SwimIdle","Swim","SwimLeft","SwimRight","SwimBackwards","AttackBow","ReadyRifle","AttackRifle","Loot","ReadySpellDirected","ReadySpellOmni","SpellCastDirected","SpellCastOmni","BattleRoar","Special1H","Special2H","ShieldBash","EmoteTalk","EmoteEat","EmoteWork","EmoteUseStanding","EmoteTalkExclamation","EmoteTalkQuestion","EmoteBow","EmoteWave","EmoteCheer","EmoteDance","EmoteLaugh","EmoteRude","EmoteRoar","EmoteKneel","EmoteKiss","EmoteCry","EmoteChicken","EmoteBeg","EmoteApplaud","EmoteShout","EmoteFlex","EmoteShy","EmotePoint","Attack1HPierce","AttackOff","AttackOffPierce","Sheath","HipSheath","Kick","SitGroundDown","SitGround","SleepDown","Sleep","SleepUp","LoadBow","LoadRifle","AttackThrown","ReadyThrown","HoldBow","HoldRifle","HoldThrown","LoadThrown","EmoteSalute","KneelStart","KneelLoop","KneelEnd","SpecialUnarmed","StealthWalk","StealthStand","Knockdown","UseStandingLoop","ChannelCastDirected","ChannelCastOmni","Whirlwind","UseStandingStart","UseStandingEnd","Drown","Drowned","FishingCast","FishingLoop","EmoteWorkNoSheathe","EmoteStunNoSheathe","EmoteUseStandingNoSheathe"],this.animationConfig={Stand:{duration:null,followup:"Stand"},Walk:{duration:null,followup:"Stand"},Run:{duration:null,followup:"Stand"},Stop:{duration:null,followup:"Stand"},Death:{duration:1600,followup:"Sleep"},StandWound:{duration:333,followup:"Stand"},CombatWound:{duration:400,followup:"StandWound"},CombatCritical:{duration:800,followup:"StandWound"},AttackUnarmed:{duration:1e3,followup:"ReadyUnarmed"},Attack1H:{duration:800,followup:"Ready1H"},Attack2H:{duration:800,followup:"Ready2H"},Attack2HL:{duration:800,followup:"Ready2HL"},ParryUnarmed:{duration:800,followup:"ReadyUnarmed"},Parry1H:{duration:800,followup:"Ready1H"},Parry2H:{duration:800,followup:"Ready2H"},Parry2HL:{duration:800,followup:"Ready2HL"},ShieldBlock:{duration:800,followup:"Stand"},AttackBow:{duration:400,followup:"ReadyBow"},AttackRifle:{duration:800,followup:"ReadyRifle"},Attack1HPierce:{duration:800,followup:"Ready1H"},AttackOff:{duration:800,followup:"Ready1H"},AttackOffPierce:{duration:800,followup:"Ready1H"},Special1H:{duration:800,followup:"Ready1H"},Special2H:{duration:1200,followup:"Ready2H"},ShieldBash:{duration:800,followup:"Stand"},SpecialUnarmed:{duration:800,followup:"ReadyUnarmed"},Kick:{duration:800,followup:"Stand"},Whirlwind:{duration:800,followup:"Stand"},ShuffleLeft:{duration:500,followup:"Stand"},ShuffleRight:{duration:500,followup:"Stand"},Walkbackwards:{duration:800,followup:"Stand"},Stun:{duration:800,followup:"Stand"},Dodge:{duration:800,followup:"Stand"},JumpStart:{duration:800,followup:"Jump"},Jump:{duration:1e3,followup:"JumpEnd"},JumpEnd:{duration:800,followup:"Stand"},Fall:{duration:2e3,followup:"Stand"},SwimIdle:{duration:null,followup:"Stand"},Swim:{duration:null,followup:"Stand"},SwimLeft:{duration:null,followup:"Stand"},SwimRight:{duration:null,followup:"Stand"},SwimBackwards:{duration:null,followup:"Stand"},HandsClosed:{duration:2e3,followup:"Stand"},ReadyUnarmed:{duration:2e3,followup:"Stand"},Ready1H:{duration:2e3,followup:"Stand"},Ready2H:{duration:2e3,followup:"Stand"},Ready2HL:{duration:2e3,followup:"Stand"},ReadyBow:{duration:2e3,followup:"Stand"},ReadyRifle:{duration:2e3,followup:"Stand"},ReadyThrown:{duration:2e3,followup:"Stand"},HoldBow:{duration:2e3,followup:"Stand"},HoldRifle:{duration:2e3,followup:"Stand"},HoldThrown:{duration:2e3,followup:"Stand"},ReadySpellDirected:{duration:800,followup:"Stand"},ReadySpellOmni:{duration:800,followup:"Stand"},SpellCastDirected:{duration:800,followup:"Stand"},SpellCastOmni:{duration:800,followup:"Stand"},ChannelCastDirected:{duration:3e3,followup:"Stand"},ChannelCastOmni:{duration:3e3,followup:"Stand"},EmoteTalk:{duration:3e3,followup:"Stand"},EmoteEat:{duration:2500,followup:"Stand"},EmoteWork:{duration:1500,followup:"Stand"},EmoteUseStanding:{duration:5e3,followup:"Stand"},EmoteTalkExclamation:{duration:5e3,followup:"Stand"},EmoteTalkQuestion:{duration:1500,followup:"Stand"},EmoteBow:{duration:2500,followup:"Stand"},EmoteWave:{duration:2500,followup:"Stand"},EmoteCheer:{duration:1800,followup:"Stand"},EmoteDance:{duration:3e4,followup:"Stand"},EmoteLaugh:{duration:3e3,followup:"Stand"},EmoteRude:{duration:2e3,followup:"Stand"},EmoteRoar:{duration:2500,followup:"Stand"},EmoteKneel:{duration:3e3,followup:"Stand"},EmoteKiss:{duration:2500,followup:"Stand"},EmoteCry:{duration:5e3,followup:"Stand"},EmoteChicken:{duration:3e3,followup:"Stand"},EmoteBeg:{duration:4e3,followup:"Stand"},EmoteApplaud:{duration:3e3,followup:"Stand"},EmoteShout:{duration:1800,followup:"Stand"},EmoteFlex:{duration:2500,followup:"Stand"},EmoteShy:{duration:1800,followup:"Stand"},EmotePoint:{duration:1800,followup:"Stand"},EmoteSalute:{duration:1800,followup:"Stand"},BattleRoar:{duration:900,followup:"Stand"},Sheath:{duration:2e3,followup:"Stand"},HipSheath:{duration:2e3,followup:"Stand"},SitGroundDown:{duration:2e3,followup:"SitGround"},SitGround:{duration:null,followup:"SitGround"},SleepDown:{duration:2e3,followup:"Sleep"},Sleep:{duration:null,followup:"Sleep"},SleepUp:{duration:2e3,followup:"Stand"},LoadBow:{duration:2e3,followup:"ReadyBow"},LoadRifle:{duration:2e3,followup:"ReadyRifle"},LoadThrown:{duration:2e3,followup:"ReadyThrown"},AttackThrown:{duration:2e3,followup:"ReadyThrown"},KneelStart:{duration:2e3,followup:"KneelLoop"},KneelLoop:{duration:null,followup:"KneelLoop"},KneelEnd:{duration:2e3,followup:"Stand"},StealthWalk:{duration:null,followup:"StealthStand"},StealthStand:{duration:null,followup:"StealthStand"},Loot:{duration:3e3,followup:"Stand"},Knockdown:{duration:3e3,followup:"Stand"},UseStandingLoop:{duration:null,followup:"UseStandingLoop"},UseStandingStart:{duration:2e3,followup:"UseStandingLoop"},UseStandingEnd:{duration:2e3,followup:"Stand"},Drown:{duration:3e3,followup:"Drowned"},Drowned:{duration:null,followup:"Drowned"},FishingCast:{duration:3e3,followup:"FishingLoop"},FishingLoop:{duration:null,followup:"FishingLoop"},EmoteWorkNoSheathe:{duration:5e3,followup:"Stand"},EmoteStunNoSheathe:{duration:3e3,followup:"Stand"},EmoteUseStandingNoSheathe:{duration:5e3,followup:"Stand"}}}updateAnimation(r,i){return pt(this,null,function*(){this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationTimeout=null);let o=i.target.value;if(o===this.lastAnimation)return;if(this.lastAnimation=o,!r){console.warn("modelViewer not initialized in updateAnimation");return}let a=(l,c=20,u=500)=>{if(c<=0){console.warn(`Failed to set animation ${l}: renderer not ready after retries`);return}try{typeof r.setAnimation=="function"&&r.renderer?.actors?.[0]?(r.setAnimation(l),typeof r.setAnimPaused=="function"&&r.setAnimPaused(!1)):(console.warn(`setAnimation not available or renderer.actors[0] undefined for ${l}, retrying...`),setTimeout(()=>a(l,c-1,u),u))}catch(d){console.warn(`Error setting animation ${l}, retrying (${c} attempts left):`,d),setTimeout(()=>a(l,c-1,u),u)}};a(o);let s=this.animationConfig[o];s&&s.duration!==null&&(this.animationTimeout=setTimeout(()=>{this.lastAnimation=s.followup,a(s.followup)},s.duration))})}updateAnimation2(r,i){return pt(this,null,function*(){if(this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationTimeout=null),i===this.lastAnimation)return;if(this.lastAnimation=i,!r){console.warn("modelViewer not initialized in updateAnimation");return}let o=(s,l=20,c=500)=>{if(l<=0){console.warn(`Failed to set animation ${s}: renderer not ready after retries`);return}try{typeof r.setAnimation=="function"&&r.renderer?.actors?.[0]?(r.setAnimation(s),typeof r.setAnimPaused=="function"&&r.setAnimPaused(!1)):(console.warn(`setAnimation not available or renderer.actors[0] undefined for ${s}, retrying...`),setTimeout(()=>o(s,l-1,c),c))}catch(u){console.warn(`Error setting animation ${s}, retrying (${l} attempts left):`,u),setTimeout(()=>o(s,l-1,c),c)}};o(i);let a=this.animationConfig[i];a&&a.duration!==null&&(this.animationTimeout=setTimeout(()=>{this.lastAnimation=a.followup,o(a.followup)},a.duration))})}getAnimations(){return this.animations}setAnimations(r){this.animations=r}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var md=(()=>{let n=class n{constructor(r){this.utilityService=r}getHelpPlayer(r,i,o,a,s,l,c){if(!r)return"<p>No player selected. Click a player in the grid to view or edit their details.</p>";let u=`
      <h3>Main Tabs (Bottom Row)</h3>
      <ul>
        <li>
          <img src="/assets/icons/inv_chest_chain.jpg" alt="Gear Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Gear</strong>: View and equip items, customize appearance, or purchase crafted gear.
        </li>
        <li>
          <img src="/assets/icons/inv_misc_note_01.jpg" alt="Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Stats</strong>: Check base or buffed stats, including combat and resistance details.
        </li>
        <li>
          <img src="/assets/icons/inv_misc_book_11.jpg" alt="Spells Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Spells</strong>: View class-specific spells or racial abilities.
        </li>
        <li>
          <img src="/assets/icons/inv_7xp_inscription_talenttome02.jpg" alt="Spec Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Spec</strong>: Explore talent builds and specializations.
        </li>
        <li>
          <img src="/assets/icons/trade_engineering.jpg" alt="Gambits Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Gambits</strong>: Configure custom strategies or abilities (details coming soon).
        </li>
        <li>
          <img src="/assets/icons/achievement_bg_returnxflags_def_wsg.jpg" alt="Back Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Back</strong>: Return to the raid group grid.
        </li>
      </ul>
    `,d="";return i==="spec"?d=`
        <h3>Spec Sub-Tabs (Row Above)</h3>
        <p>Current Spec Tab: ${this.utilityService.getTalentName(r,o)}</p>
        <ul>
          ${c.map(y=>`
            <li>
              <img src="/assets/icons/${this.utilityService.getTalentIcon(r,+y)}.jpg" alt="Talent Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
              <strong>${Qt[r.CLASSID]?.[+y].name}</strong>: ${o===y?"View and edit talents for this specialization.":"Switch to this specialization to view talents."}
            </li>
          `).join("")}
        </ul>
      `:i==="gear"?d=`
        <p>Current Gear Sub-Tab: ${s}</p>
        <ul>
          <li>
            <img src="/assets/icons/inv_misc_bag_08.jpg" alt="Equipment Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Equipment</strong>: View and swap equipped items from inventory.
          </li>
          <li>
            <img src="/assets/icons/vas_racechange.jpg" alt="Customization Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Customization</strong>: Adjust race, gender, and appearance (skin, face, hair, etc.).
          </li>
          <li>
            <img src="/assets/icons/inv_misc_coin_02.jpg" alt="Crafted Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Crafted</strong>: Purchase crafted items using guild bank resources.
          </li>
          <li>
            <img src="/assets/icons/spell_nature_astralrecalgroup.jpg" alt="Dungeon Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Dungeon</strong>: View items obtained from dungeon runs.
          </li>
          <li>
            <img src="/assets/icons/achievement_boss_ragnaros.jpg" alt="MC Quest Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>MC Quest</strong>: View items from Molten Core quests.
          </li>
        </ul>
      `:i==="spells"?d=`
        <h3>Spells Sub-Tabs (Row Above)</h3>
        <p>Current Spell Tab: ${a==="class"?this.utilityService.getClassName(r.CLASSID)+" Spells":this.utilityService.getRaceName(r.RACE)+" Skills"}</p>
        <ul>
          <li>
            <img src="/assets/icons/class_${this.utilityService.getClassName(r.CLASSID).toLowerCase()}.jpg" alt="Class Spells Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Class Spells</strong>: ${a==="class"?"View available class-specific spells.":"Switch to view class-specific spells."}
          </li>
          <li>
            <img src="/assets/icons/achievement_character_${this.utilityService.getRaceName(r.RACE).toLowerCase()}_${r.GENDER==0?"male":"female"}.jpg" alt="Racial Skills Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Racial Skills</strong>: ${a==="racial"?"View racial abilities.":"Switch to view racial abilities."}
          </li>
        </ul>
      `:i==="stats"?d=`
        <h3>Stats Sub-Tabs (Row Above)</h3>
        <p>Current Stats Sub-Tab: ${l==="base"?"Base Stats":"Buffed Stats"}</p>
        <ul>
          <li>
            <img src="/assets/icons/spell_holy_blessingofstrength.jpg" alt="Base Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Base Stats</strong>: ${l==="base"?"View unbuffed character stats.":"Switch to view unbuffed character stats."}
          </li>
          <li>
            <img src="/assets/icons/spell_nature_strength.jpg" alt="Buffed Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Buffed Stats</strong>: ${l==="buffed"?"View stats with active buffs applied.":"Switch to view stats with active buffs."}
          </li>
        </ul>
      `:i==="gambits"&&(d=`
        <h3>Gambits Sub-Tabs (Row Above)</h3>
        <p>No sub-tabs available for Gambits.</p>
        <p>Configure custom strategies or abilities for ${r.NAME}. (Details coming soon.)</p>
      `),`
      <h2>Player Configuration: ${r.NAME}</h2>
      <p>Customize and view details for the selected player.</p>
      ${u}
      ${d}
    `}getHelpContent(r){switch(r){case"home":return`
          <h2>Welcome to MC Raiders</h2>
          <p>This is the main menu. Select an option to get started:</p>
          <ul>
            <li><strong>MC Raiders</strong>: Watch the iconic video by MyndFlame.</li>
            <li><strong>TGIF</strong>: View guild achievements and quotes.</li>
            <li><strong>Molten Core</strong>: Access the Molten Core raid (coming soon).</li>
            <li><strong>Dungeons</strong>: Assign players to dungeons to earn loot, gold and unlock more content.</li>
            <li><strong>Raid Setup</strong>: Configure raid groups and optimize gear, spec, and rotations.</li>
            <li><strong>Settings</strong>: Adjust preferences or reset progress.</li>
          </ul>
        `;case"mcr":return`
          <h2>MCR Raiders</h2>
          <p>Enjoy the music video by MyndFlame from Illegal Danish.</p>
          <p>Goal: Help the TGIF guild gear up and progress through Molten Core. Stay tuned for the raid simulation feature!</p>
        `;case"tgif":return`
          <h2>TGIF Guild</h2>
          <p>Explore the guild's history with images and memorable quotes from members.</p>
          <p>Click the return button to go back to the main menu.</p>
        `;case"mc":return`
          <h2>Molten Core</h2>
          <p>This feature is coming soon! It will allow you to simulate raids in Molten Core.</p>
        `;case"dungeon":return`
          <h2>Dungeon Assignments</h2>
          <p>Assign players to dungeon groups:</p>
          <ul>
            <li>Select a dungeon from the dropdown.</li>
            <li>Click player slots to assign or swap players.</li>
            <li>Click Run Dungeons to earn loot, gold, and unlock more content.</li>
            <ul>
              <li>Dungeon progress depends on party gear, spec, and composition relative to boss levels in the dungeon.</li>
              <li>Up to 10 dungeons can be run per week (using any mix of players).</li>
              <li>Click on composition penalty for more details of what class/spec required for best odds of success.</li>
              <li>Click on completion/abandon message to view detailed results per boss.</li>
            </ul>
            <li>Clear Players will clear all dungeon assignments.
            <li>Click Next Week after consuming all dungeon attempts and after attempting Molten Core (once added).
            <li>Check the Dungeon Info for background lore on each dungeon.</li>
            <li>Unlocks shows progress per player at unlocking higher-level content.</li>
          </ul>
        `;case"raidConfig":return`
          <h2>Raid Setup</h2>
          <p>Manage your raid group:</p>
          <ul>
            <li>Click a player to view or edit their details (gear, stats, spells, talents).</li>
            <li>Use Swap Mode to rearrange players in the grid.</li>
            <li>Optimize Gear to automatically equip the best items for selected players.</li>
          </ul>
        `;case"settings":return`
          <h2>Settings</h2>
          <p>Customize your experience:</p>
          <ul>
            <li><strong>Profanity Filter</strong>: Toggle to filter explicit content in videos.</li>
            <li><strong>Reset Progress</strong>: Hold to reset gear, dungeon and raid progress.</li>
            <li><strong>Reset Storage</strong>: Hold to clear all saved data.</li>
            <li><strong>Show Help Button</strong>: Toggle the help button visibility.</li>
          </ul>
        `;default:return"<p>Help information is not available for this section.</p>"}}};n.\u0275fac=function(i){return new(i||n)(U(pn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var jE=(()=>{let n=class n{constructor(r){this.dungeonService=r}};n.\u0275fac=function(i){return new(i||n)(W(pd))},n.\u0275cmp=Vt({type:n,selectors:[["app-moltencore"]],decls:4,vars:1,consts:[["alt","Molten Core load screen",1,"dungeon-image",3,"src"]],template:function(i,o){i&1&&(oa(0,"img",0),v(1," Coming soon"),No(2,"sup"),v(3,"\u2122"),Oo()),i&2&&Xc("src",o.dungeonService.getDungeonImage("Molten Core"),Ne)},styles:[".dungeon-image-container[_ngcontent-%COMP%]{position:relative;width:100%}.dungeon-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]});let t=n;return t})();var HE=(()=>{let n=class n{transform(r,i){return r.filter(o=>Ui.find(a=>a.slot===o.slot)?.side===i)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=Vr({name:"filterBySide",type:n,pure:!0});let t=n;return t})();var BE=(()=>{let n=class n{constructor(){this.linkedSlots={11:12,12:11,13:14,14:13,21:22,22:21}}transform(r,i){if(!r||!i?.equippedItems)return r;let o=i.equippedItems.find(l=>l.slot===i.slot)?.dbId,a=this.linkedSlots[i.slot],s=a?i.equippedItems.find(l=>l.slot===a)?.dbId:null;return r.filter(l=>l!==o&&l!==s)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=Vr({name:"filterEquip",type:n,pure:!0});let t=n;return t})(),_d=(()=>{let n=class n{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r||"")}};n.\u0275fac=function(i){return new(i||n)(W(Pg,16))},n.\u0275pipe=Vr({name:"safeHtml",type:n,pure:!0});let t=n;return t})();var Tm;function CA(){if(Tm==null){let t=typeof document<"u"?document.head:null;Tm=!!(t&&(t.createShadowRoot||t.attachShadow))}return Tm}function vd(t){if(CA()){let n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Qa(t){return t.composedPath?t.composedPath()[0]:t.target}function UE(t){return t.buttons===0||t.detail===0}function $E(t){let n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function yd(t,n=0){return SA(t)?Number(t):arguments.length===2?n:0}function SA(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Pn(t){return t instanceof Qe?t.nativeElement:t}var Cd=new WeakMap,GE=(()=>{class t{_appRef;_injector=D(Ve);_environmentInjector=D(Ye);load(e){let r=this._appRef=this._appRef||this._injector.get(ht),i=Cd.get(r);i||(i={loaders:new Set,refs:[]},Cd.set(r,i),r.onDestroy(()=>{Cd.get(r)?.refs.forEach(o=>o.destroy()),Cd.delete(r)})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push(sC(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Mm;try{Mm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mm=!1}var xm=(()=>{class t{_platformId=D(Fr);isBrowser=this._platformId?CC(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Mm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var EA=new G("cdk-dir-doc",{providedIn:"root",factory:wA});function wA(){return D(Ae)}var DA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function bA(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?DA.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var Rm=(()=>{class t{get value(){return this.valueSignal()}valueSignal=Ft("ltr");change=new Ee;constructor(){let e=D(EA,{optional:!0});if(e){let r=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(bA(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var IA=20,zE=(()=>{class t{_ngZone=D(we);_platform=D(xm);_renderer=D(zt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new oe;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=IA){return this._platform.isBrowser?new ie(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=e>0?this._scrolled.pipe(Bl(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):te()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Je(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_scrollableContainsElement(e,r){let i=Pn(r),o=e.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var TA=20,WE=(()=>{class t{_platform=D(xm);_listeners;_viewportSize;_change=new oe;_document=D(Ae);constructor(){let e=D(we),r=D(zt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect(),a=-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(e=TA){return e>0?this._change.pipe(Bl(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({})}return t})();var Pm={},YE=(()=>{class t{_appId=D(Mo);getId(e){return this._appId!=="ng"&&(e+=this._appId),Pm.hasOwnProperty(e)||(Pm[e]=0),`${e}${Pm[e]++}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KE(t){return Array.isArray(t)?t:[t]}function Om(t){let n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();n.removeAttribute("id");for(let i=0;i<e.length;i++)e[i].removeAttribute("id");return r==="canvas"?XE(t,n):(r==="input"||r==="select"||r==="textarea")&&QE(t,n),ZE("canvas",t,n,XE),ZE("input, textarea, select",t,n,QE),n}function ZE(t,n,e,r){let i=n.querySelectorAll(t);if(i.length){let o=e.querySelectorAll(t);for(let a=0;a<i.length;a++)r(i[a],o[a])}}var MA=0;function QE(t,n){n.type!=="file"&&(n.value=t.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${MA++}`)}function XE(t,n){let e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function Bm(t){let n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function km(t,n,e){let{top:r,bottom:i,left:o,right:a}=t;return e>=r&&e<=i&&n>=o&&n<=a}function xA(t,n){let e=n.left<t.left,r=n.left+n.width>t.right,i=n.top<t.top,o=n.top+n.height>t.bottom;return e||r||i||o}function el(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function JE(t,n,e,r){let{top:i,right:o,bottom:a,left:s,width:l,height:c}=t,u=l*n,d=c*n;return r>i-d&&r<a+d&&e>s-u&&e<o+u}var Sd=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Bm(e)})})}handleScroll(n){let e=Qa(n),r=this.positions.get(e);if(!r)return null;let i=r.scrollPosition,o,a;if(e===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=e.scrollTop,a=e.scrollLeft;let s=i.top-o,l=i.left-a;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&el(c.clientRect,s,l)}),i.top=o,i.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function dw(t,n){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let r=n.createElement("div");return e.forEach(i=>r.appendChild(i)),r}function Um(t,n,e){for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];i?t.setProperty(r,i,e?.has(r)?"important":""):t.removeProperty(r)}return t}function gs(t,n){let e=n?"":"none";Um(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function ew(t,n,e){Um(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function Ed(t,n){return n&&n!="none"?t+" "+n:t}function tw(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=tl(n.left,n.top)}function tl(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function nw(t){let n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function RA(t){let n=getComputedStyle(t),e=Am(n,"transition-property"),r=e.find(s=>s==="transform"||s==="all");if(!r)return 0;let i=e.indexOf(r),o=Am(n,"transition-duration"),a=Am(n,"transition-delay");return nw(o[i])+nw(a[i])}function Am(t,n){return t.getPropertyValue(n).split(",").map(r=>r.trim())}var PA=new Set(["position"]),Lm=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,r,i,o,a,s,l,c,u){this._document=n,this._rootElement=e,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=u}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),rw(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return RA(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,r=n?n.template:null,i;if(r&&n){let o=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(r,n.context);a.detectChanges(),i=dw(a,this._document),this._previewEmbeddedView=a,n.matchSize?tw(i,o):i.style.transform=tl(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Om(this._rootElement),tw(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Um(i.style,{"pointer-events":"none",margin:rw(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},PA),gs(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>i.classList.add(o)):i.classList.add(e)),i}};function rw(t){return"showPopover"in t}var AA={passive:!0},iw={passive:!1},NA={passive:!1,capture:!0},OA=800,ow="cdk-drag-placeholder",sw=new Set(["position"]),Fm=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Ft(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new oe;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Te.EMPTY;_pointerUpSubscription=Te.EMPTY;_scrollSubscription=Te.EMPTY;_resizeSubscription=Te.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>gs(e,n)))}_disabled=!1;beforeStarted=new oe;started=new oe;released=new oe;ended=new oe;entered=new oe;exited=new oe;dropped=new oe;moved=this._moveEvents;data;constrainPosition;constructor(n,e,r,i,o,a,s){this._config=e,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new Sd(r),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(r=>Pn(r)),this._handles.forEach(r=>gs(r,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=Pn(n);if(e!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(e,"mousedown",this._pointerDown,iw),r.listen(e,"touchstart",this._pointerDown,AA),r.listen(e,"dragstart",this._nativeDragStart,iw)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Pn(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&xA(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let n=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),r=0,i=0;e.left<n.left?r=n.left-e.left:e.right>n.right&&(r=n.right-e.right),e.top<n.top?i=n.top-e.top:e.bottom>n.bottom&&(i=n.bottom-e.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+r,l=a+i;this._rootElement.style.transform=tl(s,l),this._activeTransform={x:s,y:l},this._passiveTransform={x:s,y:l}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),gs(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),gs(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let i=Math.abs(e.x-this._pickupPositionOnPage.x),o=Math.abs(e.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!s){this._endDragSequence(n);return}(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let r=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,e);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:n,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Xa(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),r=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",kA,NA)}),r){let i=this._rootElement,o=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=new Lm(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,e)),ew(i,!1,sw),this._document.body.appendChild(o.replaceChild(a,i)),this.started.next({source:this,event:n}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let r=this.isDragging(),i=Xa(e),o=!i&&e.button!==0,a=this._rootElement,s=Qa(e),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+OA>Date.now(),c=i?$E(e):UE(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),r||o||l||c)return;if(this._handles.length){let y=a.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=Bm(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){ew(this._rootElement,!0,sw),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,r=e.getItemIndex(this),i=this._getPointerPositionOnPage(n),o=this._getDragDistance(i),a=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:n}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:i,event:n}),e.drop(this,r,this._initialIndex,this._initialContainer,a,o,i,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,n,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=s=>{(!s||this._preview&&Qa(s)===this._preview.element&&s.propertyName==="transform")&&(a(),r(),clearTimeout(o))},o=setTimeout(i,e*1.5),a=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,r;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),r=dw(this._placeholderRef,this._document)):r=Om(this._rootElement),r.style.pointerEvents="none",r.classList.add(ow),r}_getPointerPositionInElement(n,e,r){let i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():n,a=Xa(r)?r.targetTouches[0]:r,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-n.left+l,y:o.top-n.top+c}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),r=Xa(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,i=r.pageX-e.left,o=r.pageY-e.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=i,s.y=o,s.matrixTransform(a.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=s.top+a,d=s.bottom-(c-a),y=s.left+o,h=s.right-(l-o);r=aw(r,y,h),i=aw(i,u,d)}return{x:r,y:i}}_updatePointerDirectionDelta(n){let{x:e,y:r}=n,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-o.x),s=Math.abs(r-o.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=e>o.x?1:-1,o.x=e),s>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,gs(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){let r=1/this.scale,i=tl(n*r,e*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Ed(i,this._initialTransform)}_applyPreviewTransform(n,e){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=tl(n,e);this._preview.setTransform(Ed(i,r))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,a=r.right-i.right,s=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(o>0&&(n+=o),a>0&&(n-=a)):n=0,i.height>r.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:Xa(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let r=Qa(n);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&el(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=vd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let r=this._previewContainer||"global";if(r==="parent")return n;if(r==="global"){let i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Pn(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}_conditionallyInsertAnchor(n,e,r){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let i=this._anchor??=Om(this._placeholder);i.classList.remove(ow),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):Pn(e.element).appendChild(i)}}};function aw(t,n,e){return Math.max(n,Math.min(e,t))}function Xa(t){return t.type[0]==="t"}function kA(t){t.preventDefault()}function Dd(t,n,e){let r=lw(n,t.length-1),i=lw(e,t.length-1);if(r===i)return;let o=t[r],a=i<r?-1:1;for(let s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}function lw(t,n){return Math.max(0,Math.min(n,t))}var wd=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,r,i){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,e,r,i);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(I=>I.drag===n),c=o[a],u=o[l].clientRect,d=c.clientRect,y=l>a?1:-1,h=this._getItemOffsetPx(u,d,y),w=this._getSiblingOffsetPx(l,o,y),R=o.slice();return Dd(o,l,a),o.forEach((I,M)=>{if(R[M]===I)return;let J=I.drag===n,q=J?h:w,L=J?n.getPlaceholderElement():I.drag.getRootElement();I.offset+=q;let V=Math.round(I.offset*(1/I.drag.scale));s?(L.style.transform=Ed(`translate3d(${V}px, 0, 0)`,I.initialTransform),el(I.clientRect,0,q)):(L.style.transform=Ed(`translate3d(0, ${V}px, 0)`,I.initialTransform),el(I.clientRect,q,0))}),this._previousSwap.overlaps=km(d,e,r),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?i.x:i.y,{previousIndex:l,currentIndex:a}}enter(n,e,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(n,e,r):i,a=this._activeDraggables,s=a.indexOf(n),l=n.getPlaceholderElement(),c=a[o];if(c===n&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(l,u),a.splice(o,0,n)}else this._element.appendChild(l),a.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let e=n.getRootElement();if(e){let r=this._itemPositions.find(i=>i.drag===n)?.initialTransform;e.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(e=>e.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:r})=>{el(r,n,e)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:Bm(r)}}).sort((e,r)=>n?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,e,r){let i=this.orientation==="horizontal",o=i?e.left-n.left:e.top-n.top;return r===-1&&(o+=i?e.width-n.width:e.height-n.height),o}_getSiblingOffsetPx(n,e,r){let i=this.orientation==="horizontal",o=e[n].clientRect,a=e[n+r*-1],s=o[i?"width":"height"]*r;if(a){let l=i?"left":"top",c=i?"right":"bottom";r===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let a=r[r.length-1].clientRect;return i?n>=a.right:e>=a.bottom}else{let a=r[0].clientRect;return i?n<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(n,e,r,i){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===n)return!1;if(i){let c=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):r>=Math.floor(l.top)&&r<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,n)?-1:a}},Vm=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){let e=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<e.length;r++){let i=e[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(n)}sort(n,e,r,i){let o=this._getItemIndexFromPointerPosition(n,e,r),a=this._previousSwap;if(o===-1||this._activeItems[o]===n)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===i.x&&a.deltaY===i.y)return null;let l=this.getItemIndex(n),c=n.getPlaceholderElement(),u=s.getRootElement();o>l?u.after(c):u.before(c),Dd(this._activeItems,l,o);let d=this._getRootNode().elementFromPoint(e,r);return a.deltaX=i.x,a.deltaY=i.y,a.drag=s,a.overlaps=u===d||u.contains(d),{previousIndex:l,currentIndex:o}}enter(n,e,r,i){let o=this._activeItems.indexOf(n);o>-1&&this._activeItems.splice(o,1);let a=i==null||i<0?this._getItemIndexFromPointerPosition(n,e,r):i;a===-1&&(a=this._getClosestItemIndexToPointer(n,e,r));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,n),s.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,e=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===n&&i.nextSibling!==o&&(o===null?n.appendChild(i):o.parentNode===n&&n.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,r){let i=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(r)),o=i?this._activeItems.findIndex(a=>{let s=a.getRootElement();return i===s||s.contains(i)}):-1;return o===-1||!this._sortPredicate(o,n)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=vd(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==n){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),u=Math.hypot(e-l,r-c);u<i&&(i=u,o=a)}}return o}},cw=.05,fw=.05,gn=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(gn||{}),Ot=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Ot||{}),jm=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new oe;entered=new oe;exited=new oe;dropped=new oe;sorted=new oe;receivingStarted=new oe;receivingStopped=new oe;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Te.EMPTY;_verticalScrollDirection=gn.NONE;_horizontalScrollDirection=Ot.NONE;_scrollNode;_stopScrollTimers=new oe;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,r,i,o){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=o;let a=this.element=Pn(n);this._document=r,this.withOrientation("vertical").withElementContainer(a),e.registerDropContainer(this),this._parentPositions=new Sd(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,r,i,o,a,s,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(i=>i.isDragging()).every(i=>n.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof wd&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new Vm(this._document,this._dragDropRegistry);else{let e=new wd(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,r)=>this.sortPredicate(e,r,this)),this}withScrollableParents(n){let e=this._container;return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let e=Pn(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(n);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,r,i){if(this.sortingDisabled||!this._domRect||!JE(this._domRect,cw,e,r))return;let o=this._sortStrategy.sort(n,e,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let r,i=gn.NONE,o=Ot.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||r||JE(a.clientRect,cw,n,e)&&([i,o]=LA(s,a.clientRect,this._direction,n,e),(i||o)&&(r=s))}),!i&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};i=hw(l,e),o=pw(l,n),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Zd(0,Sl).pipe(Vn(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===gn.UP?n.scrollBy(0,-e):this._verticalScrollDirection===gn.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===Ot.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===Ot.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return this._domRect!=null&&km(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,r){return this._siblings.find(i=>i._canReceive(n,e,r))}_canReceive(n,e,r){if(!this._domRect||!km(this._domRect,e,r)||!this.enterPredicate(n,this))return!1;let i=this._getShadowRoot().elementFromPoint(e,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(n,e){let r=this._activeSiblings;!r.has(n)&&e.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=vd(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function hw(t,n){let{top:e,bottom:r,height:i}=t,o=i*fw;return n>=e-o&&n<=e+o?gn.UP:n>=r-o&&n<=r+o?gn.DOWN:gn.NONE}function pw(t,n){let{left:e,right:r,width:i}=t,o=i*fw;return n>=e-o&&n<=e+o?Ot.LEFT:n>=r-o&&n<=r+o?Ot.RIGHT:Ot.NONE}function LA(t,n,e,r,i){let o=hw(n,i),a=pw(n,r),s=gn.NONE,l=Ot.NONE;if(o){let c=t.scrollTop;o===gn.UP?c>0&&(s=gn.UP):t.scrollHeight-c>t.clientHeight&&(s=gn.DOWN)}if(a){let c=t.scrollLeft;e==="rtl"?a===Ot.RIGHT?c<0&&(l=Ot.RIGHT):t.scrollWidth+c>t.clientWidth&&(l=Ot.LEFT):a===Ot.LEFT?c>0&&(l=Ot.LEFT):t.scrollWidth-c>t.clientWidth&&(l=Ot.RIGHT)}return[s,l]}var Ja={capture:!0},Nm={passive:!1,capture:!0},FA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Vt({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),$m=(()=>{class t{_ngZone=D(we);_document=D(Ae);_styleLoader=D(GE);_renderer=D(zt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new oe;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Ft([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new oe;pointerUp=new oe;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,Nm)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,r){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(FA),this._activeDragInstances.update(i=>[...i,e]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),Ja],["selectstart",this._preventDefaultWhileDragging,Nm]];i?a.push(["touchend",o,Ja],["touchcancel",o,Ja]):a.push(["mouseup",o,Ja]),i||a.push(["mousemove",s=>this.pointerMove.next(s),Nm]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>this._renderer.listen(this._document,s,l,c))})}}stopDragging(e){this._activeDragInstances.update(r=>{let i=r.indexOf(e);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let r=[this._scroll];return e&&e!==this._document&&r.push(new ie(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(e,"scroll",a=>{this._activeDragInstances().length&&i.next(a)},Ja);return()=>{o()}}))),Is(...r)}registerDirectiveNode(e,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,r)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VA={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Gm=(()=>{class t{_document=D(Ae);_ngZone=D(we);_viewportRuler=D(WE);_dragDropRegistry=D($m);_renderer=D(zt).createRenderer(null,null);constructor(){}createDrag(e,r=VA){return new Fm(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new jm(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hm=new G("CDK_DRAG_PARENT");var gw=new G("CdkDragHandle"),mw=(()=>{class t{element=D(Qe);_parentDrag=D(Hm,{optional:!0,skipSelf:!0});_dragDropRegistry=D($m);_stateChanges=new oe;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let r=this._dragDropRegistry.getDragDirectiveForNode(e);if(r){this._parentDrag=r,r._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ke({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",dn]},features:[qt([{provide:gw,useExisting:t}])]})}return t})(),_w=new G("CDK_DRAG_CONFIG"),vw=new G("CdkDropList"),yw=(()=>{class t{element=D(Qe);dropContainer=D(vw,{optional:!0,skipSelf:!0});_ngZone=D(we);_viewContainerRef=D(cn);_dir=D(Rm,{optional:!0});_changeDetectorRef=D(Ht);_selfHandle=D(gw,{optional:!0,self:!0});_parentDrag=D(Hm,{optional:!0,skipSelf:!0});_dragDropRegistry=D($m);_destroyed=new oe;_handles=new it([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Ee;released=new Ee;ended=new Ee;entered=new Ee;exited=new Ee;dropped=new Ee;moved=new ie(e=>{let r=this._dragRef.moved.pipe(re(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(e);return()=>{r.unsubscribe()}});_injector=D(Ve);constructor(){let e=this.dropContainer,r=D(_w,{optional:!0}),i=D(Gm);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(Vn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){jr(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let r=e.rootElementSelector,i=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let r=this._handles.getValue();r.push(e),this._handles.next(r)}_removeHandle(e){let r=this._handles.getValue(),i=r.indexOf(e);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,r=e;this.rootElementSelector&&(r=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Pn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof i=="object"&&i?i:yd(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe(gt(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){e.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(e){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(Ze(e=>{let r=e.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),He(e=>Is(...e.map(r=>r._stateChanges.pipe(si(r))))),Vn(this._destroyed)).subscribe(e=>{let r=this._dragRef,i=e.element.nativeElement;e.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ke({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&De("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",dn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",tg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[qt([{provide:Hm,useExisting:t}]),an]})}return t})(),uw=new G("CdkDropListGroup");var Cw=(()=>{class t{element=D(Qe);_changeDetectorRef=D(Ht);_scrollDispatcher=D(zE);_dir=D(Rm,{optional:!0});_group=D(uw,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new oe;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=D(YE).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new Ee;entered=new Ee;exited=new Ee;sorted=new Ee;_unsortedItems=new Set;constructor(){let e=D(Gm),r=D(_w,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,a)=>this.sortPredicate(i,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(e._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(si(this._dir.value),Vn(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{let r=KE(this.connectedTo).map(i=>{if(typeof i=="string"){let o=t._dropLists.find(a=>a.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(i)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=yd(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Is(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=e;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ke({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(Tn("id",i.id),De("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",dn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",dn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",dn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",dn]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[qt([{provide:uw,useValue:void 0},{provide:vw,useExisting:t}])]})}return t})();var Sw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[Gm],imports:[qE]})}return t})();window.CONTENT_PATH||(window.CONTENT_PATH="http://localhost:3001/modelviewer/live/");window.WOTLK_TO_RETAIL_DISPLAY_ID_API||(window.WOTLK_TO_RETAIL_DISPLAY_ID_API="https://wotlk.murlocvillage.com/api/items");var zm=class{getImageExtension(){return".webp"}};window.WH||(window.WH={},window.WH.debug=function(...t){},window.WH.defaultAnimation="Stand",window.WH.WebP=new zm,window.WH.Wow={Item:{INVENTORY_TYPE_HEAD:1,INVENTORY_TYPE_NECK:2,INVENTORY_TYPE_SHOULDERS:3,INVENTORY_TYPE_SHIRT:4,INVENTORY_TYPE_CHEST:5,INVENTORY_TYPE_WAIST:6,INVENTORY_TYPE_LEGS:7,INVENTORY_TYPE_FEET:8,INVENTORY_TYPE_WRISTS:9,INVENTORY_TYPE_HANDS:10,INVENTORY_TYPE_FINGER:11,INVENTORY_TYPE_TRINKET:12,INVENTORY_TYPE_ONE_HAND:13,INVENTORY_TYPE_SHIELD:14,INVENTORY_TYPE_RANGED:15,INVENTORY_TYPE_BACK:16,INVENTORY_TYPE_TWO_HAND:17,INVENTORY_TYPE_BAG:18,INVENTORY_TYPE_TABARD:19,INVENTORY_TYPE_ROBE:20,INVENTORY_TYPE_MAIN_HAND:21,INVENTORY_TYPE_OFF_HAND:22,INVENTORY_TYPE_HELD_IN_OFF_HAND:23,INVENTORY_TYPE_PROJECTILE:24,INVENTORY_TYPE_THROWN:25,INVENTORY_TYPE_RANGED_RIGHT:26,INVENTORY_TYPE_QUIVER:27,INVENTORY_TYPE_RELIC:28,INVENTORY_TYPE_PROFESSION_TOOL:29,INVENTORY_TYPE_PROFESSION_ACCESSORY:30}});var A9=window.WH;var HA=[2,11,12,13,14],Ew={ARMOR:128,CHARACTER:16,COLLECTION:1024,HELM:2,HUMANOIDNPC:32,ITEM:1,ITEMVISUAL:512,NPC:8,OBJECT:64,PATH:256,SHOULDER:4},bd=()=>({Face:"face","Skin Color":"skin","Hair Style":"hairStyle","Hair Color":"hairColor","Facial Hair":"facialStyle",Mustache:"facialStyle",Beard:"facialStyle",Sideburns:"facialStyle","Face Shape":"facialStyle",Eyebrow:"facialStyle","Jaw Features":void 0,"Face Features":void 0,"Skin Type":void 0,Ears:window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"ears","Fur Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"furColor",Snout:"snout",Blindfold:void 0,Tattoo:void 0,"Eye Color":void 0,"Tattoo Color":void 0,Armbands:void 0,"Jewelry Color":void 0,Bracelets:void 0,Necklace:void 0,Earring:void 0,"Primary Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"primaryColor","Secondary Color Strength":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"secondaryColorStrength","Secondary Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"secondaryColor","Horn Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"hornColor",Horns:window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"horns","Body Size":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"bodySize"});function BA(t){return t?t.Id:void 0}function Wm(t,n){let e=n.Options,r=[],i=[];for(let o in bd()){let a=e.find(l=>l.Name===o);if(!a)continue;let s={optionId:a.Id,choiceId:bd()[o]?BA(a.Choices[t[bd()[o]]]):a.Choices[0].Id};s.choiceId===void 0&&r.push(bd()[o]),i.push(s)}return console.warn("In character: ",t,"the following options are missing",r),i}function ww(t,n){let{race:e,gender:r}=t,i=t.items?t.items.filter(l=>!HA.includes(l[0])):[],a={options:Wm(t,n)},s={items:i,models:{id:e*2-1+r,type:Ew.CHARACTER}};return t.noCharCustomization||(s.charCustomization=a),s}function Dw(t,n){return pt(this,null,function*(){let e=t*2-1+n,r=yield fetch(`${window.CONTENT_PATH}meta/charactercustomization/${e}.json`).then(i=>i.json());return r.data?r.data:r})}var nr=class extends ZamModelViewer{getListAnimations(){return[...new Set(this.renderer.actors[0].d.c.y.map(n=>n.g))]}setDistance(n){this.renderer.distance=n}setSheath(n){this.renderer.actors[0].setSheath(n)}setAnimation(n){this.renderer.actors[0].setAnimation(n)}setAnimPaused(n){this.renderer.actors[0].setAnimPaused(n)}setAzimuth(n){this.renderer.azimuth=n}setZenith(n){this.renderer.zenith=n}getAzimuth(){return this.renderer.azimuth}getZenith(){return this.renderer.zenith}updateItemViewer(n,e,r){let i=window.WH.Wow.Item;i.INVENTORY_TYPE_SHOULDERS;let o=n===i.INVENTORY_TYPE_ROBE?i.INVENTORY_TYPE_CHEST:n;window.WH.debug("Clearing model viewer slot:",o.toString()),this.method("clearSlots",n.toString()),e&&(window.WH.debug("Attaching to model viewer slot:",n.toString(),"Display ID:",e,"Enchant Visual:",r),this.method("setItems",[[{slot:n,display:e,visual:r||0}]]))}setNewAppearance(n){if(!this.currentCharacterOptions)throw Error("Character options are not set");let e=Wm(n,this.currentCharacterOptions),r=this.characterRace,i=this.characterGender;this.method("setAppearance",{race:r,gender:i,options:e})}};nr.prototype._currentCharacterOptions=0;nr.prototype._characterGender=null;nr.prototype._characterRace=null;Object.defineProperty(nr.prototype,"currentCharacterOptions",{get:function(){return this._currentCharacterOptions},set:function(t){this._currentCharacterOptions=t}});Object.defineProperty(nr.prototype,"characterGender",{get:function(){return this._characterGender},set:function(t){this._characterGender=t}});Object.defineProperty(nr.prototype,"characterRace",{get:function(){return this._characterRace},set:function(t){this._characterRace=t}});function bw(t,n,e,r="live"){return pt(this,null,function*(){let i,o;if(e.id&&e.type){let{id:l,type:c}=e;i={models:{id:l,type:c}}}else{let{race:l,gender:c}=e;o=yield Dw(l,c),i=ww(e,o)}r==="classic"?i=N({dataEnv:"classic",env:"classic",gameDataEnv:"classic",hd:!1},i):i=N({hd:!0},i);let a=N({type:2,contentPath:window.CONTENT_PATH,container:jQuery(n),aspect:t},i),s=yield new nr(a);return o&&(s.currentCharacterOptions=o,s.characterGender=e.gender,s.characterRace=e.race),s})}var Iw=(()=>{let n=class n{constructor(r,i){this.animationService=r,this.dataService=i,this.modelViewer=null}loadModel(r,i,o="model-viewer"){return pt(this,null,function*(){let a=document.getElementById(o);if(!a){console.warn(`No #${o} element found`);return}let s={race:isNaN(+r.RACE)?1:+r.RACE,gender:isNaN(+r.GENDER)?0:+r.GENDER,skin:isNaN(+r.SKIN)?0:+r.SKIN,face:isNaN(+r.FACE)?0:+r.FACE,hairStyle:isNaN(+r.HAIRSTYLE)?0:+r.HAIRSTYLE,hairColor:isNaN(+r.HAIRCOLOR)?0:+r.HAIRCOLOR,facialStyle:isNaN(+r.FACIALSTYLE)?0:+r.FACIALSTYLE,items:[]};i.forEach(l=>{let c=l.dbId;if(c!==-1){let u=this.dataService.getItemsMap().get(c);if(u){let d=l.slot;l.slot===5&&u.eq_type===20&&(d=20),s.items.push([d,u.disp_id])}}}),+r.CLASSID!=5?s.items=s.items.filter(l=>l[0]!==26):i.find(c=>c.slot===26)?.dbId!==-1&&(s.items=s.items.filter(c=>c[0]!==21&&c[0]!==22));try{let l=yield bw(1,`#${o}`,s);this.modelViewer=l,a.modelViewer=l}catch(l){console.error("Error generating model for player:",r.NAME,l)}})}destroyModelViewer(r="model-viewer"){let i=document.getElementById(r);if(i){if(this.modelViewer&&typeof this.modelViewer.destroy=="function")try{this.modelViewer.destroy()}catch(o){console.error("Error destroying model viewer:",o)}this.modelViewer=null,i.modelViewer=null,i.innerHTML=""}}updateAppearance(r){this.modelViewer&&this.modelViewer.setNewAppearance({skin:+r.SKIN,face:+r.FACE,hairStyle:+r.HAIRSTYLE,hairColor:+r.HAIRCOLOR,facialStyle:+r.FACIALSTYLE})}getModelViewer(){return this.modelViewer}};n.\u0275fac=function(i){return new(i||n)(U(ps),U(It))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var $A=["dpsChart"],GA=t=>({"top-left":t}),zA=t=>({"background-color":t,color:"black"}),Id=t=>({"compact-tooltip":t}),Mw=t=>({"bottom-up":t}),xw=(t,n)=>({equippedItems:t,slot:n}),WA=()=>[6,7],Tw=()=>[5,6,7],qA=()=>[2,5,6,7],YA=()=>[4,5];function KA(t,n){if(t&1){let e=pe();g(0,"button",17),z("click",function(){j(e);let i=S();return H(i.toggleHelpOverlay())}),Y(1,"img",18),f()}if(t&2){let e=S();C("ngClass",vt(1,GA,e.currentPlayer))}}function ZA(t,n){if(t&1){let e=pe();g(0,"div",19),Y(1,"div",20),et(2,"safeHtml"),g(3,"button",21),z("click",function(){j(e);let i=S();return H(i.toggleHelpOverlay())}),v(4,"OK"),f()()}if(t&2){let e=S();p(),C("innerHTML",Br(2,1,e.getHelpContent()),bt)}}function QA(t,n){if(t&1){let e=pe();g(0,"div",22),z("click",function(){j(e);let i=S();return H(i.toggleNameEdit())}),v(1),f()}if(t&2){let e=S();C("ngStyle",vt(2,zA,e.getColor(e.currentPlayer.CLASSID))),p(),ne(" ",e.currentPlayer.NAME," ")}}function XA(t,n){if(t&1){let e=pe();g(0,"input",23),Pt("ngModelChange",function(i){j(e);let o=S();return jt(o.newPlayerName,i)||(o.newPlayerName=i),H(i)}),z("blur",function(){j(e);let i=S();return H(i.savePlayerName())})("keyup.enter",function(){j(e);let i=S();return H(i.savePlayerName())}),f()}if(t&2){let e=S();Rt("ngModel",e.newPlayerName)}}function JA(t,n){t&1&&(g(0,"button",41),v(1," OWNED "),f())}function eN(t,n){if(t&1){let e=pe();g(0,"button",42),z("pointerdown",function(){j(e);let i=S(3);return H(i.selectedTooltip&&i.startBuyItem(i.selectedTooltip.dbId))})("pointerup",function(){j(e);let i=S(3);return H(i.cancelBuyItem())})("pointerleave",function(){j(e);let i=S(3);return H(i.cancelBuyItem())}),v(1," HOLD TO BUY... "),Y(2,"img",43),g(3,"span"),v(4),f(),Y(5,"img",44),g(6,"span"),v(7),f()()}if(t&2){let e,r,i=S(3);De("can-afford",i.selectedTooltip&&i.canAffordItem(i.selectedTooltip.dbId))("cannot-afford",i.selectedTooltip&&!i.canAffordItem(i.selectedTooltip.dbId))("buying",i.isBuying),p(4),Q(i.selectedTooltip&&(((e=i.getItems().get(i.selectedTooltip.dbId))==null?null:e.fiery_core)||0)),p(3),Q(i.selectedTooltip&&(((r=i.getItems().get(i.selectedTooltip.dbId))==null?null:r.lava_core)||0))}}function tN(t,n){if(t&1&&(g(0,"div",38),k(1,JA,2,0,"button",39)(2,eN,8,8,"button",40),f()),t&2){let e=S(2);p(),C("ngIf",e.selectedTooltip&&e.isItemOwned(e.selectedTooltip.dbId)),p(),C("ngIf",e.selectedTooltip&&!e.isItemOwned(e.selectedTooltip.dbId))}}function nN(t,n){if(t&1&&(g(0,"div",45)(1,"div",46),Y(2,"img",47),g(3,"span"),v(4),f()(),g(5,"div",46),Y(6,"img",43),g(7,"span"),v(8),f()(),g(9,"div",46),Y(10,"img",44),g(11,"span"),v(12),f()()()),t&2){let e=S(2);p(4),ne("x",e.guildBank.gold.toFixed(2)),p(4),ne("x",e.guildBank.fieryCores),p(4),ne("x",e.guildBank.lavaCores)}}function rN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),ne(" ",e," ")}}function iN(t,n){if(t&1){let e=pe();g(0,"div",48)(1,"select",49),z("change",function(i){j(e);let o=S(2);return H(o.onAnimationChange(i))}),k(2,rN,2,2,"option",50),f()()}if(t&2){let e=S(2);p(2),C("ngForOf",e.animationService.getAnimations())}}function oN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.RACEID),p(),Q(e.RACE)}}function sN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),Q(e)}}function aN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),Q(e)}}function lN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),Q(e)}}function cN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),Q(e)}}function uN(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),Q(e)}}function dN(t,n){if(t&1){let e=pe();g(0,"div",52)(1,"div",53)(2,"label"),v(3,"Race"),f(),g(4,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.selectedRaceId,i)||(o.selectedRaceId=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateRaceGender(i.selectedRaceId,i.selectedGender))}),k(5,oN,2,2,"option",50),f()(),g(6,"div",53)(7,"label"),v(8,"Gender"),f(),g(9,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.selectedGender,i)||(o.selectedGender=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateRaceGender(i.selectedRaceId,i.selectedGender))}),g(10,"option",51),v(11,"Male"),f(),g(12,"option",51),v(13,"Female"),f()()(),g(14,"div",53)(15,"div",55)(16,"button",56),z("pointerdown",function(){j(e);let i=S(2);return H(i.startRandomizing())})("pointerup",function(){j(e);let i=S(2);return H(i.stopRandomizing())})("pointerleave",function(){j(e);let i=S(2);return H(i.stopRandomizing())})("click",function(){j(e);let i=S(2);return H(i.randomizeCustomization())}),Y(17,"img",57),f()()(),g(18,"div",53)(19,"label"),v(20,"Skin"),f(),g(21,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.currentPlayer.SKIN,i)||(o.currentPlayer.SKIN=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateCustomization("SKIN",i.currentPlayer.SKIN))}),k(22,sN,2,2,"option",50),f()(),g(23,"div",53)(24,"label"),v(25,"Face"),f(),g(26,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.currentPlayer.FACE,i)||(o.currentPlayer.FACE=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateCustomization("FACE",i.currentPlayer.FACE))}),k(27,aN,2,2,"option",50),f()(),g(28,"div",53)(29,"label"),v(30,"Hairstyle"),f(),g(31,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.currentPlayer.HAIRSTYLE,i)||(o.currentPlayer.HAIRSTYLE=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateCustomization("HAIRSTYLE",i.currentPlayer.HAIRSTYLE))}),k(32,lN,2,2,"option",50),f()(),g(33,"div",53)(34,"label"),v(35,"Hair Color"),f(),g(36,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.currentPlayer.HAIRCOLOR,i)||(o.currentPlayer.HAIRCOLOR=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateCustomization("HAIRCOLOR",i.currentPlayer.HAIRCOLOR))}),k(37,cN,2,2,"option",50),f()(),g(38,"div",53)(39,"label"),v(40,"Facial Style"),f(),g(41,"select",54),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.currentPlayer.FACIALSTYLE,i)||(o.currentPlayer.FACIALSTYLE=i),H(i)}),z("change",function(){j(e);let i=S(2);return H(i.updateCustomization("FACIALSTYLE",i.currentPlayer.FACIALSTYLE))}),k(42,uN,2,2,"option",50),f()()()}if(t&2){let e=S(2);p(4),Rt("ngModel",e.selectedRaceId),p(),C("ngForOf",e.getAvailableRaces()),p(4),Rt("ngModel",e.selectedGender),p(),C("value",0),p(2),C("value",1),p(9),Rt("ngModel",e.currentPlayer.SKIN),p(),C("ngForOf",e.getRange(e.availableOptions.SKIN)),p(4),Rt("ngModel",e.currentPlayer.FACE),p(),C("ngForOf",e.getRange(e.availableOptions.FACE)),p(4),Rt("ngModel",e.currentPlayer.HAIRSTYLE),p(),C("ngForOf",e.getRange(e.availableOptions.HAIRSTYLE)),p(4),Rt("ngModel",e.currentPlayer.HAIRCOLOR),p(),C("ngForOf",e.getRange(e.availableOptions.HAIRCOLOR)),p(4),Rt("ngModel",e.currentPlayer.FACIALSTYLE),p(),C("ngForOf",e.getRange(e.availableOptions.FACIALSTYLE))}}function fN(t,n){if(t&1&&Y(0,"div",66),t&2){let e=S().$implicit,r=S(3);C("ngClass",vt(2,Id,r.useCompactTooltips))("innerHTML",r.getItemTooltip(e.dbId),bt)}}function hN(t,n){if(t&1&&Y(0,"div",66),t&2){let e=S().$implicit,r=S(5);C("ngClass",vt(2,Id,r.useCompactTooltips))("innerHTML",r.getItemTooltip(e),bt)}}function pN(t,n){if(t&1){let e=pe();g(0,"div",70)(1,"img",72),z("click",function(i){let o=j(e).$implicit,a=S(2).$implicit,s=S(3);return H(s.toggleItemTooltip(a.slot,o,!0,i))}),f(),k(2,hN,1,4,"div",64),f()}if(t&2){let e=n.$implicit,r=S(2).$implicit,i=S(3);Tn("data-quality",i.getItemQuality(e)),p(),De("selected",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===e&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory)),C("src",i.getItemIcon(e),Ne),p(),C("ngIf",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===e&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory))}}function gN(t,n){if(t&1){let e=pe();g(0,"div",67)(1,"div",68),k(2,pN,3,5,"div",69),et(3,"filterEquip"),f(),g(4,"div",70)(5,"button",71),z("click",function(){j(e);let i=S().$implicit,o=S(3);return H(o.swapItem(i.slot,null))}),v(6," Unequip "),f()()()}if(t&2){let e=S().$implicit,r=S(3);C("ngClass",vt(5,Mw,r.isBottomUpSlot(e.slot))),p(2),C("ngForOf",At(3,2,r.getFilteredInventoryItems(e.slot),Fo(7,xw,r.equippedItems,e.slot)))}}function mN(t,n){if(t&1){let e=pe();g(0,"div",62)(1,"img",63),z("click",function(i){let o=j(e).$implicit,a=S(3);return H(a.toggleItemTooltip(o.slot,o.dbId,!1,i))}),f(),k(2,fN,1,4,"div",64)(3,gN,7,10,"div",65),f()}if(t&2){let e=n.$implicit,r=S(3);Tn("data-quality",r.getItemQuality(e.dbId)),p(),De("selected",(r.selectedTooltip==null?null:r.selectedTooltip.slot)===e.slot||r.selectedInventorySlot===e.slot),C("src",r.getItemIcon(e.dbId),Ne),p(),C("ngIf",r.selectedTooltip&&(r.selectedTooltip==null?null:r.selectedTooltip.slot)===e.slot&&(r.selectedTooltip==null?null:r.selectedTooltip.dbId)===e.dbId&&!r.selectedTooltip.isInventory),p(),C("ngIf",r.selectedInventorySlot===e.slot)}}function _N(t,n){if(t&1&&Y(0,"div",66),t&2){let e=S().$implicit,r=S(3);C("ngClass",vt(2,Id,r.useCompactTooltips))("innerHTML",r.getItemTooltip(e.dbId),bt)}}function vN(t,n){if(t&1&&Y(0,"div",66),t&2){let e=S().$implicit,r=S(5);C("ngClass",vt(2,Id,r.useCompactTooltips))("innerHTML",r.getItemTooltip(e),bt)}}function yN(t,n){if(t&1){let e=pe();g(0,"div",70)(1,"img",72),z("click",function(i){let o=j(e).$implicit,a=S(2).$implicit,s=S(3);return H(s.toggleItemTooltip(a.slot,o,!0,i))}),f(),k(2,vN,1,4,"div",64),f()}if(t&2){let e=n.$implicit,r=S(2).$implicit,i=S(3);Tn("data-quality",i.getItemQuality(e)),p(),De("selected",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===e&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory)),C("src",i.getItemIcon(e),Ne),p(),C("ngIf",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===e&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory))}}function CN(t,n){if(t&1){let e=pe();g(0,"div",67)(1,"div",73),k(2,yN,3,5,"div",69),et(3,"filterEquip"),f(),g(4,"div",70)(5,"button",71),z("click",function(){j(e);let i=S().$implicit,o=S(3);return H(o.swapItem(i.slot,null))}),v(6," Unequip "),f()()()}if(t&2){let e=S().$implicit,r=S(3);C("ngClass",vt(5,Mw,r.isBottomUpSlot(e.slot))),p(2),C("ngForOf",At(3,2,r.getFilteredInventoryItems(e.slot),Fo(7,xw,r.equippedItems,e.slot)))}}function SN(t,n){if(t&1){let e=pe();g(0,"div",62)(1,"img",63),z("click",function(i){let o=j(e).$implicit,a=S(3);return H(a.toggleItemTooltip(o.slot,o.dbId,!1,i))}),f(),k(2,_N,1,4,"div",64)(3,CN,7,10,"div",65),f()}if(t&2){let e=n.$implicit,r=S(3);Tn("data-quality",r.getItemQuality(e.dbId)),p(),De("selected",(r.selectedTooltip==null?null:r.selectedTooltip.slot)===e.slot||r.selectedInventorySlot===e.slot),C("src",r.getItemIcon(e.dbId),Ne),p(),C("ngIf",r.selectedTooltip&&(r.selectedTooltip==null?null:r.selectedTooltip.slot)===e.slot&&(r.selectedTooltip==null?null:r.selectedTooltip.dbId)===e.dbId&&!r.selectedTooltip.isInventory),p(),C("ngIf",r.selectedInventorySlot===e.slot)}}function EN(t,n){if(t&1&&(g(0,"div",58)(1,"div",59),k(2,mN,4,6,"div",60),et(3,"filterBySide"),f(),g(4,"div",61),k(5,SN,4,6,"div",60),et(6,"filterBySide"),f()()),t&2){let e=S(2);p(2),C("ngForOf",At(3,2,e.equippedItems,"left")),p(3),C("ngForOf",At(6,5,e.equippedItems,"right"))}}function wN(t,n){if(t&1){let e=pe();g(0,"div",24),k(1,tN,3,2,"div",25)(2,nN,13,3,"div",26),g(3,"div",27)(4,"button",15),z("click",function(){j(e);let i=S();return H(i.setGearSubTab("equipment"))}),Y(5,"img",28),f(),g(6,"button",15),z("click",function(){j(e);let i=S();return H(i.setGearSubTab("customization"))}),Y(7,"img",29),f(),g(8,"button",15),z("click",function(){j(e);let i=S();return H(i.setGearSubTab("crafted"))}),Y(9,"img",30),f(),g(10,"button",15),z("click",function(){j(e);let i=S();return H(i.setGearSubTab("dungeon"))}),Y(11,"img",31),f(),g(12,"button",15),z("click",function(){j(e);let i=S();return H(i.setGearSubTab("mcquest"))}),Y(13,"img",32),f()(),Y(14,"div",33),k(15,iN,3,1,"div",34)(16,dN,43,15,"div",35)(17,EN,7,8,"div",36),Y(18,"div",37),f()}if(t&2){let e=S();p(),C("ngIf",e.selectedGearSubTab==="crafted"&&e.selectedTooltip),p(),C("ngIf",e.selectedGearSubTab==="crafted"),p(2),De("active",e.selectedGearSubTab==="equipment"),p(2),De("active",e.selectedGearSubTab==="customization"),p(2),De("active",e.selectedGearSubTab==="crafted"),p(2),De("active",e.selectedGearSubTab==="dungeon"),p(2),De("active",e.selectedGearSubTab==="mcquest"),p(3),C("ngIf",e.selectedGearSubTab==="customization"),p(),C("ngIf",e.selectedGearSubTab==="customization"),p(),C("ngIf",e.selectedGearSubTab!=="customization")}}function DN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=n.$implicit,r=S(2);p(2),ne("",e.label,":"),p(2),Q(r.cachedStats.general[e.key])}}function bN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Mana:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),Q(e.cachedStats.general.mana)}}function IN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Ranged Attack Power:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),Q(e.cachedStats.rangedAttackPower)}}function TN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(2),ne("Melee Damage OH (",e.cachedStats.damage.OHskill,"):"),p(2),qn("",e.cachedStats.damage.OHmin," - ",e.cachedStats.damage.OHmax," / ",e.cachedStats.damage.OHspeed,"s")}}function MN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(2),ne("Ranged Damage (",e.cachedStats.damage.Rskill,"):"),p(2),qn("",e.cachedStats.damage.Rmin," - ",e.cachedStats.damage.Rmax," / ",(e.cachedStats.damage.Rspeed/(1+e.cachedStats.attackSpeed)).toFixed(2),"s")}}function xN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Attack Speed:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),ne("",e.cachedStats.attackSpeed,"%")}}function RN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Melee Hit:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),ne("",e.cachedStats.hitChance,"%")}}function PN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Parry Chance:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),ne("",e.cachedStats.parryChance,"%")}}function AN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Block Chance:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),ne("",e.cachedStats.blockChance,"%")}}function NN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Block Value:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(2);p(4),Q(e.cachedStats.blockValue)}}function ON(t,n){if(t&1&&(g(0,"div",102)(1,"span",103),v(2),f(),g(3,"span",104),v(4),f(),g(5,"span",104),v(6),f()()),t&2){let e=n.$implicit;p(2),Q(e.label),p(2),Q(e.value),p(2),Q(e.damage)}}function kN(t,n){if(t&1&&(g(0,"div",90)(1,"h3"),v(2,"Dual-Wield Combat Table"),f(),g(3,"div",100)(4,"div",92),v(5,"Outcome"),f(),g(6,"div",92),v(7,"Chance"),f(),g(8,"div",92),v(9,"Damage"),f(),k(10,ON,7,3,"div",101),f()()),t&2){let e=S(2);p(10),C("ngForOf",e.getCombatTable("dual-wield"))}}function LN(t,n){if(t&1&&(g(0,"div",102)(1,"span",103),v(2),f(),g(3,"span",104),v(4),f(),g(5,"span",104),v(6),f()()),t&2){let e=n.$implicit;p(2),Q(e.label),p(2),Q(e.value),p(2),Q(e.damage)}}function FN(t,n){if(t&1&&(g(0,"div",90)(1,"h3"),v(2,"Melee Combat Table"),f(),g(3,"div",100)(4,"div",92),v(5,"Outcome"),f(),g(6,"div",92),v(7,"Chance"),f(),g(8,"div",92),v(9,"Damage"),f(),k(10,LN,7,3,"div",101),f()()),t&2){let e=S(2);p(10),C("ngForOf",e.getCombatTable("melee"))}}function VN(t,n){if(t&1&&(g(0,"div",102)(1,"span",103),v(2),f(),g(3,"span",104),v(4),f(),g(5,"span",104),v(6),f()()),t&2){let e=n.$implicit;p(2),Q(e.label),p(2),Q(e.value),p(2),Q(e.damage)}}function jN(t,n){if(t&1&&(g(0,"div",90)(1,"h3"),v(2,"Ranged Combat Table"),f(),g(3,"div",100)(4,"div",92),v(5,"Outcome"),f(),g(6,"div",92),v(7,"Chance"),f(),g(8,"div",92),v(9,"Damage"),f(),k(10,VN,7,3,"div",101),f()()),t&2){let e=S(2);p(10),C("ngForOf",e.getCombatTable("ranged"))}}function HN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Spell Hit:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S(3);p(4),ne("",e.cachedStats.spellHitChance,"%")}}function BN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=n.$implicit,r=S(3);p(2),ne("",e.label,":"),p(2),Q(r.cachedStats.spellPower[e.key])}}function UN(t,n){if(t&1&&(g(0,"div",102)(1,"span",103),v(2),f(),g(3,"span",104),v(4),f(),g(5,"span",104),v(6),f()()),t&2){let e=n.$implicit;p(2),Q(e.label),p(2),Q(e.value),p(2),Q(e.damage)}}function $N(t,n){if(t&1&&(g(0,"details",84)(1,"summary",81),v(2,"Spell Stats"),f(),k(3,HN,5,1,"div",83),g(4,"div",85)(5,"span",86),v(6,"Spell Critical:"),f(),g(7,"span",87),v(8),f()(),g(9,"div",85)(10,"span",86),v(11,"Mana Regen - Idle:"),f(),g(12,"span",87),v(13),f()(),g(14,"div",85)(15,"span",86),v(16,"Mana Regen - Casting:"),f(),g(17,"span",87),v(18),f()(),k(19,BN,5,2,"div",82),g(20,"div",90)(21,"h3"),v(22,"Spell Combat Table"),f(),g(23,"div",100)(24,"div",92),v(25,"Outcome"),f(),g(26,"div",92),v(27,"Chance"),f(),g(28,"div",92),v(29,"Damage"),f(),k(30,UN,7,3,"div",101),f()()()),t&2){let e=S(2);p(3),C("ngIf",e.cachedStats.spellHitChance>0),p(5),ne("",e.cachedStats.spellCritChance,"%"),p(5),Q((e.cachedStats.manaPer5*.4+e.cachedStats.spiritTick).toFixed(1)),p(5),Q((e.cachedStats.manaPer5*.4+e.cachedStats.spiritTick*e.cachedStats.spiritCastPct/100).toFixed(1)),p(),C("ngForOf",e.spellPowerStats),p(11),C("ngForOf",e.getCombatTable("spell"))}}function GN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=n.$implicit,r=S(2);p(2),ne("",e.label,":"),p(2),Q(r.cachedStats.resistances[e.key])}}function zN(t,n){if(t&1&&(vr(0),g(1,"div",102)(2,"span",103),v(3),f(),g(4,"span",104),v(5),f(),g(6,"span",104),v(7),f(),g(8,"span",104),v(9),f(),g(10,"span",104),v(11),f(),g(12,"span",104),v(13),f()(),yr()),t&2){let e=n.$implicit;p(3),Q(e.label),p(2),Q(e.fire),p(2),Q(e.shadow),p(2),Q(e.nature),p(2),Q(e.frost),p(2),Q(e.arcane)}}function WN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=n.$implicit,r=S().$implicit,i=S(3);p(2),ne("",e.label,":"),p(2),Q(i.cachedStats.pets[r].general[e.key])}}function qN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2),f(),g(3,"span",87),v(4),f()()),t&2){let e=n.$implicit,r=S().$implicit,i=S(3);p(2),ne("",e.label,":"),p(2),Q(i.cachedStats.pets[r].resistances[e.key])}}function YN(t,n){if(t&1&&(g(0,"div",85)(1,"span",86),v(2,"Abilities:"),f(),g(3,"span",87),v(4),f()()),t&2){let e=S().$implicit,r=S(3);p(4),Q(r.cachedStats.pets[e].abilities.join(", "))}}function KN(t,n){if(t&1&&(g(0,"div",106)(1,"h3",107),v(2),et(3,"titlecase"),f(),k(4,WN,5,2,"div",82),g(5,"div",85)(6,"span",86),v(7,"Armor:"),f(),g(8,"span",87),v(9),f()(),g(10,"div",85)(11,"span",86),v(12,"Attack Power:"),f(),g(13,"span",87),v(14),f()(),g(15,"div",85)(16,"span",86),v(17,"Damage:"),f(),g(18,"span",87),v(19),f()(),g(20,"div",85)(21,"span",86),v(22,"Defense:"),f(),g(23,"span",87),v(24),f()(),k(25,qN,5,2,"div",82)(26,YN,5,1,"div",83),f()),t&2){let e=n.$implicit,r=S(3);p(2),Q(Br(3,10,e)),p(2),C("ngForOf",r.generalStats),p(5),Q(r.cachedStats.pets[e].armor),p(5),Q(r.cachedStats.pets[e].attackPower),p(5),qn("",r.cachedStats.pets[e].damage.min," - ",r.cachedStats.pets[e].damage.max," / ",r.cachedStats.pets[e].damage.speed,"s"),p(5),Q(r.cachedStats.pets[e].defense),p(),C("ngForOf",r.resistanceStats),p(),C("ngIf",r.cachedStats.pets[e].abilities.length>0)}}function ZN(t,n){if(t&1&&(g(0,"details",84)(1,"summary",81),v(2,"Pet Stats"),f(),k(3,KN,27,12,"div",105),f()),t&2){let e=S(2);p(3),C("ngForOf",e.petNames)}}function QN(t,n){if(t&1&&(g(0,"div",108),Y(1,"img",109)(2,"span",110),f()),t&2){let e=n.$implicit;p(),C("alt",la(e.name))("src","/assets/icons/"+e.icon+".jpg",Ne),p(),C("innerHTML",e.updatedTooltip,bt)}}function XN(t,n){if(t&1){let e=pe();g(0,"div",74)(1,"div",75)(2,"button",15),z("click",function(){j(e);let i=S();return H(i.setStatsSubTab("base"))}),Y(3,"img",76),f(),g(4,"button",15),z("click",function(){j(e);let i=S();return H(i.setStatsSubTab("buffed"))}),Y(5,"img",77),f()(),g(6,"div",78)(7,"div",79)(8,"h3"),v(9),f(),g(10,"details",80)(11,"summary",81),v(12,"General Stats"),f(),k(13,DN,5,2,"div",82)(14,bN,5,1,"div",83),f(),g(15,"details",84)(16,"summary",81),v(17,"Combat Stats"),f(),g(18,"div",85)(19,"span",86),v(20,"Armor:"),f(),g(21,"span",87),v(22),f()(),g(23,"div",85)(24,"span",86),v(25,"Armor %:"),f(),g(26,"span",87),v(27),f()(),g(28,"div",85)(29,"span",86),v(30,"Attack Power:"),f(),g(31,"span",87),v(32),f()(),k(33,IN,5,1,"div",83),g(34,"div",85)(35,"span",86),v(36),f(),g(37,"span",87),v(38),f()(),k(39,TN,5,4,"div",83)(40,MN,5,4,"div",83)(41,xN,5,1,"div",83)(42,RN,5,1,"div",83),g(43,"div",85)(44,"span",86),v(45,"Critical Strike:"),f(),g(46,"span",87),v(47),f()(),g(48,"div",85)(49,"span",86),v(50,"Dodge Chance:"),f(),g(51,"span",87),v(52),f()(),k(53,PN,5,1,"div",83)(54,AN,5,1,"div",83)(55,NN,5,1,"div",83),g(56,"div",85)(57,"span",86),v(58,"Defense:"),f(),g(59,"span",87),v(60),f()(),k(61,kN,11,1,"div",88)(62,FN,11,1,"div",88)(63,jN,11,1,"div",88),f(),k(64,$N,31,6,"details",89),g(65,"details",84)(66,"summary",81),v(67,"Resistances"),f(),k(68,GN,5,2,"div",82),g(69,"div",90)(70,"h3"),v(71,"Resistance Table"),f(),g(72,"div",91)(73,"div",92),v(74,"Result"),f(),g(75,"div",92),Y(76,"img",93),f(),g(77,"div",92),Y(78,"img",94),f(),g(79,"div",92),Y(80,"img",95),f(),g(81,"div",92),Y(82,"img",96),f(),g(83,"div",92),Y(84,"img",97),f(),k(85,zN,14,6,"ng-container",98),f()()(),k(86,ZN,4,1,"details",89),f(),k(87,QN,3,4,"div",99),f()()}if(t&2){let e=S();p(2),De("active",e.selectedStatsSubTab==="base"),p(2),De("active",e.selectedStatsSubTab==="buffed"),p(5),ne("Gear Score: ",e.cachedStats.gearscore),p(4),C("ngForOf",e.generalStats),p(),C("ngIf",!Yn(33,WA).includes(+e.currentPlayer.CLASSID)),p(8),Q(e.cachedStats.armor),p(5),Q(e.cachedStats.armorDR),p(5),Q(e.cachedStats.attackPower),p(),C("ngIf",Yn(34,Tw).includes(+e.currentPlayer.CLASSID)),p(3),ne("Melee Damage (",e.cachedStats.damage.MHskill,"):"),p(2),qn("",e.cachedStats.damage.MHmin," - ",e.cachedStats.damage.MHmax," / ",e.cachedStats.damage.MHspeed,"s"),p(),C("ngIf",e.cachedStats.damage.OHmin>0),p(),C("ngIf",e.cachedStats.damage.Rmin>0),p(),C("ngIf",e.cachedStats.attackSpeed),p(),C("ngIf",e.cachedStats.hitChance),p(5),ne("",e.cachedStats.critChance,"%"),p(5),ne("",e.cachedStats.dodgeChance,"%"),p(),C("ngIf",Yn(35,qA).includes(+e.currentPlayer.CLASSID)),p(),C("ngIf",e.cachedStats.blockValue>0),p(),C("ngIf",e.cachedStats.blockValue>0),p(5),Q(e.cachedStats.defense),p(),C("ngIf",e.showDualWieldTable()),p(),C("ngIf",e.showMeleeTable()),p(),C("ngIf",e.showRangedTable()),p(),C("ngIf",!Yn(36,Tw).includes(+e.currentPlayer.CLASSID)),p(4),C("ngForOf",e.resistanceStats),p(17),C("ngForOf",e.getResistTable()),p(),C("ngIf",Yn(37,YA).includes(+e.currentPlayer.CLASSID)&&e.petNames.length>0),p(),C("ngForOf",e.spellTooltips)}}function JN(t,n){if(t&1&&(g(0,"h2"),v(1),f()),t&2){let e=S(2);p(),Q(e.getClassName(e.currentPlayer.CLASSID))}}function eO(t,n){if(t&1&&(g(0,"h2"),v(1),f()),t&2){let e=S(2);p(),ne("",e.getRaceName(+e.currentPlayer.RACE)," Skills")}}function tO(t,n){if(t&1&&(g(0,"tr")(1,"td"),Y(2,"img",109),f(),Y(3,"td",115),et(4,"safeHtml"),f()),t&2){let e=n.$implicit;p(2),C("alt",la(e.SPELLNAME))("src","/assets/icons/"+e.ICON_NAME+".jpg",Ne),p(),C("innerHTML",Br(4,4,e.TOOLTIP),bt)}}function nO(t,n){if(t&1&&(g(0,"div",114)(1,"table"),k(2,tO,5,6,"tr",98),f()()),t&2){let e=S(2);p(2),C("ngForOf",e.getSpells(e.selectedSpellTab))}}function rO(t,n){if(t&1){let e=pe();g(0,"div",111),k(1,JN,2,1,"h2",112)(2,eO,2,1,"h2",112),g(3,"div",75)(4,"button",15),z("click",function(){j(e);let i=S();return H(i.setSpellTab("class"))}),Y(5,"img",16),f(),g(6,"button",15),z("click",function(){j(e);let i=S();return H(i.setSpellTab("racial"))}),Y(7,"img",16),f()(),k(8,nO,3,1,"div",113),f()}if(t&2){let e=S();p(),C("ngIf",e.selectedSpellTab==="class"),p(),C("ngIf",e.selectedSpellTab!=="class"),p(2),De("active",e.selectedSpellTab==="class"),p(),C("src","/assets/icons/class_"+e.getClassName(e.currentPlayer.CLASSID).toLowerCase()+".jpg",Ne),p(),De("active",e.selectedSpellTab==="racial"),p(),C("src","/assets/icons/achievement_character_"+e.getRaceName(+e.currentPlayer.RACE).toLowerCase()+"_"+(e.currentPlayer.GENDER==0?"male":"female")+".jpg",Ne),p(),C("ngIf",e.selectedSpellTab)}}function iO(t,n){if(t&1&&(g(0,"h2"),v(1),f()),t&2){let e=S(2);p(),Q(e.getTalentName())}}function oO(t,n){if(t&1){let e=pe();g(0,"button",15),z("click",function(){let i=j(e).$implicit,o=S(2);return H(o.setSpecTab(i))}),Y(1,"img",16),f()}if(t&2){let e=n.$implicit,r=S(2);De("active",r.selectedSpecTab===e),p(),C("src","/assets/icons/"+r.getTalentIcon(+e)+".jpg",Ne)}}function sO(t,n){if(t&1&&(g(0,"tr")(1,"td"),Y(2,"img",119),f(),Y(3,"td",115),et(4,"safeHtml"),f()),t&2){let e=n.$implicit;p(2),C("alt",la(e.SPELLNAME))("src","/assets/icons/"+e.ICON_NAME+".jpg",Ne),p(),C("innerHTML",Br(4,4,e.TOOLTIP),bt)}}function aO(t,n){if(t&1&&(g(0,"div",116),k(1,iO,2,1,"h2",112),g(2,"div",75),k(3,oO,2,3,"button",117),f(),g(4,"div",118)(5,"table"),k(6,sO,5,6,"tr",98),f()()()),t&2){let e=S();p(),C("ngIf",e.currentPlayer),p(2),C("ngForOf",e.talentBuilds),p(3),C("ngForOf",e.getTalents(e.selectedSpecTab))}}function lO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e),p(),Q(e)}}function cO(t,n){if(t&1){let e=pe();g(0,"button",15),z("click",function(){j(e);let i=S(3);return H(i.stopSimulation())}),v(1,"Stop Simulation"),f()}}function uO(t,n){if(t&1&&(g(0,"span"),v(1),et(2,"number"),f()),t&2){let e=S(4);p(),ne(" Mana: ",At(2,1,e.currentPlayer.resources.mana,"1.0-0"))}}function dO(t,n){if(t&1&&(g(0,"span"),v(1),et(2,"number"),f()),t&2){let e=S(4);p(),ne(" Energy: ",At(2,1,e.currentPlayer.resources.energy,"1.0-0"))}}function fO(t,n){if(t&1&&(g(0,"span"),v(1),et(2,"number"),f()),t&2){let e=S(4);p(),ne(" Combo: ",At(2,1,e.currentPlayer.resources.comboPoints,"1.0-0"))}}function hO(t,n){if(t&1&&(g(0,"span"),v(1),et(2,"number"),f()),t&2){let e=S(4);p(),ne(" Rage: ",At(2,1,e.currentPlayer.resources.rage,"1.0-0"))}}function pO(t,n){if(t&1&&(g(0,"span"),v(1),f()),t&2){let e=S(4);p(),ne("Time: ",e.simTime/1e3,"s ")}}function gO(t,n){if(t&1&&(g(0,"div")(1,"span"),v(2),et(3,"number"),f(),k(4,uO,3,4,"span",112)(5,dO,3,4,"span",112)(6,fO,3,4,"span",112)(7,hO,3,4,"span",112)(8,pO,2,1,"span",112),g(9,"span"),v(10),et(11,"number"),f()()),t&2){let e=S(3);p(2),ne("Player Health: ",At(3,7,e.currentPlayer.resources.health,"1.0-0")),p(2),C("ngIf",+e.currentPlayer.CLASSID!=6&&+e.currentPlayer.CLASSID!=7),p(),C("ngIf",+e.currentPlayer.CLASSID==6),p(),C("ngIf",+e.currentPlayer.CLASSID==6),p(),C("ngIf",+e.currentPlayer.CLASSID==7),p(),C("ngIf",e.simTime),p(2),ne("DPS: ",At(11,10,e.dps,"1.0-2"))}}function mO(t,n){if(t&1&&(g(0,"span"),v(1),et(2,"number"),f()),t&2){let e=S(4);p(),ne(" Mana: ",At(2,1,e.mob.resources.mana,"1.0-0"))}}function _O(t,n){if(t&1&&(g(0,"div")(1,"span"),v(2),et(3,"number"),f(),k(4,mO,3,4,"span",112),f()),t&2){let e=S(3);p(2),ne("Mob Health: ",At(3,2,e.mob.resources.health,"1.0-0")),p(2),C("ngIf",e.mob.resources.mana>0)}}function vO(t,n){if(t&1&&(g(0,"tr")(1,"td"),v(2),f(),g(3,"td"),v(4),et(5,"number"),f()()),t&2){let e=n.$implicit;p(2),Q(e.key),p(2),Q(At(5,2,e.value,"1.0-0"))}}function yO(t,n){if(t&1&&(vr(0),g(1,"h4"),v(2,"Damage Breakdown"),f(),g(3,"table")(4,"thead")(5,"tr")(6,"th"),v(7,"Source"),f(),g(8,"th"),v(9,"Damage"),f()()(),g(10,"tbody"),k(11,vO,6,5,"tr",98),f()(),yr()),t&2){let e=S(3);p(11),C("ngForOf",e.damageSourceEntries)}}function CO(t,n){if(t&1&&(g(0,"div"),v(1),f()),t&2){let e=n.$implicit;p(),Q(e)}}function SO(t,n){if(t&1){let e=pe();g(0,"div",125)(1,"h3"),v(2,"Combat Simulations (WIP)"),f(),g(3,"select",126),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.selectedMob,i)||(o.selectedMob=i),H(i)}),g(4,"option",127),v(5,"Select Mob"),f(),k(6,lO,2,2,"option",50),f(),g(7,"select",126),Pt("ngModelChange",function(i){j(e);let o=S(2);return jt(o.simulationSpeed,i)||(o.simulationSpeed=i),H(i)}),g(8,"option",51),v(9,"1x Speed"),f(),g(10,"option",51),v(11,"5x Speed"),f(),g(12,"option",51),v(13,"10x Speed"),f(),g(14,"option",51),v(15,"100x Speed"),f()(),g(16,"button",128),z("click",function(){j(e);let i=S(2);return H(i.startNewSimulation())}),v(17,"Run Simulation"),f(),k(18,cO,2,0,"button",129),g(19,"div",130),k(20,gO,12,13,"div",112)(21,_O,5,5,"div",112),f(),Y(22,"canvas",131,0),k(24,yO,12,1,"ng-container",112),g(25,"div",132),k(26,CO,2,1,"div",98),f()()}if(t&2){let e=S(2);p(3),Rt("ngModel",e.selectedMob),p(3),C("ngForOf",e.mobNames),p(),Rt("ngModel",e.simulationSpeed),p(),C("value",1),p(2),C("value",5),p(2),C("value",10),p(2),C("value",100),p(2),C("disabled",e.simulationRunning),p(2),C("ngIf",e.simulationRunning),p(2),C("ngIf",e.currentPlayer&&e.currentPlayer.resources&&(e.currentPlayer.resources.health||e.dps)),p(),C("ngIf",e.mob&&e.mob.resources&&e.mob.resources.health),p(3),C("ngIf",!e.simulationRunning&&e.damageSourceEntries.length>0),p(2),C("ngForOf",e.simulationLogs)}}function EO(t,n){if(t&1&&(g(0,"div",141),v(1),f()),t&2){let e=n.$implicit,r=S(4);p(),Q(r.getConditionDisplay(e))}}function wO(t,n){if(t&1){let e=pe();g(0,"tr",137)(1,"td"),Y(2,"img",138),f(),g(3,"td"),v(4),f(),g(5,"td"),k(6,EO,2,1,"div",139),f(),g(7,"td")(8,"button",15),z("click",function(){let i=j(e).index,o=S(3);return H(o.removeGambit(i))}),v(9,"X"),f()(),g(10,"div",140),v(11,"\u2630"),f()()}if(t&2){let e=n.$implicit,r=S(3);p(2),C("src","/assets/icons/"+r.getActionIconData(e).iconName+".jpg",Ne),p(2),Q(e.name),p(2),C("ngForOf",e.conditions)}}function DO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.id),p(),Q(e.name)}}function bO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.index),p(),Q(e.value)}}function IO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.index),p(),Q(e.value)}}function TO(t,n){if(t&1&&(g(0,"select",155)(1,"option",149),v(2,"Select Threshold"),f(),k(3,IO,2,2,"option",50),f()),t&2){let e=S(4);p(3),C("ngForOf",e.conditionB1Options)}}function MO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.index),p(),Q(e.value)}}function xO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.index),p(),Q(e.value)}}function RO(t,n){if(t&1&&(g(0,"select",158)(1,"option",149),v(2,"Select Threshold (optional)"),f(),k(3,xO,2,2,"option",50),f()),t&2){let e=S(5);p(3),C("ngForOf",e.conditionB2Options)}}function PO(t,n){if(t&1&&(g(0,"div",150)(1,"select",156)(2,"option",149),v(3,"Select Metric (optional)"),f(),k(4,MO,2,2,"option",50),f(),k(5,RO,4,1,"select",157),f()),t&2){let e,r=S(4);p(4),C("ngForOf",r.conditionAOptions),p(),C("ngIf",(e=r.gambitForm.get("conditionA2"))==null?null:e.value)}}function AO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.index),p(),Q(e.value)}}function NO(t,n){if(t&1&&(g(0,"option",51),v(1),f()),t&2){let e=n.$implicit;C("value",e.index),p(),Q(e.value)}}function OO(t,n){if(t&1&&(g(0,"select",161)(1,"option",149),v(2,"Select Threshold (optional)"),f(),k(3,NO,2,2,"option",50),f()),t&2){let e=S(5);p(3),C("ngForOf",e.conditionB3Options)}}function kO(t,n){if(t&1&&(g(0,"div",150)(1,"select",159)(2,"option",149),v(3,"Select Metric (optional)"),f(),k(4,AO,2,2,"option",50),f(),k(5,OO,4,1,"select",160),f()),t&2){let e,r=S(4);p(4),C("ngForOf",r.conditionAOptions),p(),C("ngIf",(e=r.gambitForm.get("conditionA3"))==null?null:e.value)}}function LO(t,n){if(t&1){let e=pe();g(0,"div",142)(1,"form",143)(2,"select",144)(3,"option",145),v(4,"Spell"),f(),g(5,"option",146),v(6,"Attack"),f(),g(7,"option",147),v(8,"Potion"),f()(),g(9,"select",148)(10,"option",149),v(11,"Select Action"),f(),k(12,DO,2,2,"option",50),f(),g(13,"div",150)(14,"select",151)(15,"option",149),v(16,"Select Metric"),f(),k(17,bO,2,2,"option",50),f(),k(18,TO,4,1,"select",152),f(),k(19,PO,6,2,"div",153)(20,kO,6,2,"div",153),g(21,"button",154),z("click",function(){j(e);let i=S(3);return H(i.addGambit())}),v(22,"Add Gambit"),f()()()}if(t&2){let e,r,i,o=S(3);p(),C("formGroup",o.gambitForm),p(11),C("ngForOf",o.availableActions),p(5),C("ngForOf",o.conditionAOptions),p(),C("ngIf",(e=o.gambitForm.get("conditionA1"))==null?null:e.value),p(),C("ngIf",(r=o.gambitForm.get("conditionB1"))==null?null:r.value),p(),C("ngIf",(i=o.gambitForm.get("conditionB2"))==null?null:i.value)}}function FO(t,n){if(t&1){let e=pe();g(0,"div",133)(1,"h3"),v(2,"Combat Gambits (WIP)"),f(),g(3,"table",134),z("cdkDropListDropped",function(i){j(e);let o=S(2);return H(o.onGambitDrop(i))}),g(4,"tr")(5,"th"),v(6,"Icon"),f(),g(7,"th"),v(8,"Action"),f(),g(9,"th"),v(10,"Condition"),f(),g(11,"th"),v(12,"Rem"),f()(),k(13,wO,12,3,"tr",135),f(),k(14,LO,23,6,"div",136),f()}if(t&2){let e=S(2);p(13),C("ngForOf",e.gambits),p(),C("ngIf",e.availableActions.length)}}function VO(t,n){if(t&1){let e=pe();g(0,"div",120)(1,"div",75)(2,"button",15),z("click",function(){j(e);let i=S();return H(i.setGambitSubTab("setup"))}),Y(3,"img",121),f(),g(4,"button",15),z("click",function(){j(e);let i=S();return H(i.setGambitSubTab("simulations"))}),Y(5,"img",122),f()(),k(6,SO,27,13,"div",123)(7,FO,15,2,"div",124),f()}if(t&2){let e=S();p(2),De("active",e.selectedGambitSubTab==="setup"),p(2),De("active",e.selectedGambitSubTab==="simulations"),p(2),C("ngIf",e.selectedGambitSubTab==="simulations"),p(),C("ngIf",e.selectedGambitSubTab==="setup")}}var Td=(()=>{let n=class n{constructor(r,i,o,a,s,l,c,u,d,y){this.http=r,this.animationService=i,this.statsService=o,this.dataService=a,this.utilityService=s,this.modelViewerService=l,this.gearService=c,this.helpService=u,this.fb=d,this.cdr=y,this.currentPlayer=null,this.players=[],this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.backToGridEvent=new Ee,this.playerIndex=-1,this.origSpec=-1,this.equippedItems=[],this.inventoryItems=[],this.selectedTooltip=null,this.selectedInventorySlot=null,this.selectedTab="gear",this.selectedSpecTab=0,this.selectedSpellTab="class",this.selectedGearSubTab="equipment",this.selectedStatsSubTab="base",this.selectedGambitSubTab="setup",this.talentBuilds=[0,1,2],this.cachedStats=null,this.spellTooltips=null,this.selectedRaceId=1,this.selectedGender=0,this.availableOptions=er[0].options,this.isEditingName=!1,this.newPlayerName="",this.useCompactTooltips=!1,this.clickX=null,this.clickY=null,this.isBuying=!1,this.buyTimer=null,this.generalStats=cd,this.resistanceStats=dd,this.spellPowerStats=ud,this.spellSchool=fd,this.durIndex=Ya,this.gambits=[{type:"spell",name:"Frostbolt",actionId:25304,conditions:[101]},{type:"spell",name:"Evocation",actionId:12051,conditions:[309]},{type:"spell",name:"Shoot",actionId:5019,conditions:[310]}],this.availableActions=[],this.conditionAOptions=[],this.conditionB1Options=[],this.conditionB2Options=[],this.conditionB3Options=[],this.conditionBOptions=Object.keys(fn).map(h=>({index:+h,value:fn[+h]})),this.formSubscriptions=[],this.selectedMob="Molten Giant",this.mob=null,this.mobNames=[],this.mobStats=null,this.simulationRunning=!1,this.simulationLogs=[],this.simulationSpeed=1,this.simTime=0,this.regenTimer=0,this.simTimer=null,this.totalDamage=0,this.damageBySource={},this.dps=0,this.dpsHistory=[],this.showHelpButton=!0,this.showHelpOverlay=!1,this.gambitForm=this.fb.group({type:["spell"],actionId:[""],conditionA1:[""],conditionB1:[""],conditionA2:[""],conditionB2:[""],conditionA3:[""],conditionB3:[""]})}ngOnInit(){let r=localStorage.getItem("useCompactTooltips");r!==null&&(this.useCompactTooltips=r.toLowerCase()==="true"),this.useCompactTooltips&&document.body.classList.add("compact-tooltip"),this.currentPlayer&&(this.viewPlayer(this.currentPlayer),this.updateAvailableActions(this.gambitForm.get("type")?.value),this.updateConditionAOptions()),this.mobNames=this.dataService.getRaidStats().map(i=>i.name).sort(),this.selectedMob=this.mobNames.includes("Molten Giant")?"Molten Giant":this.mobNames[0]||"",this.gambitForm.get("type").valueChanges.subscribe(i=>{this.updateAvailableActions(i),this.gambitForm.get("actionId").setValue("")}),this.formSubscriptions.push(this.gambitForm.get("conditionA1").valueChanges.subscribe(i=>{this.conditionB1Options=this.getConditionBOptions(i),this.cdr.markForCheck()}),this.gambitForm.get("conditionA2").valueChanges.subscribe(i=>{this.conditionB2Options=this.getConditionBOptions(i),this.cdr.markForCheck()}),this.gambitForm.get("conditionA3").valueChanges.subscribe(i=>{this.conditionB3Options=this.getConditionBOptions(i),this.cdr.markForCheck()}))}ngOnDestroy(){this.simTimer&&clearInterval(this.simTimer),this.modelViewerService.destroyModelViewer(),this.stopRandomizing(),this.cancelBuyItem(),this.formSubscriptions.forEach(r=>r.unsubscribe())}getColor(r){return this.utilityService.getColor(r)}getHelpContent(){return this.helpService.getHelpPlayer(this.currentPlayer,this.selectedTab,this.selectedSpecTab,this.selectedSpellTab,this.selectedGearSubTab,this.selectedStatsSubTab,this.talentBuilds)}toggleHelpOverlay(){this.showHelpOverlay=!this.showHelpOverlay}onGambitDrop(r){Dd(this.gambits,r.previousIndex,r.currentIndex)}startNewSimulation(){if(!this.currentPlayer||!this.cachedStats)return;let r=this.dataService.getRaidStats().find(o=>o.name===this.selectedMob);if(!r){console.warn("Mob not found:",this.selectedMob);return}this.mobStats={health:+r.max_health,mana:+r.max_mana,armor:+r.armor,dmg_mult:+r.dmg_multiplier,melee_min_base:+r.min_dmg,melee_max_base:+r.max_dmg,attack_power:+r.melee_attack_power,attack_power_r:0,min_damage:+r.min_dmg,max_damage:+r.max_dmg,melee_speed:+r.melee_attack_speed,speedwalk:+r.speedwalk,speedrun:+r.speedrun,damageschool:+r.damageschool,castSpeedMult:1,healModMult:1,attack_speed:0,strength:0,spellCritTaken:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},hitPct:0,dmgTakenMod:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},dmgTakenMult:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},shield:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},movespeed:+r.speedrun,schoolimmunemask:+r.schoolimmunemask,resistances:{fire:+r.resistancefire,shadow:+r.resistanceshadow,nature:+r.resistancenature,frost:+r.resistancefrost,arcane:+r.resistancearcane}},this.mob={guid:+r.id,npcID:+r.id,name:r.name,spawned:!0,respawnTimer:0,position:{map:0,posX:0,posY:0,posZ:0,orienation:0},scriptName:r.scriptname,activeBuffs:[],activeDebuffs:[],cooldowns:[],resources:{health:this.mobStats.health,mana:this.mobStats.mana,energy:0,rage:0,shield:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},timeNotCasting:5e3,swingAuto:!0,swingTimerM:this.mobStats.melee_speed,swingTimerO:0,swingTimerR:0,castTimer:0,spellCasting:0,channeling:!1,recoveryTime:0,comboPoints:0}},this.currentPlayer.resources={health:this.cachedStats.general.health,mana:this.cachedStats.general.mana,energy:+this.currentPlayer.CLASSID==6?100:0,rage:0,shield:{physical:0,holy:0,fire:0,nature:0,frost:0,shadow:0,arcane:0,magic:0,all:0},timeNotCasting:5e3,swingAuto:!1,swingTimerM:this.cachedStats.damage.MHspeed*1e3/(1+this.cachedStats.attackSpeed/100),swingTimerO:this.cachedStats.damage.OHmin>0?this.cachedStats.damage.OHspeed*1e3/(1+this.cachedStats.attackSpeed/100):0,swingTimerR:this.cachedStats.damage.Rmin>0?this.cachedStats.damage.Rspeed*1e3/(1+this.cachedStats.attackSpeed/100):0,castTimer:0,spellCasting:0,channeling:!1,recoveryTime:0,comboPoints:0},this.currentPlayer.activeBuffs=[],this.currentPlayer.activeDebuffs=[],this.currentPlayer.cooldowns=[],this.currentPlayer.resources.swingAuto=this.isMeleeDefault(),this.simTime=0,this.regenTimer=0,this.simulationLogs=[],this.simulationRunning=!0,this.totalDamage=0,this.dps=0,this.dpsHistory=[],this.damageBySource={};let i=100;this.simTimer=setInterval(()=>{for(let o=0;o<this.simulationSpeed;o++){if(this.simTime+=i,this.regenTimer+=i,!this.currentPlayer||!this.cachedStats||!this.mob||!this.mobStats){this.stopSimulation();return}if(this.currentPlayer.resources.timeNotCasting+=i,this.mob.resources.timeNotCasting+=i,this.currentPlayer.resources.recoveryTime>0&&(this.currentPlayer.resources.recoveryTime-=i,this.currentPlayer.resources.recoveryTime=Math.max(0,this.currentPlayer.resources.recoveryTime)),this.regenTimer>=2e3&&(this.handleRegen(),this.regenTimer=0),this.updateActiveEffects(this.currentPlayer),this.updateActiveEffects(this.mob),this.currentPlayer.cooldowns.forEach(a=>a.TIME_LEFT_MS-=i),this.currentPlayer.cooldowns=this.currentPlayer.cooldowns.filter(a=>a.TIME_LEFT_MS>0),this.mob.cooldowns.forEach(a=>a.TIME_LEFT_MS-=i),this.mob.cooldowns=this.mob.cooldowns.filter(a=>a.TIME_LEFT_MS>0),this.currentPlayer.resources.health<=0||this.mob.resources.health<=0){this.stopSimulation();return}this.currentPlayer.resources.castTimer>0&&(this.currentPlayer.resources.castTimer-=i,this.currentPlayer.resources.castTimer<=0&&(this.currentPlayer.resources.channeling?(this.currentPlayer.resources.channeling=!1,this.currentPlayer.resources.spellCasting=0,this.currentPlayer.resources.castTimer=0):(this.simulationLogs.push(`Time ${this.simTime/1e3}s: Cast ${this.currentPlayer.resources.spellCasting}`),this.castSpell(this.currentPlayer.resources.spellCasting)))),this.currentPlayer.resources.swingAuto&&(this.currentPlayer.resources.swingTimerM-=i,this.currentPlayer.resources.swingTimerM<=0&&(this.performAutoAttack("MH"),this.currentPlayer.resources.swingTimerM=this.cachedStats.damage.MHspeed*1e3,this.cachedStats.attackSpeed>0?this.currentPlayer.resources.swingTimerM/=1+this.cachedStats.attackSpeed/100:this.cachedStats.attackSpeed<0&&(this.currentPlayer.resources.swingTimerM*=1-this.cachedStats.attackSpeed/100)),this.currentPlayer.resources.swingTimerO>0&&(this.currentPlayer.resources.swingTimerO-=i,this.currentPlayer.resources.swingTimerO<=0&&(this.performAutoAttack("OH"),this.currentPlayer.resources.swingTimerO=this.cachedStats.damage.OHspeed*1e3,this.cachedStats.attackSpeed>0?this.currentPlayer.resources.swingTimerO/=1+this.cachedStats.attackSpeed/100:this.cachedStats.attackSpeed<0&&(this.currentPlayer.resources.swingTimerO*=1-this.cachedStats.attackSpeed/100)))),this.mob.resources.swingTimerM-=i,this.mob.resources.swingTimerM<=0&&(this.performMobAttack(),this.mob.resources.swingTimerM=this.mobStats.melee_speed),this.dps=this.simTime>0?this.totalDamage/(this.simTime/1e3):0,this.currentPlayer.resources.castTimer<=0&&this.evaluateGambits(),this.simTime%1e3===0&&(this.dpsHistory.push({time:this.simTime/1e3,dps:this.dps}),this.updateChart(),this.cdr.detectChanges())}},i)}get damageSourceEntries(){return Object.keys(this.damageBySource).map(r=>({key:r,value:this.damageBySource[r]}))}stopSimulation(){this.simTimer&&(clearInterval(this.simTimer),this.simTimer=null),this.simulationRunning=!1,this.currentPlayer&&this.mob&&(this.simulationLogs.push(`Simulation ended at ${this.simTime/1e3}s. Player health: ${Math.round(this.currentPlayer.resources.health)}, Mob health: ${Math.round(this.mob.resources.health)}`),this.cdr.detectChanges())}updateChart(){if(!this.dpsChart)return;let r=this.dpsChart.nativeElement,i=r.getContext("2d");if(!i||(i.clearRect(0,0,r.width,r.height),this.dpsHistory.length<2))return;let o=Math.max(...this.dpsHistory.map(s=>s.dps)),a=this.dpsHistory[this.dpsHistory.length-1].time;i.beginPath(),i.moveTo(0,r.height-this.dpsHistory[0].dps/o*r.height);for(let s=1;s<this.dpsHistory.length;s++){let l=this.dpsHistory[s].time/a*r.width,c=r.height-this.dpsHistory[s].dps/o*r.height;i.lineTo(l,c)}i.strokeStyle="blue",i.lineWidth=2,i.stroke()}handleRegen(){if(this.currentPlayer){if(this.cachedStats.general.mana>0){let r=this.cachedStats.spiritTick,i=r*(Math.min(100,this.cachedStats.spiritCastPct)/100),o=this.currentPlayer.resources.timeNotCasting>=5e3?r:i;this.currentPlayer.resources.mana+=o,this.currentPlayer.resources.mana=Math.min(this.currentPlayer.resources.mana,this.cachedStats.general.mana)}if(this.isEnergyUser()){let r=20;+this.cachedStats.energyRegenMult>0&&(r*=1+this.cachedStats.energyRegenMult/100),this.currentPlayer.resources.energy+=r,this.currentPlayer.resources.energy=Math.min(this.currentPlayer.resources.energy,100)}}}updateActiveEffects(r){let i=[...r.activeBuffs,...r.activeDebuffs],o=!("PLAYERID"in r),a=!1;for(let s=i.length-1;s>=0;s--){let l=i[s];if(l.amplitude>0&&(l.ampTimer-=100,l.ampTimer<=0)){let c=o?this.mobStats.health:this.cachedStats.general.health,u=o?this.mobStats.mana:this.cachedStats.general.mana;if(l.powerType===4||l.powerType===-1){if(o){let d=1;this.mobStats&&(d=this.getResistMultiplier(this.mobStats?.resistances,15,+l.school));let y=l.value*d;r.resources.health+=y,this.totalDamage-=y;let h=this.dataService.getSpells().find(w=>+w.SPELLID==+l.spellId);this.damageBySource[h.SPELLNAME]=(this.damageBySource[h.SPELLNAME]||0)-y}else r.resources.health+=l.value;r.resources.health=Math.max(0,r.resources.health),r.resources.health=Math.min(r.resources.health,c)}else l.powerType===0&&(r.resources.mana+=l.value,r.resources.mana=Math.max(0,r.resources.mana),r.resources.mana=Math.min(r.resources.mana,u));l.ampTimer=l.amplitude}if(l.durTimer-=100,l.durTimer<=0){r.activeBuffs.includes(l)?(this.simulationLogs.push(`Buff: ${l.spellId} faded`),r.activeBuffs.splice(r.activeBuffs.indexOf(l),1),a=!0):(this.simulationLogs.push(`Debuff: ${l.spellId} faded`),r.activeDebuffs.splice(r.activeDebuffs.indexOf(l),1),a=!0);continue}}a&&(o||(this.cachedStats=this.statsService.calculateStats(!0,this.currentPlayer,this.equippedItems,this.players)))}castSpell(r){if(!this.currentPlayer||!this.mob)return;let i=this.statsService.calculateSpellDetails(r,this.currentPlayer,this.cachedStats);if(!i)return;let o=this.dataService.getSpells().find(c=>+c.SPELLID==+r);+r==11689?this.consumePower(4,424):this.consumePower(i.costType,i.cost),i.cd>0&&this.addCooldown(r,i.cd),this.currentPlayer.resources.recoveryTime=i.global;let a=null,s=1,l="Hit";if([5,10,11].includes(+o.SPELLTYPE)){this.isMeleeDefault()?a="melee":+this.currentPlayer.CLASSID==5?a="ranged":a="spell";let c=this.statsService.getCombatTable(this.currentPlayer,this.cachedStats,a),u=Math.random()*100,d=0,y;for(let h of c){let w=parseFloat(h.value);if(d+=w,u<=d){y=h,l=h.label,s=parseFloat(h.damage)/100;break}}}else Math.random()*100<=this.cachedStats.spellCritChance?(s=1.5,l="Crit"):(s=1,l="Hit");if(s>0){[6774,11275,31016,31018,9896,11198].includes(+r)&&(this.currentPlayer.resources.comboPoints=0),[9904,9850,9830,11294,25300].includes(+r)&&(this.currentPlayer.resources.comboPoints+=1),i.channeled&&(this.currentPlayer.resources.castTimer=i.dur*1e3,this.currentPlayer.resources.spellCasting=r,this.currentPlayer.resources.channeling=!0);let c=0;if(+i.min1>0&&+i.amp1==0){let y=Math.random()*(i.max1-i.min1)+i.min1;c+=y}if(+i.min2>0&&+i.amp2==0){let y=Math.random()*(i.max2-i.min2)+i.min2;c+=y}if(c*=s,[5,10].includes(+i.spellType)){let y=1;[5,10,11].includes(+o.SPELLTYPE)&&[2,3,4,5,6].includes(+o.SCHOOL)&&this.mobStats&&(y=this.getResistMultiplier(this.mobStats.resistances,15,+o.SCHOOL),y===0&&this.simulationLogs.push(`Time ${this.simTime/1e3}s: Full Resist on ${o.SPELLNAME}`),c*=y),this.mob.resources.health-=c,this.totalDamage+=c,this.damageBySource[o.SPELLNAME]=(this.damageBySource[o.SPELLNAME]||0)+c,this.mob.resources.health=Math.max(0,this.mob.resources.health)}else+i.spellType==17?this.currentPlayer.resources.mana+=c:+i.spellType==18?this.currentPlayer.resources.mana+=c:+i.spellType==19?this.currentPlayer.resources.mana+=c:+i.spellType==2&&(this.currentPlayer.resources.health+=c);let u=!1,d=!1;if(+i.amp1>0&&+i.min1>0){let y=(i.min1+i.max1)/2;+i.spellType==10&&(y*=-1);let h={sourceName:this.currentPlayer.NAME,spellId:r,school:i.school,durTimer:i.dur*1e3,amplitude:i.amp1,ampTimer:i.amp1,stack:0,value:y,powerType:4};+i.spellType==10||+i.spellType==5||+i.spellType==7?(this.simulationLogs.push(`Debuff: ${r} applied`),this.mob.activeDebuffs.push(h),d=!0):(this.simulationLogs.push(`Buff: ${r} applied`),this.currentPlayer.activeBuffs.push(h),u=!0)}else if(i.amp2>0&&i.min2>0){let y=(i.min2+i.max2)/2;+i.spellType==10&&(y*=-1);let h={sourceName:this.currentPlayer.NAME,spellId:r,school:i.school,durTimer:i.dur*1e3,amplitude:i.amp2,ampTimer:i.amp2,stack:0,value:y,powerType:4};+i.spellType==10||+i.spellType==5||+i.spellType==7?(this.simulationLogs.push(`Debuff: ${r} applied`),this.mob.activeDebuffs.push(h),d=!0):(this.simulationLogs.push(`Buff: ${r} applied`),this.currentPlayer.activeBuffs.push(h),u=!0)}else{let y=this.dataService.getBuffs().find(w=>+w.DB_ID==+r),h=this.dataService.getDebuffs().find(w=>+w.DB_ID==+r);if(y){let w={sourceName:this.currentPlayer.NAME,spellId:r,school:i.school,durTimer:i.dur*1e3,amplitude:0,ampTimer:0,stack:0,value:0,powerType:0};this.simulationLogs.push(`Buff: ${r} applied`),this.currentPlayer.activeBuffs.push(w),u=!0}else if(h){let w={sourceName:this.currentPlayer.NAME,spellId:r,school:i.school,durTimer:i.dur*1e3,amplitude:0,ampTimer:0,stack:0,value:0,powerType:0};this.simulationLogs.push(`Debuff: ${r} applied`),this.mob.activeDebuffs.push(w),d=!0}}u&&(this.cachedStats=this.statsService.calculateStats(!0,this.currentPlayer,this.equippedItems,this.players)),d&&(this.mobStats=this.statsService.calculateMobStats(this.mob))}else this.simulationLogs.push(`Spell ${r} missed`);this.currentPlayer.resources.channeling||(this.currentPlayer.resources.spellCasting=0,this.currentPlayer.resources.castTimer=0)}getResistMultiplier(r,i,o){let a=1,s="No Resist",l=this.statsService.getResistTable(r,i),u={2:"fire",3:"nature",4:"frost",5:"shadow",6:"arcane"}[o],d=Math.random()*100,y=0;for(let h of l){if(h.label==="Binary Resist")continue;let w=parseFloat(h[u]);if(y+=w,d<=y){s=h.label,h.label.includes("Resist 25%")?a=.75:h.label.includes("Resist 50%")?a=.5:h.label.includes("Resist 75%")?a=.25:h.label.includes("Full Resist")?a=0:a=1;break}}return a}evaluateGambits(){for(let r of this.gambits)if(this.checkGambitConditions(r)&&this.canPerformAction(r)){this.simulationLogs.push(`Performing gambit: ${r.name}`),this.performAction(r);break}}checkGambitConditions(r){let i=!0;return r.conditions.forEach(o=>{if(+o!=0){let a=Math.floor(+o/100),s=+o%100;if(a===1&&this.mob&&this.mobStats){let l=this.mob.resources.health/this.mobStats.health*100;if(s>10){let c=(11-(s-10))*10;l<c&&(i=!1)}else{let c=(11-s)*10;l>c&&(i=!1)}}else if(a===2&&this.currentPlayer&&this.cachedStats){let l=+this.currentPlayer.resources.health/this.cachedStats.general.health*100;if(s>10){let c=(11-(s-10))*10;l<c&&(i=!1)}else{let c=(11-s)*10;l>c&&(i=!1)}}else if(a===3&&this.currentPlayer&&this.cachedStats){let l=+this.currentPlayer.resources.mana/this.cachedStats.general.mana*100;if(s>10){let c=(11-(s-10))*10;l<c&&(i=!1)}else{let c=(11-s)*10;l>c&&(i=!1)}}else if(a===6&&this.currentPlayer&&this.cachedStats){let l=+this.currentPlayer.resources.energy;if(s>10){let c=(11-(s-10))*10;l<c&&(i=!1)}else{let c=(11-s)*10;l>c&&(i=!1)}}else if(a===8&&this.currentPlayer&&this.cachedStats){let l=+this.currentPlayer.resources.comboPoints,c=s-20;l<c&&(i=!1)}else if(a===7&&this.currentPlayer&&this.cachedStats){let l=+this.currentPlayer.resources.rage;if(s>10){let c=(11-(s-10))*10;l<c&&(i=!1)}else{let c=(11-s)*10;l>c&&(i=!1)}}else if(a===10&&this.currentPlayer&&this.cachedStats){if(r.type==="pot"){let l=this.currentPlayer.activeBuffs.find(c=>+c.spellId==+r.actionId);if(l)if(s===31)i=!1;else{let c=3*(s-31)*1e3;l.durTimer>c&&(i=!1)}}else if(r.type==="spell"){let l=this.currentPlayer.activeBuffs.find(c=>+c.spellId==+r.actionId);if(l)if(s===31)i=!1;else{let c=3*(s-31)*1e3;l.durTimer>c&&(i=!1)}else if(this.mob){let c=this.mob.activeDebuffs.find(u=>+u.spellId==+r.actionId);if(c)if(s===31)i=!1;else{let u=3*(s-31)*1e3;c.durTimer>u&&(i=!1)}}}}else i=!1}}),i}canPerformAction(r){if(this.currentPlayer&&this.currentPlayer.resources.spellCasting>0||this.currentPlayer&&this.currentPlayer.resources.recoveryTime>0)return!1;if(this.currentPlayer&&r.type==="spell"){let i=this.statsService.calculateSpellDetails(r.actionId,this.currentPlayer,this.cachedStats);if(!i||this.getCooldown(r.actionId)>0||!this.hasEnoughPower(i.costType,i.cost)||+r.actionId==11689&&!this.hasEnoughPower(4,424)||r.type==="spell"&&[6774,11275,31016,31018,9896,11198].includes(+r.actionId)&&+this.currentPlayer.resources.comboPoints==0)return!1;if(+r.actionId==25300){let a=this.equippedItems.findIndex(s=>s.slot===21);if(a!==-1){let s=this.dataService.getItemsMap().get(this.equippedItems[a].dbId);if(!s||s?.sub_type!=="Dagger")return!1}}return!0}else{if(r.type==="attack")return!0;if(r.type==="pot"){let i=this.dataService.getConsumables().find(o=>+o.DB_ID==+r.actionId);if(i)return!(this.getCooldown(i.CD_SHARE)>0)}}return!1}performAction(r){if(this.currentPlayer){if(this.currentPlayer&&r.type==="spell"){let i=this.statsService.calculateSpellDetails(r.actionId,this.currentPlayer,this.cachedStats);i&&(i.time>0?(this.currentPlayer.resources.castTimer=i.time*1e3,this.currentPlayer.resources.spellCasting=r.actionId):(this.simulationLogs.push(`Cast instant spell: ${r.name}`),this.castSpell(r.actionId)))}else if(r.type==="attack")this.currentPlayer.resources.swingAuto=r.actionId===6603;else if(r.type==="pot"){let i=this.dataService.getConsumables().find(o=>+o.DB_ID==+r.actionId);i&&(+i.MIN_HEALTH!=0&&(this.currentPlayer.resources.health=Math.min(this.currentPlayer.resources.health+this.getRandomInt(i.MIN_HEALTH,i.MAX_HEALTH),this.cachedStats.general.health)),+i.MIN_MANA!=0&&(this.currentPlayer.resources.mana=Math.min(this.currentPlayer.resources.mana+this.getRandomInt(i.MIN_MANA,i.MAX_MANA),this.cachedStats.general.mana)),+this.currentPlayer.CLASSID==7&&+i.MIN_RAGE!=0&&(this.currentPlayer.resources.rage=Math.min(this.currentPlayer.resources.rage+this.getRandomInt(i.MIN_RAGE,i.MAX_RAGE),100)),+this.currentPlayer.CLASSID==6&&+i.ENERGY!=0&&(this.currentPlayer.resources.rage=Math.min(this.currentPlayer.resources.energy+i.ENERGY,100)),+i.DUR>0&&(this.simulationLogs.push(`Buff: ${i.NAME} applied`),this.currentPlayer.activeBuffs.push({sourceName:this.currentPlayer.NAME,spellId:i.SPELLID,school:0,durTimer:i.DUR,amplitude:0,ampTimer:0,stack:0,value:0,powerType:0})),+i.CD>0&&this.currentPlayer.cooldowns.push({SPELLID:i.CD_SHARE,TIME_LEFT_MS:i.CD*1e3}))}}}performAutoAttack(r){if(!this.mobStats||!this.currentPlayer)return;let i=0,o=0,a="melee";r==="MH"||r==="OH"?(this.cachedStats.damage.OHmin>0?a="dual-wield":a="melee",r==="MH"?(i=this.cachedStats.damage.MHmin,o=this.cachedStats.damage.MHmax):r==="OH"&&(i=this.cachedStats.damage.OHmin,o=this.cachedStats.damage.OHmax)):r==="R"&&(a="ranged",i=this.cachedStats.damage.Rmin,o=this.cachedStats.damage.Rmax);let s=this.statsService.getCombatTable(this.currentPlayer,this.cachedStats,a),l=Math.random()*100,c=0,u,d=1;for(let R of s){let I=parseFloat(R.value);if(c+=I,l<=c){u=R,d=parseFloat(R.damage)/100;break}}if(!u)return;d>0&&+this.currentPlayer.CLASSID==6&&Math.random()<=.2&&this.castSpell(11337);let y=Math.random()*(o-i)+i;y*=d;let w=this.mobStats.armor/(this.mobStats.armor+400+85*60)*100;y*=1-w/100,y=Math.max(0,y),this.mob&&(this.damageBySource[r]=(this.damageBySource[r]||0)+y,this.mob.resources.health-=y,this.totalDamage+=y,this.mob.resources.health=Math.max(0,this.mob.resources.health)),this.simulationLogs.push(`Time ${this.simTime/1e3}s: ${r} ${u.label} for ${Math.round(y)} damage`)}performMobAttack(){if(this.mobStats&&this.currentPlayer){let r=this.mobStats.min_damage*this.mobStats.dmg_mult,i=this.mobStats.max_damage*this.mobStats.dmg_mult,o=Math.random()*(i-r)+r;o*=(1-this.cachedStats.armorDR/100)*.01,this.currentPlayer.resources.health-=o,this.currentPlayer.resources.health=Math.max(0,this.currentPlayer.resources.health)}}getRandomInt(r,i){return r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r+1))+r}isEnergyUser(){if(!this.currentPlayer)return!1;let r=+this.currentPlayer.CLASSID,i=+this.currentPlayer.SPEC;return r===6||r===0&&i===1}isMeleeDefault(){if(!this.currentPlayer)return!1;let r=+this.currentPlayer.CLASSID,i=+this.currentPlayer.SPEC,o=this.getRole(r,i);return r===6||r===7||o==="tank"||r===2&&o!=="healer"}getCooldown(r){if(!this.currentPlayer)return 0;let i=this.currentPlayer.cooldowns.find(o=>o.SPELLID===r);return i?i.TIME_LEFT_MS:0}addCooldown(r,i){this.currentPlayer&&this.currentPlayer.cooldowns.push({SPELLID:r,TIME_LEFT_MS:i})}hasEnoughPower(r,i){return this.currentPlayer?+r==0?+this.currentPlayer.resources.mana>=+i:+r==3?+this.currentPlayer.resources.energy>=+i:+r==1?+this.currentPlayer.resources.rage>=+i:+r==4?+this.currentPlayer.resources.health>=+i:!0:!1}consumePower(r,i){this.currentPlayer&&(+r==0?(this.currentPlayer.resources.mana-=i,this.currentPlayer.resources.timeNotCasting=0):+r==3?this.currentPlayer.resources.energy-=i:+r==1?this.currentPlayer.resources.rage-=i:+r==4&&(this.currentPlayer.resources.health-=i))}getActionName(r){return this.availableActions.find(i=>+i.id===r)?.name||"Unknown"}getActionIconData(r){if(r.type==="spell"){let i=this.getSpells("class").find(o=>+o.SPELLID==+r.actionId);return i?{iconName:i.ICON_NAME,altText:i.SPELLNAME}:{iconName:"inv_misc_questionmark",altText:r.name}}else if(r.type==="pot"){let i=this.dataService.getConsumables().find(o=>+o.DB_ID==+r.actionId);return i?{iconName:i.ICON_NAME||"inv_potion_01",altText:i.NAME}:{iconName:"inv_potion_01",altText:r.name}}else return{iconName:"inv_sword_01",altText:r.name}}loadDefaultGambit(){if(!this.currentPlayer)return;let r=this.dataService.getDefaultGambits().filter(i=>Number(i.class)===Number(this.currentPlayer?.CLASSID)&&Number(i.spec)===Number(this.currentPlayer?.SPEC));this.gambits=[],r.forEach(i=>{let o=[0];i.conditions&&(o=i.conditions.split(";").map(Number)),this.gambits.push({type:i.type,actionId:i.actionId,name:i.name,conditions:o})})}addGambit(){let{type:r,actionId:i,conditionA1:o,conditionB1:a,conditionA2:s,conditionB2:l,conditionA3:c,conditionB3:u}=this.gambitForm.value;if(r&&i){let d=[o&&a?+o*100+ +a:0,s&&l?+s*100+ +l:0,c&&u?+c*100+ +u:0].filter(h=>h!==0).slice(0,3);d.length===0&&d.push(0);let y=this.getActionName(+i);this.gambits.push({type:r,actionId:+i,name:y,conditions:d}),this.gambitForm.reset({type:"spell",actionId:"",conditionA1:"",conditionB1:"",conditionA2:"",conditionB2:"",conditionA3:"",conditionB3:""})}}removeGambit(r){this.gambits.splice(r,1)}updateConditionAOptions(){let r=this.currentPlayer?.CLASSID,i=this.currentPlayer?.SPEC;this.conditionAOptions=Object.keys(hd).map(o=>+o).filter(o=>o===6||o===8?r&&(+r==6||+r==1):o===7?r&&(+r==1||+r==7):o===9?r&&i&&this.getRole(+r,+i)==="tank":!0).map(o=>({index:o,value:hd[o]}))}updateAvailableActions(r){r==="spell"&&this.currentPlayer&&this.currentPlayer.SPEC?this.availableActions=this.getSpells("class").sort((i,o)=>i.SPELLNAME.localeCompare(o.SPELLNAME)).map(i=>({id:i.SPELLID,name:i.SPELLNAME,type:"spell"})):r==="pot"?this.availableActions=this.dataService.getConsumables().filter(i=>i.CD_SHARE>0).map(i=>({id:i.DB_ID,name:i.NAME,type:"pot"})):r==="attack"&&(this.availableActions=[{id:6603,name:"Attack:On",type:"attack"},{id:6604,name:"Attack:Off",type:"attack"}])}getConditionDisplay(r){if(r===0)return"None";let i=Math.floor(r/100),o=r%100;return`${hd[i]||"Unknown"} ${fn[o]||"Unknown"}`}getConditionBOptions(r){return r&&+r==8?Object.keys(fn).map(i=>+i).filter(i=>i>=21&&i<=25).map(i=>({index:i,value:fn[i]})):r&&+r==9?Object.keys(fn).map(i=>+i).filter(i=>i>=26&&i<=27).map(i=>({index:i,value:fn[i]})):r&&+r==10?Object.keys(fn).map(i=>+i).filter(i=>i>=31&&i<=34).map(i=>({index:i,value:fn[i]})):Object.keys(fn).map(i=>+i).filter(i=>i<=20).map(i=>({index:i,value:fn[i]}))}viewPlayer(r){if(this.currentPlayer=N({},r),!this.currentPlayer)return;this.playerIndex=this.players.findIndex(a=>a.NAME===this.currentPlayer.NAME),this.selectedTab="gear";let i=this.currentPlayer.SPEC;if(this.origSpec=i,this.selectedRaceId=+this.currentPlayer.RACE,this.selectedGender=+this.currentPlayer.GENDER,this.updateAvailableOptions(),this.selectedSpecTab=this.talentBuilds[i]||0,this.equippedItems=[],this.inventoryItems=[],this.selectedTooltip=null,this.selectedInventorySlot=null,[1,2,3,5,6,7,8,9,10,11,12,13,14,16,21,22,26].forEach(a=>{let s=r[`SLOT_${a}`];s&&!isNaN(+s)?this.equippedItems.push({slot:a,dbId:+s}):this.equippedItems.push({slot:a,dbId:-1})}),r.INVENTORY){let a=new Map;r.INVENTORY.split(";").map(l=>+l.trim()).filter(l=>!isNaN(l)).forEach(l=>{let c=this.dataService.getItemsMap().get(l);if(c){let d={17:21,21:21,14:22,23:22,13:23,12:13,20:5,28:26}[c.eq_type]??c.eq_type;if(d!==-1){let h={23:[21,22],13:[13,14],11:[11,12]}[d]||[d];for(let w of h){let R=a.get(w)||[];R.push(l),a.set(w,R)}}}}),a.forEach((l,c)=>{this.inventoryItems.push({slot:c,dbIds:l})})}this.recalculateStats(),this.loadDefaultGambit(),this.destroyModelViewer(),setTimeout(()=>{this.currentPlayer&&this.loadModel(this.currentPlayer)},0)}recalculateStats(){this.cachedStats=this.statsService.calculateStats(this.selectedStatsSubTab!=="base",this.currentPlayer,this.equippedItems,this.players),this.spellTooltips=this.calculateSpellTooltips()}updateAvailableOptions(){let r=er.find(i=>i.RACEID===+this.selectedRaceId&&i.GENDER===+this.selectedGender);this.availableOptions=r?r.options:er[0].options}updateCustomization(r,i){this.currentPlayer&&(this.currentPlayer=ue(N({},this.currentPlayer),{[r]:i}),this.players[this.playerIndex][r]=i,this.modelViewerService.updateAppearance(this.currentPlayer),this.dataService.saveVariableToStorage("players",this.players))}updateRaceGender(r,i){this.selectedRaceId=r,this.selectedGender=i,this.updateAvailableOptions(),this.currentPlayer&&(this.currentPlayer=ue(N({},this.currentPlayer),{RACE:r,GENDER:i,SKIN:0,FACE:0,HAIRSTYLE:0,HAIRCOLOR:0,FACIALSTYLE:0}),this.players[this.playerIndex].RACE=r,this.players[this.playerIndex].GENDER=i,this.modelViewerService.destroyModelViewer(),this.loadModel(this.currentPlayer),this.dataService.saveVariableToStorage("players",this.players))}randomizeCustomization(){if(!this.currentPlayer||!this.availableOptions)return;["SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE"].forEach(i=>{let o=this.availableOptions[i]||0;if(o>0){let a=Math.floor(Math.random()*o);this.updateCustomization(i,a)}})}startRandomizing(){this.stopRandomizing(),this.randomizeTimeout=setTimeout(()=>{this.randomizeCustomization(),this.randomizeInterval=setInterval(()=>{this.randomizeCustomization()},25)},500)}stopRandomizing(){this.randomizeTimeout&&(clearTimeout(this.randomizeTimeout),this.randomizeTimeout=null),this.randomizeInterval&&(clearInterval(this.randomizeInterval),this.randomizeInterval=null)}setTab(r){this.selectedTab=r,r==="gambits"&&(this.selectedGambitSubTab="setup"),r==="gear"&&this.currentPlayer&&setTimeout(()=>{this.modelViewerService.destroyModelViewer(),this.currentPlayer&&this.loadModel(this.currentPlayer)},0),(r==="spec"||r==="spells"||r==="stats")&&setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setGambitSubTab(r){this.selectedGambitSubTab=r,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setSpecTab(r){this.selectedSpecTab=r,this.currentPlayer&&(this.currentPlayer.SPEC=r,this.players[this.playerIndex].SPEC=r,this.recalculateStats(),this.loadDefaultGambit(),this.dataService.saveVariableToStorage("players",this.players),setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0))}setSpellTab(r){this.selectedSpellTab=r,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setGearSubTab(r){this.selectedGearSubTab=r,this.selectedTooltip=null,this.selectedInventorySlot=null,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setStatsSubTab(r){this.selectedStatsSubTab=r,this.recalculateStats(),setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}getFilteredInventoryItems(r){return this.gearService.getFilteredInventoryItems(r,this.currentPlayer,this.selectedGearSubTab,this.inventoryItems)}isItemOwned(r){return this.gearService.isItemOwned(r,this.inventoryItems,this.equippedItems)}canAffordItem(r){return this.gearService.canAffordItem(r,this.guildBank)}startBuyItem(r){this.isItemOwned(r)||!this.canAffordItem(r)||(this.isBuying=!0,this.buyTimer=setTimeout(()=>{this.buyItem(r),this.isBuying=!1},2e3))}cancelBuyItem(){this.buyTimer&&(clearTimeout(this.buyTimer),this.buyTimer=null,this.isBuying=!1)}buyItem(r){this.gearService.buyItem(r,this.currentPlayer,this.playerIndex,this.guildBank,this.inventoryItems,this.players),this.selectedTooltip=null,this.selectedInventorySlot=null,this.dataService.saveVariableToStorage("players",this.players),this.dataService.saveVariableToStorage("guildBank",this.guildBank)}get petNames(){return this.cachedStats.pets?Object.keys(this.cachedStats.pets):[]}getSlotName(r){return this.utilityService.getSlotName(r)}getSlotSide(r){return this.utilityService.getSlotSide(r)}getItemIcon(r){return this.utilityService.getItemIcon(r)}getItemTooltip(r){return this.utilityService.getItemTooltip(r,this.equippedItems)}getItemQuality(r){if(r!==-1){let i=this.dataService.getItemsMap().get(r);if(i&&i.item_quality)return+i.item_quality||0}return 2}toggleItemTooltip(r,i,o=!1,a){let s=this.selectedTooltip&&this.selectedTooltip.slot===r&&this.selectedTooltip.dbId===i&&this.selectedTooltip.isInventory===o,l=this.selectedTooltip&&this.selectedTooltip.slot===r||this.selectedInventorySlot&&this.selectedInventorySlot==r;s?o&&this.selectedInventorySlot===r?(this.swapItem(r,i),this.selectedTooltip=null,this.selectedInventorySlot=null):o||(this.selectedInventorySlot?(this.selectedTooltip=null,this.selectedInventorySlot=null):(this.selectedTooltip=null,this.selectedInventorySlot=r)):l&&!o?(this.selectedTooltip=null,this.selectedInventorySlot=null):(this.selectedTooltip={slot:r,dbId:i,isInventory:o},o?this.selectedInventorySlot=r:this.selectedInventorySlot=null);let c=document.querySelector(".content-area"),u=c.getBoundingClientRect();this.clickX=a.clientX-u.left,this.clickY=a.clientY-u.top+c.scrollTop,setTimeout(()=>{let d=document.querySelector(".tooltip");if(d){let y=d.getBoundingClientRect(),h=u.height,w=y.height,R=(h-w)/2;this.clickY!==null&&(R-=this.clickY),d.style.top=`${R}px`}},0)}swapItem(r,i){if(!this.currentPlayer)return;let o=this.selectedGearSubTab==="equipment";this.gearService.swapItem(r,i,this.currentPlayer,this.playerIndex,this.equippedItems,this.players,o),[2,11,12,13,14].includes(r)||(this.modelViewerService.destroyModelViewer(),this.loadModel(this.currentPlayer)),this.dataService.saveVariableToStorage("players",this.players),this.recalculateStats(),this.selectedTooltip=null,this.selectedInventorySlot=null}loadModel(r){return pt(this,null,function*(){yield this.modelViewerService.loadModel(r,this.equippedItems)})}onAnimationChange(r){let i=r.target;this.animationService.updateAnimation2(this.modelViewerService.getModelViewer(),i.value)}toggleNameEdit(){this.currentPlayer&&(this.isEditingName=!this.isEditingName,this.isEditingName&&(this.newPlayerName=this.currentPlayer.NAME))}savePlayerName(){if(!this.newPlayerName||this.newPlayerName.trim()===""||!this.currentPlayer){this.isEditingName=!1;return}if(this.players.some((i,o)=>o!==this.playerIndex&&i.NAME.toLowerCase()===this.newPlayerName.trim().toLowerCase())){console.warn("Name already exists:",this.newPlayerName),this.isEditingName=!1;return}this.players[this.playerIndex].NAME=this.newPlayerName.trim(),this.currentPlayer.NAME=this.newPlayerName.trim(),this.isEditingName=!1,this.dataService.saveVariableToStorage("players",this.players)}destroyModelViewer(){this.modelViewerService.destroyModelViewer()}getPlayerSpells(){if(!this.currentPlayer)return[];let r=this.currentPlayer.CLASSID,i=this.currentPlayer.SPEC,o=Qt[r]?.[i]?.spellList||[];return this.dataService.getSpells().filter(a=>o.includes(+a.SPELLID))}getSpells(r){return r==="class"?this.dataService.getSpells().filter(i=>{if(Number(i.CLASSID)!==Number(this.currentPlayer.CLASSID)||Number(i.RACEID)!==0)return!1;if(i.SOURCE==="Talent"){let o=this.currentPlayer?.SPEC??0,a=["SPEC_0","SPEC_1","SPEC_2"][o];return this.dataService.getTalents().some(s=>Number(s.CLASSID)===Number(this.currentPlayer?.CLASSID)&&+s.SPELLID==+i.SPELLID&&+s[a]==1)}return!0}):r==="racial"?this.dataService.getSpells().filter(i=>(Number(i.CLASSID)===Number(this.currentPlayer?.CLASSID)||+i.CLASSID==-1)&&+i.RACEID===Number(this.currentPlayer?.RACE)):[]}getTalents(r){let o=["SPEC_0","SPEC_1","SPEC_2"][r];return this.dataService.getTalents().filter(a=>Number(a.CLASSID)===Number(this.currentPlayer?.CLASSID)&&+a[o]==1)}getTalentName(){return!this.currentPlayer||this.selectedSpecTab===null?"":this.utilityService.getTalentName(this.currentPlayer,this.selectedSpecTab)}getTalentIcon(r){return this.currentPlayer?this.utilityService.getTalentIcon(this.currentPlayer,r):""}getRole(r,i){return this.utilityService.getRole(r,i)}getClassName(r=7){return this.utilityService.getClassName(r)}getRaceName(r){return this.utilityService.getRaceName(r)}getAvailableRaces(){if(!this.currentPlayer||!this.currentPlayer.CLASSID)return Array.from(new Map(er.map(a=>[a.RACEID,a])).values());let r=IE[+this.currentPlayer.CLASSID]||[];return er.filter(o=>r.includes(o.RACEID)).reduce((o,a)=>(o.some(s=>s.RACEID===a.RACEID)||o.push(a),o),[])}isBottomUpSlot(r){return[21,22,26,7,8,9].includes(r)}getRange(r){return Array.from({length:r},(i,o)=>o)}getItems(){return this.dataService.getItemsMap()}calculateSpellTooltips(){let r=this.dataService.getSpells(),i=this.dataService.getTalents();if(!this.currentPlayer||!this.cachedStats||!r||!i)return console.warn("Missing required data for tooltip calculation"),[];let o=+this.currentPlayer.CLASSID,a=+this.currentPlayer.SPEC,s=Qt[o]?.[a]?.spellList||[],l=i.filter(c=>+c[`SPEC_${a}`]==1&&+c.CLASSID===o);return s.map(c=>{let u=r.find(w=>+w.SPELLID===c);if(!u)return console.warn(`Spell ID ${c} not found`),null;let d=u.TOOLTIP,y=this.statsService.getTalentModifications(c,l);if(d=this.updateTooltipSections(d,y),c===27871&&(u=r.find(w=>+w.SPELLID==27874)),[2,5,10,11].includes(+u.SPELLTYPE)||+u.SPELLID==10901){let w=this.statsService.calculateDamageValues(u,l,this.cachedStats,5),{minDmg1:R,maxDmg1:I,minDmg2:M,maxDmg2:J,ticks:q}=w,L=d.match(/<div class="q">(.*?)<\/div>/s);if(L){let V=L[1],_="";if(M>2&&+u.WeaponDmg==0)R>2?I-R<=1?_=`(${Math.round(I)} + ${Math.round(J)})`:J-M<=1?_=`(${Math.round(R)}-${Math.round(I)} + ${Math.round(J)})`:_=`(${Math.round(R)}-${Math.round(I)} + ${Math.round(M)}-${Math.round(J)})`:J-M<=1?_=`(${Math.round(J)})`:_=`(${Math.round(M)}-${Math.round(J)})`;else{let m=+u.EffectPointsPerComboPoint1>0?5:0;I-R<=1?_=m>0?`(Max 5 CP: ${Math.round(R)})`:`(${Math.round(R)})`:_=m>0?`(Max 5 CP: ${Math.round(R)}-${Math.round(I)})`:`(${Math.round(R)}-${Math.round(I)})`}V=`${V} ${_}`,d=d.replace(L[0],`<div class="q">${V}</div>`)}else console.warn(`No description found for ${u.SPELLNAME} (ID: ${c})`)}return{spellId:c,name:u.SPELLNAME,icon:u.ICON_NAME,updatedTooltip:d}}).filter(c=>c!==null)}updateTooltipSections(r,i){let o=r;if(i.rangeMod){let a=o.match(/(?:(\d+(?:\.\d+)?)\s*-\s*)?(\d+(?:\.\d+)?)\s*yd(?:\s*range)?/i);if(a){let s=a[1]?parseFloat(a[1]):null,l=parseFloat(a[2]);i.rangeMod.type==="percent"?l*=1+i.rangeMod.value/100:l+=i.rangeMod.value;let c=s!==null?`${s} - ${a[2]} (${Math.round(l)}) yd range`:`${a[2]} (${Math.round(l)}) yd range`;o=o.replace(a[0],c)}else if(o.includes("melee range")){let s=`Melee range (${i.rangeMod.value} yd)`;o=o.replace("melee range",s)}}if(i.costMod){let a=o.match(/(\d+)\s*(mana|energy|rage)/i);if(a){let l=parseInt(a[1]);i.costMod.type==="percent"?l*=1-i.costMod.value/100:l-=i.costMod.value;let c=`${a[1]} (${Math.round(l)}) ${a[2]}`;o=o.replace(a[0],c)}let s=o.match(/(\d+)% of base mana/i);if(s){let l=parseInt(s[1]);i.costMod.type==="percent"?l*=1-i.costMod.value/100:l-=i.costMod.value;let c=`${s[1]} (${l.toFixed(1)})% of base mana`;o=o.replace(s[0],c)}}if(i.castTimeMod){let a=o.match(/(\d+(?:\.\d+)?)\s*sec\s*cast/i);if(a){let s=parseFloat(a[1]),l=Math.max(0,s-i.castTimeMod.value),c=`${a[1]} (${l.toFixed(1)}) sec cast`;o=o.replace(a[0],c)}}if(i.cooldownMod){let a=o.match(/(\d+(?:\.\d+)?)\s*sec\s*cooldown/i);if(a){let c=parseFloat(a[1]),u=Math.max(0,c-i.cooldownMod.value),d=`${a[1]} (${u.toFixed(1)}) sec cooldown`;o=o.replace(a[0],d)}let s=o.match(/(\d+(?:\.\d+)?)\s*min\s*cooldown/i);if(s){let c=parseFloat(s[1]),u=Math.max(0,c-i.cooldownMod.value/60),d=`${s[1]} (${u.toFixed(2)}) min cooldown`;o=o.replace(s[0],d)}let l=o.match(/(\d+(?:\.\d+)?)\s*hour\s*cooldown/i);if(l){let c=parseFloat(l[1]),u=Math.max(0,c-i.cooldownMod.value/3600),d=`${l[1]} (${u.toFixed(2)}) hr cooldown`;o=o.replace(l[0],d)}}if(i.durationMod){let a=o.match(/over\s+(\d+(?:\.\d+)?)\s*(?:sec|seconds)/i);if(a){let s=parseFloat(a[1]);i.durationMod.type==="percent"?s*=1+i.durationMod.value/100:s+=i.durationMod.value;let l=`over ${a[1]} (${Math.round(s)}) sec`;o=o.replace(a[0],l)}}return o}getResistTable(){return this.statsService.getResistTable(this.cachedStats.resistances,-15)}getCombatTable(r){return this.currentPlayer?this.statsService.getCombatTable(this.currentPlayer,this.cachedStats,r):[]}showDualWieldTable(){return this.cachedStats.damage.OHmin>0}showMeleeTable(){return this.currentPlayer?[2,6,7].includes(+this.currentPlayer.CLASSID)||Qt[this.currentPlayer.CLASSID]?.[this.currentPlayer.SPEC]?.role==="tank":!1}showRangedTable(){return Number(this.currentPlayer?.CLASSID)===5}backToGrid(){console.log("Back to grid clicked",this.playerIndex,this.currentPlayer,this.players,this.guildBank),this.playerIndex!==-1&&this.currentPlayer&&this.origSpec!==this.currentPlayer.SPEC&&(this.players[this.playerIndex].SPEC=this.currentPlayer.SPEC,this.guildBank.gold>500?this.guildBank.gold-=50:this.guildBank.gold*=.9,this.dataService.saveVariableToStorage("guildBank",this.guildBank),this.dataService.saveVariableToStorage("players",this.players)),this.stopRandomizing(),this.cancelBuyItem(),this.destroyModelViewer(),this.backToGridEvent.emit()}};n.\u0275fac=function(i){return new(i||n)(W(zr),W(ps),W(tr),W(It),W(pn),W(Iw),W(ds),W(md),W(DS),W(Ht))},n.\u0275cmp=Vt({type:n,selectors:[["app-player-view"]],viewQuery:function(i,o){if(i&1&&ko($A,5),i&2){let a;Ti(a=Mi())&&(o.dpsChart=a.first)}},inputs:{currentPlayer:"currentPlayer",players:"players",guildBank:"guildBank"},outputs:{backToGridEvent:"backToGridEvent"},decls:27,vars:26,consts:[["dpsChart",""],["class","help-button",3,"ngClass","click",4,"ngIf"],["class","help-overlay",4,"ngIf"],[1,"player-view"],[1,"player-header"],["class","player-name",3,"ngStyle","click",4,"ngIf"],["class","player-name-input",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],["alt","role icon",1,"role-icon2",3,"src"],[1,"content-area"],["class","model-wrapper",4,"ngIf"],["class","stats-tab-content",4,"ngIf"],["class","spells",4,"ngIf"],["class","spec",4,"ngIf"],["class","gambits-content",4,"ngIf"],[1,"tab-buttons"],[3,"click"],[3,"src"],[1,"help-button",3,"click","ngClass"],["src","/assets/icons/inv_misc_questionmark.jpg","alt","Help"],[1,"help-overlay"],[1,"help-content",3,"innerHTML"],[1,"help-close-btn",3,"click"],[1,"player-name",3,"click","ngStyle"],[1,"player-name-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"model-wrapper"],["class","buy-button-container",4,"ngIf"],["class","guild-bank-bar",4,"ngIf"],[1,"spec-tabs","gear-sub-tabs"],["src","/assets/icons/inv_misc_bag_08.jpg"],["src","/assets/icons/vas_racechange.jpg"],["src","/assets/icons/inv_misc_coin_02.jpg"],["src","/assets/icons/spell_nature_astralrecalgroup.jpg"],["src","/assets/icons/achievement_boss_ragnaros.jpg"],["id","model-viewer"],["class","select-wrapper",4,"ngIf"],["class","customization-form",4,"ngIf"],["class","item-columns-container",4,"ngIf"],[2,"height","127px"],[1,"buy-button-container"],["class","buy-button owned","disabled","",4,"ngIf"],["class","buy-button",3,"can-afford","cannot-afford","buying","pointerdown","pointerup","pointerleave",4,"ngIf"],["disabled","",1,"buy-button","owned"],[1,"buy-button",3,"pointerdown","pointerup","pointerleave"],["src","/assets/icons/spell_fire_flamebolt.jpg","alt","Fiery Core",1,"bank-icon"],["src","/assets/icons/spell_nature_earthquake.jpg","alt","Lava Core",1,"bank-icon"],[1,"guild-bank-bar"],[1,"guild-bank-item"],["src","/assets/icons/ui_plundercoins.jpg","alt","Gold",1,"bank-icon"],[1,"select-wrapper"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"customization-form"],[1,"form-group"],[3,"ngModelChange","change","ngModel"],[1,"centered-button"],[1,"toggle-customization",3,"pointerdown","pointerup","pointerleave","click"],["src","/assets/icons/inv_misc_dice_01.jpg"],[1,"item-columns-container"],[1,"item-column","left"],["class","item-slot",4,"ngFor","ngForOf"],[1,"item-column","right"],[1,"item-slot"],["alt","Item icon",1,"item-icon",3,"click","src"],["class","tooltip",3,"ngClass","innerHTML",4,"ngIf"],["class","inventory-list",3,"ngClass",4,"ngIf"],[1,"tooltip",3,"ngClass","innerHTML"],[1,"inventory-list",3,"ngClass"],[1,"inventory-grid"],["class","inventory-item",4,"ngFor","ngForOf"],[1,"inventory-item"],[1,"unequip-button",3,"click"],["alt","Inventory item",1,"item-icon",3,"click","src"],[1,"inventory-grid","right"],[1,"stats-tab-content"],[1,"spec-tabs"],["src","assets/icons/spell_holy_blessingofstrength.jpg","alt","Base Stats"],["src","assets/icons/spell_nature_strength.jpg","alt","Buffed Stats"],[1,"stats-grid"],[1,"stats-content"],["open",""],[1,"section-title"],["class","stat-item",4,"ngFor","ngForOf"],["class","stat-item",4,"ngIf"],["close",""],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],["class","combat-table",4,"ngIf"],["close","",4,"ngIf"],[1,"combat-table"],[1,"table-grid2"],[1,"table-header"],["src","/assets/icons/spell_fire_flamebolt.jpg","alt","Fire icon","title","Fire",1,"spell-icon"],["src","/assets/icons/spell_shadow_shadowbolt.jpg","alt","Shadow icon","title","Shadow",1,"spell-icon"],["src","/assets/icons/spell_nature_resistnature.jpg","alt","Nature icon","title","Nature",1,"spell-icon"],["src","/assets/icons/spell_frost_frostbolt02.jpg","alt","Frost icon","title","Frost",1,"spell-icon"],["src","/assets/icons/spell_nature_starfall.jpg","alt","Arcane icon","title","Arcane",1,"spell-icon"],[4,"ngFor","ngForOf"],["class","spell-item",4,"ngFor","ngForOf"],[1,"table-grid"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-label"],[1,"table-value"],["class","pet-section",4,"ngFor","ngForOf"],[1,"pet-section"],[1,"pet-title"],[1,"spell-item"],[1,"spell-icon",3,"src","alt"],[1,"spell-tooltip",3,"innerHTML"],[1,"spells"],[4,"ngIf"],["class","spells-content",4,"ngIf"],[1,"spells-content"],[3,"innerHTML"],[1,"spec"],[3,"active","click",4,"ngFor","ngForOf"],[1,"talents"],[1,"talent-icon",3,"src","alt"],[1,"gambits-content"],["src","/assets/icons/inv_misc_note_03.jpg"],["src","/assets/icons/spell_nature_timestop.jpg"],["class","combat-simulations",4,"ngIf"],["class","gambit-setup",4,"ngIf"],[1,"combat-simulations"],[3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"click","disabled"],[3,"click",4,"ngIf"],[1,"resources-display"],["width","300","height","150",2,"border","1px solid #ccc","margin-top","10px"],[1,"simulation-logs"],[1,"gambit-setup"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","",4,"ngFor","ngForOf"],["class","add-gambit",4,"ngIf"],["cdkDrag",""],[1,"spell-icon",3,"src"],["class","condition",4,"ngFor","ngForOf"],["cdkDragHandle","",1,"cdk-drag-handle"],[1,"condition"],[1,"add-gambit"],[3,"formGroup"],["formControlName","type"],["value","spell"],["value","attack"],["value","pot"],["formControlName","actionId"],["value",""],[1,"condition-group"],["formControlName","conditionA1"],["formControlName","conditionB1",4,"ngIf"],["class","condition-group",4,"ngIf"],["type","submit",3,"click"],["formControlName","conditionB1"],["formControlName","conditionA2"],["formControlName","conditionB2",4,"ngIf"],["formControlName","conditionB2"],["formControlName","conditionA3"],["formControlName","conditionB3",4,"ngIf"],["formControlName","conditionB3"]],template:function(i,o){i&1&&(k(0,KA,2,3,"button",1)(1,ZA,5,3,"div",2),g(2,"div",3)(3,"div",4),k(4,QA,2,4,"div",5)(5,XA,1,1,"input",6),Y(6,"img",7),f(),g(7,"div",8),k(8,wN,19,15,"div",9),g(9,"div",8),k(10,XN,88,38,"div",10)(11,rO,9,9,"div",11)(12,aO,7,3,"div",12)(13,VO,8,6,"div",13),f(),g(14,"div",14)(15,"button",15),z("click",function(){return o.setTab("gear")}),Y(16,"img",16),f(),g(17,"button",15),z("click",function(){return o.setTab("stats")}),Y(18,"img",16),f(),g(19,"button",15),z("click",function(){return o.setTab("spells")}),Y(20,"img",16),f(),g(21,"button",15),z("click",function(){return o.setTab("spec")}),Y(22,"img",16),f(),g(23,"button",15),z("click",function(){return o.setTab("gambits")}),Y(24,"img",16),f(),g(25,"button",15),z("click",function(){return o.backToGrid()}),Y(26,"img",16),f()()()()),i&2&&(C("ngIf",o.showHelpButton),p(),C("ngIf",o.showHelpOverlay),p(3),C("ngIf",!o.isEditingName),p(),C("ngIf",o.isEditingName),p(),C("src","assets/icons/role_"+o.getRole(o.currentPlayer.CLASSID,o.currentPlayer.SPEC)+"2.png",Ne),p(2),C("ngIf",o.selectedTab=="gear"),p(2),C("ngIf",o.selectedTab=="stats"),p(),C("ngIf",o.selectedTab==="spells"),p(),C("ngIf",o.selectedTab==="spec"),p(),C("ngIf",o.selectedTab==="gambits"),p(2),De("active",o.selectedTab==="gear"),p(),C("src","/assets/icons/inv_chest_chain.jpg",Ne),p(),De("active",o.selectedTab==="stats"),p(),C("src","/assets/icons/inv_misc_note_01.jpg",Ne),p(),De("active",o.selectedTab==="spells"),p(),C("src","/assets/icons/inv_misc_book_11.jpg",Ne),p(),De("active",o.selectedTab==="spec"),p(),C("src","/assets/icons/inv_7xp_inscription_talenttome02.jpg",Ne),p(),De("active",o.selectedTab==="gambits"),p(),C("src","/assets/icons/trade_engineering.jpg",Ne),p(2),C("src","/assets/icons/achievement_bg_returnxflags_def_wsg.jpg",Ne))},dependencies:[Sr,xi,$r,Ri,Pi,Yo,yS,Pu,Au,Iu,qo,Tu,fS,xa,Sw,Cw,yw,mw,bS,zg,Wg,ug,cg,_d,HE,BE],styles:['.player-view[_ngcontent-%COMP%]{background-color:#000;width:100%;max-width:800px;min-height:600px;position:relative;margin:0 auto}.model-wrapper[_ngcontent-%COMP%]{min-height:600px;max-width:400px;width:100%;margin:0 auto;position:relative}.select-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.item-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:2px;width:60px;pointer-events:auto}.item-columns-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:space-between;z-index:10;pointer-events:none}.inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,50px);gap:5px}.inventory-grid.right[_ngcontent-%COMP%]{direction:rtl;justify-content:end}.inventory-list.bottom-up[_ngcontent-%COMP%]{transform:translateY(calc(-100% + 50px))}.item-column.left[_ngcontent-%COMP%]{align-items:flex-end}.item-column.right[_ngcontent-%COMP%]{align-items:flex-start}.tooltip[_ngcontent-%COMP%]{position:absolute;background:#222;color:#fff;padding:10px;border-radius:5px;white-space:pre-wrap;z-index:100;top:0;left:80px;width:150px;font-size:12px}[_nghost-%COMP%]     body.compact-tooltip .tooltip{width:125px!important;min-width:125px!important;font-size:10px!important}.tooltip.compact-tooltip[_ngcontent-%COMP%]{width:125px!important;min-width:125px!important;font-size:10px!important}.item-column.right[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{left:auto;right:80px}.item-column.right[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(3n)   .tooltip[_ngcontent-%COMP%]{left:auto;right:25px}.item-column.left[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(3n)   .tooltip[_ngcontent-%COMP%]{left:25px;right:auto}.inventory-list[_ngcontent-%COMP%]{position:absolute;background:#333;padding:10px;border-radius:5px;z-index:100;top:0;left:60px;display:flex;flex-direction:column;gap:5px}.item-column.right[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]{left:auto;right:60px}.inventory-item[_ngcontent-%COMP%]{position:relative;direction:ltr}.item-slot[_ngcontent-%COMP%]{position:relative}.item-icon[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid #333;cursor:pointer}.item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff}.item-slot[data-quality="2"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #00ff00}.item-slot[data-quality="3"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff}.item-slot[data-quality="4"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #800080}.item-slot[data-quality="5"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #ffa500}.inventory-item[data-quality="2"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #00ff00!important}.inventory-item[data-quality="3"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff!important}.inventory-item[data-quality="4"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #800080!important}.inventory-item[data-quality="5"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #ffa500!important}select[_ngcontent-%COMP%]{margin-top:20px;padding:5px}#model-viewer[_ngcontent-%COMP%]{width:400px;height:600px;position:relative;z-index:0;margin-bottom:20px}.content-area[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;max-height:calc(100vh - 191px);display:flex;flex-direction:column;gap:10px}.spells[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.spells[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;vertical-align:top}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:20%;text-align:center}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:80%}.spell-icon[_ngcontent-%COMP%], .talent-icon[_ngcontent-%COMP%]{width:56px;height:56px}.spec-tabs[_ngcontent-%COMP%]{position:fixed;bottom:54px;left:50%;transform:translate(-50%);width:100%;max-width:400px;display:flex;justify-content:center;gap:20px;background:#222;z-index:1001}.spec-tabs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;width:auto;height:auto;display:block}.spec-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px}.spec-tabs[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;width:100%;max-width:400px}.stats-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 10px 5px 0}.stat-label[_ngcontent-%COMP%]{font-weight:700}.stat-value[_ngcontent-%COMP%]{color:gold}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;cursor:pointer;padding:.5rem;border-radius:4px}.pet-section[_ngcontent-%COMP%]{margin-top:1rem;padding-left:1rem;border-left:2px solid #ccc}.pet-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:.5rem;text-transform:capitalize}details[_ngcontent-%COMP%]{margin-bottom:1rem}summary[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.tab-buttons[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;display:flex;justify-content:center;background:transparent;padding:0;z-index:1000}.tab-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;width:auto;height:auto;display:block}.tab-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.tab-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.unequip-button[_ngcontent-%COMP%]{padding:5px 10px;background:#444;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:12px}.unequip-button[_ngcontent-%COMP%]:hover{background:#666}.player-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:200px;height:36px;margin:0 auto 20px;position:sticky;top:0;background:#fff;z-index:10;padding:0;cursor:pointer}.player-name[_ngcontent-%COMP%]{flex:1;padding:0;border:none;border-radius:0;text-align:center;font-size:16px;height:100%;display:flex;align-items:center;justify-content:center}.player-name-input[_ngcontent-%COMP%]{flex:1;padding:0 8px;border:1px solid #ccc;border-radius:4px;text-align:center;font-size:16px;height:100%;box-sizing:border-box}.role-icon2[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:30px;height:30px;pointer-events:none}.customization-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;border-radius:4px;border:1px solid #ccc;min-width:120px}.centered-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:16px 0}.help-button[_ngcontent-%COMP%]{position:fixed;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006;z-index:1000}.help-button.top-left[_ngcontent-%COMP%]{top:10px;left:10px}.help-button.bottom-left[_ngcontent-%COMP%]{bottom:10px;left:10px}.help-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.help-overlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background:#000c;border-radius:10px;display:flex;flex-direction:column;z-index:2000;padding:20px;box-sizing:border-box}.help-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;color:#fff;font-size:16px;padding:10px}.help-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:1.5em}.help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.help-close-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;margin-top:10px;align-self:center}.help-close-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6b8cff,#3a5ed6)}.guild-bank-bar[_ngcontent-%COMP%]{position:fixed;bottom:127px;left:50%;transform:translate(-50%);width:100%;max-width:300px;display:flex;justify-content:center;gap:20px;background:#222;padding:5px;max-height:20px;z-index:1002}.guild-bank-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.bank-icon[_ngcontent-%COMP%]{width:20px;height:20px}.buy-button-container[_ngcontent-%COMP%]{position:fixed;bottom:160px;left:50%;transform:translate(-50%);width:100%;max-width:300px;display:flex;justify-content:center;z-index:1003}.buy-button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:5px;color:#fff;font-size:14px;cursor:pointer;width:100%;max-width:250px;transition:background .2s;display:flex;align-items:center;justify-content:center;gap:5px}.buy-button.can-afford[_ngcontent-%COMP%]{background:linear-gradient(to right,#00d4ff,#0057b8 0% 100%);transition:background .1s linear}.buy-button.cannot-afford[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff4500,#ff8c00)}.buy-button.owned[_ngcontent-%COMP%]{background:linear-gradient(45deg,#666,#999);cursor:not-allowed}.buy-button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}@keyframes _ngcontent-%COMP%_blueShift{0%{background:linear-gradient(to right,#00d4ff 0% 0%,#0057b8 0% 100%)}10%{background:linear-gradient(to right,#00d4ff 0% 10%,#0057b8 10% 100%)}20%{background:linear-gradient(to right,#00d4ff 0% 20%,#0057b8 20% 100%)}30%{background:linear-gradient(to right,#00d4ff 0% 30%,#0057b8 30% 100%)}40%{background:linear-gradient(to right,#00d4ff 0% 40%,#0057b8 40% 100%)}50%{background:linear-gradient(to right,#00d4ff 0% 50%,#0057b8 50% 100%)}60%{background:linear-gradient(to right,#00d4ff 0% 60%,#0057b8 60% 100%)}70%{background:linear-gradient(to right,#00d4ff 0% 70%,#0057b8 70% 100%)}80%{background:linear-gradient(to right,#00d4ff 0% 80%,#0057b8 80% 100%)}90%{background:linear-gradient(to right,#00d4ff 0% 90%,#0057b8 90% 100%)}to{background:linear-gradient(to right,#00d4ff 0% 100%,#0057b8 100% 100%)}}.spell-list[_ngcontent-%COMP%]{margin-top:20px}.spell-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.spell-icon[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:10px}.spell-name[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.spell-tooltip[_ngcontent-%COMP%]{font-size:.9em;color:#e0dbdb}.combat-tables[_ngcontent-%COMP%]{margin-bottom:20px}.combat-table[_ngcontent-%COMP%]{margin-bottom:15px}.table-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px}.table-grid2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr;gap:5px}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#08014e;padding:5px;border:1px solid #ccc}.table-row[_ngcontent-%COMP%]{display:contents}.table-label[_ngcontent-%COMP%], .table-value[_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc}.table-label[_ngcontent-%COMP%]{font-weight:700}.gambits-content[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.gambits-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.gambits-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .gambits-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #0f0f0f;text-align:left}.gambits-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#0f0f0f}.gambits-content[_ngcontent-%COMP%]   tr[cdkDrag][_ngcontent-%COMP%]:nth-child(2n){background-color:#04013b}.gambits-content[_ngcontent-%COMP%]   tr[cdkDrag][_ngcontent-%COMP%]:nth-child(odd){background-color:#0c0707}.gambits-content[_ngcontent-%COMP%]   tr[cdkDrag][_ngcontent-%COMP%]:hover{background-color:#0f0f0f}.gambits-content[_ngcontent-%COMP%]   .condition[_ngcontent-%COMP%]{margin-bottom:2px;line-height:1.2}.cdk-drag-handle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;cursor:move;padding:0 10px}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#0f0f0f;box-shadow:0 5px 5px -3px #0003}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.add-gambit[_ngcontent-%COMP%]{margin-top:20px}.add-gambit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .add-gambit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px;padding:5px}.add-gambit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:400px}']});let t=n;return t})();var HO=(t,n)=>({"top-left":t,"bottom-left":n}),Md=t=>({"active-swap":t});function BO(t,n){if(t&1){let e=pe();g(0,"button",9),z("click",function(){j(e);let i=S();return H(i.toggleHelpOverlay())}),Y(1,"img",10),f()}if(t&2){let e=S();C("ngClass",Fo(1,HO,e.menuSelected==="raidConfig"&&e.currentPlayer,!(e.menuSelected==="raidConfig"&&e.currentPlayer)))}}function UO(t,n){if(t&1){let e=pe();g(0,"div",11),Y(1,"div",12),et(2,"safeHtml"),g(3,"button",13),z("click",function(){j(e);let i=S();return H(i.toggleHelpOverlay())}),v(4,"OK"),f()()}if(t&2){let e=S();p(),C("innerHTML",Br(2,1,e.getHelpContent()),bt)}}function $O(t,n){if(t&1){let e=pe();g(0,"div",14)(1,"button",15),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("mcr"))}),v(2,"MC Raiders"),f(),g(3,"button",15),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("tgif"))}),v(4,"TGIF"),f(),g(5,"button",15),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("mc"))}),v(6,"Molten Core"),f(),g(7,"button",15),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("dungeon"))}),v(8,"Dungeons"),f(),g(9,"button",15),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("raidConfig"))}),v(10,"Raid Setup"),f(),g(11,"button",15),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("settings"))}),v(12,"Settings"),f()()}}function GO(t,n){t&1&&(g(0,"video",18),Y(1,"source",19),v(2," Your browser does not support the video tag. "),f())}function zO(t,n){t&1&&(g(0,"video",18),Y(1,"source",20),v(2," Your browser does not support the video tag. "),f())}function WO(t,n){if(t&1&&(g(0,"div")(1,"div",16)(2,"h2"),v(3,"MCR Raiders"),f(),k(4,GO,3,0,"video",17)(5,zO,3,0,"video",17),v(6," (Music video by MyndFlame from Illegal Danish) "),Y(7,"br")(8,"br"),v(9," Help dad-guild TGIF gear up and progress through Molten Core raid. How many weeks will it take you to down Rag? (coming soon"),g(10,"sup"),v(11,"\u2122"),f(),v(12,") "),f()()),t&2){let e=S();p(4),C("ngIf",!e.profanityFilter),p(),C("ngIf",e.profanityFilter)}}function qO(t,n){t&1&&(g(0,"div",21),Y(1,"img",22),v(2,"Well met! 6/2/19 "),Y(3,"img",23),v(4,"NAXX OUT! 12/20/20 "),Y(5,"img",24),v(6,"For the Alliance! 2/21/21 "),Y(7,"img",25),v(8,"RIP Elfenrir 3/22/21 "),Y(9,"img",26),v(10,"RIP Skriblius 1/3/23 "),g(11,"h4"),v(12,"Quotes"),f(),g(13,"p"),v(14,'"Gault down!" - Gault'),f(),g(15,"p"),v(16,'"I would say 87% of my frustration basically is from Molten Core. Not even joking. That place is literal hell." - Halador'),f(),g(17,"p"),v(18,'"TGIF is LFM 7 more hunters to round out our raid group. 500g to each hunter who joins" - Secant'),f(),g(19,"p"),v(20,`"Hey! We don't play with doors." - Cosine`),f()())}function YO(t,n){t&1&&(g(0,"div"),Y(1,"app-moltencore"),f())}function KO(t,n){if(t&1){let e=pe();vr(0),g(1,"button",30),z("click",function(){j(e);let i=S().$implicit,o=S(3);return H(o.handlePlayerClick(i))}),g(2,"div",31),v(3),f(),v(4),f(),Y(5,"img",32),yr()}if(t&2){let e=S().$implicit,r=S(3);p(),C("ngStyle",r.getCellStyle(e)),p(2),ne(" ",r.getGearScore(e.NAME).toFixed(1)," "),p(),ne(" ",e.NAME," "),p(),C("src","assets/icons/role_"+r.getRole(e.CLASSID,e.SPEC)+"2.png",Ne)}}function ZO(t,n){if(t&1&&(g(0,"td",29),k(1,KO,6,4,"ng-container",4),f()),t&2){let e=n.$implicit;p(),C("ngIf",e)}}function QO(t,n){if(t&1&&(g(0,"tr"),k(1,ZO,2,1,"td",28),f()),t&2){let e=n.$implicit;p(),C("ngForOf",e)}}function XO(t,n){if(t&1){let e=pe();g(0,"div",33)(1,"button",34),z("click",function(){j(e);let i=S(2);return H(i.toggleSwapMode())}),v(2," Swap Mode "),f(),g(3,"button",35),z("click",function(){j(e);let i=S(2);return H(i.optimizeGear())}),v(4,"Optimize Gear"),f()()}if(t&2){let e=S(2);p(),C("ngClass",vt(1,Md,e.swapMode))}}function JO(t,n){if(t&1&&(g(0,"div")(1,"table"),k(2,QO,2,1,"tr",27),f(),k(3,XO,5,3,"div",7),f()),t&2){let e=S();p(2),C("ngForOf",e.grid),p(),C("ngIf",e.menuSelected==="raidConfig")}}function ek(t,n){if(t&1&&(g(0,"div",36),Y(1,"app-dungeon",37),f()),t&2){let e=S();p(),C("players",e.players)("grid",e.grid)("guildBank",e.guildBank)("playerGearScores",e.playerGearScores)}}function tk(t,n){if(t&1){let e=pe();g(0,"app-player-view",39),z("backToGridEvent",function(){j(e);let i=S(2);return H(i.backToGrid())}),f()}if(t&2){let e=S(2);C("currentPlayer",e.currentPlayer)("players",e.players)("guildBank",e.guildBank)}}function nk(t,n){if(t&1&&(g(0,"div"),k(1,tk,1,3,"app-player-view",38),f()),t&2){let e=S();p(),C("ngIf",e.currentPlayer)}}function rk(t,n){if(t&1){let e=pe();g(0,"div",33)(1,"button",34),z("click",function(){j(e);let i=S();return H(i.toggleHelpButton())}),v(2),f(),g(3,"button",34),z("click",function(){j(e);let i=S();return H(i.toggleCompactTooltips())}),v(4),f(),g(5,"button",34),z("click",function(){j(e);let i=S();return H(i.toggleProfanity())}),v(6),f(),g(7,"button",40),z("pointerdown",function(){j(e);let i=S();return H(i.startResetProgress())})("pointerup",function(){j(e);let i=S();return H(i.cancelResetProgress())})("pointerleave",function(){j(e);let i=S();return H(i.cancelResetProgress())}),v(8," Reset Progress "),f(),g(9,"button",40),z("pointerdown",function(){j(e);let i=S();return H(i.startResetAll())})("pointerup",function(){j(e);let i=S();return H(i.cancelResetAll())})("pointerleave",function(){j(e);let i=S();return H(i.cancelResetAll())}),v(10," Reset Storage "),f()()}if(t&2){let e=S();p(),C("ngClass",vt(10,Md,!e.showHelpButton)),p(),ne(" Help: ",e.showHelpButton?"On":"Off"," "),p(),C("ngClass",vt(12,Md,e.useCompactTooltips)),p(),ne(" Tooltips: ",e.useCompactTooltips?"Small":"Normal"," "),p(),C("ngClass",vt(14,Md,!e.profanityFilter)),p(),ne(" Profanity: ",e.profanityFilter?"Off":"On"," "),p(),De("buying",e.isResettingP),p(2),De("buying",e.isResettingA)}}function ik(t,n){if(t&1){let e=pe();g(0,"button",41),z("click",function(){j(e);let i=S();return H(i.setMenuLevel("home"))}),Y(1,"img",42),f()}t&2&&(p(),C("src","/assets/icons/achievement_bg_returnxflags_def_wsg.jpg",Ne))}function ok(t,n){if(t&1){let e=pe();g(0,"button",45),z("click",function(){j(e);let i=S(2);return H(i.forceUpdate())}),v(1,"Update"),f()}}function sk(t,n){if(t&1){let e=pe();g(0,"button",15),z("click",function(){j(e);let i=S(2);return H(i.promptInstall())}),v(1,"Install"),f()}}function ak(t,n){if(t&1){let e=pe();g(0,"button",45),z("click",function(){j(e);let i=S(2);return H(i.forceUpdate())}),v(1,"Reload"),f()}}function lk(t,n){t&1&&(g(0,"p"),v(1,"To install on iOS, share and choose 'Add to Home Screen'."),f())}function ck(t,n){if(t&1&&(g(0,"div"),v(1," Version 0.1.8 "),k(2,ok,2,0,"button",43)(3,sk,2,0,"button",44)(4,ak,2,0,"button",43)(5,lk,2,0,"p",4),f()),t&2){let e=S();p(2),C("ngIf",e.updateAvailable&&!e.showInstall),p(),C("ngIf",e.showInstall),p(),C("ngIf",!e.updateAvailable&&!e.showInstall),p(),C("ngIf",!e.isInstalled&&!e.showInstall&&e.onIOS)}}var Rw=(()=>{let n=class n{constructor(r,i,o,a,s,l,c,u,d){this.http=i,this.swUpdate=o,this.animationService=a,this.statsService=s,this.dataService=l,this.utilityService=c,this.helpService=u,this.gearService=d,this.players=[],this.generalStats=cd,this.resistanceStats=dd,this.spellPowerStats=ud,this.menuSelected="home",this.cachedStats=null,this.grid=[],this.currentPlayer=null,this.playerIndex=-1,this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.isResettingA=!1,this.resetTimerA=null,this.isResettingP=!1,this.resetTimerP=null,this.showHelpButton=!0,this.showHelpOverlay=!1,this.useCompactTooltips=!1,this.clickX=null,this.clickY=null,this.playerGearScores=new Map,this.profanityFilter=!0,this.updateAvailable=!1,this.showInstall=!1,this.isInstalled=!1,this.swapMode=!1,this.firstSwapPlayer=null}ngOnInit(){window.CONTENT_PATH="/assets/modelviewer/classic/";let r=localStorage.getItem("players");if(r)try{this.players=JSON.parse(r),console.log("Loaded players from localStorage:",this.players),this.initPlayerDungeons(),this.loadAdditionalData()}catch(s){console.error("Error parsing saved players from localStorage:",s),this.loadFromCsv()}else this.loadFromCsv();let i=localStorage.getItem("guildBank");i?this.guildBank=JSON.parse(i):this.guildBank={gold:0,fieryCores:0,lavaCores:0};let o=localStorage.getItem("showHelpButton");o!==null&&o.toLowerCase()==="false"&&(this.showHelpButton=!1);let a=localStorage.getItem("useCompactTooltips");a!==null&&a.toLowerCase()==="true"&&(this.useCompactTooltips=!0),this.useCompactTooltips&&document.body.classList.add("compact-tooltip"),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(s=>{s.type==="VERSION_READY"&&(console.log("New version available:",s),confirm("A new version is available. Reload now?")&&window.location.reload())}),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),this.installPromptEvent=s,this.showInstall=!0,console.log("PWA install prompt available")}),this.isInstalled=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),this.installPromptEvent=s,this.showInstallButton()}),window.addEventListener("appinstalled",s=>{console.log("The app was installed"),this.isInstalled=!0})}promptInstall(){this.installPromptEvent&&(this.installPromptEvent.prompt(),this.installPromptEvent.userChoice.then(r=>{r.outcome==="accepted"?(console.log("User accepted the install prompt"),this.showInstall=!1):console.log("User dismissed the install prompt"),this.installPromptEvent=null}))}onIOS(){let r=window.navigator;return"standalone"in r&&!r.standalone}forceUpdate(){this.updateAvailable?this.swUpdate.activateUpdate().then(()=>document.location.reload()):window.location.reload(!0)}showInstallButton(){this.showInstall=!0}hideInstallButton(){this.showInstall=!1}initPlayerDungeons(){this.players.forEach((r,i)=>{r.DUNGEON_EXP===void 0&&(r.DUNGEON_EXP=""),this.players[i]=N({},r)})}loadFromCsv(){this.http.get("assets/players.csv",{responseType:"text"}).subscribe({next:r=>{this.players=this.dataService.parseCsv(r,["RACE","GENDER","SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE","GROUP","POSITION","CLASSID","SPEC"]),this.players.forEach((i,o)=>{let a=er.find(s=>s.RACEID===+i.RACE&&s.GENDER===+i.GENDER);if(a){let s=a.options;i.SKIN=Math.floor(Math.random()*s.SKIN),i.FACE=Math.floor(Math.random()*s.FACE),i.HAIRSTYLE=Math.floor(Math.random()*s.HAIRSTYLE),i.HAIRCOLOR=Math.floor(Math.random()*s.HAIRCOLOR),i.FACIALSTYLE=Math.floor(Math.random()*s.FACIALSTYLE),this.players[o]=N({},i)}}),console.log("Randomized players:",this.players),this.initPlayerDungeons(),this.savePlayersToStorage(),this.loadAdditionalData()},error:r=>console.error("Failed to load players.csv:",r)})}loadAdditionalData(){this.dataService.loadAllData().subscribe({next:()=>{this.buildGrid()},error:r=>console.error("Failed to load additional data:",r)})}savePlayersToStorage(){this.dataService.saveVariableToStorage("players",this.players)}setMenuLevel(r){this.menuSelected==="dungeon"&&this.dungeonComponent.syncDataToService(),this.menuSelected=r,r==="home"?this.stopAllVideos():r==="raidConfig"?this.calcAllGearScores():r==="dungeon"&&setTimeout(()=>{this.dungeonComponent.syncDataFromService()},100)}toggleHelpOverlay(){this.showHelpOverlay=!this.showHelpOverlay}toggleHelpButton(){this.showHelpButton=!this.showHelpButton,localStorage.setItem("showHelpButton",`${this.showHelpButton}`)}toggleCompactTooltips(){this.useCompactTooltips=!this.useCompactTooltips,localStorage.setItem("useCompactTooltips",`${this.useCompactTooltips}`),this.useCompactTooltips?document.body.classList.add("compact-tooltip"):document.body.classList.remove("compact-tooltip")}getHelpContent(){return this.helpService.getHelpContent(this.menuSelected)}stopAllVideos(){document.querySelectorAll("video").forEach(i=>{i.pause(),i.currentTime=0})}buildGrid(){this.grid=Array.from({length:8},()=>Array(5).fill(null)),this.players.forEach((r,i)=>{let o=+r.GROUP-1,a=+r.POSITION-1;o>=0&&o<8&&a>=0&&a<5&&(this.grid[o][a]=r)})}getColor(r){return this.utilityService.getColor(r)}toggleProfanity(){this.profanityFilter=!this.profanityFilter}backToGrid(){this.currentPlayer=null,this.calcAllGearScores()}getRole(r,i){return this.utilityService.getRole(r,i)}startResetAll(){this.isResettingA=!0,this.resetTimerA=setTimeout(()=>{this.resetStorage(),this.isResettingA=!1},2e3)}cancelResetAll(){this.resetTimerA&&(clearTimeout(this.resetTimerA),this.resetTimerA=null,this.isResettingA=!1)}startResetProgress(){this.isResettingP=!0,this.resetTimerP=setTimeout(()=>{this.resetProgress(),this.isResettingP=!1},2e3)}cancelResetProgress(){this.resetTimerP&&(clearTimeout(this.resetTimerP),this.resetTimerP=null,this.isResettingP=!1)}viewPlayer(r){r&&(this.currentPlayer=N({},r))}calcAllGearScores(){this.playerGearScores.clear(),this.players.forEach((r,i)=>{let o=this.statsService.getPlayerGearScore(this.players,i);this.playerGearScores.set(r.NAME,o)})}getGearScore(r){return this.playerGearScores.get(r)??0}toggleSwapMode(){this.swapMode?(this.swapMode=!1,this.firstSwapPlayer=null):this.swapMode=!0}handlePlayerClick(r){if(!this.swapMode)return this.viewPlayer(r);if(r.GROUP&&r.POSITION){let i={name:r.NAME,group:+r.GROUP,pos:+r.POSITION};if(console.log(i),!this.firstSwapPlayer)this.firstSwapPlayer=i;else{if(this.firstSwapPlayer.group===i.group&&this.firstSwapPlayer.pos===i.pos){this.firstSwapPlayer=null,this.swapMode=!1;return}let a=this.grid.flat().filter(s=>s&&s.GROUP!=null&&s.POSITION!=null).find(s=>+s.GROUP===this.firstSwapPlayer.group&&+s.POSITION===this.firstSwapPlayer.pos);if(!a){console.warn("No matching player found for swap"),this.firstSwapPlayer=null,this.swapMode=!1;return}if(console.log("found both players"),this.firstSwapPlayer?.name){let s=this.players.findIndex(d=>d.NAME===(this.firstSwapPlayer?.name||"")),l=this.players.findIndex(d=>d.NAME===r.NAME),c=+r.GROUP,u=+r.POSITION;this.players[l].GROUP=+a.GROUP,this.players[l].POSITION=+a.POSITION,this.players[s].GROUP=c,this.players[s].POSITION=u,this.firstSwapPlayer=null,this.swapMode=!1,this.buildGrid(),this.savePlayersToStorage()}}}}updatePlayerGroups(){this.grid.forEach((r,i)=>{r.forEach((o,a)=>{if(o){let s=this.players.findIndex(l=>l.NAME===o.NAME);s!==-1&&(this.players[s].GROUP=i+1,this.players[s].POSITION=a+1)}})}),this.savePlayersToStorage()}getCellStyle(r){let i={"background-color":this.getColor(r.CLASSID),color:"black"};if(this.swapMode&&this.firstSwapPlayer)+r.GROUP===this.firstSwapPlayer.group&&+r.POSITION===this.firstSwapPlayer.pos?i.border="2px solid red":i.border="1px solid black";else return{"background-color":this.getColor(r.CLASSID),color:"black"};return i}onPlayerUpdated(r){console.log("Players updated:",r),this.players=r}onGuildBankUpdated(r){console.log("Guild bank updated:",r),this.guildBank=r}optimizeGear(){this.gearService.optimizeGear(this.players),this.savePlayersToStorage()}resetStorage(){localStorage.removeItem("players"),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()}resetProgress(){let r=[...this.players];this.http.get("assets/players.csv",{responseType:"text"}).subscribe({next:i=>{let o=this.dataService.parseCsv(i,["RACE","GENDER","SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE","GROUP","POSITION","CLASSID","SPEC"]);this.players=o.map((a,s)=>{let l=r[s]||{};return ue(N({},a),{GROUP:l.GROUP||a.GROUP,POSITION:l.POSITION||a.POSITION,NAME:l.NAME||a.NAME,PET:l.PET||a.PET,CLASSID:l.CLASSID||a.CLASSID,SPEC:l.SPEC||a.SPEC,RACE:l.RACE||a.RACE,GENDER:l.GENDER||a.GENDER,SKIN:l.SKIN||a.SKIN,FACE:l.FACE||a.FACE,HAIRSTYLE:l.HAIRSTYLE||a.HAIRSTYLE,HAIRCOLOR:l.HAIRCOLOR||a.HAIRCOLOR,FACIALSTYLE:l.FACIALSTYLE||a.FACIALSTYLE})}),this.savePlayersToStorage(),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()},error:i=>{console.error("Failed to load players.csv:",i),this.savePlayersToStorage(),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()}})}};n.\u0275fac=function(i){return new(i||n)(W(Ve),W(zr),W(gd),W(ps),W(tr),W(It),W(pn),W(md),W(ds))},n.\u0275cmp=Vt({type:n,selectors:[["app-root"]],viewQuery:function(i,o){if(i&1&&ko(fs,5),i&2){let a;Ti(a=Mi())&&(o.dungeonComponent=a.first)}},standalone:!1,decls:14,vars:12,consts:[[1,"maincontainer"],["class","help-button",3,"ngClass","click",4,"ngIf"],["class","help-overlay",4,"ngIf"],["class","menu-buttons",4,"ngIf"],[4,"ngIf"],["class","tgif-section",4,"ngIf"],["class","dungeon-content",4,"ngIf"],["class","settings-buttons",4,"ngIf"],["class","return-home-btn",3,"click",4,"ngIf"],[1,"help-button",3,"click","ngClass"],["src","/assets/icons/inv_misc_questionmark.jpg","alt","Help"],[1,"help-overlay"],[1,"help-content",3,"innerHTML"],[1,"help-close-btn",3,"click"],[1,"menu-buttons"],[1,"menu-btn",3,"click"],[1,"mcr-video-section"],["class","mcr-video","controls","",4,"ngIf"],["controls","",1,"mcr-video"],["src","/assets/video/MCRaiders.mp4","type","video/mp4"],["src","/assets/video/MCRaiders_edit.mp4","type","video/mp4"],[1,"tgif-section"],["src","/assets/images/tabard.png","alt","TGIF success"],["src","/assets/images/kelthuzad.jpg","alt","Naxx done"],["src","/assets/images/tgif_shield.jpg","alt","TGIF success"],["src","/assets/images/elfenrir.png","alt",""],["src","/assets/images/skriblius.jpg","alt","RIP Skriblius"],[4,"ngFor","ngForOf"],["class","player-cell",4,"ngFor","ngForOf"],[1,"player-cell"],[3,"click","ngStyle"],[1,"player-gearscore"],["alt","role icon",1,"role-icon",3,"src"],[1,"settings-buttons"],[3,"click","ngClass"],[3,"click"],[1,"dungeon-content"],[3,"players","grid","guildBank","playerGearScores"],[3,"currentPlayer","players","guildBank","backToGridEvent",4,"ngIf"],[3,"backToGridEvent","currentPlayer","players","guildBank"],[3,"pointerdown","pointerup","pointerleave"],[1,"return-home-btn",3,"click"],[3,"src"],["nbButton","","outline","","status","danger","style","margin:0px 5px;","size","large","title","Force Update to Latest Version",3,"click",4,"ngIf"],["class","menu-btn",3,"click",4,"ngIf"],["nbButton","","outline","","status","danger","size","large","title","Force Update to Latest Version",2,"margin","0px 5px",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0),k(1,BO,2,4,"button",1)(2,UO,5,3,"div",2)(3,$O,13,0,"div",3)(4,WO,13,2,"div",4)(5,qO,21,0,"div",5)(6,YO,2,0,"div",4)(7,JO,4,2,"div",4)(8,ek,2,4,"div",6)(9,nk,2,1,"div",4)(10,rk,11,16,"div",7)(11,ik,2,1,"button",8)(12,ck,6,4,"div",4),f(),Y(13,"router-outlet")),i&2&&(p(),C("ngIf",!o.currentPlayer&&o.showHelpButton),p(),C("ngIf",!o.currentPlayer&&o.showHelpOverlay),p(),C("ngIf",o.menuSelected==="home"),p(),C("ngIf",o.menuSelected==="mcr"),p(),C("ngIf",o.menuSelected==="tgif"),p(),C("ngIf",o.menuSelected==="mc"),p(),C("ngIf",!o.currentPlayer&&o.menuSelected==="raidConfig"),p(),C("ngIf",o.menuSelected==="dungeon"),p(),C("ngIf",o.menuSelected==="raidConfig"&&o.currentPlayer),p(),C("ngIf",o.menuSelected==="settings"),p(),C("ngIf",o.menuSelected!=="home"&&(o.menuSelected!=="raidConfig"||!o.currentPlayer)),p(),C("ngIf",o.menuSelected==="home"))},dependencies:[xi,$r,Ri,Pi,$a,fs,jE,Td,_d],styles:[".maincontainer[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;padding:20px;box-sizing:border-box;min-width:100vw;overflow-x:auto}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%]{width:100px;height:50px;padding:0;text-align:center;vertical-align:middle}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,100px);gap:10px;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:contents}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:50px;cursor:pointer}.return-home-btn[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006}.settings-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin-top:20px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 28px;font-size:1.1rem;font-weight:700;border-radius:10px;border:none;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;cursor:pointer;box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease;width:auto;min-width:200px;max-width:280px}.settings-buttons[_ngcontent-%COMP%]   button.active-swap[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4e50,#f9d423);color:#fff;box-shadow:0 4px 10px #ff4e5080}.settings-buttons[_ngcontent-%COMP%]   button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 3px 8px #0003}.return-home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.player-cell[_ngcontent-%COMP%]{position:relative}.role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;height:22px;pointer-events:none}.player-gearscore[_ngcontent-%COMP%]{font-size:.75em;color:#000;margin-top:0}.role-icon2[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:30px;height:30px;pointer-events:none}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin:20px auto}.menu-btn[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:16px 24px;border:none;border-radius:12px;font-size:1.2rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;color:#fff;background:linear-gradient(135deg,#ff6b6b,#f94d6a);box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease}.menu-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.menu-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 3px 8px #0003}.mcr-video-section[_ngcontent-%COMP%]{margin-bottom:20px}.mcr-video[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.tgif-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;width:100%;height:auto;display:block;margin-bottom:10px}.help-button[_ngcontent-%COMP%]{position:fixed;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006;z-index:1000}.help-button.top-left[_ngcontent-%COMP%]{top:10px;left:10px}.help-button.bottom-left[_ngcontent-%COMP%]{bottom:10px;left:10px}.help-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.help-overlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background:#000c;border-radius:10px;display:flex;flex-direction:column;z-index:2000;padding:20px;box-sizing:border-box}.help-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;color:#fff;font-size:16px;padding:10px}.help-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:1.5em}.help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.help-close-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;margin-top:10px;align-self:center}.help-close-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6b8cff,#3a5ed6)}.buy-button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}@keyframes _ngcontent-%COMP%_blueShift{0%{background:linear-gradient(to right,#00d4ff 0% 0%,#0057b8 0% 100%)}10%{background:linear-gradient(to right,#00d4ff 0% 10%,#0057b8 10% 100%)}20%{background:linear-gradient(to right,#00d4ff 0% 20%,#0057b8 20% 100%)}30%{background:linear-gradient(to right,#00d4ff 0% 30%,#0057b8 30% 100%)}40%{background:linear-gradient(to right,#00d4ff 0% 40%,#0057b8 40% 100%)}50%{background:linear-gradient(to right,#00d4ff 0% 50%,#0057b8 50% 100%)}60%{background:linear-gradient(to right,#00d4ff 0% 60%,#0057b8 60% 100%)}70%{background:linear-gradient(to right,#00d4ff 0% 70%,#0057b8 70% 100%)}80%{background:linear-gradient(to right,#00d4ff 0% 80%,#0057b8 80% 100%)}90%{background:linear-gradient(to right,#00d4ff 0% 90%,#0057b8 90% 100%)}to{background:linear-gradient(to right,#00d4ff 0% 100%,#0057b8 100% 100%)}}"]});let t=n;return t})();var Pw=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Be({type:n,bootstrap:[Rw]}),n.\u0275inj=je({imports:[wg,Sr,Yo,bE,xg,fs,Td,FE.register("ngsw-worker.js",{enabled:!rC(),registrationStrategy:"registerWhenStable:30000"})]});let t=n;return t})();Eg().bootstrapModule(Pw).catch(t=>console.error(t));
