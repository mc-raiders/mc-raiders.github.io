var _D=Object.create;var ld=Object.defineProperty,yD=Object.defineProperties,CD=Object.getOwnPropertyDescriptor,wD=Object.getOwnPropertyDescriptors,DD=Object.getOwnPropertyNames,lm=Object.getOwnPropertySymbols,ED=Object.getPrototypeOf,um=Object.prototype.hasOwnProperty,SD=Object.prototype.propertyIsEnumerable;var cm=(e,n,t)=>n in e?ld(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,M=(e,n)=>{for(var t in n||={})um.call(n,t)&&cm(e,t,n[t]);if(lm)for(var t of lm(n))SD.call(n,t)&&cm(e,t,n[t]);return e},ae=(e,n)=>yD(e,wD(n));var bD=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var ID=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of DD(n))!um.call(e,i)&&i!==t&&ld(e,i,{get:()=>n[i],enumerable:!(r=CD(n,i))||r.enumerable});return e};var TD=(e,n,t)=>(t=e!=null?_D(ED(e)):{},ID(n||!e||!e.__esModule?ld(t,"default",{value:e,enumerable:!0}):t,e));var ft=(e,n,t)=>new Promise((r,i)=>{var o=l=>{try{s(t.next(l))}catch(c){i(c)}},a=l=>{try{s(t.throw(l))}catch(c){i(c)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((t=t.apply(e,n)).next())});var bw=bD((Bg,Ug)=>{"use strict";((e,n)=>{typeof define=="function"&&define.amd?define([],n):typeof Ug=="object"&&typeof Bg<"u"?Ug.exports=n():e.Papa=n()})(Bg,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},t,r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},a=0,s={};function l(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(v){var E=q(v);E.chunkSize=parseInt(E.chunkSize),v.step||v.chunk||(E.chunkSize=null),this._handle=new m(E),(this._handle.streamer=this)._config=E}).call(this,d),this.parseChunk=function(v,E){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let z=this._config.newline;z||(A=this._config.quoteChar||'"',z=this._handle.guessLineEndings(v,A)),v=[...v.split(z).slice(I)].join(z)}this.isFirstChunk&&H(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(v))!==void 0&&(v=A),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+v,A=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(v=A.meta.cursor,I=(this._finished||(this._partialLine=I.substring(v-this._baseIndex),this._baseIndex=v),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:A,workerId:s.WORKER_ID,finished:I});else if(H(this._config.chunk)&&!E){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!I||!H(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(v){H(this._config.error)?this._config.error(v):i&&this._config.error&&n.postMessage({workerId:s.WORKER_ID,error:v,finished:!1})}}function c(d){var v;(d=d||{}).chunkSize||(d.chunkSize=s.RemoteChunkSize),l.call(this,d),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),r||(v.onload=N(this._chunkLoaded,this),v.onerror=N(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var E,I=this._config.downloadRequestHeaders;for(E in I)v.setRequestHeader(E,I[E])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,v.setRequestHeader("Range","bytes="+this._start+"-"+A));try{v.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}r&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize||v.responseText.length,this._finished=!this._config.chunkSize||this._start>=(E=>(E=E.getResponseHeader("Content-Range"))!==null?parseInt(E.substring(E.lastIndexOf("/")+1)):-1)(v),this.parseChunk(v.responseText)))},this._chunkError=function(E){E=v.statusText||E,this._sendError(new Error(E))}}function u(d){(d=d||{}).chunkSize||(d.chunkSize=s.LocalChunkSize),l.call(this,d);var v,E,I=typeof FileReader<"u";this.stream=function(A){this._input=A,E=A.slice||A.webkitSlice||A.mozSlice,I?((v=new FileReader).onload=N(this._chunkLoaded,this),v.onerror=N(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,z=(this._config.chunkSize&&(z=Math.min(this._start+this._config.chunkSize,this._input.size),A=E.call(A,this._start,z)),v.readAsText(A,this._config.encoding));I||this._chunkLoaded({target:{result:z}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(v.error)}}function f(d){var v;l.call(this,d=d||{}),this.stream=function(E){return v=E,this._nextChunk()},this._nextChunk=function(){var E,I;if(!this._finished)return E=this._config.chunkSize,v=E?(I=v.substring(0,E),v.substring(E)):(I=v,""),this._finished=!v,this.parseChunk(I)}}function y(d){l.call(this,d=d||{});var v=[],E=!0,I=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):E=!0},this._streamData=N(function(A){try{v.push(typeof A=="string"?A:A.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(z){this._streamError(z)}},this),this._streamError=N(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=N(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(d){var v,E,I,A,z=Math.pow(2,53),K=-z,T=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,k=this,te=0,B=0,he=!1,Q=!1,ie=[],W={data:[],errors:[],meta:{}};function Se(oe){return d.skipEmptyLines==="greedy"?oe.join("").trim()==="":oe.length===1&&oe[0].length===0}function qe(){if(W&&I&&(rt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),I=!1),d.skipEmptyLines&&(W.data=W.data.filter(function(je){return!Se(je)})),Xe()){let je=function(it,He){H(d.transformHeader)&&(it=d.transformHeader(it,He)),ie.push(it)};var _e=je;if(W)if(Array.isArray(W.data[0])){for(var oe=0;Xe()&&oe<W.data.length;oe++)W.data[oe].forEach(je);W.data.splice(0,1)}else W.data.forEach(je)}function De(je,it){for(var He=d.header?{}:[],Pe=0;Pe<je.length;Pe++){var ye=Pe,mt=je[Pe],mt=((Te,Be)=>(et=>(d.dynamicTypingFunction&&d.dynamicTyping[et]===void 0&&(d.dynamicTyping[et]=d.dynamicTypingFunction(et)),(d.dynamicTyping[et]||d.dynamicTyping)===!0))(Te)?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&((et=>{if(T.test(et)&&(et=parseFloat(et),K<et&&et<z))return 1})(Be)?parseFloat(Be):Z.test(Be)?new Date(Be):Be===""?null:Be):Be)(ye=d.header?Pe>=ie.length?"__parsed_extra":ie[Pe]:ye,mt=d.transform?d.transform(mt,ye):mt);ye==="__parsed_extra"?(He[ye]=He[ye]||[],He[ye].push(mt)):He[ye]=mt}return d.header&&(Pe>ie.length?rt("FieldMismatch","TooManyFields","Too many fields: expected "+ie.length+" fields but parsed "+Pe,B+it):Pe<ie.length&&rt("FieldMismatch","TooFewFields","Too few fields: expected "+ie.length+" fields but parsed "+Pe,B+it)),He}var Ve;W&&(d.header||d.dynamicTyping||d.transform)&&(Ve=1,!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(De),Ve=W.data.length):W.data=De(W.data,0),d.header&&W.meta&&(W.meta.fields=ie),B+=Ve)}function Xe(){return d.header&&ie.length===0}function rt(oe,De,Ve,_e){oe={type:oe,code:De,message:Ve},_e!==void 0&&(oe.row=_e),W.errors.push(oe)}H(d.step)&&(A=d.step,d.step=function(oe){W=oe,Xe()?qe():(qe(),W.data.length!==0&&(te+=oe.data.length,d.preview&&te>d.preview?E.abort():(W.data=W.data[0],A(W,k))))}),this.parse=function(oe,De,Ve){var _e=d.quoteChar||'"',_e=(d.newline||(d.newline=this.guessLineEndings(oe,_e)),I=!1,d.delimiter?H(d.delimiter)&&(d.delimiter=d.delimiter(oe),W.meta.delimiter=d.delimiter):((_e=((je,it,He,Pe,ye)=>{var mt,Te,Be,et;ye=ye||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var Ai=0;Ai<ye.length;Ai++){for(var Dn,ns=ye[Ai],vt=0,En=0,ot=0,At=(Be=void 0,new R({comments:Pe,delimiter:ns,newline:it,preview:10}).parse(je)),Kn=0;Kn<At.data.length;Kn++)He&&Se(At.data[Kn])?ot++:(Dn=At.data[Kn].length,En+=Dn,Be===void 0?Be=Dn:0<Dn&&(vt+=Math.abs(Dn-Be),Be=Dn));0<At.data.length&&(En/=At.data.length-ot),(Te===void 0||vt<=Te)&&(et===void 0||et<En)&&1.99<En&&(Te=vt,mt=ns,et=En)}return{successful:!!(d.delimiter=mt),bestDelimiter:mt}})(oe,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess)).successful?d.delimiter=_e.bestDelimiter:(I=!0,d.delimiter=s.DefaultDelimiter),W.meta.delimiter=d.delimiter),q(d));return d.preview&&d.header&&_e.preview++,v=oe,E=new R(_e),W=E.parse(v,De,Ve),qe(),he?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return he},this.pause=function(){he=!0,E.abort(),v=H(d.chunk)?"":v.substring(E.getCharIndex())},this.resume=function(){k.streamer._halted?(he=!1,k.streamer.parseChunk(v,!0)):setTimeout(k.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,E.abort(),W.meta.aborted=!0,H(d.complete)&&d.complete(W),v=""},this.guessLineEndings=function(je,_e){je=je.substring(0,1048576);var _e=new RegExp(D(_e)+"([^]*?)"+D(_e),"gm"),Ve=(je=je.replace(_e,"")).split("\r"),_e=je.split(`
`),je=1<_e.length&&_e[0].length<Ve[0].length;if(Ve.length===1||je)return`
`;for(var it=0,He=0;He<Ve.length;He++)Ve[He][0]===`
`&&it++;return it>=Ve.length/2?`\r
`:"\r"}}function D(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(d){var v=(d=d||{}).delimiter,E=d.newline,I=d.comments,A=d.step,z=d.preview,K=d.fastMode,T=null,Z=!1,k=d.quoteChar==null?'"':d.quoteChar,te=k;if(d.escapeChar!==void 0&&(te=d.escapeChar),(typeof v!="string"||-1<s.BAD_DELIMITERS.indexOf(v))&&(v=","),I===v)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<s.BAD_DELIMITERS.indexOf(I))&&(I=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var B=0,he=!1;this.parse=function(Q,ie,W){if(typeof Q!="string")throw new Error("Input must be a string");var Se=Q.length,qe=v.length,Xe=E.length,rt=I.length,oe=H(A),De=[],Ve=[],_e=[],je=B=0;if(!Q)return vt();if(K||K!==!1&&Q.indexOf(k)===-1){for(var it=Q.split(E),He=0;He<it.length;He++){if(_e=it[He],B+=_e.length,He!==it.length-1)B+=E.length;else if(W)return vt();if(!I||_e.substring(0,rt)!==I){if(oe){if(De=[],et(_e.split(v)),En(),he)return vt()}else et(_e.split(v));if(z&&z<=He)return De=De.slice(0,z),vt(!0)}}return vt()}for(var Pe=Q.indexOf(v,B),ye=Q.indexOf(E,B),mt=new RegExp(D(te)+D(k),"g"),Te=Q.indexOf(k,B);;)if(Q[B]===k)for(Te=B,B++;;){if((Te=Q.indexOf(k,Te+1))===-1)return W||Ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:De.length,index:B}),Dn();if(Te===Se-1)return Dn(Q.substring(B,Te).replace(mt,k));if(k===te&&Q[Te+1]===te)Te++;else if(k===te||Te===0||Q[Te-1]!==te){Pe!==-1&&Pe<Te+1&&(Pe=Q.indexOf(v,Te+1));var Be=Ai((ye=ye!==-1&&ye<Te+1?Q.indexOf(E,Te+1):ye)===-1?Pe:Math.min(Pe,ye));if(Q.substr(Te+1+Be,qe)===v){_e.push(Q.substring(B,Te).replace(mt,k)),Q[B=Te+1+Be+qe]!==k&&(Te=Q.indexOf(k,B)),Pe=Q.indexOf(v,B),ye=Q.indexOf(E,B);break}if(Be=Ai(ye),Q.substring(Te+1+Be,Te+1+Be+Xe)===E){if(_e.push(Q.substring(B,Te).replace(mt,k)),ns(Te+1+Be+Xe),Pe=Q.indexOf(v,B),Te=Q.indexOf(k,B),oe&&(En(),he))return vt();if(z&&De.length>=z)return vt(!0);break}Ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:De.length,index:B}),Te++}}else if(I&&_e.length===0&&Q.substring(B,B+rt)===I){if(ye===-1)return vt();B=ye+Xe,ye=Q.indexOf(E,B),Pe=Q.indexOf(v,B)}else if(Pe!==-1&&(Pe<ye||ye===-1))_e.push(Q.substring(B,Pe)),B=Pe+qe,Pe=Q.indexOf(v,B);else{if(ye===-1)break;if(_e.push(Q.substring(B,ye)),ns(ye+Xe),oe&&(En(),he))return vt();if(z&&De.length>=z)return vt(!0)}return Dn();function et(ot){De.push(ot),je=B}function Ai(ot){var At=0;return At=ot!==-1&&(ot=Q.substring(Te+1,ot))&&ot.trim()===""?ot.length:At}function Dn(ot){return W||(ot===void 0&&(ot=Q.substring(B)),_e.push(ot),B=Se,et(_e),oe&&En()),vt()}function ns(ot){B=ot,et(_e),_e=[],ye=Q.indexOf(E,B)}function vt(ot){if(d.header&&!ie&&De.length&&!Z){var At=De[0],Kn=Object.create(null),ad=new Set(At);let sm=!1;for(let Pi=0;Pi<At.length;Pi++){let Sn=At[Pi];if(Kn[Sn=H(d.transformHeader)?d.transformHeader(Sn,Pi):Sn]){let rs,am=Kn[Sn];for(;rs=Sn+"_"+am,am++,ad.has(rs););ad.add(rs),At[Pi]=rs,Kn[Sn]++,sm=!0,(T=T===null?{}:T)[rs]=Sn}else Kn[Sn]=1,At[Pi]=Sn;ad.add(Sn)}sm&&console.warn("Duplicate headers found and renamed."),Z=!0}return{data:De,errors:Ve,meta:{delimiter:v,linebreak:E,aborted:he,truncated:!!ot,cursor:je+(ie||0),renamedHeaders:T}}}function En(){A(vt()),De=[],Ve=[]}},this.abort=function(){he=!0},this.getCharIndex=function(){return B}}function b(d){var v=d.data,E=o[v.workerId],I=!1;if(v.error)E.userError(v.error,v.file);else if(v.results&&v.results.data){var A={abort:function(){I=!0,x(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ce,resume:ce};if(H(E.userStep)){for(var z=0;z<v.results.data.length&&(E.userStep({data:v.results.data[z],errors:v.results.errors,meta:v.results.meta},A),!I);z++);delete v.results}else H(E.userChunk)&&(E.userChunk(v.results,A,v.file),delete v.results)}v.finished&&!I&&x(v.workerId,v.results)}function x(d,v){var E=o[d];H(E.userComplete)&&E.userComplete(v),E.terminate(),delete o[d]}function ce(){throw new Error("Not implemented.")}function q(d){if(typeof d!="object"||d===null)return d;var v,E=Array.isArray(d)?[]:{};for(v in d)E[v]=q(d[v]);return E}function N(d,v){return function(){d.apply(v,arguments)}}function H(d){return typeof d=="function"}return s.parse=function(d,v){var E=(v=v||{}).dynamicTyping||!1;if(H(E)&&(v.dynamicTypingFunction=E,E={}),v.dynamicTyping=E,v.transform=!!H(v.transform)&&v.transform,!v.worker||!s.WORKERS_SUPPORTED)return E=null,s.NODE_STREAM_INPUT,typeof d=="string"?(d=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(d),E=new(v.download?c:f)(v)):d.readable===!0&&H(d.read)&&H(d.on)?E=new y(v):(n.File&&d instanceof File||d instanceof Object)&&(E=new u(v)),E.stream(d);(E=(()=>{var I;return!!s.WORKERS_SUPPORTED&&(I=(()=>{var A=n.URL||n.webkitURL||null,z=e.toString();return s.BLOB_URL||(s.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",z,")();"],{type:"text/javascript"})))})(),(I=new n.Worker(I)).onmessage=b,I.id=a++,o[I.id]=I)})()).userStep=v.step,E.userChunk=v.chunk,E.userComplete=v.complete,E.userError=v.error,v.step=H(v.step),v.chunk=H(v.chunk),v.complete=H(v.complete),v.error=H(v.error),delete v.worker,E.postMessage({input:d,config:v,workerId:E.id})},s.unparse=function(d,v){var E=!1,I=!0,A=",",z=`\r
`,K='"',T=K+K,Z=!1,k=null,te=!1,B=((()=>{if(typeof v=="object"){if(typeof v.delimiter!="string"||s.BAD_DELIMITERS.filter(function(ie){return v.delimiter.indexOf(ie)!==-1}).length||(A=v.delimiter),typeof v.quotes!="boolean"&&typeof v.quotes!="function"&&!Array.isArray(v.quotes)||(E=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(Z=v.skipEmptyLines),typeof v.newline=="string"&&(z=v.newline),typeof v.quoteChar=="string"&&(K=v.quoteChar),typeof v.header=="boolean"&&(I=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");k=v.columns}v.escapeChar!==void 0&&(T=v.escapeChar+K),v.escapeFormulae instanceof RegExp?te=v.escapeFormulae:typeof v.escapeFormulae=="boolean"&&v.escapeFormulae&&(te=/^[=+\-@\t\r].*$/)}})(),new RegExp(D(K),"g"));if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return he(null,d,Z);if(typeof d[0]=="object")return he(k||Object.keys(d[0]),d,Z)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||k),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),he(d.fields||[],d.data||[],Z);throw new Error("Unable to serialize unrecognized input");function he(ie,W,Se){var qe="",Xe=(typeof ie=="string"&&(ie=JSON.parse(ie)),typeof W=="string"&&(W=JSON.parse(W)),Array.isArray(ie)&&0<ie.length),rt=!Array.isArray(W[0]);if(Xe&&I){for(var oe=0;oe<ie.length;oe++)0<oe&&(qe+=A),qe+=Q(ie[oe],oe);0<W.length&&(qe+=z)}for(var De=0;De<W.length;De++){var Ve=(Xe?ie:W[De]).length,_e=!1,je=Xe?Object.keys(W[De]).length===0:W[De].length===0;if(Se&&!Xe&&(_e=Se==="greedy"?W[De].join("").trim()==="":W[De].length===1&&W[De][0].length===0),Se==="greedy"&&Xe){for(var it=[],He=0;He<Ve;He++){var Pe=rt?ie[He]:He;it.push(W[De][Pe])}_e=it.join("").trim()===""}if(!_e){for(var ye=0;ye<Ve;ye++){0<ye&&!je&&(qe+=A);var mt=Xe&&rt?ie[ye]:ye;qe+=Q(W[De][mt],ye)}De<W.length-1&&(!Se||0<Ve&&!je)&&(qe+=z)}}return qe}function Q(ie,W){var Se,qe;return ie==null?"":ie.constructor===Date?JSON.stringify(ie).slice(1,25):(qe=!1,te&&typeof ie=="string"&&te.test(ie)&&(ie="'"+ie,qe=!0),Se=ie.toString().replace(B,T),(qe=qe||E===!0||typeof E=="function"&&E(ie,W)||Array.isArray(E)&&E[W]||((Xe,rt)=>{for(var oe=0;oe<rt.length;oe++)if(-1<Xe.indexOf(rt[oe]))return!0;return!1})(Se,s.BAD_DELIMITERS)||-1<Se.indexOf(A)||Se.charAt(0)===" "||Se.charAt(Se.length-1)===" ")?K+Se+K:Se)}},s.RECORD_SEP="",s.UNIT_SEP="",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!n.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=R,s.ParserHandle=m,s.NetworkStreamer=c,s.FileStreamer=u,s.StringStreamer=f,s.ReadableStreamStreamer=y,n.jQuery&&((t=n.jQuery).fn.parse=function(d){var v=d.config||{},E=[];return this.each(function(z){if(!(t(this).prop("tagName").toUpperCase()==="INPUT"&&t(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)E.push({file:this.files[K],inputElem:this,instanceConfig:t.extend({},v)})}),I(),this;function I(){if(E.length===0)H(d.complete)&&d.complete();else{var z,K,T,Z,k=E[0];if(H(d.before)){var te=d.before(k.file,k.inputElem);if(typeof te=="object"){if(te.action==="abort")return z="AbortError",K=k.file,T=k.inputElem,Z=te.reason,void(H(d.error)&&d.error({name:z},K,T,Z));if(te.action==="skip")return void A();typeof te.config=="object"&&(k.instanceConfig=t.extend(k.instanceConfig,te.config))}else if(te==="skip")return void A()}var B=k.instanceConfig.complete;k.instanceConfig.complete=function(he){H(B)&&B(he,k.file,k.inputElem),A()},s.parse(k.file,k.instanceConfig)}}function A(){E.splice(0,1),I()}}),i&&(n.onmessage=function(d){d=d.data,s.WORKER_ID===void 0&&d&&(s.WORKER_ID=d.workerId),typeof d.input=="string"?n.postMessage({workerId:s.WORKER_ID,results:s.parse(d.input,d.config),finished:!0}):(n.File&&d.input instanceof File||d.input instanceof Object)&&(d=s.parse(d.input,d.config))&&n.postMessage({workerId:s.WORKER_ID,results:d,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(f.prototype=Object.create(f.prototype)).constructor=f,(y.prototype=Object.create(l.prototype)).constructor=y,s})});var cd;function Ba(){return cd}function bn(e){let n=cd;return cd=e,n}var dm=Symbol("NotFound");function Ni(e){return e===dm||e?.name==="\u0275NotFound"}function Wa(e,n){return Object.is(e,n)}var _t=null,Ua=!1,ud=1,xD=null,yt=Symbol("SIGNAL");function ge(e){let n=_t;return _t=e,n}function qa(){return _t}var Gr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oi(e){if(Ua)throw new Error("");if(_t===null)return;_t.consumerOnSignalRead(e);let n=_t.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=_t.recomputing;if(r&&(t=n!==void 0?n.nextProducer:_t.producers,t!==void 0&&t.producer===e)){_t.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===_t&&(!r||RD(i,_t)))return;let o=Fi(_t),a={producer:e,consumer:_t,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};_t.producersTail=a,n!==void 0?n.nextProducer=a:_t.producers=a,o&&hm(e,a)}function fm(){ud++}function Ya(e){if(!(Fi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ud)){if(!e.producerMustRecompute(e)&&!os(e)){Ga(e);return}e.producerRecomputeValue(e),Ga(e)}}function dd(e){if(e.consumers===void 0)return;let n=Ua;Ua=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||MD(r)}}finally{Ua=n}}function fd(){return _t?.consumerAllowSignalWrites!==!1}function MD(e){e.dirty=!0,dd(e),e.consumerMarkedDirty?.(e)}function Ga(e){e.dirty=!1,e.lastCleanEpoch=ud}function Wr(e){return e&&(e.producersTail=void 0,e.recomputing=!0),ge(e)}function ki(e,n){if(ge(n),!e)return;e.recomputing=!1;let t=e.producersTail,r=t!==void 0?t.nextProducer:e.producers;if(r!==void 0){if(Fi(e))do r=hd(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function os(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(Ya(t),r!==t.version))return!0}return!1}function ss(e){if(Fi(e)){let n=e.producers;for(;n!==void 0;)n=hd(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function hm(e,n){let t=e.consumersTail,r=Fi(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)hm(i.producer,i)}function hd(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!Fi(n)){let o=n.producers;for(;o!==void 0;)o=hd(o)}return t}function Fi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Ka(e){xD?.(e)}function RD(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Za(e,n){let t=Object.create(AD);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Ya(t),Oi(t),t.value===is)throw t.error;return t.value};return r[yt]=t,Ka(t),r}var $a=Symbol("UNSET"),za=Symbol("COMPUTING"),is=Symbol("ERRORED"),AD=ae(M({},Gr),{value:$a,dirty:!0,error:null,equal:Wa,kind:"computed",producerMustRecompute(e){return e.value===$a||e.value===za},producerRecomputeValue(e){if(e.value===za)throw new Error("");let n=e.value;e.value=za;let t=Wr(e),r,i=!1;try{r=e.computation(),ge(null),i=n!==$a&&n!==is&&r!==is&&e.equal(n,r)}catch(o){r=is,e.error=o}finally{ki(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function PD(){throw new Error}var pm=PD;function gm(e){pm(e)}function pd(e){pm=e}var ND=null;function gd(e,n){let t=Object.create(Qa);t.value=e,n!==void 0&&(t.equal=n);let r=()=>mm(t);return r[yt]=t,Ka(t),[r,a=>Li(t,a),a=>md(t,a)]}function mm(e){return Oi(e),e.value}function Li(e,n){fd()||gm(e),e.equal(e.value,n)||(e.value=n,OD(e))}function md(e,n){fd()||gm(e),Li(e,n(e.value))}var Qa=ae(M({},Gr),{equal:Wa,value:void 0,kind:"signal"});function OD(e){e.version++,fm(),dd(e),ND?.(e)}function de(e){return typeof e=="function"}function Vi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ja=Vi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var be=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(de(r))try{r()}catch(o){n=o instanceof Ja?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{vm(o)}catch(a){n=n??[],a instanceof Ja?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Ja(n)}}add(n){var t;if(n&&n!==this)if(this.closed)vm(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&qr(t,n)}remove(n){let{_finalizers:t}=this;t&&qr(t,n),n instanceof e&&n._removeParent(this)}};be.EMPTY=(()=>{let e=new be;return e.closed=!0,e})();var vd=be.EMPTY;function Xa(e){return e instanceof be||e&&"closed"in e&&de(e.remove)&&de(e.add)&&de(e.unsubscribe)}function vm(e){de(e)?e():e.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(e,n,...t){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=ji;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function el(e){ji.setTimeout(()=>{let{onUnhandledError:n}=on;if(n)n(e);else throw e})}function Yr(){}var _m=_d("C",void 0,void 0);function ym(e){return _d("E",void 0,e)}function Cm(e){return _d("N",e,void 0)}function _d(e,n,t){return{kind:e,value:n,error:t}}var Kr=null;function Hi(e){if(on.useDeprecatedSynchronousErrorHandling){let n=!Kr;if(n&&(Kr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Kr;if(Kr=null,t)throw r}}else e()}function wm(e){on.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=e)}var Zr=class extends be{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Xa(n)&&n.add(this)):this.destination=LD}static create(n,t,r){return new Bi(n,t,r)}next(n){this.isStopped?Cd(Cm(n),this):this._next(n)}error(n){this.isStopped?Cd(ym(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Cd(_m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kD=Function.prototype.bind;function yd(e,n){return kD.call(e,n)}var wd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){tl(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){tl(r)}else tl(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){tl(t)}}},Bi=class extends Zr{constructor(n,t,r){super();let i;if(de(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&yd(n.next,o),error:n.error&&yd(n.error,o),complete:n.complete&&yd(n.complete,o)}):i=n}this.destination=new wd(i)}};function tl(e){on.useDeprecatedSynchronousErrorHandling?wm(e):el(e)}function FD(e){throw e}function Cd(e,n){let{onStoppedNotification:t}=on;t&&ji.setTimeout(()=>t(e,n))}var LD={closed:!0,next:Yr,error:FD,complete:Yr};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(e){return e}function Dd(...e){return Ed(e)}function Ed(e){return e.length===0?Ot:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var re=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=jD(t)?t:new Bi(t,r,i);return Hi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Dm(r),new r((i,o)=>{let a=new Bi({next:s=>{try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ui](){return this}pipe(...t){return Ed(t)(this)}toPromise(t){return t=Dm(t),new t((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=n=>new e(n),e})();function Dm(e){var n;return(n=e??on.Promise)!==null&&n!==void 0?n:Promise}function VD(e){return e&&de(e.next)&&de(e.error)&&de(e.complete)}function jD(e){return e&&e instanceof Zr||VD(e)&&Xa(e)}function Sd(e){return de(e?.lift)}function Ce(e){return n=>{if(Sd(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(e,n,t,r,i){return new bd(e,n,t,r,i)}var bd=class extends Zr{constructor(n,t,r,i,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(l){n.error(l)}}:super._next,this._error=i?function(s){try{i(s)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function $i(){return Ce((e,n)=>{let t=null;e._refCount++;let r=me(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var zi=class extends re{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new be;let t=this.getSubject();n.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=be.EMPTY)}return n}refCount(){return $i()(this)}};var Gi={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=Gi;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=n(o=>{t=void 0,e(o)});return new be(()=>t?.(i))},requestAnimationFrame(...e){let{delegate:n}=Gi;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:n}=Gi;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var Em=Vi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new nl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Em}next(t){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vd:(this.currentObservers=null,o.push(t),new be(()=>{this.currentObservers=null,qr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return e.create=(n,t)=>new nl(n,t),e})(),nl=class extends se{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:vd}};var st=class extends se{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Id={now(){return(Id.delegate||Date).now()},delegate:void 0};var rl=class extends be{constructor(n,t){super()}schedule(n,t=0){return this}};var as={setInterval(e,n,...t){let{delegate:r}=as;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=as;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var Wi=class extends rl{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return as.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&as.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qr(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var qi=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};qi.now=Id.now;var Yi=class extends qi{constructor(n,t=qi.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var ls=new Yi(Wi),Sm=ls;var il=class extends Wi{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return r!==null&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=Gi.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);let{actions:o}=n;t!=null&&t===n._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Gi.cancelAnimationFrame(t),n._scheduled=void 0)}};var ol=class extends Yi{flush(n){this._active=!0;let t;n?t=n.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}};var sl=new ol(il);var Ct=new re(e=>e.complete());function al(e){return e&&de(e.schedule)}function Td(e){return e[e.length-1]}function ll(e){return de(Td(e))?e.pop():void 0}function In(e){return al(Td(e))?e.pop():void 0}function bm(e,n){return typeof Td(e)=="number"?e.pop():n}function Tm(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):i(u.value).then(s,l)}c((r=r.apply(e,n||[])).next())})}function Im(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qr(e){return this instanceof Qr?(this.v=e,this):new Qr(e)}function xm(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(D){return Promise.resolve(D).then(m,f)}}function s(m,D){r[m]&&(i[m]=function(R){return new Promise(function(b,x){o.push([m,R,b,x])>1||l(m,R)})},D&&(i[m]=D(i[m])))}function l(m,D){try{c(r[m](D))}catch(R){y(o[0][3],R)}}function c(m){m.value instanceof Qr?Promise.resolve(m.value.v).then(u,f):y(o[0][2],m)}function u(m){l("next",m)}function f(m){l("throw",m)}function y(m,D){m(D),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Mm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Im=="function"?Im(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var cl=e=>e&&typeof e.length=="number"&&typeof e!="function";function ul(e){return de(e?.then)}function dl(e){return de(e[Ui])}function fl(e){return Symbol.asyncIterator&&de(e?.[Symbol.asyncIterator])}function hl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pl=HD();function gl(e){return de(e?.[pl])}function ml(e){return xm(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield Qr(t.read());if(i)return yield Qr(void 0);yield yield Qr(r)}}finally{t.releaseLock()}})}function vl(e){return de(e?.getReader)}function Ue(e){if(e instanceof re)return e;if(e!=null){if(dl(e))return BD(e);if(cl(e))return UD(e);if(ul(e))return $D(e);if(fl(e))return Rm(e);if(gl(e))return zD(e);if(vl(e))return GD(e)}throw hl(e)}function BD(e){return new re(n=>{let t=e[Ui]();if(de(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UD(e){return new re(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function $D(e){return new re(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,el)})}function zD(e){return new re(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Rm(e){return new re(n=>{WD(e,n).catch(t=>n.error(t))})}function GD(e){return Rm(ml(e))}function WD(e,n){var t,r,i,o;return Tm(this,void 0,void 0,function*(){try{for(t=Mm(e);r=yield t.next(),!r.done;){let a=r.value;if(n.next(a),n.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Pt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function _l(e,n=0){return Ce((t,r)=>{t.subscribe(me(r,i=>Pt(r,e,()=>r.next(i),n),()=>Pt(r,e,()=>r.complete(),n),i=>Pt(r,e,()=>r.error(i),n)))})}function yl(e,n=0){return Ce((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Am(e,n){return Ue(e).pipe(yl(n),_l(n))}function Pm(e,n){return Ue(e).pipe(yl(n),_l(n))}function Nm(e,n){return new re(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Om(e,n){return new re(t=>{let r;return Pt(t,n,()=>{r=e[pl](),Pt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){t.error(a);return}o?t.complete():t.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}function Cl(e,n){if(!e)throw new Error("Iterable cannot be null");return new re(t=>{Pt(t,n,()=>{let r=e[Symbol.asyncIterator]();Pt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function km(e,n){return Cl(ml(e),n)}function Fm(e,n){if(e!=null){if(dl(e))return Am(e,n);if(cl(e))return Nm(e,n);if(ul(e))return Pm(e,n);if(fl(e))return Cl(e,n);if(gl(e))return Om(e,n);if(vl(e))return km(e,n)}throw hl(e)}function ke(e,n){return n?Fm(e,n):Ue(e)}function X(...e){let n=In(e);return ke(e,n)}function Ki(e,n){let t=de(e)?e:()=>e,r=i=>i.error(t());return new re(n?i=>n.schedule(r,0,i):r)}function wl(e){return!!e&&(e instanceof re||de(e.lift)&&de(e.subscribe))}var Zn=Vi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Lm(e){return e instanceof Date&&!isNaN(e)}function ee(e,n){return Ce((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:qD}=Array;function YD(e,n){return qD(n)?e(...n):e(n)}function Dl(e){return ee(n=>YD(e,n))}var{isArray:KD}=Array,{getPrototypeOf:ZD,prototype:QD,keys:JD}=Object;function El(e){if(e.length===1){let n=e[0];if(KD(n))return{args:n,keys:null};if(XD(n)){let t=JD(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function XD(e){return e&&typeof e=="object"&&ZD(e)===QD}function Sl(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function cs(...e){let n=In(e),t=ll(e),{args:r,keys:i}=El(e);if(r.length===0)return ke([],n);let o=new re(eE(r,n,i?a=>Sl(i,a):Ot));return t?o.pipe(Dl(t)):o}function eE(e,n,t=Ot){return r=>{Vm(n,()=>{let{length:i}=e,o=new Array(i),a=i,s=i;for(let l=0;l<i;l++)Vm(n,()=>{let c=ke(e[l],n),u=!1;c.subscribe(me(r,f=>{o[l]=f,u||(u=!0,s--),s||r.next(t(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Vm(e,n,t){e?Pt(t,e,n):n()}function jm(e,n,t,r,i,o,a,s){let l=[],c=0,u=0,f=!1,y=()=>{f&&!l.length&&!c&&n.complete()},m=R=>c<r?D(R):l.push(R),D=R=>{o&&n.next(R),c++;let b=!1;Ue(t(R,u++)).subscribe(me(n,x=>{i?.(x),o?m(x):n.next(x)},()=>{b=!0},void 0,()=>{if(b)try{for(c--;l.length&&c<r;){let x=l.shift();a?Pt(n,a,()=>D(x)):D(x)}y()}catch(x){n.error(x)}}))};return e.subscribe(me(n,m,()=>{f=!0,y()})),()=>{s?.()}}function Ke(e,n,t=1/0){return de(n)?Ke((r,i)=>ee((o,a)=>n(r,o,i,a))(Ue(e(r,i))),t):(typeof n=="number"&&(t=n),Ce((r,i)=>jm(r,i,e,t)))}function gr(e=1/0){return Ke(Ot,e)}function Hm(){return gr(1)}function Zi(...e){return Hm()(ke(e,In(e)))}function us(e){return new re(n=>{Ue(e()).subscribe(n)})}function ds(...e){let n=ll(e),{args:t,keys:r}=El(e),i=new re(o=>{let{length:a}=t;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let u=0;u<a;u++){let f=!1;Ue(t[u]).subscribe(me(o,y=>{f||(f=!0,c--),s[u]=y},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(r?Sl(r,s):s),o.complete())}))}});return n?i.pipe(Dl(n)):i}function bl(e=0,n,t=Sm){let r=-1;return n!=null&&(al(n)?t=n:r=n),new re(i=>{let o=Lm(e)?+e-t.now():e;o<0&&(o=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function xd(e=0,n=ls){return e<0&&(e=0),bl(e,e,n)}function Md(...e){let n=In(e),t=bm(e,1/0),r=e;return r.length?r.length===1?Ue(r[0]):gr(t)(ke(r,n)):Ct}var Qn=new re(Yr);function Je(e,n){return Ce((t,r)=>{let i=0;t.subscribe(me(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Bm(e){return Ce((n,t)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let c=i;i=null,t.next(c)}a&&t.complete()},l=()=>{o=null,a&&t.complete()};n.subscribe(me(t,c=>{r=!0,i=c,o||Ue(e(c)).subscribe(o=me(t,s,l))},()=>{a=!0,(!r||!o||o.closed)&&t.complete()}))})}function Rd(e,n=ls){return Bm(()=>bl(e,n))}function Jn(e){return Ce((n,t)=>{let r=null,i=!1,o;r=n.subscribe(me(t,void 0,void 0,a=>{o=Ue(e(a,Jn(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Um(e,n,t,r,i){return(o,a)=>{let s=t,l=n,c=0;o.subscribe(me(a,u=>{let f=c++;l=s?e(l,u,f):(s=!0,u),r&&a.next(l)},i&&(()=>{s&&a.next(l),a.complete()})))}}function Tn(e,n){return de(n)?Ke(e,n,1):Ke(e,1)}function mr(e){return Ce((n,t)=>{let r=!1;n.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function wt(e){return e<=0?()=>Ct:Ce((n,t)=>{let r=0;n.subscribe(me(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Il(e=tE){return Ce((n,t)=>{let r=!1;n.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function tE(){return new Zn}function vr(e){return Ce((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Xn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Je((i,o)=>e(i,o,r)):Ot,wt(1),t?mr(n):Il(()=>new Zn))}function Qi(e){return e<=0?()=>Ct:Ce((n,t)=>{let r=[];n.subscribe(me(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ad(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Je((i,o)=>e(i,o,r)):Ot,Qi(1),t?mr(n):Il(()=>new Zn))}function Pd(e,n){return Ce(Um(e,n,arguments.length>=2,!0))}function fs(...e){let n=In(e);return Ce((t,r)=>{(n?Zi(e,t,n):Zi(e,t)).subscribe(r)})}function $e(e,n){return Ce((t,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();t.subscribe(me(r,l=>{i?.unsubscribe();let c=0,u=o++;Ue(e(l,u)).subscribe(i=me(r,f=>r.next(n?n(l,f,u,c++):f),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Jr(e){return Ce((n,t)=>{Ue(e).subscribe(me(t,()=>t.complete(),Yr)),!t.closed&&n.subscribe(t)})}function Ze(e,n,t){let r=de(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ce((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(me(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ot}function $m(e){let n=ge(null);try{return e()}finally{ge(n)}}var Al="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(n,t){super(an(n,t)),this.code=n}};function nE(e){return`NG0${Math.abs(e)}`}function an(e,n){return`${nE(e)}${n?": "+n:""}`}var Dt=globalThis;function xe(e){for(let n in e)if(e[n]===xe)return n;throw Error("")}function Wm(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function tr(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(tr).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Gd(e,n){return e?n?`${e} ${n}`:e:n||""}var rE=xe({__forward_ref__:xe});function xn(e){return e.__forward_ref__=xn,e.toString=function(){return tr(this())},e}function ht(e){return Wd(e)?e():e}function Wd(e){return typeof e=="function"&&e.hasOwnProperty(rE)&&e.__forward_ref__===xn}function qm(e,n){e==null&&qd(n,e,null,"!=")}function qd(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Le(e){return{providers:e.providers||[],imports:e.imports||[]}}function vs(e){return iE(e,Pl)}function Yd(e){return vs(e)!==null}function iE(e,n){return e.hasOwnProperty(n)&&e[n]||null}function oE(e){let n=e?.[Pl]??null;return n||null}function Od(e){return e&&e.hasOwnProperty(xl)?e[xl]:null}var Pl=xe({\u0275prov:xe}),xl=xe({\u0275inj:xe}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kd(e){return e&&!!e.\u0275providers}var Zd=xe({\u0275cmp:xe}),Qd=xe({\u0275dir:xe}),Jd=xe({\u0275pipe:xe}),Xd=xe({\u0275mod:xe}),gs=xe({\u0275fac:xe}),ri=xe({__NG_ELEMENT_ID__:xe}),zm=xe({__NG_ENV_ID__:xe});function zt(e){return typeof e=="string"?e:e==null?"":String(e)}function Ml(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():zt(e)}var ef=xe({ngErrorCode:xe}),Ym=xe({ngErrorMessage:xe}),ps=xe({ngTokenPath:xe});function tf(e,n){return Km("",-200,n)}function Nl(e,n){throw new O(-201,!1)}function sE(e,n){e[ps]??=[];let t=e[ps],r;typeof n=="object"&&"multi"in n&&n?.multi===!0?(qm(n.provide,"Token with multi: true should have a provide property"),r=Ml(n.provide)):r=Ml(n),t[0]!==r&&e[ps].unshift(r)}function aE(e,n){let t=e[ps],r=e[ef],i=e[Ym]||e.message;return e.message=cE(i,r,t,n),e}function Km(e,n,t){let r=new O(n,e);return r[ef]=n,r[Ym]=e,t&&(r[ps]=t),r}function lE(e){return e[ef]}function cE(e,n,t=[],r=null){let i="";t&&t.length>1&&(i=` Path: ${t.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return an(n,`${e}${o}${i}`)}var kd;function Zm(){return kd}function It(e){let n=kd;return kd=e,n}function nf(e,n,t){let r=vs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;Nl(e,"Injector")}var uE={},Xr=uE,Fd="__NG_DI_FLAG__",Ld=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=ei(t)||0;try{return this.injector.get(n,r&8?null:Xr,r)}catch(i){if(Ni(i))return i;throw i}}};function dE(e,n=0){let t=Ba();if(t===void 0)throw new O(-203,!1);if(t===null)return nf(e,void 0,n);{let r=fE(n),i=t.retrieve(e,r);if(Ni(i)){if(r.optional)return null;throw i}return i}}function F(e,n=0){return(Zm()||dE)(ht(e),n)}function S(e,n){return F(e,ei(n))}function ei(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fE(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Vd(e){let n=[];for(let t=0;t<e.length;t++){let r=ht(e[t]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],l=hE(s);typeof l=="number"?l===-1?i=s.token:o|=l:i=s}n.push(F(i,o))}else n.push(F(r))}return n}function rf(e,n){return e[Fd]=n,e.prototype[Fd]=n,e}function hE(e){return e[Fd]}function _r(e,n){let t=e.hasOwnProperty(gs);return t?e[gs]:null}function Qm(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function Jm(e){return e.flat(Number.POSITIVE_INFINITY)}function Ol(e,n){e.forEach(t=>Array.isArray(t)?Ol(t,n):n(t))}function of(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function _s(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Xm(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function ev(e,n,t){let r=Xi(e,n);return r>=0?e[r|1]=t:(r=~r,Xm(e,r,n,t)),r}function kl(e,n){let t=Xi(e,n);if(t>=0)return e[t|1]}function Xi(e,n){return pE(e,n,1)}function pE(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),a=e[o<<t];if(n===a)return o<<t;a>n?i=o:r=o+1}return~(i<<t)}var Cr={},kt=[],rr=new U(""),sf=new U("",-1),af=new U(""),ms=class{get(n,t=Xr){if(t===Xr){let i=Km("",-201);throw i.name="\u0275NotFound",i}return t}};function lf(e){return e[Xd]||null}function Mn(e){return e[Zd]||null}function cf(e){return e[Qd]||null}function tv(e){return e[Jd]||null}function ir(e){return{\u0275providers:e}}function nv(...e){return{\u0275providers:uf(!0,e),\u0275fromNgModule:!0}}function uf(e,...n){let t=[],r=new Set,i,o=a=>{t.push(a)};return Ol(n,a=>{let s=a;Rl(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&rv(i,o),t}function rv(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];df(i,o=>{n(o,r)})}}function Rl(e,n,t,r){if(e=ht(e),!e)return!1;let i=null,o=Od(e),a=!o&&Mn(e);if(!o&&!a){let l=e.ngModule;if(o=Od(l),o)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=e}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)Rl(c,n,t,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let c;try{Ol(o.imports,u=>{Rl(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&rv(c,n)}if(!s){let c=_r(i)||(()=>new i);n({provide:i,useFactory:c,deps:kt},i),n({provide:af,useValue:i,multi:!0},i),n({provide:rr,useValue:()=>F(i),multi:!0},i)}let l=o.providers;if(l!=null&&!s){let c=e;df(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function df(e,n){for(let t of e)Kd(t)&&(t=t.\u0275providers),Array.isArray(t)?df(t,n):n(t)}var gE=xe({provide:String,useValue:xe});function iv(e){return e!==null&&typeof e=="object"&&gE in e}function mE(e){return!!(e&&e.useExisting)}function vE(e){return!!(e&&e.useFactory)}function ti(e){return typeof e=="function"}function ov(e){return!!e.useClass}var ys=new U(""),Tl={},Gm={},Nd;function eo(){return Nd===void 0&&(Nd=new ms),Nd}var We=class{},ni=class extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Hd(n,a=>this.processProvider(a)),this.records.set(sf,Ji(void 0,this)),i.has("environment")&&this.records.set(We,Ji(void 0,this));let o=this.records.get(ys);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(af,kt,{self:!0}))}retrieve(n,t){let r=ei(t)||0;try{return this.get(n,Xr,r)}catch(i){if(Ni(i))return i;throw i}}destroy(){hs(this),this._destroyed=!0;let n=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(n)}}onDestroy(n){return hs(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){hs(this);let t=bn(this),r=It(void 0),i;try{return n()}finally{bn(t),It(r)}}get(n,t=Xr,r){if(hs(this),n.hasOwnProperty(zm))return n[zm](this);let i=ei(r),o,a=bn(this),s=It(void 0);try{if(!(i&4)){let c=this.records.get(n);if(c===void 0){let u=DE(n)&&vs(n);u&&this.injectableDefInScope(u)?c=Ji(jd(n),Tl):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,i)}let l=i&2?eo():this.parent;return t=i&8&&t===Xr?null:t,l.get(n,t)}catch(l){let c=lE(l);throw c===-200||c===-201?new O(c,null):l}finally{It(s),bn(a)}}resolveInjectorInitializers(){let n=ge(null),t=bn(this),r=It(void 0),i;try{let o=this.get(rr,kt,{self:!0});for(let a of o)a()}finally{bn(t),It(r),ge(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(tr(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ht(n);let t=ti(n)?n:ht(n&&n.provide),r=yE(n);if(!ti(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Ji(void 0,Tl,!0),i.factory=()=>Vd(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=ge(null);try{if(t.value===Gm)throw tf(tr(n));return t.value===Tl&&(t.value=Gm,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&wE(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ge(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=ht(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function jd(e){let n=vs(e),t=n!==null?n.factory:_r(e);if(t!==null)return t;if(e instanceof U)throw new O(204,!1);if(e instanceof Function)return _E(e);throw new O(204,!1)}function _E(e){if(e.length>0)throw new O(204,!1);let t=oE(e);return t!==null?()=>t.factory(e):()=>new e}function yE(e){if(iv(e))return Ji(void 0,e.useValue);{let n=ff(e);return Ji(n,Tl)}}function ff(e,n,t){let r;if(ti(e)){let i=ht(e);return _r(i)||jd(i)}else if(iv(e))r=()=>ht(e.useValue);else if(vE(e))r=()=>e.useFactory(...Vd(e.deps||[]));else if(mE(e))r=(i,o)=>F(ht(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ht(e&&(e.useClass||e.provide));if(CE(e))r=()=>new i(...Vd(e.deps));else return _r(i)||jd(i)}return r}function hs(e){if(e.destroyed)throw new O(205,!1)}function Ji(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function CE(e){return!!e.deps}function wE(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function DE(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Hd(e,n){for(let t of e)Array.isArray(t)?Hd(t,n):t&&Kd(t)?Hd(t.\u0275providers,n):n(t)}function lt(e,n){let t;e instanceof ni?(hs(e),t=e):t=new Ld(e);let r,i=bn(t),o=It(void 0);try{return n()}finally{bn(i),It(o)}}function hf(){return Zm()!==void 0||Ba()!=null}var ln=0,ne=1,le=2,at=3,Gt=4,Wt=5,Cs=6,to=7,Et=8,ii=9,Rn=10,ze=11,no=12,pf=13,oi=14,qt=15,wr=16,si=17,An=18,ws=19,gf=20,er=21,Fl=22,Ds=23,Ft=24,ai=25,ct=26,sv=1;var Dr=7,Es=8,li=9,Tt=10;function Pn(e){return Array.isArray(e)&&typeof e[sv]=="object"}function cn(e){return Array.isArray(e)&&e[sv]===!0}function mf(e){return(e.flags&4)!==0}function Er(e){return e.componentOffset>-1}function ro(e){return(e.flags&1)===1}function Nn(e){return!!e.template}function io(e){return(e[le]&512)!==0}function ci(e){return(e[le]&256)===256}var av="svg",lv="math";function Yt(e){for(;Array.isArray(e);)e=e[ln];return e}function vf(e,n){return Yt(n[e])}function un(e,n){return Yt(n[e.index])}function Ll(e,n){return e.data[n]}function _f(e,n){return e[n]}function yf(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Kt(e,n){let t=n[e];return Pn(t)?t:t[ln]}function cv(e){return(e[le]&4)===4}function Vl(e){return(e[le]&128)===128}function uv(e){return cn(e[at])}function ui(e,n){return n==null?null:e[n]}function Cf(e){e[si]=0}function wf(e){e[le]&1024||(e[le]|=1024,Vl(e)&&oo(e))}function dv(e,n){for(;e>0;)n=n[oi],e--;return n}function Ss(e){return!!(e[le]&9216||e[Ft]?.dirty)}function jl(e){e[Rn].changeDetectionScheduler?.notify(8),e[le]&64&&(e[le]|=1024),Ss(e)&&oo(e)}function oo(e){e[Rn].changeDetectionScheduler?.notify(0);let n=yr(e);for(;n!==null&&!(n[le]&8192||(n[le]|=8192,!Vl(n)));)n=yr(n)}function Df(e,n){if(ci(e))throw new O(911,!1);e[er]===null&&(e[er]=[]),e[er].push(n)}function fv(e,n){if(e[er]===null)return;let t=e[er].indexOf(n);t!==-1&&e[er].splice(t,1)}function yr(e){let n=e[at];return cn(n)?n[at]:n}function Ef(e){return e[to]??=[]}function Sf(e){return e.cleanup??=[]}function hv(e,n,t,r){let i=Ef(n);i.push(t),e.firstCreatePass&&Sf(e).push(r,i.length-1)}var ve={lFrame:bv(null),bindingsEnabled:!0,skipHydrationRootTNode:null},bs=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(bs||{}),EE=0,Bd=!1;function pv(){return ve.lFrame.elementDepthCount}function gv(){ve.lFrame.elementDepthCount++}function bf(){ve.lFrame.elementDepthCount--}function Hl(){return ve.bindingsEnabled}function mv(){return ve.skipHydrationRootTNode!==null}function If(e){return ve.skipHydrationRootTNode===e}function Tf(){ve.skipHydrationRootTNode=null}function fe(){return ve.lFrame.lView}function ut(){return ve.lFrame.tView}function L(e){return ve.lFrame.contextLView=e,e[Et]}function V(e){return ve.lFrame.contextLView=null,e}function pt(){let e=xf();for(;e!==null&&e.type===64;)e=e.parent;return e}function xf(){return ve.lFrame.currentTNode}function vv(){let e=ve.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function so(e,n){let t=ve.lFrame;t.currentTNode=e,t.isParent=n}function Mf(){return ve.lFrame.isParent}function _v(){ve.lFrame.isParent=!1}function Rf(e){qd("Must never be called in production mode"),EE=e}function Af(){return Bd}function Pf(e){let n=Bd;return Bd=e,n}function ao(){let e=ve.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Nf(){return ve.lFrame.bindingIndex}function yv(e){return ve.lFrame.bindingIndex=e}function di(){return ve.lFrame.bindingIndex++}function Bl(e){let n=ve.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Cv(){return ve.lFrame.inI18n}function wv(e,n){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ul(n)}function Dv(){return ve.lFrame.currentDirectiveIndex}function Ul(e){ve.lFrame.currentDirectiveIndex=e}function Ev(e){let n=ve.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Of(){return ve.lFrame.currentQueryIndex}function $l(e){ve.lFrame.currentQueryIndex=e}function SE(e){let n=e[ne];return n.type===2?n.declTNode:n.type===1?e[Wt]:null}function kf(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=SE(o),i===null||(o=o[oi],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=ve.lFrame=Sv();return r.currentTNode=n,r.lView=e,!0}function zl(e){let n=Sv(),t=e[ne];ve.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Sv(){let e=ve.lFrame,n=e===null?null:e.child;return n===null?bv(e):n}function bv(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Iv(){let e=ve.lFrame;return ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ff=Iv;function Gl(){let e=Iv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tv(e){return(ve.lFrame.contextLView=dv(e,ve.lFrame.contextLView))[Et]}function or(){return ve.lFrame.selectedIndex}function Sr(e){ve.lFrame.selectedIndex=e}function Is(){let e=ve.lFrame;return Ll(e.tView,e.selectedIndex)}function xv(){return ve.lFrame.currentNamespace}var Mv=!0;function Wl(){return Mv}function Ts(e){Mv=e}function Ud(e,n=null,t=null,r){let i=Lf(e,n,t,r);return i.resolveInjectorInitializers(),i}function Lf(e,n=null,t=null,r,i=new Set){let o=[t||kt,nv(e)];return r=r||(typeof e=="object"?void 0:tr(e)),new ni(o,n||eo(),r||null,i)}var Fe=class e{static THROW_IF_NOT_FOUND=Xr;static NULL=new ms;static create(n,t){if(Array.isArray(n))return Ud({name:""},t,n,"");{let r=n.name??"";return Ud({name:r},n.parent,n.providers,r)}}static \u0275prov=P({token:e,providedIn:"any",factory:()=>F(sf)});static __NG_ELEMENT_ID__=-1},Ne=new U(""),Zt=(()=>{class e{static __NG_ELEMENT_ID__=bE;static __NG_ENV_ID__=t=>t}return e})(),$d=class extends Zt{_lView;constructor(n){super(),this._lView=n}get destroyed(){return ci(this._lView)}onDestroy(n){let t=this._lView;return Df(t,n),()=>fv(t,n)}};function bE(){return new $d(fe())}var sn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Lt=new U("",{providedIn:"root",factory:()=>{let e=S(We),n;return t=>{e.destroyed&&!n?setTimeout(()=>{throw t}):(n??=e.get(sn),n.handleError(t))}}}),Rv={provide:rr,useValue:()=>void S(sn),multi:!0};function Vf(e){return typeof e=="function"&&e[yt]!==void 0}function dn(e,n){let[t,r,i]=gd(e,n?.equal),o=t,a=o[yt];return o.set=r,o.update=i,o.asReadonly=Av.bind(o),o}function Av(){let e=this[yt];if(e.readonlyFn===void 0){let n=()=>this();n[yt]=e,e.readonlyFn=n}return e.readonlyFn}function jf(e){return Vf(e)&&typeof e.set=="function"}var nr=class{},xs=new U("",{providedIn:"root",factory:()=>!1});var Hf=new U(""),Bf=new U("");var ql=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=IE}return e})();function IE(){return new ql(fe(),pt())}var On=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new st(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ms=(()=>{class e{internalPendingTasks=S(On);scheduler=S(nr);errorHandler=S(Lt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})();function Rs(...e){}var Uf=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:()=>new zd})}return e})(),zd=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function po(e){return{toString:e}.toString()}var Yl="__parameters__";function OE(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function d_(e,n,t){return po(()=>{let r=OE(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(l,c,u){let f=l.hasOwnProperty(Yl)?l[Yl]:Object.defineProperty(l,Yl,{value:[]})[Yl];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),l}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var js=rf(d_("Optional"),8);var Ph=rf(d_("SkipSelf"),4);function f_(e){let n=Dt.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function kE(e){return typeof e=="function"}var ic=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function h_(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var lr=(()=>{let e=()=>p_;return e.ngInherit=!0,e})();function p_(e){return e.type.prototype.ngOnChanges&&(e.setInput=LE),FE}function FE(){let e=m_(this),n=e?.current;if(n){let t=e.previous;if(t===Cr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function LE(e,n,t,r,i){let o=this.declaredInputs[r],a=m_(e)||VE(e,{previous:Cr,current:null}),s=a.current||(a.current={}),l=a.previous,c=l[o];s[o]=new ic(c&&c.currentValue,t,l===Cr),h_(e,n,i,t)}var g_="__ngSimpleChanges__";function m_(e){return e[g_]||null}function VE(e,n){return e[g_]=n}var Pv=[];var Oe=function(e,n=null,t){for(let r=0;r<Pv.length;r++){let i=Pv[r];i(e,n,t)}};function jE(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let a=p_(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function v_(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(e.contentHooks??=[]).push(-t,a),s&&((e.contentHooks??=[]).push(t,s),(e.contentCheckHooks??=[]).push(t,s)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function ec(e,n,t){__(e,n,3,t)}function tc(e,n,t,r){(e[le]&3)===t&&__(e,n,t,r)}function $f(e,n){let t=e[le];(t&3)===n&&(t&=16383,t+=1,e[le]=t)}function __(e,n,t,r){let i=r!==void 0?e[si]&65535:0,o=r??-1,a=n.length-1,s=0;for(let l=i;l<a;l++)if(typeof n[l+1]=="number"){if(s=n[l],r!=null&&s>=r)break}else n[l]<0&&(e[si]+=65536),(s<o||o==-1)&&(HE(e,t,n,l),e[si]=(e[si]&4294901760)+l+2),l++}function Nv(e,n){Oe(4,e,n);let t=ge(null);try{n.call(e)}finally{ge(t),Oe(5,e,n)}}function HE(e,n,t,r){let i=t[r]<0,o=t[r+1],a=i?-t[r]:t[r],s=e[a];i?e[le]>>14<e[si]>>16&&(e[le]&3)===n&&(e[le]+=16384,Nv(s,o)):Nv(s,o)}var co=-1,hi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function BE(e){return(e.flags&8)!==0}function UE(e){return(e.flags&16)!==0}function $E(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],a=t[r++],s=t[r++];e.setAttribute(n,a,s,o)}else{let o=i,a=t[++r];GE(o)?e.setProperty(n,o,a):e.setAttribute(n,o,a),r++}}return r}function zE(e){return e===3||e===4||e===6}function GE(e){return e.charCodeAt(0)===64}function uo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Ov(e,t,i,null,n[++r]):Ov(e,t,i,null,null))}}return e}function Ov(e,n,t,r,i){let o=0,a=e.length;if(n===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===n){a=-1;break}else if(s>n){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(e.splice(a,0,n),o=a+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function y_(e){return e!==co}function oc(e){return e&32767}function WE(e){return e>>16}function sc(e,n){let t=WE(e),r=n;for(;t>0;)r=r[oi],t--;return r}var Xf=!0;function ac(e){let n=Xf;return Xf=e,n}var qE=256,C_=qE-1,w_=5,YE=0,kn={};function KE(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ri)&&(r=t[ri]),r==null&&(r=t[ri]=YE++);let i=r&C_,o=1<<i;n.data[e+(i>>w_)]|=o}function lc(e,n){let t=D_(e,n);if(t!==-1)return t;let r=n[ne];r.firstCreatePass&&(e.injectorIndex=n.length,zf(r.data,e),zf(n,null),zf(r.blueprint,null));let i=Nh(e,n),o=e.injectorIndex;if(y_(i)){let a=oc(i),s=sc(i,n),l=s[ne].data;for(let c=0;c<8;c++)n[o+c]=s[a+c]|l[a+c]}return n[o+8]=i,o}function zf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function D_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nh(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=T_(i),r===null)return co;if(t++,i=i[oi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return co}function eh(e,n,t){KE(e,n,t)}function E_(e,n,t){if(t&8||e!==void 0)return e;Nl(n,"NodeInjector")}function S_(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[ii],o=It(void 0);try{return i?i.get(n,r,t&8):nf(n,r,t&8)}finally{It(o)}}return E_(r,n,t)}function b_(e,n,t,r=0,i){if(e!==null){if(n[le]&2048&&!(r&2)){let a=XE(e,n,t,r,kn);if(a!==kn)return a}let o=I_(e,n,t,r,kn);if(o!==kn)return o}return S_(n,t,r,i)}function I_(e,n,t,r,i){let o=QE(t);if(typeof o=="function"){if(!kf(n,e,r))return r&1?E_(i,t,r):S_(n,t,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Nl(t);else return a}finally{Ff()}}else if(typeof o=="number"){let a=null,s=D_(e,n),l=co,c=r&1?n[qt][Wt]:null;for((s===-1||r&4)&&(l=s===-1?Nh(e,n):n[s+8],l===co||!Fv(r,!1)?s=-1:(a=n[ne],s=oc(l),n=sc(l,n)));s!==-1;){let u=n[ne];if(kv(o,s,u.data)){let f=ZE(s,n,t,a,r,c);if(f!==kn)return f}l=n[s+8],l!==co&&Fv(r,n[ne].data[s+8]===c)&&kv(o,s,n)?(a=u,s=oc(l),n=sc(l,n)):s=-1}}return i}function ZE(e,n,t,r,i,o){let a=n[ne],s=a.data[e+8],l=r==null?Er(s)&&Xf:r!=a&&(s.type&3)!==0,c=i&1&&o===s,u=nc(s,a,t,l,c);return u!==null?Ns(n,a,u,s,i):kn}function nc(e,n,t,r,i){let o=e.providerIndexes,a=n.data,s=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,f=r?s:s+u,y=i?s+u:c;for(let m=f;m<y;m++){let D=a[m];if(m<l&&t===D||m>=l&&D.type===t)return m}if(i){let m=a[l];if(m&&Nn(m)&&m.type===t)return l}return null}function Ns(e,n,t,r,i){let o=e[t],a=n.data;if(o instanceof hi){let s=o;if(s.resolving){let m=Ml(a[t]);throw tf(m)}let l=ac(s.canSeeViewProviders);s.resolving=!0;let c=a[t].type||a[t],u,f=s.injectImpl?It(s.injectImpl):null,y=kf(e,r,0);try{o=e[t]=s.factory(void 0,i,a,e,r),n.firstCreatePass&&t>=r.directiveStart&&jE(t,a[t],n)}finally{f!==null&&It(f),ac(l),s.resolving=!1,Ff()}}return o}function QE(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ri)?e[ri]:void 0;return typeof n=="number"?n>=0?n&C_:JE:n}function kv(e,n,t){let r=1<<e;return!!(t[n+(e>>w_)]&r)}function Fv(e,n){return!(e&2)&&!(e&1&&n)}var fi=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return b_(this._tNode,this._lView,n,ei(r),t)}};function JE(){return new fi(pt(),fe())}function Tr(e){return po(()=>{let n=e.prototype.constructor,t=n[gs]||th(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[gs]||th(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function th(e){return Wd(e)?()=>{let n=th(ht(e));return n&&n()}:_r(e)}function XE(e,n,t,r,i){let o=e,a=n;for(;o!==null&&a!==null&&a[le]&2048&&!io(a);){let s=I_(o,a,t,r|2,kn);if(s!==kn)return s;let l=o.parent;if(!l){let c=a[gf];if(c){let u=c.get(t,kn,r);if(u!==kn)return u}l=T_(a),a=a[oi]}o=l}return i}function T_(e){let n=e[ne],t=n.type;return t===2?n.declTNode:t===1?e[Wt]:null}function eS(){return go(pt(),fe())}function go(e,n){return new tt(un(e,n))}var tt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eS}return e})();function tS(e){return e instanceof tt?e.nativeElement:e}function nS(){return this._results[Symbol.iterator]()}var cc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new se}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=Jm(n);(this._changesDetected=!Qm(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nS};function x_(e){return(e.flags&128)===128}var Oh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Oh||{}),M_=new Map,rS=0;function iS(){return rS++}function oS(e){M_.set(e[ws],e)}function nh(e){M_.delete(e[ws])}var Lv="__ngContext__";function fo(e,n){Pn(n)?(e[Lv]=n[ws],oS(n)):e[Lv]=n}function R_(e){return P_(e[no])}function A_(e){return P_(e[Gt])}function P_(e){for(;e!==null&&!cn(e);)e=e[Gt];return e}var rh;function kh(e){rh=e}function Fh(){if(rh!==void 0)return rh;if(typeof document<"u")return document;throw new O(210,!1)}var Cc=new U("",{providedIn:"root",factory:()=>sS}),sS="ng",wc=new U(""),xr=new U("",{providedIn:"platform",factory:()=>"unknown"});var Dc=new U("",{providedIn:"root",factory:()=>Fh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aS="h",lS="b";var N_=!1,O_=new U("",{providedIn:"root",factory:()=>N_});var cS=(e,n,t,r)=>{};function uS(e,n,t,r){cS(e,n,t,r)}function Lh(e){return(e.flags&32)===32}var dS=()=>null;function k_(e,n,t=!1){return dS(e,n,t)}function F_(e,n){let t=e.contentQueries;if(t!==null){let r=ge(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a!==-1){let s=e.data[a];$l(o),s.contentQueries(2,n[a],a)}}}finally{ge(r)}}}function ih(e,n,t){$l(0);let r=ge(null);try{n(e,t)}finally{ge(r)}}function Vh(e,n,t){if(mf(n)){let r=ge(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let a=i;a<o;a++){let s=e.data[a];if(s.contentQueries){let l=t[a];s.contentQueries(1,l,a)}}}finally{ge(r)}}}var sr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(sr||{}),Kl;function fS(){if(Kl===void 0&&(Kl=null,Dt.trustedTypes))try{Kl=Dt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Kl}function Ec(e){return fS()?.createHTML(e)||e}var Zl;function hS(){if(Zl===void 0&&(Zl=null,Dt.trustedTypes))try{Zl=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zl}function Vv(e){return hS()?.createHTML(e)||e}var ar=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Al})`}},oh=class extends ar{getTypeName(){return"HTML"}},sh=class extends ar{getTypeName(){return"Style"}},ah=class extends ar{getTypeName(){return"Script"}},lh=class extends ar{getTypeName(){return"URL"}},ch=class extends ar{getTypeName(){return"ResourceURL"}};function gn(e){return e instanceof ar?e.changingThisBreaksApplicationSecurity:e}function cr(e,n){let t=L_(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Al})`)}return t===n}function L_(e){return e instanceof ar&&e.getTypeName()||null}function jh(e){return new oh(e)}function Hh(e){return new sh(e)}function Bh(e){return new ah(e)}function Uh(e){return new lh(e)}function $h(e){return new ch(e)}function pS(e){let n=new dh(e);return gS()?new uh(n):n}var uh=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Ec(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},dh=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Ec(n),t}};function gS(){try{return!!new window.DOMParser().parseFromString(Ec(""),"text/html")}catch{return!1}}var mS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hs(e){return e=String(e),e.match(mS)?e:"unsafe:"+e}function ur(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function Bs(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var V_=ur("area,br,col,hr,img,wbr"),j_=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),H_=ur("rp,rt"),vS=Bs(H_,j_),_S=Bs(j_,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yS=Bs(H_,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jv=Bs(V_,_S,yS,vS),B_=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CS=ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wS=ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DS=Bs(B_,CS,wS),ES=ur("script,style,template"),fh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=IS(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=bS(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(n){let t=Hv(n).toLowerCase();if(!jv.hasOwnProperty(t))return this.sanitizedSomething=!0,!ES.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),a=o.name,s=a.toLowerCase();if(!DS.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;B_[s]&&(l=Hs(l)),this.buf.push(" ",a,'="',Bv(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=Hv(n).toLowerCase();jv.hasOwnProperty(t)&&!V_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Bv(n))}};function SS(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function bS(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw U_(n);return n}function IS(e){let n=e.firstChild;if(n&&SS(e,n))throw U_(n);return n}function Hv(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function U_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var TS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xS=/([^\#-~ |!])/g;function Bv(e){return e.replace(/&/g,"&amp;").replace(TS,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(xS,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ql;function Sc(e,n){let t=null;try{Ql=Ql||pS(e);let r=n?String(n):"";t=Ql.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Ql.getInertBodyElement(r)}while(r!==o);let s=new fh().sanitizeChildren(Uv(t)||t);return Ec(s)}finally{if(t){let r=Uv(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Uv(e){return"content"in e&&MS(e)?e.content:null}function MS(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var mn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(mn||{});function St(e){let n=$_();return n?Vv(n.sanitize(mn.HTML,e)||""):cr(e,"HTML")?Vv(gn(e)):Sc(Fh(),zt(e))}function Re(e){let n=$_();return n?n.sanitize(mn.URL,e)||"":cr(e,"URL")?gn(e):Hs(zt(e))}function $_(){let e=fe();return e&&e[Rn].sanitizer}var RS=/^>|^->|<!--|-->|--!>|<!-$/g,AS=/(<|>)/g,PS="\u200B$1\u200B";function NS(e){return e.replace(RS,n=>n.replace(AS,PS))}function z_(e){return e instanceof Function?e():e}function OS(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var G_="ng-template";function kS(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&OS(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(zh(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function zh(e){return e.type===4&&e.value!==G_}function FS(e,n,t){let r=e.type===4&&!t?G_:e.value;return n===r}function LS(e,n,t){let r=4,i=e.attrs,o=i!==null?HS(i):0,a=!1;for(let s=0;s<n.length;s++){let l=n[s];if(typeof l=="number"){if(!a&&!fn(r)&&!fn(l))return!1;if(a&&fn(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!FS(e,l,t)||l===""&&n.length===1){if(fn(r))return!1;a=!0}}else if(r&8){if(i===null||!kS(e,i,l,t)){if(fn(r))return!1;a=!0}}else{let c=n[++s],u=VS(l,i,zh(e),t);if(u===-1){if(fn(r))return!1;a=!0;continue}if(c!==""){let f;if(u>o?f="":f=i[u+1].toLowerCase(),r&2&&c!==f){if(fn(r))return!1;a=!0}}}}return fn(r)||a}function fn(e){return(e&1)===0}function VS(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let a=n[i];if(a===e)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=n[++i];for(;typeof s=="string";)s=n[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return BS(n,e)}function jS(e,n,t=!1){for(let r=0;r<n.length;r++)if(LS(e,n[r],t))return!0;return!1}function HS(e){for(let n=0;n<e.length;n++){let t=e[n];if(zE(t))return n}return e.length}function BS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function $v(e,n){return e?":not("+n.trim()+")":n}function US(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let a=e[t];if(typeof a=="string")if(r&2){let s=e[++t];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!fn(a)&&(n+=$v(o,i),i=""),r=a,o=o||!fn(r);t++}return i!==""&&(n+=$v(o,i)),n}function $S(e){return e.map(US).join(",")}function zS(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!fn(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var xt={};function GS(e,n){return e.createText(n)}function WS(e,n,t){e.setValue(n,t)}function qS(e,n){return e.createComment(NS(n))}function W_(e,n,t){return e.createElement(n,t)}function uc(e,n,t,r,i){e.insertBefore(n,t,r,i)}function q_(e,n,t){e.appendChild(n,t)}function zv(e,n,t,r,i){r!==null?uc(e,n,t,r,i):q_(e,n,t)}function YS(e,n,t){e.removeChild(null,n,t)}function KS(e,n,t){e.setAttribute(n,"style",t)}function ZS(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Y_(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&$E(e,n,r),i!==null&&ZS(e,n,i),o!==null&&KS(e,n,o)}function Gh(e,n,t,r,i,o,a,s,l,c,u){let f=ct+r,y=f+i,m=QS(f,y),D=typeof c=="function"?c():c;return m[ne]={type:e,blueprint:m,template:t,queries:null,viewQuery:s,declTNode:n,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1,ssrId:u}}function QS(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:xt);return t}function JS(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Wh(e,n,t,r,i,o,a,s,l,c,u){let f=n.blueprint.slice();return f[ln]=i,f[le]=r|4|128|8|64|1024,(c!==null||e&&e[le]&2048)&&(f[le]|=2048),Cf(f),f[at]=f[oi]=e,f[Et]=t,f[Rn]=a||e&&e[Rn],f[ze]=s||e&&e[ze],f[ii]=l||e&&e[ii]||null,f[Wt]=o,f[ws]=iS(),f[Cs]=u,f[gf]=c,f[qt]=n.type==2?e[qt]:f,f}function XS(e,n,t){let r=un(n,e),i=JS(t),o=e[Rn].rendererFactory,a=qh(e,Wh(e,i,null,K_(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=a}function K_(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Z_(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function qh(e,n){return e[no]?e[pf][Gt]=n:e[no]=n,e[pf]=n,n}function p(e=1){Q_(ut(),fe(),or()+e,!1)}function Q_(e,n,t,r){if(!r)if((n[le]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ec(n,o,t)}else{let o=e.preOrderHooks;o!==null&&tc(n,o,0,t)}Sr(t)}var bc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(bc||{});function hh(e,n,t,r){let i=ge(null);try{let[o,a,s]=e.inputs[t],l=null;(a&bc.SignalBased)!==0&&(l=n[o][yt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):s!==null&&(r=s.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):h_(n,l,o,r)}finally{ge(i)}}var hn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(hn||{}),eb;function Yh(e,n){return eb(e,n)}function lo(e,n,t,r,i){if(r!=null){let o,a=!1;cn(r)?o=r:Pn(r)&&(a=!0,r=r[ln]);let s=Yt(r);e===0&&t!==null?i==null?q_(n,t,s):uc(n,t,s,i||null,!0):e===1&&t!==null?uc(n,t,s,i||null,!0):e===2?YS(n,s,a):e===3&&n.destroyNode(s),o!=null&&fb(n,e,o,t,i)}}function tb(e,n){J_(e,n),n[ln]=null,n[Wt]=null}function nb(e,n,t,r,i,o){r[ln]=i,r[Wt]=n,Ic(e,r,t,1,i,o)}function J_(e,n){n[Rn].changeDetectionScheduler?.notify(9),Ic(e,n,n[ze],2,null,null)}function rb(e){let n=e[no];if(!n)return Gf(e[ne],e);for(;n;){let t=null;if(Pn(n))t=n[no];else{let r=n[Tt];r&&(t=r)}if(!t){for(;n&&!n[Gt]&&n!==e;)Pn(n)&&Gf(n[ne],n),n=n[at];n===null&&(n=e),Pn(n)&&Gf(n[ne],n),t=n&&n[Gt]}n=t}}function Kh(e,n){let t=e[li],r=t.indexOf(n);t.splice(r,1)}function X_(e,n){if(ci(n))return;let t=n[ze];t.destroyNode&&Ic(e,n,t,3,null,null),rb(n)}function Gf(e,n){if(ci(n))return;let t=ge(null);try{n[le]&=-129,n[le]|=256,n[Ft]&&ss(n[Ft]),ob(e,n),ib(e,n),n[ne].type===1&&n[ze].destroy();let r=n[wr];if(r!==null&&cn(n[at])){r!==n[at]&&Kh(r,n);let i=n[An];i!==null&&i.detachView(e)}nh(n)}finally{ge(t)}}function ib(e,n){let t=e.cleanup,r=n[to];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let s=t[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[t[a+1]];t[a].call(s)}r!==null&&(n[to]=null);let i=n[er];if(i!==null){n[er]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=n[Ds];if(o!==null){n[Ds]=null;for(let a of o)a.destroy()}}function ob(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof hi)){let o=t[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],l=o[a+1];Oe(4,s,l);try{l.call(s)}finally{Oe(5,s,l)}}else{Oe(4,i,o);try{o.call(i)}finally{Oe(5,i,o)}}}}}function sb(e,n,t){return ab(e,n.parent,t)}function ab(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[ln];if(Er(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===sr.None||i===sr.Emulated)return null}return un(r,t)}function lb(e,n,t){return ub(e,n,t)}function cb(e,n,t){return e.type&40?un(e,t):null}var ub=cb,Gv;function Zh(e,n,t,r){let i=sb(e,r,n),o=n[ze],a=r.parent||n[Wt],s=lb(a,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)zv(o,i,t[l],s,!1);else zv(o,i,t,s,!1);Gv!==void 0&&Gv(o,r,n,t,i)}function As(e,n){if(n!==null){let t=n.type;if(t&3)return un(n,e);if(t&4)return ph(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return As(e,r);{let i=e[n.index];return cn(i)?ph(-1,i):Yt(i)}}else{if(t&128)return As(e,n.next);if(t&32)return Yh(n,e)()||Yt(e[n.index]);{let r=e0(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=yr(e[qt]);return As(i,r)}else return As(e,n.next)}}}return null}function e0(e,n){if(n!==null){let r=e[qt][Wt],i=n.projection;return r.projection[i]}return null}function ph(e,n){let t=Tt+e+1;if(t<n.length){let r=n[t],i=r[ne].firstChild;if(i!==null)return As(r,i)}return n[Dr]}function Qh(e,n,t,r,i,o,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let s=r[t.index],l=t.type;if(a&&n===0&&(s&&fo(Yt(s),r),t.flags|=2),!Lh(t))if(l&8)Qh(e,n,t.child,r,i,o,!1),lo(n,e,i,s,o);else if(l&32){let c=Yh(t,r),u;for(;u=c();)lo(n,e,i,u,o);lo(n,e,i,s,o)}else l&16?db(e,n,r,t,i,o):lo(n,e,i,s,o);t=a?t.projectionNext:t.next}}function Ic(e,n,t,r,i,o){Qh(t,r,e.firstChild,n,i,o,!1)}function db(e,n,t,r,i,o){let a=t[qt],l=a[Wt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];lo(n,e,i,u,o)}else{let c=l,u=a[at];x_(r)&&(c.flags|=128),Qh(e,n,c,u,i,o,!0)}}function fb(e,n,t,r,i){let o=t[Dr],a=Yt(t);o!==a&&lo(n,e,r,o,i);for(let s=Tt;s<t.length;s++){let l=t[s];Ic(l[ne],l,e,n,r,o)}}function hb(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:hn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hn.Important),e.setStyle(t,r,i,o))}}function t0(e,n,t,r,i){let o=or(),a=r&2;try{Sr(-1),a&&n.length>ct&&Q_(e,n,ct,!1),Oe(a?2:0,i,t),t(r,i)}finally{Sr(o),Oe(a?3:1,i,t)}}function Tc(e,n,t){yb(e,n,t),(t.flags&64)===64&&Cb(e,n,t)}function xc(e,n,t=un){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?t(n,e):e[a];e[i++]=s}}}function pb(e,n,t,r){let o=r.get(O_,N_)||t===sr.ShadowDom,a=e.selectRootElement(n,o);return gb(a),a}function gb(e){mb(e)}var mb=()=>null;function vb(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function n0(e,n,t,r,i,o){let a=n[ne];if(tp(e,a,n,t,r)){Er(e)&&_b(n,e.index);return}e.type&3&&(t=vb(t)),r0(e,n,t,r,i,o)}function r0(e,n,t,r,i,o){if(e.type&3){let a=un(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(a,t,r)}else e.type&12}function _b(e,n){let t=Kt(n,e);t[le]&16||(t[le]|=64)}function yb(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Er(t)&&XS(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||lc(t,n);let o=t.initialInputs;for(let a=r;a<i;a++){let s=e.data[a],l=Ns(n,e,a,t);if(fo(l,n),o!==null&&Sb(n,a-r,l,s,t,o),Nn(s)){let c=Kt(t.index,n);c[Et]=Ns(n,e,a,t)}}}function Cb(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,a=Dv();try{Sr(o);for(let s=r;s<i;s++){let l=e.data[s],c=n[s];Ul(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&wb(l,c)}}finally{Sr(-1),Ul(a)}}function wb(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Jh(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jS(n,o.selectors,!1)&&(r??=[],Nn(o)?r.unshift(o):r.push(o))}return r}function Db(e,n,t,r,i,o){let a=un(e,n);Eb(n[ze],a,o,e.value,t,r,i)}function Eb(e,n,t,r,i,o,a){if(o==null)e.removeAttribute(n,i,t);else{let s=a==null?zt(o):a(o,r||"",i);e.setAttribute(n,i,s,t)}}function Sb(e,n,t,r,i,o){let a=o[n];if(a!==null)for(let s=0;s<a.length;s+=2){let l=a[s],c=a[s+1];hh(r,t,l,c)}}function Xh(e,n,t,r,i){let o=ct+t,a=n[ne],s=i(a,n,e,r,t);n[o]=s,so(e,!0);let l=e.type===2;return l?(Y_(n[ze],s,e),(pv()===0||ro(e))&&fo(s,n),gv()):fo(s,n),Wl()&&(!l||!Lh(e))&&Zh(a,n,s,e),e}function ep(e){let n=e;return Mf()?_v():(n=n.parent,so(n,!1)),n}function bb(e,n){let t=e[ii];if(!t)return;t.get(Lt,null)?.(n)}function tp(e,n,t,r,i){let o=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],s=!1;if(a)for(let l=0;l<a.length;l+=2){let c=a[l],u=a[l+1],f=n.data[c];hh(f,t[c],u,i),s=!0}if(o)for(let l of o){let c=t[l],u=n.data[l];hh(u,c,r,i),s=!0}return s}function Ib(e,n){let t=Kt(n,e),r=t[ne];Tb(r,t);let i=t[ln];i!==null&&t[Cs]===null&&(t[Cs]=k_(i,t[ii])),Oe(18),np(r,t,t[Et]),Oe(19,t[Et])}function Tb(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function np(e,n,t){zl(n);try{let r=e.viewQuery;r!==null&&ih(1,r,t);let i=e.template;i!==null&&t0(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[An]?.finishViewCreation(e),e.staticContentQueries&&F_(e,n),e.staticViewQueries&&ih(2,e.viewQuery,t);let o=e.components;o!==null&&xb(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[le]&=-5,Gl()}}function xb(e,n){for(let t=0;t<n.length;t++)Ib(e,n[t])}function Mb(e,n,t,r){let i=ge(null);try{let o=n.tView,s=e[le]&4096?4096:16,l=Wh(e,o,t,s,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[wr]=c;let u=e[An];return u!==null&&(l[An]=u.createEmbeddedView(o)),np(o,l,t),l}finally{ge(i)}}function Wv(e,n){return!n||n.firstChild===null||x_(e)}var qv=!1,Rb=new U("");function Os(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Yt(o)),cn(o)&&i0(o,r);let a=t.type;if(a&8)Os(e,n,t.child,r);else if(a&32){let s=Yh(t,n),l;for(;l=s();)r.push(l)}else if(a&16){let s=e0(n,t);if(Array.isArray(s))r.push(...s);else{let l=yr(n[qt]);Os(l[ne],l,s,r,!0)}}t=i?t.projectionNext:t.next}return r}function i0(e,n){for(let t=Tt;t<e.length;t++){let r=e[t],i=r[ne].firstChild;i!==null&&Os(r[ne],r,i,n)}e[Dr]!==e[ln]&&n.push(e[Dr])}function o0(e){if(e[ai]!==null){for(let n of e[ai])n.impl.addSequence(n);e[ai].length=0}}var s0=[];function Ab(e){return e[Ft]??Pb(e)}function Pb(e){let n=s0.pop()??Object.create(Ob);return n.lView=e,n}function Nb(e){e.lView[Ft]!==e&&(e.lView=null,s0.push(e))}var Ob=ae(M({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{oo(e.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function kb(e){let n=e[Ft]??Object.create(Fb);return n.lView=e,n}var Fb=ae(M({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=yr(e.lView);for(;n&&!a0(n[ne]);)n=yr(n);n&&wf(n)},consumerOnSignalRead(){this.lView[Ft]=this}});function a0(e){return e.type!==2}function l0(e){if(e[Ds]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ds])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[le]&8192)}}var Lb=100;function rp(e,n=0){let r=e[Rn].rendererFactory,i=!1;i||r.begin?.();try{Vb(e,n)}finally{i||r.end?.()}}function Vb(e,n){let t=Af();try{Pf(!0),gh(e,n);let r=0;for(;Ss(e);){if(r===Lb)throw new O(103,!1);r++,gh(e,1)}}finally{Pf(t)}}function c0(e,n){Rf(n?bs.Exhaustive:bs.OnlyDirtyViews);try{rp(e)}finally{Rf(bs.Off)}}function jb(e,n,t,r){if(ci(n))return;let i=n[le],o=!1,a=!1;zl(n);let s=!0,l=null,c=null;o||(a0(e)?(c=Ab(n),l=Wr(c)):qa()===null?(s=!1,c=kb(n),l=Wr(c)):n[Ft]&&(ss(n[Ft]),n[Ft]=null));try{Cf(n),yv(e.bindingStartIndex),t!==null&&t0(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let m=e.preOrderCheckHooks;m!==null&&ec(n,m,null)}else{let m=e.preOrderHooks;m!==null&&tc(n,m,0,null),$f(n,0)}if(a||Hb(n),l0(n),u0(n,0),e.contentQueries!==null&&F_(e,n),!o)if(u){let m=e.contentCheckHooks;m!==null&&ec(n,m)}else{let m=e.contentHooks;m!==null&&tc(n,m,1),$f(n,1)}Ub(e,n);let f=e.components;f!==null&&f0(n,f,0);let y=e.viewQuery;if(y!==null&&ih(2,y,r),!o)if(u){let m=e.viewCheckHooks;m!==null&&ec(n,m)}else{let m=e.viewHooks;m!==null&&tc(n,m,2),$f(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Fl]){for(let m of n[Fl])m();n[Fl]=null}o||(o0(n),n[le]&=-73)}catch(u){throw o||oo(n),u}finally{c!==null&&(ki(c,l),s&&Nb(c)),Gl()}}function u0(e,n){for(let t=R_(e);t!==null;t=A_(t))for(let r=Tt;r<t.length;r++){let i=t[r];d0(i,n)}}function Hb(e){for(let n=R_(e);n!==null;n=A_(n)){if(!(n[le]&2))continue;let t=n[li];for(let r=0;r<t.length;r++){let i=t[r];wf(i)}}}function Bb(e,n,t){Oe(18);let r=Kt(n,e);d0(r,t),Oe(19,r[Et])}function d0(e,n){Vl(e)&&gh(e,n)}function gh(e,n){let r=e[ne],i=e[le],o=e[Ft],a=!!(n===0&&i&16);if(a||=!!(i&64&&n===0),a||=!!(i&1024),a||=!!(o?.dirty&&os(o)),a||=!1,o&&(o.dirty=!1),e[le]&=-9217,a)jb(r,e,r.template,e[Et]);else if(i&8192){let s=ge(null);try{l0(e),u0(e,1);let l=r.components;l!==null&&f0(e,l,1),o0(e)}finally{ge(s)}}}function f0(e,n,t){for(let r=0;r<n.length;r++)Bb(e,n[r],t)}function Ub(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Sr(~i);else{let o=i,a=t[++r],s=t[++r];wv(a,o);let l=n[o];Oe(24,l),s(2,l),Oe(25,l)}}}finally{Sr(-1)}}function ip(e,n){let t=Af()?64:1088;for(e[Rn].changeDetectionScheduler?.notify(n);e;){e[le]|=t;let r=yr(e);if(io(e)&&!r)return e;e=r}return null}function h0(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function $b(e,n,t,r=!0){let i=n[ne];if(zb(i,n,e,t),r){let a=ph(t,e),s=n[ze],l=s.parentNode(e[Dr]);l!==null&&nb(i,e[Wt],s,n,l,a)}let o=n[Cs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mh(e,n){if(e.length<=Tt)return;let t=Tt+n,r=e[t];if(r){let i=r[wr];i!==null&&i!==e&&Kh(i,r),n>0&&(e[t-1][Gt]=r[Gt]);let o=_s(e,Tt+n);tb(r[ne],r);let a=o[An];a!==null&&a.detachView(o[ne]),r[at]=null,r[Gt]=null,r[le]&=-129}return r}function zb(e,n,t,r){let i=Tt+r,o=t.length;r>0&&(t[i-1][Gt]=n),r<o-Tt?(n[Gt]=t[i],of(t,Tt+r,n)):(t.push(n),n[Gt]=null),n[at]=t;let a=n[wr];a!==null&&t!==a&&p0(a,n);let s=n[An];s!==null&&s.insertView(e),jl(n),n[le]|=128}function p0(e,n){let t=e[li],r=n[at];if(Pn(r))e[le]|=2;else{let i=r[at][qt];n[qt]!==i&&(e[le]|=2)}t===null?e[li]=[n]:t.push(n)}var br=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[ne];return Os(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[Et]}set context(n){this._lView[Et]=n}get destroyed(){return ci(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[at];if(cn(n)){let t=n[Es],r=t?t.indexOf(this):-1;r>-1&&(mh(n,r),_s(t,r))}this._attachedToViewContainer=!1}X_(this._lView[ne],this._lView)}onDestroy(n){Df(this._lView,n)}markForCheck(){ip(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){jl(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,rp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[ii].get(Rb,qv)}catch{this.exhaustive=qv}}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=io(this._lView),t=this._lView[wr];t!==null&&!n&&Kh(t,this._lView),J_(this._lView[ne],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=n;let t=io(this._lView),r=this._lView[wr];r!==null&&!t&&p0(r,this._lView),jl(this._lView)}};var Fn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Gb;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Mb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new br(o)}}return e})();function Gb(){return op(pt(),fe())}function op(e,n){return e.type&4?new Fn(n,e,go(e,n)):null}function Mc(e,n,t,r,i){let o=e.data[n];if(o===null)o=Wb(e,n,t,r,i),Cv()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let a=vv();o.injectorIndex=a===null?-1:a.injectorIndex}return so(o,!0),o}function Wb(e,n,t,r,i){let o=xf(),a=Mf(),s=a?o:o&&o.parent,l=e.data[n]=Yb(e,s,t,n,r,i);return qb(e,l,o,a),l}function qb(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function Yb(e,n,t,r,i,o){let a=n?n.injectorIndex:-1,s=0;return mv()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var IH=new RegExp(`^(\\d+)*(${lS}|${aS})*(.*)`);var Kb=()=>null;function Yv(e,n){return Kb(e,n)}var g0=class{},Rc=class{},vh=class{resolveComponentFactory(n){throw new O(917,!1)}},Us=class{static NULL=new vh},Qt=class{},Jt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Zb()}return e})();function Zb(){let e=fe(),n=pt(),t=Kt(n.index,e);return(Pn(t)?t:e)[ze]}var m0=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:()=>null})}return e})();var rc={},_h=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,rc,r);return i!==rc||t===rc?i:this.parentInjector.get(n,t,r)}};function dc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let s=n[a];if(typeof s=="number")o=s;else if(o==1)i=Gd(i,s);else if(o==2){let l=s,c=n[++a];r=Gd(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Y(e,n=0){let t=fe();if(t===null)return F(e,n);let r=pt();return b_(r,t,ht(e),n)}function sp(){let e="invalid";throw new Error(e)}function v0(e,n,t,r,i){let o=r===null?null:{"":-1},a=i(e,t);if(a!==null){let s=a,l=null,c=null;for(let u of a)if(u.resolveHostDirectives!==null){[s,l,c]=u.resolveHostDirectives(a);break}Xb(e,n,t,s,o,l,c)}o!==null&&r!==null&&Qb(t,r,o)}function Qb(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new O(-301,!1);r.push(n[i],o)}}function Jb(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Xb(e,n,t,r,i,o,a){let s=r.length,l=!1;for(let y=0;y<s;y++){let m=r[y];!l&&Nn(m)&&(l=!0,Jb(e,t,y)),eh(lc(t,n),e,m.type)}oI(t,e.data.length,s);for(let y=0;y<s;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let c=!1,u=!1,f=Z_(e,n,s,null);s>0&&(t.directiveToIndex=new Map);for(let y=0;y<s;y++){let m=r[y];if(t.mergedAttrs=uo(t.mergedAttrs,m.hostAttrs),tI(e,t,n,f,m),iI(f,m,i),a!==null&&a.has(m)){let[R,b]=a.get(m);t.directiveToIndex.set(m.type,[f,R+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let D=m.type.prototype;!c&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),f++}eI(e,t,o)}function eI(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Kv(0,n,i,r),Kv(1,n,i,r),Qv(n,r,!1);else{let o=t.get(i);Zv(0,n,o,r),Zv(1,n,o,r),Qv(n,r,!0)}}}function Kv(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;e===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(r),_0(n,o)}}function Zv(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;e===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),_0(n,a)}}function _0(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Qv(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||zh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let l=r[s];if(l===0){s+=4;continue}else if(l===5){s+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){a??=[],a.push(l,r[s+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){a??=[],a.push(c[u+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(a)}function tI(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=_r(i.type,!0)),a=new hi(o,Nn(i),Y,null);e.blueprint[r]=a,t[r]=a,nI(e,n,r,Z_(e,t,i.hostVars,xt),i)}function nI(e,n,t,r,i){let o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~n.index;rI(a)!=s&&a.push(s),a.push(t,r,o)}}function rI(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function iI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Nn(n)&&(t[""]=e)}}function oI(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function ap(e,n,t,r,i,o,a,s){let l=n[ne],c=l.consts,u=ui(c,a),f=Mc(l,e,t,r,u);return o&&v0(l,n,f,ui(c,s),i),f.mergedAttrs=uo(f.mergedAttrs,f.attrs),f.attrs!==null&&dc(f,f.attrs,!1),f.mergedAttrs!==null&&dc(f,f.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,f),f}function lp(e,n){v_(e,n),mf(n)&&e.queries.elementEnd(n)}function sI(e,n,t,r,i,o){let a=n.consts,s=ui(a,i),l=Mc(n,e,t,r,s);if(l.mergedAttrs=uo(l.mergedAttrs,l.attrs),o!=null){let c=ui(a,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&dc(l,l.attrs,!1),l.mergedAttrs!==null&&dc(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function cp(e){return Ac(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function y0(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function Ac(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function up(e,n,t){return e[n]=t}function aI(e,n){return e[n]}function pn(e,n,t){if(t===xt)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function dp(e,n,t,r){let i=pn(e,n,t);return pn(e,n+1,r)||i}function lI(e,n,t,r,i){let o=dp(e,n,t,r);return pn(e,n+2,i)||o}function Wf(e,n,t){return function r(i){let o=Er(e)?Kt(e.index,n):n;ip(o,5);let a=n[Et],s=Jv(n,a,t,i),l=r.__ngNextListenerFn__;for(;l;)s=Jv(n,a,l,i)&&s,l=l.__ngNextListenerFn__;return s}}function Jv(e,n,t,r){let i=ge(null);try{return Oe(6,n,t),t(r)!==!1}catch(o){return bb(e,o),!1}finally{Oe(7,n,t),ge(i)}}function cI(e,n,t,r,i,o,a,s){let l=ro(e),c=!1,u=null;if(!r&&l&&(u=uI(n,t,o,e.index)),u!==null){let f=u.__ngLastListenerFn__||u;f.__ngNextListenerFn__=a,u.__ngLastListenerFn__=a,c=!0}else{let f=un(e,t),y=r?r(f):f;uS(t,y,o,s);let m=i.listen(y,o,s),D=r?R=>r(Yt(R[e.index])):e.index;C0(D,n,t,o,s,m,!1)}return c}function uI(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===t&&i[o+1]===r){let s=n[to],l=i[o+2];return s&&s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function C0(e,n,t,r,i,o,a){let s=n.firstCreatePass?Sf(n):null,l=Ef(t),c=l.length;l.push(i,o),s&&s.push(r,e,c,(c+1)*(a?-1:1))}function Xv(e,n,t,r,i,o){let a=n[t],s=n[ne],c=s.data[t].outputs[r],f=a[c].subscribe(o);C0(e.index,s,n,i,o,f,!0)}var yh=Symbol("BINDING");var fc=class extends Us{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Mn(n);return new Ir(t,this.ngModule)}};function dI(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&bc.SignalBased)!==0};return i&&(o.transform=i),o})}function fI(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function hI(e,n,t){let r=n instanceof We?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new _h(t,r):t}function pI(e){let n=e.get(Qt,null);if(n===null)throw new O(407,!1);let t=e.get(m0,null),r=e.get(nr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function gI(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return W_(n,t,t==="svg"?av:t==="math"?lv:null)}var Ir=class extends Rc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=fI(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=$S(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,a){Oe(22);let s=ge(null);try{let l=this.componentDef,c=mI(r,l,a,o),u=hI(l,i||this.ngModule,n),f=pI(u),y=f.rendererFactory.createRenderer(null,l),m=r?pb(y,r,l.encapsulation,u):gI(l,y),D=a?.some(e_)||o?.some(x=>typeof x!="function"&&x.bindings.some(e_)),R=Wh(null,c,null,512|K_(l),null,null,f,y,u,null,k_(m,u,!0));R[ct]=m,zl(R);let b=null;try{let x=ap(ct,R,2,"#host",()=>c.directiveRegistry,!0,0);m&&(Y_(y,m,x),fo(m,R)),Tc(c,R,x),Vh(c,x,R),lp(c,x),t!==void 0&&_I(x,this.ngContentSelectors,t),b=Kt(x.index,R),R[Et]=b[Et],np(c,R,null)}catch(x){throw b!==null&&nh(b),nh(R),x}finally{Oe(23),Gl()}return new hc(this.componentType,R,!!D)}finally{ge(s)}}};function mI(e,n,t,r){let i=e?["ng-version","20.1.7"]:zS(n.selectors[0]),o=null,a=null,s=0;if(t)for(let u of t)s+=u[yh].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(a??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let f=r[u];if(typeof f!="function")for(let y of f.bindings){s+=y[yh].requiredVars;let m=u+1;y.create&&(y.targetIdx=m,(o??=[]).push(y)),y.update&&(y.targetIdx=m,(a??=[]).push(y))}}let l=[n];if(r)for(let u of r){let f=typeof u=="function"?u:u.type,y=cf(f);l.push(y)}return Gh(0,null,vI(o,a),1,s,l,null,null,null,[i],null)}function vI(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function e_(e){let n=e[yh].kind;return n==="input"||n==="twoWay"}var hc=class extends g0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ll(t[ne],ct),this.location=go(this._tNode,t),this.instance=Kt(this._tNode.index,t)[Et],this.hostView=this.changeDetectorRef=new br(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=tp(r,i[ne],i,n,t);this.previousInputValues.set(n,t);let a=Kt(r.index,i);ip(a,1)}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function _I(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var vn=(()=>{class e{static __NG_ELEMENT_ID__=yI}return e})();function yI(){let e=pt();return D0(e,fe())}var CI=vn,w0=class extends CI{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){let n=Nh(this._hostTNode,this._hostLView);if(y_(n)){let t=sc(n,this._hostLView),r=oc(n),i=t[ne].data[r+8];return new fi(i,t)}else return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=t_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Yv(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(s,i,Wv(this._hostTNode,a)),s}createComponent(n,t,r,i,o,a,s){let l=n&&!kE(n),c;if(l)c=t;else{let b=t||{};c=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,a=b.directives,s=b.bindings}let u=l?n:new Ir(Mn(n)),f=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(l?f:this.parentInjector).get(We,null);x&&(o=x)}let y=Mn(u.componentType??{}),m=Yv(this._lContainer,y?.id??null),D=m?.firstChild??null,R=u.create(f,i,D,o,a,s);return this.insertImpl(R.hostView,c,Wv(this._hostTNode,m)),R}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(uv(i)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let l=i[at],c=new w0(l,l[Wt],l[at]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),a=this._lContainer;return $b(a,i,o,r),n.attachToViewContainerRef(),of(qf(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=t_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=mh(this._lContainer,t);r&&(_s(qf(this._lContainer),t),X_(r[ne],r))}detach(n){let t=this._adjustIndex(n,-1),r=mh(this._lContainer,t);return r&&_s(qf(this._lContainer),t)!=null?new br(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function t_(e){return e[Es]}function qf(e){return e[Es]||(e[Es]=[])}function D0(e,n){let t,r=n[e.index];return cn(r)?t=r:(t=h0(r,n,null,e),n[e.index]=t,qh(n,t)),DI(t,n,e,r),new w0(t,e,n)}function wI(e,n){let t=e[ze],r=t.createComment(""),i=un(n,e),o=t.parentNode(i);return uc(t,o,r,t.nextSibling(i),!1),r}var DI=bI,EI=()=>!1;function SI(e,n,t){return EI(e,n,t)}function bI(e,n,t,r){if(e[Dr])return;let i;t.type&8?i=Yt(r):i=wI(n,t),e[Dr]=i}var Ch=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},wh=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let a=t.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new e(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)fp(n,t).matches!==null&&this.queries[t].setDirty()}},Dh=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=NI(n):this.predicate=n}},Eh=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Sh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(n,t,II(t,o)),this.matchTNodeWithReadOption(n,t,nc(t,n,o,!1,!1))}else r===Fn?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,nc(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===tt||i===vn||i===Fn&&t.type&4)this.addMatch(t.index,-2);else{let o=nc(t,n,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function II(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function TI(e,n){return e.type&11?go(e,n):e.type&4?op(e,n):null}function xI(e,n,t,r){return t===-1?TI(n,e):t===-2?MI(e,n,r):Ns(e,e[ne],t,n)}function MI(e,n,t){if(t===tt)return go(n,e);if(t===Fn)return op(n,e);if(t===vn)return D0(n,e)}function E0(e,n,t,r){let i=n[An].queries[r];if(i.matches===null){let o=e.data,a=t.matches,s=[];for(let l=0;a!==null&&l<a.length;l+=2){let c=a[l];if(c<0)s.push(null);else{let u=o[c];s.push(xI(n,u,a[l+1],t.metadata.read))}}i.matches=s}return i.matches}function bh(e,n,t,r){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let a=E0(e,n,i,t);for(let s=0;s<o.length;s+=2){let l=o[s];if(l>0)r.push(a[s/2]);else{let c=o[s+1],u=n[-l];for(let f=Tt;f<u.length;f++){let y=u[f];y[wr]===y[at]&&bh(y[ne],y,c,r)}if(u[li]!==null){let f=u[li];for(let y=0;y<f.length;y++){let m=f[y];bh(m[ne],m,c,r)}}}}}return r}function RI(e,n){return e[An].queries[n].queryList}function AI(e,n,t){let r=new cc((t&4)===4);return hv(e,n,r,r.destroy),(n[An]??=new wh).queries.push(new Ch(r))-1}function PI(e,n,t){let r=ut();return r.firstCreatePass&&(OI(r,new Dh(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),AI(r,fe(),n)}function NI(e){return e.split(",").map(n=>n.trim())}function OI(e,n,t){e.queries===null&&(e.queries=new Eh),e.queries.track(new Sh(n,t))}function fp(e,n){return e.queries.getByIndex(n)}function kI(e,n){let t=e[ne],r=fp(t,n);return r.crossesNgTemplate?bh(t,e,n,[]):E0(t,e,r,n)}function S0(e){let n=[],t=new Map;function r(i){let o=t.get(i);if(!o){let a=e(i);t.set(i,o=a.then(s=>LI(i,s)))}return o}return pc.forEach((i,o)=>{let a=[];i.templateUrl&&a.push(r(i.templateUrl).then(c=>{i.template=c}));let s=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=s,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((f,y)=>{s.push(""),a.push(r(f).then(m=>{s[c+y]=m,u.splice(u.indexOf(f),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&a.push(r(i.styleUrl).then(c=>{s.push(c),i.styleUrl=void 0}));let l=Promise.all(a).then(()=>VI(o));n.push(l)}),b0(),Promise.all(n).then(()=>{})}var pc=new Map,FI=new Set;function b0(){let e=pc;return pc=new Map,e}function I0(){return pc.size===0}function LI(e,n){return typeof n=="string"?n:n.status!==void 0&&n.status!==200?Promise.reject(new O(918,!1)):n.text()}function VI(e){FI.delete(e)}var n_=new Set;function mo(e){n_.has(e)||(n_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var pi=class{},Pc=class{};var ks=class extends pi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fc(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=lf(n);this._bootstrapComponents=z_(o.bootstrap),this._r3Injector=Lf(n,t,[{provide:pi,useValue:this},{provide:Us,useValue:this.componentFactoryResolver},...r],tr(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Fs=class extends Pc{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ks(this.moduleType,n,[])}};function T0(e,n,t){return new ks(e,n,t,!1)}var gc=class extends pi{injector;componentFactoryResolver=new fc(this);instance=null;constructor(n){super();let t=new ni([...n.providers,{provide:pi,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],n.parent||eo(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function vo(e,n,t=null){return new gc({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var jI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=uf(!1,t.type),i=r.length>0?vo([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(F(We))})}return e})();function Nt(e){return po(()=>{let n=x0(e),t=ae(M({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(jI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||sr.Emulated,styles:e.styles||kt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&mo("NgStandalone"),M0(t);let r=e.dependencies;return t.directiveDefs=r_(r,HI),t.pipeDefs=r_(r,tv),t.id=$I(t),t})}function HI(e){return Mn(e)||cf(e)}function Ge(e){return po(()=>({type:e.type,bootstrap:e.bootstrap||kt,declarations:e.declarations||kt,imports:e.imports||kt,exports:e.exports||kt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function BI(e,n){if(e==null)return Cr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,a,s,l;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,l=i[3]||null):(o=i,a=i,s=bc.None,l=null),t[o]=[r,s,l],n[o]=a}return t}function UI(e){if(e==null)return Cr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Qe(e){return po(()=>{let n=x0(e);return M0(n),n})}function mi(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function x0(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Cr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||kt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:BI(e.inputs,n),outputs:UI(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(n=>n(e))}function r_(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function $I(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function zI(e){return Object.getPrototypeOf(e.prototype).constructor}function Ln(e){let n=zI(e.type),t=!0,r=[e];for(;n;){let i;if(Nn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new O(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let a=e;a.inputs=Yf(e.inputs),a.declaredInputs=Yf(e.declaredInputs),a.outputs=Yf(e.outputs);let s=i.hostBindings;s&&KI(e,s);let l=i.viewQuery,c=i.contentQueries;if(l&&qI(e,l),c&&YI(e,c),GI(e,i),Wm(e.outputs,i.outputs),Nn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(e),s===Ln&&(t=!1)}}n=Object.getPrototypeOf(n)}WI(r)}function GI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function WI(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=uo(i.hostAttrs,t=uo(t,i.hostAttrs))}}function Yf(e){return e===Cr?{}:e===kt?[]:e}function qI(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function YI(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function KI(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function ZI(e,n,t,r,i,o,a,s){if(t.firstCreatePass){e.mergedAttrs=uo(e.mergedAttrs,e.attrs);let u=e.tView=Gh(2,e,i,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}s&&(e.flags|=s),so(e,!1);let l=JI(t,n,e,r);Wl()&&Zh(t,n,l,e),fo(l,n);let c=h0(l,n,l,e);n[r+ct]=c,qh(n,c),SI(c,e,n)}function QI(e,n,t,r,i,o,a,s,l,c,u){let f=t+ct,y;return n.firstCreatePass?(y=Mc(n,f,4,a||null,s||null),Hl()&&v0(n,e,y,ui(n.consts,c),Jh),v_(n,y)):y=n.data[f],ZI(y,e,n,t,r,i,o,l),ro(y)&&Tc(n,e,y),c!=null&&xc(e,y,u),y}function j(e,n,t,r,i,o,a,s){let l=fe(),c=ut(),u=ui(c.consts,o);return QI(l,c,e,n,t,r,i,u,void 0,a,s),j}var JI=XI;function XI(e,n,t,r){return Ts(!0),n[ze].createComment("")}var Nc=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Nc||{}),vi=new U(""),R0=!1,Ih=class extends se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,hf()&&(this.destroyRef=S(Zt,{optional:!0})??void 0,this.pendingTasks=S(On,{optional:!0})??void 0)}emit(n){let t=ge(null);try{super.next(n)}finally{ge(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),a=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return n instanceof be&&n.add(s),s}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ye=Ih;function A0(e){let n,t;function r(){e=Rs;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function i_(e){return queueMicrotask(()=>e()),()=>{e=Rs}}var hp="isAngularZone",mc=hp+"_ID",eT=0,Ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ye(!1);onMicrotaskEmpty=new Ye(!1);onStable=new Ye(!1);onError=new Ye(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=R0}=n;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,rT(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new O(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,n,tT,Rs,Rs);try{return o.runTask(a,t,r)}finally{o.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},tT={};function pp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function nT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){A0(()=>{e.callbackScheduled=!1,Th(e),e.isCheckStableRunning=!0,pp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Th(e)}function rT(e){let n=()=>{nT(e)},t=eT++;e._inner=e._inner.fork({name:"angular",properties:{[hp]:!0,[mc]:t,[mc+t]:!0},onInvokeTask:(r,i,o,a,s,l)=>{if(iT(l))return r.invokeTask(o,a,s,l);try{return o_(e),r.invokeTask(o,a,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),s_(e)}},onInvoke:(r,i,o,a,s,l,c)=>{try{return o_(e),r.invoke(o,a,s,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!oT(l)&&n(),s_(e)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,Th(e),pp(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function Th(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function o_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function s_(e){e._nesting--,pp(e)}var Ls=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ye;onMicrotaskEmpty=new Ye;onStable=new Ye;onError=new Ye;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function iT(e){return P0(e,"__ignore_ng_zone__")}function oT(e){return P0(e,"__scheduler_tick__")}function P0(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}function N0(e="zone.js",n){return e==="noop"?new Ls:e==="zone.js"?new Ee(n):e}var gp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})(),O0=[0,1,2,3],k0=(()=>{class e{ngZone=S(Ee);scheduler=S(nr);errorHandler=S(sn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(vi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Oe(16),this.executing=!0;for(let r of O0)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Oe(17)}register(t){let{view:r}=t;r!==void 0?((r[ai]??=[]).push(t),oo(r),r[le]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Nc.AFTER_NEXT_RENDER,t):t()}static \u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}return e})(),vc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,a=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[ai];n&&(this.view[ai]=n.filter(t=>t!==this))}};function _i(e,n){let t=n?.injector??S(Fe);return mo("NgAfterNextRender"),aT(e,t,n,!0)}function sT(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function aT(e,n,t,r){let i=n.get(gp);i.impl??=n.get(k0);let o=n.get(vi,null,{optional:!0}),a=t?.manualCleanup!==!0?n.get(Zt):null,s=n.get(ql,null,{optional:!0}),l=new vc(i.impl,sT(e),s?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var Oc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var kc=new U(""),_o=new U(""),$s=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,hf()&&(this._destroyRef=S(Zt,{optional:!0})??void 0),mp||(F0(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||e)(F(Ee),F(zs),F(_o))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),zs=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return mp?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function F0(e){mp=e}var mp;function Mr(e){return!!e&&typeof e.then=="function"}function vp(e){return!!e&&typeof e.subscribe=="function"}var _p=new U("");function yo(e){return ir([{provide:_p,multi:!0,useValue:e}])}var yp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=S(_p,{optional:!0})??[];injector=S(Fe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=lt(this.injector,i);if(Mr(o))t.push(o);else if(vp(o)){let a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fc=new U("");function L0(){pd(()=>{let e="";throw new O(600,e)})}function V0(e){return e.isBoundToModule}var lT=10;function Cp(e,n){return Array.isArray(n)?n.reduce(Cp,e):M(M({},e),n)}var dt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(Lt);afterRenderManager=S(gp);zonelessEnabled=S(xs);rootEffectScheduler=S(Uf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new se;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(On);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ee(t=>!t))}constructor(){S(vi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=S(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Fe.NULL){return this._injector.get(Ee).run(()=>{Oe(10);let a=t instanceof Rc;if(!this._injector.get(yp).done){let D="";throw new O(405,D)}let l;a?l=t:l=this._injector.get(Us).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=V0(l)?void 0:this._injector.get(pi),u=r||l.selector,f=l.create(i,[],u,c),y=f.location.nativeElement,m=f.injector.get(kc,null);return m?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),Ps(this.components,f),m?.unregisterApplication(y)}),this._loadComponent(f),Oe(11,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Nc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let t=ge(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ge(t),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Qt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<lT;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ss(i))continue;let o=r&&!this.zonelessEnabled?0:1;rp(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ss(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ps(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Fc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ps(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ps(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Vn(e,n,t,r){let i=fe(),o=di();if(pn(i,o,n)){let a=ut(),s=Is();Db(s,i,e,n,t,r)}return Vn}function w(e,n,t){let r=fe(),i=di();if(pn(r,i,n)){let o=ut(),a=Is();n0(a,r,e,n,r[ze],t)}return w}function a_(e,n,t,r,i){tp(n,e,t,i?"class":"style",r)}function g(e,n,t,r){let i=fe(),o=i[ne],a=e+ct,s=o.firstCreatePass?ap(a,i,2,n,Jh,Hl(),t,r):o.data[a];if(Xh(s,i,e,n,j0),ro(s)){let l=i[ne];Tc(l,i,s),Vh(l,s,i)}return r!=null&&xc(i,s),g}function h(){let e=ut(),n=pt(),t=ep(n);return e.firstCreatePass&&lp(e,t),If(t)&&Tf(),bf(),t.classesWithoutHost!=null&&BE(t)&&a_(e,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&UE(t)&&a_(e,t,fe(),t.stylesWithoutHost,!1),h}function G(e,n,t,r){return g(e,n,t,r),h(),G}function Co(e,n,t,r){let i=fe(),o=i[ne],a=e+ct,s=o.firstCreatePass?sI(a,o,2,n,t,r):o.data[a];return Xh(s,i,e,n,j0),r!=null&&xc(i,s),Co}function wo(){let e=pt(),n=ep(e);return If(n)&&Tf(),bf(),wo}function Gs(e,n,t,r){return Co(e,n,t,r),wo(),Gs}var j0=(e,n,t,r,i)=>(Ts(!0),W_(n[ze],r,xv()));function Rr(e,n,t){let r=fe(),i=r[ne],o=e+ct,a=i.firstCreatePass?ap(o,r,8,"ng-container",Jh,Hl(),n,t):i.data[o];if(Xh(a,r,e,"ng-container",cT),ro(a)){let s=r[ne];Tc(s,r,a),Vh(s,a,r)}return t!=null&&xc(r,a),Rr}function Ar(){let e=ut(),n=pt(),t=ep(n);return e.firstCreatePass&&lp(e,t),Ar}var cT=(e,n,t,r,i)=>(Ts(!0),qS(n[ze],""));function we(){return fe()}function Lc(e,n,t){let r=fe(),i=di();if(pn(r,i,n)){let o=ut(),a=Is();r0(a,r,e,n,r[ze],t)}return Lc}var Ws="en-US";var uT=Ws;function H0(e){typeof e=="string"&&(uT=e.toLowerCase().replace(/_/g,"-"))}function $(e,n,t){let r=fe(),i=ut(),o=pt();return B0(i,r,r[ze],o,e,n,t),$}function B0(e,n,t,r,i,o,a){let s=!0,l=null;if((r.type&3||a)&&(l??=Wf(r,n,o),cI(r,e,n,a,t,i,o,l)&&(s=!1)),s){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let f=0;f<u.length;f+=2){let y=u[f],m=u[f+1];l??=Wf(r,n,o),Xv(r,n,y,m,i,l)}if(c&&c.length)for(let f of c)l??=Wf(r,n,o),Xv(r,n,f,i,i,l)}}function C(e=1){return Tv(e)}function Vc(e,n,t){PI(e,n,t)}function qs(e){let n=fe(),t=ut(),r=Of();$l(r+1);let i=fp(t,r);if(e.dirty&&cv(n)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=kI(n,r);e.reset(o,tS),e.notifyOnChanges()}return!0}return!1}function Ys(){return RI(fe(),Of())}function Jl(e,n){return e<<17|n<<2}function gi(e){return e>>17&32767}function dT(e){return(e&2)==2}function fT(e,n){return e&131071|n<<17}function xh(e){return e|2}function ho(e){return(e&131068)>>2}function Kf(e,n){return e&-131069|n<<2}function hT(e){return(e&1)===1}function Mh(e){return e|1}function pT(e,n,t,r,i,o){let a=o?n.classBindings:n.styleBindings,s=gi(a),l=ho(a);e[r]=t;let c=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||Xi(f,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let y=gi(e[s+1]);e[r+1]=Jl(y,s),y!==0&&(e[y+1]=Kf(e[y+1],r)),e[s+1]=fT(e[s+1],r)}else e[r+1]=Jl(s,0),s!==0&&(e[s+1]=Kf(e[s+1],r)),s=r;else e[r+1]=Jl(l,0),s===0?s=r:e[l+1]=Kf(e[l+1],r),l=r;c&&(e[r+1]=xh(e[r+1])),l_(e,u,r,!0),l_(e,u,r,!1),gT(n,u,e,r,o),a=Jl(s,l),o?n.classBindings=a:n.styleBindings=a}function gT(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Xi(o,n)>=0&&(t[r+1]=Mh(t[r+1]))}function l_(e,n,t,r){let i=e[t+1],o=n===null,a=r?gi(i):ho(i),s=!1;for(;a!==0&&(s===!1||o);){let l=e[a],c=e[a+1];mT(l,n)&&(s=!0,e[a+1]=r?Mh(c):xh(c)),a=r?gi(c):ho(c)}s&&(e[t+1]=r?xh(i):Mh(i))}function mT(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Xi(e,n)>=0:!1}function Do(e,n,t){return U0(e,n,t,!1),Do}function Me(e,n){return U0(e,n,null,!0),Me}function U0(e,n,t,r){let i=fe(),o=ut(),a=Bl(2);if(o.firstUpdatePass&&_T(o,e,a,r),n!==xt&&pn(i,a,n)){let s=o.data[or()];ET(o,s,i,i[ze],e,i[a+1]=ST(n,t),r,a)}}function vT(e,n){return n>=e.expandoStartIndex}function _T(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[or()],a=vT(e,t);bT(o,r)&&n===null&&!a&&(n=!1),n=yT(i,o,n,r),pT(i,o,n,t,a,r)}}function yT(e,n,t,r){let i=Ev(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Zf(null,e,n,t,r),t=Vs(t,n.attrs,r),o=null);else{let a=n.directiveStylingLast;if(a===-1||e[a]!==i)if(t=Zf(i,e,n,t,r),o===null){let l=CT(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Zf(null,e,n,l[1],r),l=Vs(l,n.attrs,r),wT(e,n,r,l))}else o=DT(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function CT(e,n,t){let r=t?n.classBindings:n.styleBindings;if(ho(r)!==0)return e[gi(r)]}function wT(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[gi(i)]=r}function DT(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let a=e[o].hostAttrs;r=Vs(r,a,t)}return Vs(r,n.attrs,t)}function Zf(e,n,t,r,i){let o=null,a=t.directiveEnd,s=t.directiveStylingLast;for(s===-1?s=t.directiveStart:s++;s<a&&(o=n[s],r=Vs(r,o.hostAttrs,i),o!==e);)s++;return e!==null&&(t.directiveStylingLast=s),r}function Vs(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?i=a:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ev(e,a,t?!0:n[++o]))}return e===void 0?null:e}function ET(e,n,t,r,i,o,a,s){if(!(n.type&3))return;let l=e.data,c=l[s+1],u=hT(c)?c_(l,n,t,i,ho(c),a):void 0;if(!_c(u)){_c(o)||dT(c)&&(o=c_(l,null,t,i,s,a));let f=vf(or(),t);hb(r,a,f,i,o)}}function c_(e,n,t,r,i,o){let a=n===null,s;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,f=u===null,y=t[i+1];y===xt&&(y=f?kt:void 0);let m=f?kl(y,r):u===r?y:void 0;if(c&&!_c(m)&&(m=kl(l,r)),_c(m)&&(s=m,a))return s;let D=e[i+1];i=a?gi(D):ho(D)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(s=kl(l,r))}return s}function _c(e){return e!==void 0}function ST(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=tr(gn(e)))),e}function bT(e,n){return(e.flags&(n?8:16))!==0}function _(e,n=""){let t=fe(),r=ut(),i=e+ct,o=r.firstCreatePass?Mc(r,i,1,n,null):r.data[i],a=IT(r,t,o,n,e);t[i]=a,Wl()&&Zh(r,t,a,o),so(o,!1)}var IT=(e,n,t,r,i)=>(Ts(!0),GS(n[ze],r));function $0(e,n,t,r=""){return pn(e,di(),t)?n+zt(t)+r:xt}function TT(e,n,t,r,i,o=""){let a=Nf(),s=dp(e,a,t,i);return Bl(2),s?n+zt(t)+r+zt(i)+o:xt}function xT(e,n,t,r,i,o,a,s=""){let l=Nf(),c=lI(e,l,t,i,a);return Bl(3),c?n+zt(t)+r+zt(i)+o+zt(a)+s:xt}function J(e){return ue("",e),J}function ue(e,n,t){let r=fe(),i=$0(r,e,n,t);return i!==xt&&wp(r,or(),i),ue}function Ks(e,n,t,r,i){let o=fe(),a=TT(o,e,n,t,r,i);return a!==xt&&wp(o,or(),a),Ks}function jn(e,n,t,r,i,o,a){let s=fe(),l=xT(s,e,n,t,r,i,o,a);return l!==xt&&wp(s,or(),l),jn}function wp(e,n,t){let r=vf(n,e);WS(e[ze],r,t)}function Vt(e,n,t){jf(n)&&(n=n());let r=fe(),i=di();if(pn(r,i,n)){let o=ut(),a=Is();n0(a,r,e,n,r[ze],t)}return Vt}function Xt(e,n){let t=jf(e);return t&&e.set(n),t}function jt(e,n){let t=fe(),r=ut(),i=pt();return B0(r,t,t[ze],i,e,n),jt}function Zs(e){return pn(fe(),di(),e)?zt(e):xt}function Dp(e,n,t=""){return $0(fe(),e,n,t)}function MT(e,n,t){let r=ut();if(r.firstCreatePass){let i=Nn(e);Rh(t,r.data,r.blueprint,i,!0),Rh(n,r.data,r.blueprint,i,!1)}}function Rh(e,n,t,r,i){if(e=ht(e),Array.isArray(e))for(let o=0;o<e.length;o++)Rh(e[o],n,t,r,i);else{let o=ut(),a=fe(),s=pt(),l=ti(e)?e:ht(e.provide),c=ff(e),u=s.providerIndexes&1048575,f=s.directiveStart,y=s.providerIndexes>>20;if(ti(e)||!e.multi){let m=new hi(c,i,Y,null),D=Jf(l,n,i?u:u+y,f);D===-1?(eh(lc(s,a),o,l),Qf(o,e,n.length),n.push(l),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),t.push(m),a.push(m)):(t[D]=m,a[D]=m)}else{let m=Jf(l,n,u+y,f),D=Jf(l,n,u,u+y),R=m>=0&&t[m],b=D>=0&&t[D];if(i&&!b||!i&&!R){eh(lc(s,a),o,l);let x=PT(i?AT:RT,t.length,i,r,c,e);!i&&b&&(t[D].providerFactory=x),Qf(o,e,n.length,0),n.push(l),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),t.push(x),a.push(x)}else{let x=z0(t[i?D:m],c,!i&&r);Qf(o,e,m>-1?m:D,x)}!i&&r&&b&&t[D].componentProviders++}}}function Qf(e,n,t,r){let i=ti(n),o=ov(n);if(i||o){let l=(o?ht(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function z0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Jf(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function RT(e,n,t,r,i){return Ah(this.multi,[])}function AT(e,n,t,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Ns(r,r[ne],this.providerFactory.index,i);a=l.slice(0,s),Ah(o,a);for(let c=s;c<l.length;c++)a.push(l[c])}else a=[],Ah(o,a);return a}function Ah(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function PT(e,n,t,r,i,o){let a=new hi(e,t,Y,null);return a.multi=[],a.index=n,a.componentProviders=0,z0(a,i,r&&!t),a}function Pr(e,n=[]){return t=>{t.providersResolver=(r,i)=>MT(r,i?i(e):e,n)}}function Hn(e,n,t){let r=ao()+e,i=fe();return i[r]===xt?up(i,r,t?n.call(t):n()):aI(i,r)}function gt(e,n,t,r){return W0(fe(),ao(),e,n,t,r)}function Eo(e,n,t,r,i){return q0(fe(),ao(),e,n,t,r,i)}function G0(e,n){let t=e[n];return t===xt?void 0:t}function W0(e,n,t,r,i,o){let a=n+t;return pn(e,a,i)?up(e,a+1,o?r.call(o,i):r(i)):G0(e,a+1)}function q0(e,n,t,r,i,o,a){let s=n+t;return dp(e,s,i,o)?up(e,s+2,a?r.call(a,i,o):r(i,o)):G0(e,s+2)}function en(e,n){let t=ut(),r,i=e+ct;t.firstCreatePass?(r=NT(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=_r(r.type,!0)),a,s=It(Y);try{let l=ac(!1),c=o();return ac(l),yf(t,fe(),i,c),c}finally{It(s)}}function NT(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Nr(e,n,t){let r=e+ct,i=fe(),o=_f(i,r);return Y0(i,r)?W0(i,ao(),n,o.transform,t,o):o.transform(t)}function So(e,n,t,r){let i=e+ct,o=fe(),a=_f(o,i);return Y0(o,i)?q0(o,ao(),n,a.transform,t,r,a):a.transform(t,r)}function Y0(e,n){return e[ne].data[n].pure}var Xl=null;function K0(e){Xl!==null&&(e.defaultEncapsulation!==Xl.defaultEncapsulation||e.preserveWhitespaces!==Xl.preserveWhitespaces)||(Xl=e)}var yc=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Ep=(()=>{class e{compileModuleSync(t){return new Fs(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lf(t),o=z_(i.declarations).reduce((a,s)=>{let l=Mn(s);return l&&a.push(new Ir(l)),a},[]);return new yc(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Z0=new U("");var OT=(()=>{class e{zone=S(Ee);changeDetectionScheduler=S(nr);applicationRef=S(dt);applicationErrorHandler=S(Lt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q0({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Ee(ae(M({},Sp()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:e},{provide:rr,multi:!0,useFactory:()=>{let r=S(OT,{optional:!0});return()=>r.initialize()}},{provide:rr,multi:!0,useFactory:()=>{let r=S(kT);return()=>{r.initialize()}}},n===!0?{provide:Hf,useValue:!0}:[],{provide:Bf,useValue:t??R0},{provide:Lt,useFactory:()=>{let r=S(Ee),i=S(We),o;return a=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw a}):(o??=i.get(sn),o.handleError(a))})}}}]}function Sp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var kT=(()=>{class e{subscription=new be;initialized=!1;zone=S(Ee);pendingTasks=S(On);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J0=(()=>{class e{applicationErrorHandler=S(Lt);appRef=S(dt);taskService=S(On);ngZone=S(Ee);zonelessEnabled=S(xs);tracing=S(vi,{optional:!0});disableScheduling=S(Hf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new be;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(Bf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ls||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?i_:A0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,i_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FT(){return typeof $localize<"u"&&$localize.locale||Ws}var jc=new U("",{providedIn:"root",factory:()=>S(jc,{optional:!0,skipSelf:!0})||FT()});function _n(e){return $m(e)}function Qs(e,n){return Za(e,n?.equal)}var X0=class{[yt];constructor(n){this[yt]=n}destroy(){this[yt].destroy()}};var ly=Symbol("InputSignalNode#UNSET"),XT=ae(M({},Qa),{transformFn:void 0,applyValueToInputSignal(e,n){Li(e,n)}});function cy(e,n){let t=Object.create(XT);t.value=e,t.transformFn=n?.transform;function r(){if(Oi(t),t.value===ly){let i=null;throw new O(-950,i)}return t.value}return r[yt]=t,r}var ex=new U("");ex.__NG_ELEMENT_ID__=e=>{let n=pt();if(n===null)throw new O(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new O(204,!1)};function ey(e,n){return cy(e,n)}function tx(e){return cy(ly,e)}var uy=(ey.required=tx,ey);function nx(e,n,t){let r=new Fs(t);return Promise.resolve(r)}function ty(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var Hc=new U(""),rx=new U("");function Js(e){return!e.moduleRef}function ix(e){let n=Js(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ee);return t.run(()=>{Js(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Lt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Js(e)){let o=()=>n.destroy(),a=e.platformInjector.get(Hc);a.add(o),n.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Hc);a.add(o),e.moduleRef.onDestroy(()=>{Ps(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(o)})}return sx(r,t,()=>{let o=n.get(On),a=o.add(),s=n.get(yp);return s.runInitializers(),s.donePromise.then(()=>{let l=n.get(jc,Ws);if(H0(l||Ws),!n.get(rx,!0))return Js(e)?n.get(dt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Js(e)){let u=n.get(dt);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return dy?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(a))})})}var dy;function ny(){dy=ox}function ox(e,n){let t=e.injector.get(dt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new O(-403,!1);n.push(e)}function sx(e,n,t){try{let r=t();return Mr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var fy=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let i=r?.scheduleInRootZone,o=()=>N0(r?.ngZone,ae(M({},Sp({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),a=r?.ignoreChangesOutsideZone,s=[Q0({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:nr,useExisting:J0},Rv],l=T0(t.moduleType,this.injector,s);return ny(),ix({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let i=Cp({},r);return ny(),nx(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(Hc,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(F(Fe))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Xs=null,hy=new U("");function ax(e){if(Xs&&!Xs.get(hy,!1))throw new O(400,!1);L0(),Xs=e;let n=e.get(fy);return ux(e),n}function Pp(e,n,t=[]){let r=`Platform: ${n}`,i=new U(r);return(o=[])=>{let a=py();if(!a||a.injector.get(hy,!1)){let s=[...t,...o,{provide:i,useValue:!0}];e?e(s):ax(lx(s,r))}return cx(i)}}function lx(e=[],n){return Fe.create({name:n,providers:[{provide:ys,useValue:"platform"},{provide:Hc,useValue:new Set([()=>Xs=null])},...e]})}function cx(e){let n=py();if(!n)throw new O(401,!1);return n}function py(){return Xs?.get(fy)??null}function ux(e){let n=e.get(wc,null);lt(e,()=>{n?.forEach(t=>t())})}function gy(){return!1}var Bn=(()=>{class e{static __NG_ELEMENT_ID__=dx}return e})();function dx(e){return fx(pt(),fe(),(e&16)===16)}function fx(e,n,t){if(Er(e)&&!t){let r=Kt(e.index,n);return new br(r,r)}else if(e.type&175){let r=n[qt];return new br(r,n)}return null}var bp=class{constructor(){}supports(n){return cp(n)}create(n){return new Ip(n)}},hx=(e,n)=>n,Ip=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||hx}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let a=!r||t&&t.currentIndex<ry(r,i,o)?t:r,s=ry(a,i,o),l=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,a.previousIndex==null)i++;else{o||(o=[]);let c=s-i,u=l-i;if(c!=u){for(let y=0;y<c;y++){let m=y<o.length?o[y]:o[y]=0,D=m+y;u<=D&&D<c&&(o[y]=m+1)}let f=a.previousIndex;o[f]=u-c}}s!==l&&n(a,s,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!cp(n))throw new O(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,a;if(Array.isArray(n)){this.length=n.length;for(let s=0;s<this.length;s++)o=n[s],a=this._trackByFn(s,o),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,o,a,s),r=!0):(r&&(t=this._verifyReinsertion(t,o,a,s)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,y0(n,s=>{a=this._trackByFn(i,s),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,s,a,i),r=!0):(r&&(t=this._verifyReinsertion(t,s,a,i)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new Tp(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Bc),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bc),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Tp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},xp=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Bc=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new xp,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ry(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}var Mp=class{constructor(){}supports(n){return n instanceof Map||Ac(n)}create(){return new Rp}},Rp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let t;for(t=this._mapHead;t!==null;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||Ac(n)))throw new O(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){let r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){let i=this._records.get(n);this._maybeAddToChanges(i,t);let o=i._prev,a=i._next;return o&&(o._next=a),a&&(a._prev=o),i._next=null,i._prev=null,i}let r=new Ap(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}},Ap=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function iy(){return new Uc([new bp])}var Uc=(()=>{class e{factories;static \u0275prov=P({token:e,providedIn:"root",factory:iy});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||iy()),deps:[[e,new Ph,new js]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new O(901,!1)}}return e})();function oy(){return new Np([new Mp])}var Np=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:oy});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||oy()),deps:[[e,new Ph,new js]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new O(901,!1)}}return e})();var my=Pp(null,"core",[]),vy=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(F(dt))};static \u0275mod=Ge({type:e});static \u0275inj=Le({})}return e})();function bo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function _y(e,n){let t=Mn(e),r=n.elementInjector||eo();return new Ir(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}function yy(e){let n=Mn(e);if(!n)return null;let t=new Ir(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var Dy=null;function Ht(){return Dy}function Op(e){Dy??=e}var ea=class{},ta=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>S(Ey),providedIn:"platform"})}return e})(),kp=new U(""),Ey=(()=>{class e extends ta{_location;_history;_doc=S(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(t){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ht().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $c(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Cy(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function yn(e){return e&&e[0]!=="?"?`?${e}`:e}var dr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>S(Gc),providedIn:"root"})}return e})(),zc=new U(""),Gc=(()=>{class e extends dr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $c(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let a=this.prepareExternalUrl(i+yn(o));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){let a=this.prepareExternalUrl(i+yn(o));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(F(ta),F(zc,8))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Or=(()=>{class e{_subject=new se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=mx(Cy(wy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yn(r))}normalize(t){return e.stripTrailingSlash(gx(this._basePath,wy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=yn;static joinWithSlash=$c;static stripTrailingSlash=Cy;static \u0275fac=function(r){return new(r||e)(F(dr))};static \u0275prov=P({token:e,factory:()=>px(),providedIn:"root"})}return e})();function px(){return new Or(F(dr))}function gx(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function wy(e){return e.replace(/\/index.html$/,"")}function mx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Lp=(()=>{class e extends dr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=$c(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let a=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){let a=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(F(ta),F(zc,8))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();var Fp=/\s+/,Sy=[],yi=(()=>{class e{_ngEl;_renderer;initialClasses=Sy;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Fp):Sy}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Fp):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Fp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(Y(tt),Y(Jt))};static \u0275dir=Qe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Wc=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},kr=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wc(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let s=r.get(o);r.move(s,a),by(s,i)}});for(let i=0,o=r.length;i<o;i++){let s=r.get(i).context;s.index=i,s.count=o,s.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);by(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(Y(vn),Y(Fn),Y(Uc))};static \u0275dir=Qe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function by(e,n){e.context.$implicit=n.item}var Ci=(()=>{class e{_viewContainer;_context=new qc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Iy(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Iy(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(Y(vn),Y(Fn))};static \u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),qc=class{$implicit=null;ngIf=null};function Iy(e,n){if(e&&!e.createEmbeddedView)throw new O(2020,!1)}var wi=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),a=i.indexOf("-")===-1?void 0:hn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,i,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(Y(tt),Y(Np),Y(Jt))};static \u0275dir=Qe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();function vx(e,n){return new O(2100,!1)}var _x=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Vp=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw vx(e,t);return t.replace(_x,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=mi({name:"titlecase",type:e,pure:!0})}return e})();var fr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({})}return e})();function na(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Di=class{};var Hp="browser";function xy(e){return e===Hp}var My=(()=>{class e{static \u0275prov=P({token:e,providedIn:"root",factory:()=>new jp(S(Ne),window)})}return e})(),jp=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(ae(M({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=Cx(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(an(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(ae(M({},t),{left:i-a[0],top:o-a[1]}))}};function Cx(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}var Kc=new U(""),Wp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(F(Kc),F(Ee))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),ra=class{_doc;constructor(n){this._doc=n}manager},Up="ng-app-id";function Ry(e){for(let n of e)n.remove()}function Ay(e,n){let t=n.createElement("style");return t.textContent=e,t}function wx(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Up}="${n}"],link[${Up}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Up),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function zp(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var qp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,wx(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Ay);r?.forEach(i=>this.addUsage(i,this.external,zp))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Ry(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Ry(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Ay(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,zp(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(F(Ne),F(Cc),F(Dc,8),F(xr))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),$p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yp=/%COMP%/g;var Ny="%COMP%",Dx=`_nghost-${Ny}`,Ex=`_ngcontent-${Ny}`,Sx=!0,bx=new U("",{providedIn:"root",factory:()=>Sx});function Ix(e){return Ex.replace(Yp,e)}function Tx(e){return Dx.replace(Yp,e)}function Oy(e,n){return n.map(t=>t.replace(Yp,e))}var Kp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,a,s,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new ia(t,a,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Yc?i.applyToHost(t):i instanceof oa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case sr.Emulated:o=new Yc(l,c,r,this.appId,u,a,s,f,y);break;case sr.ShadowDom:return new Gp(l,c,t,r,a,s,this.nonce,f,y);default:o=new oa(l,c,r,u,a,s,f,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(F(Wp),F(qp),F(Cc),F(bx),F(Ne),F(xr),F(Ee),F(Dc),F(vi,8))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS($p[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Py(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Py(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new O(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=$p[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=$p[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(hn.DashCase|hn.Important)?n.style.setProperty(t,r,i&hn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&hn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Ht().getGlobalEventTarget(this.doc,n),!n))throw new O(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function Py(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Gp=class extends ia{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,a,s,l,c){super(n,o,a,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Oy(i.id,u);for(let y of u){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=y,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let y of f){let m=zp(y,o);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oa=class extends ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,a,s,l,c){super(n,o,a,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?Oy(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yc=class extends oa{contentAttr;hostAttr;constructor(n,t,r,i,o,a,s,l,c){let u=i+"-"+r.id;super(n,t,r,o,a,s,l,c,u),this.contentAttr=Ix(u),this.hostAttr=Tx(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Zc=class e extends ea{supportsDOMEvents=!0;static makeCurrent(){Op(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=xx();return t==null?null:Mx(t)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return na(document.cookie,n)}},sa=null;function xx(){return sa=sa||document.head.querySelector("base"),sa?sa.getAttribute("href"):null}function Mx(e){return new URL(e,document.baseURI).pathname}var Qc=class{addToWindow(n){Dt.getAngularTestability=(r,i=!0)=>{let o=n.findTestabilityInTree(r,i);if(o==null)throw new O(5103,!1);return o},Dt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Dt.getAllAngularRootElements=()=>n.getAllRootElements();let t=r=>{let i=Dt.getAllAngularTestabilities(),o=i.length,a=function(){o--,o==0&&r()};i.forEach(s=>{s.whenStable(a)})};Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,r){if(t==null)return null;let i=n.getTestability(t);return i??(r?Ht().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},Rx=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Fy=(()=>{class e extends ra{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(F(Ne))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),ky=["alt","control","meta","shift"],Ax={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Px={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ly=(()=>{class e extends ra{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(t,a.domEventName,s,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),ky.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),a+=c+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(t,r){let i=Ax[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ky.forEach(a=>{if(a!==i){let s=Px[a];s(t)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(F(Ne))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function Nx(){Zc.makeCurrent()}function Ox(){return new sn}function kx(){return kh(document),document}var Fx=[{provide:xr,useValue:Hp},{provide:wc,useValue:Nx,multi:!0},{provide:Ne,useFactory:kx}],Zp=Pp(my,"browser",Fx);var Lx=[{provide:_o,useClass:Qc},{provide:kc,useClass:$s,deps:[Ee,zs,_o]},{provide:$s,useClass:$s,deps:[Ee,zs,_o]}],Vx=[{provide:ys,useValue:"root"},{provide:sn,useFactory:Ox},{provide:Kc,useClass:Fy,multi:!0,deps:[Ne]},{provide:Kc,useClass:Ly,multi:!0,deps:[Ne]},Kp,qp,Wp,{provide:Qt,useExisting:Kp},{provide:Di,useClass:Rx},[]],Qp=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({providers:[...Vx,...Lx],imports:[fr,vy]})}return e})();var xo=class{},aa=class{},Fr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Xc=class{encodeKey(n){return Vy(n)}encodeValue(n){return Vy(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function jx(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(a)||[];l.push(s),t.set(a,l)}),t}var Hx=/%(\d[a-f0-9])/gi,Bx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vy(e){return encodeURIComponent(e).replace(Hx,(n,t)=>Bx[t]??n)}function Jc(e){return`${e}`}var hr=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Xc,n.fromString){if(n.fromObject)throw new O(2805,!1);this.map=jx(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Jc):[Jc(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Jc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Jc(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var eu=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function Ux(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jy(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Hy(e){return typeof Blob<"u"&&e instanceof Blob}function By(e){return typeof FormData<"u"&&e instanceof FormData}function $x(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Uy="Content-Type",$y="Accept",Gy="X-Request-URL",Wy="text/plain",qy="application/json",zx=`${qy}, ${Wy}, */*`,Io=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(Ux(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Fr,this.context??=new eu,!this.params)this.params=new hr,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let s=t.indexOf("?"),l=s===-1?"?":s<t.length-1?"&":"";this.urlWithParams=t+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jy(this.body)||Hy(this.body)||By(this.body)||$x(this.body)?this.body:this.body instanceof hr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||By(this.body)?null:Hy(this.body)?this.body.type||null:jy(this.body)?null:typeof this.body=="string"?Wy:this.body instanceof hr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?qy:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,a=n.priority||this.priority,s=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,u=n.credentials||this.credentials,f=n.transferCache??this.transferCache,y=n.timeout??this.timeout,m=n.body!==void 0?n.body:this.body,D=n.withCredentials??this.withCredentials,R=n.reportProgress??this.reportProgress,b=n.headers||this.headers,x=n.params||this.params,ce=n.context??this.context;return n.setHeaders!==void 0&&(b=Object.keys(n.setHeaders).reduce((q,N)=>q.set(N,n.setHeaders[N]),b)),n.setParams&&(x=Object.keys(n.setParams).reduce((q,N)=>q.set(N,n.setParams[N]),x)),new e(t,r,m,{params:x,headers:b,context:ce,reportProgress:R,responseType:i,withCredentials:D,transferCache:f,keepalive:o,cache:s,priority:a,timeout:y,mode:l,redirect:c,credentials:u})}},Ei=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ei||{}),Mo=class{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new Fr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},tu=class e extends Mo{constructor(n={}){super(n)}type=Ei.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},la=class e extends Mo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Ei.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},To=class extends Mo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},Gx=200,Wx=204;function Jp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect}}var Lr=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Io)o=t;else{let l;i.headers instanceof Fr?l=i.headers:l=new Fr(i.headers);let c;i.params&&(i.params instanceof hr?c=i.params:c=new hr({fromObject:i.params})),o=new Io(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials})}let a=X(o).pipe(Tn(l=>this.handler.handle(l)));if(t instanceof Io||i.observe==="events")return a;let s=a.pipe(Je(l=>l instanceof la));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new O(2806,!1);return l.body}));case"blob":return s.pipe(ee(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new O(2807,!1);return l.body}));case"text":return s.pipe(ee(l=>{if(l.body!==null&&typeof l.body!="string")throw new O(2808,!1);return l.body}));case"json":default:return s.pipe(ee(l=>l.body))}case"response":return s;default:throw new O(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new hr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Jp(i,r))}post(t,r,i={}){return this.request("POST",t,Jp(i,r))}put(t,r,i={}){return this.request("PUT",t,Jp(i,r))}static \u0275fac=function(r){return new(r||e)(F(xo))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();var qx=new U("");function Yy(e,n){return n(e)}function Yx(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}function Kx(e,n,t){return(r,i)=>lt(t,()=>n(r,o=>e(o,i)))}var Ky=new U(""),eg=new U(""),Zy=new U(""),tg=new U("",{providedIn:"root",factory:()=>!0});function Zx(){let e=null;return(n,t)=>{e===null&&(e=(S(Ky,{optional:!0})??[]).reduceRight(Yx,Yy));let r=S(Ms);if(S(tg)){let o=r.add();return e(n,t).pipe(vr(o))}else return e(n,t)}}var nu=(()=>{class e extends xo{backend;injector;chain=null;pendingTasks=S(Ms);contributeToStability=S(tg);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(eg),...this.injector.get(Zy,[])]));this.chain=r.reduceRight((i,o)=>Kx(i,o,this.injector),Yy)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(vr(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(F(aa),F(We))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();var Qx=/^\)\]\}',?\n/,Jx=RegExp(`^${Gy}:`,"m");function Xx(e){return"responseURL"in e&&e.responseURL?e.responseURL:Jx.test(e.getAllResponseHeaders())?e.getResponseHeader(Gy):null}var Xp=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new O(-2800,!1);let r=this.xhrFactory;return X(null).pipe($e(()=>new re(o=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((b,x)=>a.setRequestHeader(b,x.join(","))),t.headers.has($y)||a.setRequestHeader($y,zx),!t.headers.has(Uy)){let b=t.detectContentTypeHeader();b!==null&&a.setRequestHeader(Uy,b)}if(t.timeout&&(a.timeout=t.timeout),t.responseType){let b=t.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let s=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=a.statusText||"OK",x=new Fr(a.getAllResponseHeaders()),ce=Xx(a)||t.url;return l=new tu({headers:x,status:a.status,statusText:b,url:ce}),l},u=()=>{let{headers:b,status:x,statusText:ce,url:q}=c(),N=null;x!==Wx&&(N=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=N?Gx:0);let H=x>=200&&x<300;if(t.responseType==="json"&&typeof N=="string"){let d=N;N=N.replace(Qx,"");try{N=N!==""?JSON.parse(N):null}catch(v){N=d,H&&(H=!1,N={error:v,text:N})}}H?(o.next(new la({body:N,headers:b,status:x,statusText:ce,url:q||void 0})),o.complete()):o.error(new To({error:N,headers:b,status:x,statusText:ce,url:q||void 0}))},f=b=>{let{url:x}=c(),ce=new To({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});o.error(ce)},y=f;t.timeout&&(y=b=>{let{url:x}=c(),ce=new To({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:x||void 0});o.error(ce)});let m=!1,D=b=>{m||(o.next(c()),m=!0);let x={type:Ei.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(x.total=b.total),t.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),o.next(x)},R=b=>{let x={type:Ei.UploadProgress,loaded:b.loaded};b.lengthComputable&&(x.total=b.total),o.next(x)};return a.addEventListener("load",u),a.addEventListener("error",f),a.addEventListener("timeout",y),a.addEventListener("abort",f),t.reportProgress&&(a.addEventListener("progress",D),s!==null&&a.upload&&a.upload.addEventListener("progress",R)),a.send(s),o.next({type:Ei.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",u),a.removeEventListener("timeout",y),t.reportProgress&&(a.removeEventListener("progress",D),s!==null&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||e)(F(Di))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Qy=new U(""),e1="XSRF-TOKEN",t1=new U("",{providedIn:"root",factory:()=>e1}),n1="X-XSRF-TOKEN",r1=new U("",{providedIn:"root",factory:()=>n1}),ca=class{},i1=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=na(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(F(Ne),F(t1))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function o1(e,n){let t=e.url.toLowerCase();if(!S(Qy)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let r=S(ca).getToken(),i=S(r1);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var ng=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(ng||{});function s1(e,n){return{\u0275kind:e,\u0275providers:n}}function Jy(...e){let n=[Lr,Xp,nu,{provide:xo,useExisting:nu},{provide:aa,useFactory:()=>S(qx,{optional:!0})??S(Xp)},{provide:eg,useValue:o1,multi:!0},{provide:Qy,useValue:!0},{provide:ca,useClass:i1}];for(let t of e)n.push(...t.\u0275providers);return ir(n)}var zy=new U("");function Xy(){return s1(ng.LegacyInterceptors,[{provide:zy,useFactory:Zx},{provide:eg,useExisting:zy,multi:!0}])}var rg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({providers:[Jy(Xy())]})}return e})();var eC=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(F(Ne))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var og=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=F(a1),i},providedIn:"root"})}return e})(),a1=(()=>{class e extends og{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case mn.NONE:return r;case mn.HTML:return cr(r,"HTML")?gn(r):Sc(this._doc,String(r)).toString();case mn.STYLE:return cr(r,"Style")?gn(r):r;case mn.SCRIPT:if(cr(r,"Script"))return gn(r);throw new O(5200,!1);case mn.URL:return cr(r,"URL")?gn(r):Hs(String(r));case mn.RESOURCE_URL:if(cr(r,"ResourceURL"))return gn(r);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(t){return jh(t)}bypassSecurityTrustStyle(t){return Hh(t)}bypassSecurityTrustScript(t){return Bh(t)}bypassSecurityTrustUrl(t){return Uh(t)}bypassSecurityTrustResourceUrl(t){return $h(t)}static \u0275fac=function(r){return new(r||e)(F(Ne))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cC=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(Y(Jt),Y(tt))};static \u0275dir=Qe({type:e})}return e})(),dg=(()=>{class e extends cC{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(e)))(i||e)}})();static \u0275dir=Qe({type:e,features:[Ln]})}return e})(),au=new U("");var l1={provide:au,useExisting:xn(()=>lu),multi:!0};function c1(){let e=Ht()?Ht().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var u1=new U(""),lu=(()=>{class e extends cC{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!c1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(Y(Jt),Y(tt),Y(u1,8))};static \u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&$("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Pr([l1]),Ln]})}return e})();var d1=new U(""),f1=new U("");function uC(e){return e!=null}function dC(e){return Mr(e)?ke(e):e}function fC(e){let n={};return e.forEach(t=>{n=t!=null?M(M({},n),t):n}),Object.keys(n).length===0?null:n}function hC(e,n){return n.map(t=>t(e))}function h1(e){return!e.validate}function pC(e){return e.map(n=>h1(n)?n:t=>n.validate(t))}function p1(e){if(!e)return null;let n=e.filter(uC);return n.length==0?null:function(t){return fC(hC(t,n))}}function gC(e){return e!=null?p1(pC(e)):null}function g1(e){if(!e)return null;let n=e.filter(uC);return n.length==0?null:function(t){let r=hC(t,n).map(dC);return ds(r).pipe(ee(fC))}}function mC(e){return e!=null?g1(pC(e)):null}function tC(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function m1(e){return e._rawValidators}function v1(e){return e._rawAsyncValidators}function ag(e){return e?Array.isArray(e)?e:[e]:[]}function iu(e,n){return Array.isArray(e)?e.includes(n):e===n}function nC(e,n){let t=ag(n);return ag(e).forEach(i=>{iu(t,i)||t.push(i)}),t}function rC(e,n){return ag(n).filter(t=>!iu(e,t))}var ou=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=gC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=mC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},lg=class extends ou{name;get formDirective(){return null}get path(){return null}},pa=class extends ou{_parent=null;name=null;valueAccessor=null},cg=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yG=ae(M({},_1),{"[class.ng-submitted]":"isSubmitted"}),cu=(()=>{class e extends cg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(Y(pa,2))};static \u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ln]})}return e})();var ua="VALID",ru="INVALID",Ro="PENDING",da="DISABLED",Po=class{},su=class extends Po{value;source;constructor(n,t){super(),this.value=n,this.source=t}},fa=class extends Po{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ha=class extends Po{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Ao=class extends Po{status;source;constructor(n,t){super(),this.status=n,this.source=t}};function y1(e){return(uu(e)?e.validators:e)||null}function C1(e){return Array.isArray(e)?gC(e):e||null}function w1(e,n){return(uu(n)?n.asyncValidators:e)||null}function D1(e){return Array.isArray(e)?mC(e):e||null}function uu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var ug=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return _n(this.statusReactive)}set status(n){_n(()=>this.statusReactive.set(n))}_status=Qs(()=>this.statusReactive());statusReactive=dn(void 0);get valid(){return this.status===ua}get invalid(){return this.status===ru}get pending(){return this.status==Ro}get disabled(){return this.status===da}get enabled(){return this.status!==da}errors;get pristine(){return _n(this.pristineReactive)}set pristine(n){_n(()=>this.pristineReactive.set(n))}_pristine=Qs(()=>this.pristineReactive());pristineReactive=dn(!0);get dirty(){return!this.pristine}get touched(){return _n(this.touchedReactive)}set touched(n){_n(()=>this.touchedReactive.set(n))}_touched=Qs(()=>this.touchedReactive());touchedReactive=dn(!1);get untouched(){return!this.touched}_events=new se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(nC(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(nC(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(rC(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(rC(n,this._rawAsyncValidators))}hasValidator(n){return iu(this._rawValidators,n)}hasAsyncValidator(n){return iu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(ae(M({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ha(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new ha(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(ae(M({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new fa(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new fa(!0,r))}markAsPending(n={}){this.status=Ro;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ao(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(ae(M({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=da,this.errors=null,this._forEachChild(i=>{i.disable(ae(M({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new su(this.value,r)),this._events.next(new Ao(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(M({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ua,this._forEachChild(r=>{r.enable(ae(M({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(ae(M({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===Ro)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new su(this.value,t)),this._events.next(new Ao(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(ae(M({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Ro,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=dC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Ao(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ro)?Ro:this._anyControlsHaveStatus(ru)?ru:ua}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new fa(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ha(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){uu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=C1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=D1(this._rawAsyncValidators)}};var vC=new U("",{providedIn:"root",factory:()=>fg}),fg="always";function E1(e,n){return[...n.path,e]}function S1(e,n,t=fg){I1(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),T1(e,n),M1(e,n),x1(e,n),b1(e,n)}function iC(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function b1(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function I1(e,n){let t=m1(e);n.validator!==null?e.setValidators(tC(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=v1(e);n.asyncValidator!==null?e.setAsyncValidators(tC(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();iC(n._rawValidators,i),iC(n._rawAsyncValidators,i)}function T1(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&_C(e,n)})}function x1(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&_C(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function _C(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function M1(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function R1(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function A1(e){return Object.getPrototypeOf(e.constructor)===dg}function P1(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===lu?t=o:A1(o)?r=o:i=o}),i||r||t||null}function oC(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function sC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var N1=class extends ug{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(y1(t),w1(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(sC(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){oC(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){oC(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){sC(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var O1={provide:pa,useExisting:xn(()=>ga)},aC=Promise.resolve(),ga=(()=>{class e extends pa{_changeDetectorRef;callSetDisabledState;control=new N1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ye;constructor(t,r,i,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=P1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),R1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){S1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){aC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&bo(r);aC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?E1(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(Y(lg,9),Y(d1,10),Y(f1,10),Y(au,10),Y(Bn,8),Y(vC,8))};static \u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pr([O1]),Ln,lr]})}return e})();var k1={provide:au,useExisting:xn(()=>No),multi:!0};function yC(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function F1(e){return e.split(":")[0]}var No=(()=>{class e extends dg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=S(dt).injector;destroyRef=S(Zt);cdr=S(Bn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,_i({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=yC(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=F1(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(e)))(i||e)}})();static \u0275dir=Qe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&$("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pr([k1]),Ln]})}return e})(),du=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(yC(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(Y(tt),Y(Jt),Y(No,9))};static \u0275dir=Qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),L1={provide:au,useExisting:xn(()=>CC),multi:!0};function lC(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function V1(e){return e.split(":")[0]}var CC=(()=>{class e extends dg{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);i.push(c)}}else{let a=r.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=V1(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(e)))(i||e)}})();static \u0275dir=Qe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&$("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Pr([L1]),Ln]})}return e})(),fu=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(lC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(Y(tt),Y(Jt),Y(CC,9))};static \u0275dir=Qe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var j1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({})}return e})();var Oo=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:vC,useValue:t.callSetDisabledState??fg}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({imports:[j1]})}return e})();var pe="primary",xa=Symbol("RouteTitle"),vg=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ii(e){return new vg(e)}function MC(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=e[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function H1(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Un(e[t],n[t]))return!1;return!0}function Un(e,n){let t=e?_g(e):void 0,r=n?_g(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!RC(e[i],n[i]))return!1;return!0}function _g(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function RC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function AC(e){return e.length>0?e[e.length-1]:null}function pr(e){return wl(e)?e:Mr(e)?ke(Promise.resolve(e)):X(e)}var B1={exact:NC,subset:OC},PC={exact:U1,subset:$1,ignored:()=>!0};function DC(e,n,t){return B1[t.paths](e.root,n.root,t.matrixParams)&&PC[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function U1(e,n){return Un(e,n)}function NC(e,n,t){if(!Si(e.segments,n.segments)||!gu(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!NC(e.children[r],n.children[r],t))return!1;return!0}function $1(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>RC(e[t],n[t]))}function OC(e,n,t){return kC(e,n,n.segments,t)}function kC(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Si(i,t)||n.hasChildren()||!gu(i,t,r))}else if(e.segments.length===t.length){if(!Si(e.segments,t)||!gu(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!OC(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Si(e.segments,i)||!gu(e.segments,i,r)||!e.children[pe]?!1:kC(e.children[pe],n,o,r)}}function gu(e,n,t){return n.every((r,i)=>PC[t](e[i].parameters,r.parameters))}var zn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Ie([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ii(this.queryParams),this._queryParamMap}toString(){return W1.serialize(this)}},Ie=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mu(this)}},Vr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ii(this.parameters),this._parameterMap}toString(){return LC(this)}};function z1(e,n){return Si(e,n)&&e.every((t,r)=>Un(t.parameters,n[r].parameters))}function Si(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function G1(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===pe&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(n(i,r)))}),t}var Ti=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>new jr,providedIn:"root"})}return e})(),jr=class{parse(n){let t=new Cg(n);return new zn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ma(n.root,!0)}`,r=K1(n.queryParams),i=typeof n.fragment=="string"?`#${q1(n.fragment)}`:"";return`${t}${r}${i}`}},W1=new jr;function mu(e){return e.segments.map(n=>LC(n)).join("/")}function ma(e,n){if(!e.hasChildren())return mu(e);if(n){let t=e.children[pe]?ma(e.children[pe],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${ma(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=G1(e,(r,i)=>i===pe?[ma(e.children[pe],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[pe]!=null?`${mu(e)}/${t[0]}`:`${mu(e)}/(${t.join("//")})`}}function FC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hu(e){return FC(e).replace(/%3B/gi,";")}function q1(e){return encodeURI(e)}function yg(e){return FC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vu(e){return decodeURIComponent(e)}function EC(e){return vu(e.replace(/\+/g,"%20"))}function LC(e){return`${yg(e.path)}${Y1(e.parameters)}`}function Y1(e){return Object.entries(e).map(([n,t])=>`;${yg(n)}=${yg(t)}`).join("")}function K1(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${hu(t)}=${hu(i)}`).join("&"):`${hu(t)}=${hu(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var Z1=/^[^\/()?;#]+/;function hg(e){let n=e.match(Z1);return n?n[0]:""}var Q1=/^[^\/()?;=#]+/;function J1(e){let n=e.match(Q1);return n?n[0]:""}var X1=/^[^=?&#]+/;function eM(e){let n=e.match(X1);return n?n[0]:""}var tM=/^[^&#]+/;function nM(e){let n=e.match(tM);return n?n[0]:""}var Cg=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[pe]=new Ie(n,t)),r}parseSegment(){let n=hg(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(n),new Vr(vu(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=J1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=hg(this.remaining);i&&(r=i,this.capture(r))}n[vu(t)]=vu(r)}parseQueryParam(n){let t=eM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=nM(this.remaining);a&&(r=a,this.capture(r))}let i=EC(t),o=EC(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=pe);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[pe]:new Ie([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new O(4011,!1)}};function VC(e){return e.segments.length>0?new Ie([],{[pe]:e}):e}function jC(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=jC(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))n[a]=s;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new Ie(e.segments,n);return rM(t)}function rM(e){if(e.numberOfChildren===1&&e.children[pe]){let n=e.children[pe];return new Ie(e.segments.concat(n.segments),n.children)}return e}function Ho(e){return e instanceof zn}function HC(e,n,t=null,r=null){let i=BC(e);return UC(i,n,t,r)}function BC(e){let n;function t(o){let a={};for(let l of o.children){let c=t(l);a[l.outlet]=c}let s=new Ie(o.url,a);return o===e&&(n=s),s}let r=t(e.root),i=VC(r);return n??i}function UC(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return pg(i,i,i,t,r);let o=iM(n);if(o.toRoot())return pg(i,i,new Ie([],{}),t,r);let a=oM(o,i,e),s=a.processChildren?_a(a.segmentGroup,a.index,o.commands):zC(a.segmentGroup,a.index,o.commands);return pg(i,a.segmentGroup,s,t,r)}function _u(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ca(e){return typeof e=="object"&&e!=null&&e.outlets}function pg(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;e===n?a=t:a=$C(e,n,t);let s=VC(jC(a));return new zn(s,o,i)}function $C(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=$C(o,n,t)}),new Ie(e.segments,r)}var yu=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&_u(r[0]))throw new O(4003,!1);let i=r.find(Ca);if(i&&i!==AC(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new yu(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?t=!0:s===".."?n++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new yu(t,n,r)}var Lo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function oM(e,n,t){if(e.isAbsolute)return new Lo(n,!0,0);if(!t)return new Lo(n,!1,NaN);if(t.parent===null)return new Lo(t,!0,0);let r=_u(e.commands[0])?0:1,i=t.segments.length-1+r;return sM(t,i,e.numberOfDoubleDots)}function sM(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Lo(r,!1,i-o)}function aM(e){return Ca(e[0])?e[0].outlets:{[pe]:e}}function zC(e,n,t){if(e??=new Ie([],{}),e.segments.length===0&&e.hasChildren())return _a(e,n,t);let r=lM(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ie(e.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Ie(e.segments.slice(r.pathIndex),e.children),_a(o,0,i)}else return r.match&&i.length===0?new Ie(e.segments,{}):r.match&&!e.hasChildren()?wg(e,n,t):r.match?_a(e,0,i):wg(e,n,t)}function _a(e,n,t){if(t.length===0)return new Ie(e.segments,{});{let r=aM(t),i={};if(Object.keys(r).some(o=>o!==pe)&&e.children[pe]&&e.numberOfChildren===1&&e.children[pe].segments.length===0){let o=_a(e.children[pe],n,t);return new Ie(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=zC(e.children[o],n,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Ie(e.segments,i)}}function lM(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let a=e.segments[i],s=t[r];if(Ca(s))break;let l=`${s}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!bC(l,c,a))return o;r+=2}else{if(!bC(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wg(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Ca(o)){let l=cM(o.outlets);return new Ie(r,l)}if(i===0&&_u(t[0])){let l=e.segments[n];r.push(new Vr(l.path,SC(t[0]))),i++;continue}let a=Ca(o)?o.outlets[pe]:`${o}`,s=i<t.length-1?t[i+1]:null;a&&s&&_u(s)?(r.push(new Vr(a,SC(s))),i+=2):(r.push(new Vr(a,{})),i++)}return new Ie(r,{})}function cM(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=wg(new Ie([],{}),0,r))}),n}function SC(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function bC(e,n,t){return e==t.path&&Un(n,t.parameters)}var Vo="imperative",nt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(nt||{}),Ut=class{id;url;constructor(n,t){this.id=n,this.url=t}},Hr=class extends Ut{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wn=class extends Ut{urlAfterRedirects;type=nt.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Mt||{}),Bo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Bo||{}),$n=class extends Ut{reason;code;type=nt.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Ut{reason;code;type=nt.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Uo=class extends Ut{error;target;type=nt.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wa=class extends Ut{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cu=class extends Ut{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wu=class extends Ut{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Du=class extends Ut{urlAfterRedirects;state;type=nt.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eu=class extends Ut{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Su=class{route;type=nt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bu=class{route;type=nt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iu=class{snapshot;type=nt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tu=class{snapshot;type=nt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{snapshot;type=nt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mu=class{snapshot;type=nt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$o=class{routerEvent;position;anchor;type=nt.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Da=class{},zo=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function uM(e){return!(e instanceof Da)&&!(e instanceof zo)}function dM(e,n){return e.providers&&!e._injector&&(e._injector=vo(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Cn(e){return e.outlet||pe}function fM(e,n){let t=e.filter(r=>Cn(r)===n);return t.push(...e.filter(r=>Cn(r)!==n)),t}function qo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ru=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new xi(this.rootInjector)}},xi=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ru(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(F(We))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Au=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Dg(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Dg(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Eg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Eg(n,this._root).map(t=>t.value)}};function Dg(e,n){if(e===n.value)return n;for(let t of n.children){let r=Dg(e,t);if(r)return r}return null}function Eg(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Eg(e,t);if(r.length)return r.unshift(n),r}return[]}var Bt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Ea=class extends Au{snapshot;constructor(n,t){super(n),this.snapshot=t,Ag(this,n)}toString(){return this.snapshot.toString()}};function GC(e){let n=hM(e),t=new st([new Vr("",{})]),r=new st({}),i=new st({}),o=new st({}),a=new st(""),s=new Br(t,r,o,a,i,pe,e,n.root);return s.snapshot=n.root,new Ea(new Bt(s,[]),n)}function hM(e){let n={},t={},r={},i="",o=new bi([],n,r,i,t,pe,e,null,{});return new Sa("",new Bt(o,[]))}var Br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,a,s,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ee(c=>c[xa]))??X(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(n=>Ii(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(n=>Ii(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pu(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:M(M({},n.params),e.params),data:M(M({},n.data),e.data),resolve:M(M(M(M({},e.data),n.data),i?.data),e._resolvedData)}:r={params:M({},e.params),data:M({},e.data),resolve:M(M({},e.data),e._resolvedData??{})},i&&qC(i)&&(r.resolve[xa]=i.title),r}var bi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xa]}constructor(n,t,r,i,o,a,s,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ii(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ii(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Sa=class extends Au{url;constructor(n,t){super(t),this.url=n,Ag(this,t)}toString(){return WC(this._root)}};function Ag(e,n){n.value._routerState=e,n.children.forEach(t=>Ag(e,t))}function WC(e){let n=e.children.length>0?` { ${e.children.map(WC).join(", ")} } `:"";return`${e.value}${n}`}function gg(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Un(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Un(n.params,t.params)||e.paramsSubject.next(t.params),H1(n.url,t.url)||e.urlSubject.next(t.url),Un(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Sg(e,n){let t=Un(e.params,n.params)&&z1(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Sg(e.parent,n.parent))}function qC(e){return typeof e.title=="string"||e.title===null}var YC=new U(""),Ma=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new Ye;deactivateEvents=new Ye;attachEvents=new Ye;detachEvents=new Ye;routerOutletData=uy(void 0);parentContexts=S(xi);location=S(vn);changeDetector=S(Bn);inputBinder=S(Ra,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new bg(t,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[lr]})}return e})(),bg=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Br?this.route:n===xi?this.childContexts:n===YC?this.outletData:this.parent.get(n,t)}},Ra=new U(""),Pg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=cs([r.queryParams,r.params,r.data]).pipe($e(([o,a,s],l)=>(s=M(M(M({},o),a),s),l===0?X(s):Promise.resolve(s)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=yy(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:s}of a.inputs)t.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Ng=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Nt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&G(0,"router-outlet")},dependencies:[Ma],encapsulation:2})}return e})();function Og(e){let n=e.children&&e.children.map(Og),t=n?ae(M({},e),{children:n}):M({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=Ng),t}function pM(e,n,t){let r=ba(e,n._root,t?t._root:void 0);return new Ea(r,n)}function ba(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=gM(e,n,t);return new Bt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(s=>ba(e,s)),a}}let r=mM(n.value),i=n.children.map(o=>ba(e,o));return new Bt(r,i)}}function gM(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ba(e,r,i);return ba(e,r)})}function mM(e){return new Br(new st(e.url),new st(e.params),new st(e.queryParams),new st(e.fragment),new st(e.data),e.outlet,e.component,e)}var Go=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},KC="ngNavigationCancelingError";function Nu(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Ho(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=ZC(!1,Mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ZC(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[KC]=!0,t.cancellationCode=n,t}function vM(e){return QC(e)&&Ho(e.url)}function QC(e){return!!e&&e[KC]}var _M=(e,n,t,r)=>ee(i=>(new Ig(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Ig=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),gg(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Fo(t);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Fo(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:s})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Fo(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Fo(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Tu(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(gg(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),gg(s.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,r)}},Ou=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},jo=class{component;route;constructor(n,t){this.component=n,this.route=t}};function yM(e,n,t){let r=e._root,i=n?n._root:null;return va(r,i,t,[r.value])}function CM(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Yo(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Yd(e)?e:n.get(e):r}function va(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fo(n);return e.children.forEach(a=>{wM(a,o[a.value.outlet],t,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>ya(s,t.getContext(a),i)),i}function wM(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=n?n.value:null,s=t?t.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=DM(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ou(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?va(e,n,s?s.children:null,r,i):va(e,n,t,r,i),l&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new jo(s.outlet.component,a))}else a&&ya(n,s,i),i.canActivateChecks.push(new Ou(r)),o.component?va(e,null,s?s.children:null,r,i):va(e,null,t,r,i);return i}function DM(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Si(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Si(e.url,n.url)||!Un(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sg(e,n)||!Un(e.queryParams,n.queryParams);case"paramsChange":default:return!Sg(e,n)}}function ya(e,n,t){let r=Fo(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?n?ya(a,n.children.getContext(o),t):ya(a,null,t):ya(a,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new jo(n.outlet.component,i)):t.canDeactivateChecks.push(new jo(null,i)):t.canDeactivateChecks.push(new jo(null,i))}function Aa(e){return typeof e=="function"}function EM(e){return typeof e=="boolean"}function SM(e){return e&&Aa(e.canLoad)}function bM(e){return e&&Aa(e.canActivate)}function IM(e){return e&&Aa(e.canActivateChild)}function TM(e){return e&&Aa(e.canDeactivate)}function xM(e){return e&&Aa(e.canMatch)}function JC(e){return e instanceof Zn||e?.name==="EmptyError"}var pu=Symbol("INITIAL_VALUE");function Wo(){return $e(e=>cs(e.map(n=>n.pipe(wt(1),fs(pu)))).pipe(ee(n=>{for(let t of n)if(t!==!0){if(t===pu)return pu;if(t===!1||MM(t))return t}return!0}),Je(n=>n!==pu),wt(1)))}function MM(e){return Ho(e)||e instanceof Go}function RM(e,n){return Ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?X(ae(M({},t),{guardsResult:!0})):AM(a,r,i,e).pipe(Ke(s=>s&&EM(s)?PM(r,o,e,n):X(s)),ee(s=>ae(M({},t),{guardsResult:s})))})}function AM(e,n,t,r){return ke(e).pipe(Ke(i=>LM(i.component,i.route,t,n,r)),Xn(i=>i!==!0,!0))}function PM(e,n,t,r){return ke(n).pipe(Tn(i=>Zi(OM(i.route.parent,r),NM(i.route,r),FM(e,i.path,t),kM(e,i.route,t))),Xn(i=>i!==!0,!0))}function NM(e,n){return e!==null&&n&&n(new xu(e)),X(!0)}function OM(e,n){return e!==null&&n&&n(new Iu(e)),X(!0)}function kM(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(o=>us(()=>{let a=qo(n)??t,s=Yo(o,a),l=bM(s)?s.canActivate(n,e):lt(a,()=>s(n,e));return pr(l).pipe(Xn())}));return X(i).pipe(Wo())}function FM(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>CM(a)).filter(a=>a!==null).map(a=>us(()=>{let s=a.guards.map(l=>{let c=qo(a.node)??t,u=Yo(l,c),f=IM(u)?u.canActivateChild(r,e):lt(c,()=>u(r,e));return pr(f).pipe(Xn())});return X(s).pipe(Wo())}));return X(o).pipe(Wo())}function LM(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return X(!0);let a=o.map(s=>{let l=qo(n)??i,c=Yo(s,l),u=TM(c)?c.canDeactivate(e,n,t,r):lt(l,()=>c(e,n,t,r));return pr(u).pipe(Xn())});return X(a).pipe(Wo())}function VM(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return X(!0);let o=i.map(a=>{let s=Yo(a,e),l=SM(s)?s.canLoad(n,t):lt(e,()=>s(n,t));return pr(l)});return X(o).pipe(Wo(),XC(r))}function XC(e){return Dd(Ze(n=>{if(typeof n!="boolean")throw Nu(e,n)}),ee(n=>n===!0))}function jM(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return X(!0);let o=i.map(a=>{let s=Yo(a,e),l=xM(s)?s.canMatch(n,t):lt(e,()=>s(n,t));return pr(l)});return X(o).pipe(Wo(),XC(r))}var Ia=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ta=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function ko(e){return Ki(new Ia(e))}function HM(e){return Ki(new O(4e3,!1))}function BM(e){return Ki(ZC(!1,Mt.GuardRejected))}var Tg=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[pe])return HM(`${n.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(n,t,r,i,o){return UM(t,i,o).pipe(ee(a=>{if(a instanceof zn)throw new Ta(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,r);if(a[0]==="/")throw new Ta(s);return s}))}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new zn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=t[s]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),a={};return Object.entries(t.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(n,l,r,i)}),new Ie(o,a)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function UM(e,n,t){if(typeof e=="string")return X(e);let r=e,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:l,params:c,data:u,title:f}=n;return pr(lt(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:l,title:f})))}var xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $M(e,n,t,r,i){let o=ew(e,n,t);return o.matched?(r=dM(n,r),jM(r,n,t,i).pipe(ee(a=>a===!0?o:M({},xg)))):X(o)}function ew(e,n,t){if(n.path==="**")return zM(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?M({},xg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||MC)(t,e,n);if(!i)return M({},xg);let o={};Object.entries(i.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function zM(e){return{matched:!0,parameters:e.length>0?AC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function IC(e,n,t,r){return t.length>0&&qM(e,t,r)?{segmentGroup:new Ie(n,WM(r,new Ie(t,e.children))),slicedSegments:[]}:t.length===0&&YM(e,t,r)?{segmentGroup:new Ie(e.segments,GM(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Ie(e.segments,e.children),slicedSegments:t}}function GM(e,n,t,r){let i={};for(let o of t)if(Fu(e,n,o)&&!r[Cn(o)]){let a=new Ie([],{});i[Cn(o)]=a}return M(M({},r),i)}function WM(e,n){let t={};t[pe]=n;for(let r of e)if(r.path===""&&Cn(r)!==pe){let i=new Ie([],{});t[Cn(r)]=i}return t}function qM(e,n,t){return t.some(r=>Fu(e,n,r)&&Cn(r)!==pe)}function YM(e,n,t){return t.some(r=>Fu(e,n,r))}function Fu(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function KM(e,n,t){return n.length===0&&!e.children[t]}var Mg=class{};function ZM(e,n,t,r,i,o,a="emptyOnly"){return new Rg(e,n,t,r,i,a,o).recognize()}var QM=31,Rg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,a,s){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Tg(this.urlSerializer,this.urlTree)}noMatchError(n){return new O(4002,`'${n.segmentGroup}'`)}recognize(){let n=IC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new Sa("",i),a=HC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(n){let t=new bi([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,pe,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Jn(r=>{if(r instanceof Ta)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ia?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(ee(a=>a instanceof Bt?[a]:[]))}processChildren(n,t,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return ke(o).pipe(Tn(a=>{let s=r.children[a],l=fM(t,a);return this.processSegmentGroup(n,l,s,a,i)}),Pd((a,s)=>(a.push(...s),a)),mr(null),Ad(),Ke(a=>{if(a===null)return ko(r);let s=tw(a);return JM(s),X(s)}))}processSegment(n,t,r,i,o,a,s){return ke(t).pipe(Tn(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,a,s).pipe(Jn(c=>{if(c instanceof Ia)return X(null);throw c}))),Xn(l=>!!l),Jn(l=>{if(JC(l))return KM(r,i,o)?X(new Mg):ko(r);throw l}))}processSegmentAgainstRoute(n,t,r,i,o,a,s,l){return Cn(r)!==a&&(a===pe||!Fu(i,o,r))?ko(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,a,l):ko(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,a,s){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:y}=ew(t,i,o);if(!l)return ko(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QM&&(this.allowRedirects=!1));let m=new bi(o,c,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,TC(i),Cn(i),i.component??i._loadedComponent??null,i,xC(i)),D=Pu(m,s,this.paramsInheritanceStrategy);return m.params=Object.freeze(D.params),m.data=Object.freeze(D.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,m,n).pipe($e(b=>this.applyRedirects.lineralizeSegments(i,b)),Ke(b=>this.processSegment(n,r,t,b.concat(y),a,!1,s)))}matchSegmentAgainstRoute(n,t,r,i,o,a){let s=$M(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe($e(l=>l.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe($e(({routes:c})=>{let u=r._loadedInjector??n,{parameters:f,consumedSegments:y,remainingSegments:m}=l,D=new bi(y,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,TC(r),Cn(r),r.component??r._loadedComponent??null,r,xC(r)),R=Pu(D,a,this.paramsInheritanceStrategy);D.params=Object.freeze(R.params),D.data=Object.freeze(R.data);let{segmentGroup:b,slicedSegments:x}=IC(t,y,m,c);if(x.length===0&&b.hasChildren())return this.processChildren(u,c,b,D).pipe(ee(q=>new Bt(D,q)));if(c.length===0&&x.length===0)return X(new Bt(D,[]));let ce=Cn(r)===o;return this.processSegment(u,c,b,x,ce?pe:o,!0,D).pipe(ee(q=>new Bt(D,q instanceof Bt?[q]:[])))}))):ko(t)))}getChildConfig(n,t,r){return t.children?X({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):VM(n,t,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(n,t).pipe(Ze(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):BM(t))):X({routes:[],injector:n})}};function JM(e){e.sort((n,t)=>n.value.outlet===pe?-1:t.value.outlet===pe?1:n.value.outlet.localeCompare(t.value.outlet))}function XM(e){let n=e.value.routeConfig;return n&&n.path===""}function tw(e){let n=[],t=new Set;for(let r of e){if(!XM(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=tw(r.children);n.push(new Bt(r.value,i))}return n.filter(r=>!t.has(r))}function TC(e){return e.data||{}}function xC(e){return e.resolve||{}}function eR(e,n,t,r,i,o){return Ke(a=>ZM(e,n,t,r,a.extractedUrl,i,o).pipe(ee(({state:s,tree:l})=>ae(M({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function tR(e,n){return Ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return X(t);let o=new Set(i.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of nw(l))a.add(c);let s=0;return ke(a).pipe(Tn(l=>o.has(l)?nR(l,r,e,n):(l.data=Pu(l,l.parent,e).resolve,X(void 0))),Ze(()=>s++),Qi(1),Ke(l=>s===a.size?X(t):Ct))})}function nw(e){let n=e.children.map(t=>nw(t)).flat();return[e,...n]}function nR(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!qC(i)&&(o[xa]=i.title),us(()=>(e.data=Pu(e,e.parent,t).resolve,rR(o,e,n,r).pipe(ee(a=>(e._resolvedData=a,e.data=M(M({},e.data),a),null)))))}function rR(e,n,t,r){let i=_g(e);if(i.length===0)return X({});let o={};return ke(i).pipe(Ke(a=>iR(e[a],n,t,r).pipe(Xn(),Ze(s=>{if(s instanceof Go)throw Nu(new jr,s);o[a]=s}))),Qi(1),ee(()=>o),Jn(a=>JC(a)?Ct:Ki(a)))}function iR(e,n,t,r){let i=qo(n)??r,o=Yo(e,i),a=o.resolve?o.resolve(n,t):lt(i,()=>o(n,t));return pr(a)}function mg(e){return $e(n=>{let t=e(n);return t?ke(t).pipe(ee(()=>n)):X(n)})}var kg=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[xa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>S(rw),providedIn:"root"})}return e})(),rw=(()=>{class e extends kg{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(F(eC))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mi=new U("",{providedIn:"root",factory:()=>({})}),Ko=new U(""),Lu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(Ep);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=pr(lt(t,()=>r.loadComponent())).pipe(ee(ow),$e(sw),Ze(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),vr(()=>{this.componentLoaders.delete(r)})),o=new zi(i,()=>new se).pipe($i());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iw(r,this.compiler,t,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(r)})),a=new zi(o,()=>new se).pipe($i());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iw(e,n,t,r){return pr(lt(t,()=>e.loadChildren())).pipe(ee(ow),$e(sw),Ke(i=>i instanceof Pc||Array.isArray(i)?X(i):ke(n.compileModuleAsync(i))),ee(i=>{r&&r(e);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(t).injector,a=o.get(Ko,[],{optional:!0,self:!0}).flat()),{routes:a.map(Og),injector:o}}))}function oR(e){return e&&typeof e=="object"&&"default"in e}function ow(e){return oR(e)?e.default:e}function sw(e){return X(e)}var Vu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>S(sR),providedIn:"root"})}return e})(),sR=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fg=new U(""),Lg=new U("");function aw(e,n,t){let r=e.get(Lg),i=e.get(Ne);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,a=new Promise(c=>{o=c}),s=i.startViewTransition(()=>(o(),aR(e)));s.ready.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&lt(e,()=>l({transition:s,from:n,to:t})),a}function aR(e){return new Promise(n=>{_i({read:()=>setTimeout(n)},{injector:e})})}var Vg=new U(""),ju=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new se;transitionAbortWithErrorSubject=new se;configLoader=S(Lu);environmentInjector=S(We);destroyRef=S(Zt);urlSerializer=S(Ti);rootContexts=S(xi);location=S(Or);inputBindingEnabled=S(Ra,{optional:!0})!==null;titleStrategy=S(kg);options=S(Mi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(Vu);createViewTransition=S(Fg,{optional:!0});navigationErrorHandler=S(Vg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>X(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Su(i)),r=i=>this.events.next(new bu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(M({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new st(null),this.transitions.pipe(Je(r=>r!==null),$e(r=>{let i=!1;return X(r).pipe($e(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),Ct;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ae(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&s!=="reload"){let l="";return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.rawUrl),l,Bo.IgnoredSameUrlNavigation)),o.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return X(o).pipe($e(l=>(this.events.next(new Hr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ct:Promise.resolve(l))),eR(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ae(M({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new wa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:f,extras:y}=o,m=new Hr(l,this.urlSerializer.serialize(c),u,f);this.events.next(m);let D=GC(this.rootComponentType).snapshot;return this.currentTransition=r=ae(M({},o),{targetSnapshot:D,urlAfterRedirects:c,extras:ae(M({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,X(r)}else{let l="";return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Bo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ct}}),Ze(o=>{let a=new Cu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),ee(o=>(this.currentTransition=r=ae(M({},o),{guards:yM(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),RM(this.environmentInjector,o=>this.events.next(o)),Ze(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Nu(this.urlSerializer,o.guardsResult);let a=new wu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Je(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Mt.GuardRejected),!1)),mg(o=>{if(o.guards.canActivateChecks.length!==0)return X(o).pipe(Ze(a=>{let s=new Du(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),$e(a=>{let s=!1;return X(a).pipe(tR(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",Mt.NoDataFromResolver)}}))}),Ze(a=>{let s=new Eu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),mg(o=>{let a=s=>{let l=[];if(s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent){let c=qo(s)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,s.routeConfig).pipe(Ze(u=>{s.component=u}),ee(()=>{})))}for(let c of s.children)l.push(...a(c));return l};return cs(a(o.targetSnapshot.root)).pipe(mr(null),wt(1))}),mg(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?ke(s).pipe(ee(()=>r)):X(r)}),ee(o=>{let a=pM(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ae(M({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ze(()=>{this.events.next(new Da)}),_M(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),wt(1),Jr(new re(o=>{let a=r.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Je(()=>!i&&!r.targetRouterState),Ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Mt.Aborted)}))),Ze({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Jr(this.transitionAbortWithErrorSubject.pipe(Ze(o=>{throw o}))),vr(()=>{i||this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(o=>{if(this.destroyed)return r.resolve(!1),Ct;if(i=!0,QC(o))this.events.next(new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),vM(o)?this.events.next(new zo(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Uo(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=lt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof Go){let{message:l,cancellationCode:c}=Nu(this.urlSerializer,s);this.events.next(new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new zo(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return Ct}))}))}cancelNavigationTransition(t,r,i){let o=new $n(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lR(e){return e!==Vo}var lw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>S(cR),providedIn:"root"})}return e})(),ku=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},cR=(()=>{class e extends ku{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(e)))(i||e)}})();static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cw=(()=>{class e{urlSerializer=S(Ti);options=S(Mi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Or);urlHandlingStrategy=S(Vu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=i??o;return a instanceof zn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=GC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:()=>S(uR),providedIn:"root"})}return e})(),uR=(()=>{class e extends cw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Hr?this.updateStateMemento():t instanceof Gn?this.commitTransition(r):t instanceof wa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Da?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof $n&&t.code!==Mt.SupersededByNewNavigation&&t.code!==Mt.Redirect?this.restoreHistory(r):t instanceof Uo?this.restoreHistory(r,!0):t instanceof wn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||o){let s=this.browserPageId,l=M(M({},a),this.generateNgRouterState(i,s));this.location.replaceState(t,"",l)}else{let s=M(M({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Tr(e)))(i||e)}})();static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hu(e,n){e.events.pipe(Je(t=>t instanceof wn||t instanceof $n||t instanceof Uo||t instanceof Gn),ee(t=>t instanceof wn||t instanceof Gn?0:(t instanceof $n?t.code===Mt.Redirect||t.code===Mt.SupersededByNewNavigation:!1)?2:1),Je(t=>t!==2),wt(1)).subscribe(()=>{n()})}var dR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ur=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(Oc);stateManager=S(cw);options=S(Mi,{optional:!0})||{};pendingTasks=S(On);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(ju);urlSerializer=S(Ti);location=S(Or);urlHandlingStrategy=S(Vu);injector=S(We);_events=new se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(lw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(Ko,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(Ra,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new be;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof $n&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wn)this.navigated=!0;else if(r instanceof zo){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lR(i.source)},a);this.scheduleNavigation(s,Vo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}uM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let l=M({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,a,o).catch(l=>{this.disposed||this.injector.get(Lt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Og),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let y=i?i.snapshot:this.routerState.snapshot.root;f=BC(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return UC(f,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ho(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vo,null,r)}navigate(t,r={skipLocationChange:!1}){return hR(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},dR):r===!1?i=M({},fR):i=r,Ho(t))return DC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return DC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((f,y)=>{s=f,l=y});let u=this.pendingTasks.add();return Hu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hR(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new O(4008,!1)}var Pa=class{};var uw=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Je(t=>t instanceof wn),Tn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=vo(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(s,o.children??o._loadedRoutes))}return ke(i).pipe(gr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=X(null);let o=i.pipe(Ke(a=>a===null?X(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(t,r);return ke([o,a]).pipe(gr())}else return o})}static \u0275fac=function(r){return new(r||e)(F(Ur),F(We),F(Pa),F(Lu))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dw=new U(""),pR=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Vo;restoredId=0;store={};constructor(t,r,i,o,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gn&&t.code===Bo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $o&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>ft(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new $o(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){sp()};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();function gR(e){return e.routerState.root}function Na(e,n){return{\u0275kind:e,\u0275providers:n}}function mR(){let e=S(Fe);return n=>{let t=e.get(dt);if(n!==t.components[0])return;let r=e.get(Ur),i=e.get(fw);e.get(Hg)===1&&r.initialNavigation(),e.get(gw,null,{optional:!0})?.setUpPreloading(),e.get(dw,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fw=new U("",{factory:()=>new se}),Hg=new U("",{providedIn:"root",factory:()=>1});function hw(){let e=[{provide:Hg,useValue:0},yo(()=>{let n=S(Fe);return n.get(kp,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Ur),o=n.get(fw);Hu(i,()=>{r(!0)}),n.get(ju).afterPreactivation=()=>(r(!0),o.closed?X(void 0):o),i.initialNavigation()}))})];return Na(2,e)}function pw(){let e=[yo(()=>{S(Ur).setUpLocationChangeListener()}),{provide:Hg,useValue:2}];return Na(3,e)}var gw=new U("");function mw(e){return Na(0,[{provide:gw,useExisting:uw},{provide:Pa,useExisting:e}])}function vw(){return Na(8,[Pg,{provide:Ra,useExisting:Pg}])}function _w(e){mo("NgRouterViewTransitions");let n=[{provide:Fg,useValue:aw},{provide:Lg,useValue:M({skipNextTransition:!!e?.skipInitialTransition},e)}];return Na(9,n)}var yw=[Or,{provide:Ti,useClass:jr},Ur,xi,{provide:Br,useFactory:gR,deps:[Ur]},Lu,[]],Bu=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[yw,[],{provide:Ko,multi:!0,useValue:t},[],r?.errorHandler?{provide:Vg,useValue:r.errorHandler}:[],{provide:Mi,useValue:r||{}},r?.useHash?_R():yR(),vR(),r?.preloadingStrategy?mw(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?CR(r):[],r?.bindToComponentInputs?vw().\u0275providers:[],r?.enableViewTransitions?_w().\u0275providers:[],wR()]}}static forChild(t){return{ngModule:e,providers:[{provide:Ko,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({})}return e})();function vR(){return{provide:dw,useFactory:()=>{let e=S(My),n=S(Ee),t=S(Mi),r=S(ju),i=S(Ti);return t.scrollOffset&&e.setOffset(t.scrollOffset),new pR(i,r,e,n,t)}}}function _R(){return{provide:dr,useClass:Lp}}function yR(){return{provide:dr,useClass:Gc}}function CR(e){return[e.initialNavigation==="disabled"?pw().\u0275providers:[],e.initialNavigation==="enabledBlocking"?hw().\u0275providers:[]]}var jg=new U("");function wR(){return[{provide:jg,useFactory:mR},{provide:Fc,multi:!0,useExisting:jg}]}var SR=[],Cw=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Ge({type:n}),n.\u0275inj=Le({imports:[Bu.forRoot(SR),Bu]});let e=n;return e})();var Ri=[{slot:1,name:"Head",side:"left"},{slot:2,name:"Neck",side:"left"},{slot:3,name:"Shoulders",side:"left"},{slot:5,name:"Chest",side:"left"},{slot:6,name:"Waist",side:"left"},{slot:7,name:"Legs",side:"left"},{slot:8,name:"Feet",side:"left"},{slot:9,name:"Wrists",side:"left"},{slot:10,name:"Hands",side:"right"},{slot:11,name:"Finger 1",side:"right"},{slot:12,name:"Finger 2",side:"right"},{slot:13,name:"Trinket 1",side:"right"},{slot:14,name:"Trinket 2",side:"right"},{slot:16,name:"Back",side:"right"},{slot:21,name:"Main Hand",side:"right"},{slot:22,name:"Off Hand",side:"right"},{slot:26,name:"Ranged",side:"right"}],ww={0:[4],1:[1,3,4],2:[1,3],3:[1,7],4:[1,7],5:[3,4],6:[1,3,4,7],7:[1,3,4,7]},Uu={Scholomance:[["tank:Warrior","tank:Druid"],["heal:Priest"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Live Stratholme":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Undead Stratholme":[["tank:Warrior","tank:Druid"],["heal:Priest"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Lower Blackrock Spire":[["tank:Warrior","tank:Druid"],["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Upper Blackrock Spire":["tank:Warrior",["tank:Warrior","tank:Druid"],"heal:Priest",["heal:Priest","heal:Paladin","heal:Druid"],"heal:Paladin","damage:Mage",["damage:Mage","damage:Warlock","damage:Rogue"],"damage:Hunter","damage:Rogue","damage:Warlock"],"Blackrock Depths":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul East":[["tank:Warrior","tank:Druid"],["heal:Paladin","heal:Priest"],"damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul West":[["tank:Warrior","tank:Druid"],"heal:Priest","damage:Mage",["damage:Hunter","damage:Rogue"],"damage:Warlock"],"Dire Maul North":["tank:Warrior",["heal:Priest","heal:Paladin"],"damage:Mage",["damage:Hunter","damage:Warlock"],"damage:Rogue"],"Dire Maul Tribute":[["tank:Warrior","tank:Druid"],["heal:Priest","heal:Paladin"],"damage:Mage","damage:Rogue",["damage:Hunter","damage:Warlock"]]},$t={0:{0:{name:"Moonglow - Healer",icon:"spell_nature_starfall",role:"heal",spellList:[5188,25297,9858,25299]},1:{name:"Feral - Tank",icon:"ability_racial_bearform",role:"tank",spellList:[9881,9908,9850,9830,9896,31018]},2:{name:"Swiftmend - Healer",icon:"spell_nature_healingtouch",role:"heal",spellList:[5188,25297,9858,25299,18562]}},1:{0:{name:"Discipline - Healer",icon:"spell_holy_wordfortitude",role:"heal",spellList:[10901,25315,25314,6064]},1:{name:"Holy - Healer",icon:"spell_holy_guardianspirit",role:"heal",spellList:[10901,25315,25314,6064,27871]},2:{name:"Shadow - Ranged",icon:"spell_shadow_shadowwordpain",role:"damage",spellList:[10901,18807,10894,10947]}},2:{0:{name:"Holy - Healer",icon:"spell_holy_holybolt",role:"heal",spellList:[20930,19943,25292]},1:{name:"Protection - Tank",icon:"spell_holy_devotionaura",role:"tank",spellList:[20293,20924,20271]},2:{name:"Retribution - Melee",icon:"spell_holy_auraoflight",role:"damage",spellList:[20920,20924,20271]}},3:{0:{name:"Arcane - Ranged",icon:"spell_holy_magicalsentry",role:"damage",spellList:[25304]},1:{name:"Fire - Ranged",icon:"spell_fire_firebolt02",role:"damage",spellList:[25306,10207]},2:{name:"Frost - Ranged",icon:"spell_frost_frostbolt02",role:"damage",spellList:[25304]}},4:{0:{name:"Shadow Mastery - Ranged",icon:"spell_shadow_deathcoil",role:"damage",spellList:[25311,25307,25309,11713,18871,18881]},1:{name:"Demonologist - Ranged",icon:"spell_shadow_metamorphosis",role:"damage",spellList:[25311,25307,25309,11713,18871]},2:{name:"Demonic Sacrifice - Ranged",icon:"spell_shadow_rainoffire",role:"damage",spellList:[25311,25307,25309,11713,18871]}},5:{0:{name:"Beast Mastery - Ranged",icon:"ability_hunter_beasttaming",role:"damage",spellList:[20904,25294,25295]},1:{name:"Marksmanship - Ranged",icon:"ability_marksmanship",role:"damage",spellList:[20904,25294,25295]},2:{name:"Survival - Ranged",icon:"ability_hunter_swiftstrike",role:"damage",spellList:[20904,25294,25295]}},6:{0:{name:"Seal Fate - Daggers",icon:"ability_rogue_eviscerate",role:"damage",spellList:[11294,31016,25300,11275]},1:{name:"Combat - Swords",icon:"ability_backstab",role:"damage",spellList:[11294,31016,25300,11275]},2:{name:"Combat - Daggers",icon:"ability_stealth",role:"damage",spellList:[11294,31016,25300,11275]}},7:{0:{name:"Fury - Two-Hand",icon:"ability_rogue_eviscerate",role:"damage",spellList:[23894,20662,1680,25286,11605]},1:{name:"Fury - Dual-Wield",icon:"ability_warrior_innerrage",role:"damage",spellList:[23894,20662,1680,25286]},2:{name:"Protection - Tank",icon:"inv_shield_06",role:"tank",spellList:[23925,25288,25286]}}},Wn=[{RACEID:1,RACE:"Human",GENDER:0,options:{SKIN:10,FACE:12,HAIRSTYLE:12,HAIRCOLOR:10,FACIALSTYLE:9}},{RACEID:1,RACE:"Human",GENDER:1,options:{SKIN:10,FACE:12,HAIRSTYLE:20,HAIRCOLOR:10,FACIALSTYLE:1}},{RACEID:3,RACE:"Dwarf",GENDER:0,options:{SKIN:9,FACE:10,HAIRSTYLE:11,HAIRCOLOR:10,FACIALSTYLE:11}},{RACEID:3,RACE:"Dwarf",GENDER:1,options:{SKIN:9,FACE:10,HAIRSTYLE:14,HAIRCOLOR:10,FACIALSTYLE:1}},{RACEID:4,RACE:"Night Elf",GENDER:0,options:{SKIN:9,FACE:9,HAIRSTYLE:7,HAIRCOLOR:7,FACIALSTYLE:5}},{RACEID:4,RACE:"Night Elf",GENDER:1,options:{SKIN:9,FACE:9,HAIRSTYLE:7,HAIRCOLOR:8,FACIALSTYLE:1}},{RACEID:7,RACE:"Gnome",GENDER:0,options:{SKIN:5,FACE:8,HAIRSTYLE:8,HAIRCOLOR:9,FACIALSTYLE:8}},{RACEID:7,RACE:"Gnome",GENDER:1,options:{SKIN:5,FACE:8,HAIRSTYLE:8,HAIRCOLOR:9,FACIALSTYLE:1}}],$u=[{key:"strength",label:"Strength"},{key:"agility",label:"Agility"},{key:"stamina",label:"Stamina"},{key:"intellect",label:"Intellect"},{key:"spirit",label:"Spirit"},{key:"health",label:"Health"}],zu=[{key:"damage",label:"Spell Damage"},{key:"healing",label:"Spell Healing"},{key:"shadow",label:"Spell Shadow"},{key:"fire",label:"Spell Fire"},{key:"frost",label:"Spell Frost"}],Gu=[{key:"fire",label:"Fire Resistance"},{key:"shadow",label:"Shadow Resistance"},{key:"nature",label:"Nature Resistance"},{key:"frost",label:"Frost Resistance"},{key:"arcane",label:"Arcane Resistance"}],Dw=[{CLASSID:"7",RACEID:"4",HP:2599,MP:0,STR:117,AGI:85,STA:109,INT:30,SPI:45,ARM:170},{CLASSID:"7",RACEID:"1",HP:2609,MP:0,STR:120,AGI:80,STA:110,INT:30,SPI:49,ARM:160},{CLASSID:"7",RACEID:"3",HP:2639,MP:0,STR:122,AGI:76,STA:113,INT:29,SPI:44,ARM:152},{CLASSID:"7",RACEID:"7",HP:2599,MP:0,STR:115,AGI:83,STA:109,INT:36,SPI:45,ARM:166},{CLASSID:"2",RACEID:"1",HP:2201,MP:2282,STR:105,AGI:65,STA:100,INT:70,SPI:81,ARM:130},{CLASSID:"2",RACEID:"3",HP:2231,MP:2267,STR:107,AGI:61,STA:103,INT:69,SPI:74,ARM:122},{CLASSID:"1",RACEID:"1",HP:1707,MP:2956,STR:35,AGI:40,STA:50,INT:120,SPI:137,ARM:80},{CLASSID:"1",RACEID:"3",HP:1737,MP:2941,STR:37,AGI:36,STA:53,INT:119,SPI:124,ARM:72},{CLASSID:"1",RACEID:"4",HP:1697,MP:2956,STR:32,AGI:45,STA:49,INT:120,SPI:125,ARM:90},{CLASSID:"0",RACEID:"4",HP:1993,MP:2464,STR:62,AGI:65,STA:69,INT:100,SPI:110,ARM:130},{CLASSID:"3",RACEID:"1",HP:1630,MP:2868,STR:30,AGI:35,STA:45,INT:125,SPI:132,ARM:70},{CLASSID:"3",RACEID:"7",HP:1620,MP:3078,STR:25,AGI:38,STA:44,INT:139,SPI:120,ARM:76},{CLASSID:"4",RACEID:"1",HP:1884,MP:2743,STR:45,AGI:50,STA:65,INT:110,SPI:125,ARM:100},{CLASSID:"4",RACEID:"7",HP:1874,MP:2953,STR:40,AGI:53,STA:64,INT:124,SPI:115,ARM:106},{CLASSID:"5",RACEID:"3",HP:2217,MP:2400,STR:57,AGI:121,STA:93,INT:64,SPI:69,ARM:242},{CLASSID:"5",RACEID:"4",HP:2177,MP:2415,STR:52,AGI:130,STA:89,INT:65,SPI:70,ARM:260},{CLASSID:"6",RACEID:"1",HP:2093,MP:0,STR:80,AGI:130,STA:75,INT:35,SPI:54,ARM:260},{CLASSID:"6",RACEID:"3",HP:2123,MP:0,STR:82,AGI:126,STA:78,INT:34,SPI:49,ARM:252},{CLASSID:"6",RACEID:"4",HP:2083,MP:0,STR:77,AGI:135,STA:74,INT:35,SPI:50,ARM:270},{CLASSID:"6",RACEID:"7",HP:2083,MP:0,STR:75,AGI:133,STA:74,INT:42,SPI:50,ARM:266}],Wu={0:"physical",1:"holy",2:"fire",3:"nature",4:"frost",5:"shadow",6:"arcane",7:"magic",8:"all"};var qu={1:10,3:60,4:120,5:300,6:600,8:15,9:30,18:20,21:-1,25:180,27:3,28:5,29:12,30:1800,31:8,32:6,35:4,40:1200,41:360,42:3600,64:40,85:18,86:21,105:9,106:24,165:7,185:21,205:27,245:50,347:900,553:16},Ew={0:"Stance/Aura",1:"Dispel",2:"Heal",3:"Taunt/Threat",4:"Buff",5:"Damage",6:"Crowd Control",7:"Debuff",8:"Resurrection",9:"Movement",10:"Damage with Debuff",11:"Damage and Heal",12:"Create Object",13:"Create Item",14:"Utility",15:"Summon",16:"Interrupt"},Sw=[[100,54,20,7,1,1],[0,33,49,26,14,3],[0,11,24,48,40,16],[0,2,6,18,34,55],[0,0,1,1,11,25]];var tn={Maraudon:`<h4>The Legacy of Maraudon<h4>

    <p>Long before mortals walked Kalimdor, the Elemental Lords roamed Azeroth. When the Titans imprisoned them, their influence lingered in deep places of the world. Among those bound to Azeroth\u2019s stone and soil was Theradras, Princess of Earth.</p>

    <p>When the demigod Zaetar, son of Cenarius, wandered into her cavernous domain, Theradras ensnared him. From their union was born the centaur, a race cursed with savagery and bloodlust. When Zaetar\u2019s children murdered him, Theradras claimed his corpse and his spirit, keeping them within her cavern as both trophy and anchor of her power.</p>

    <p>The centaur tribes that spread across Desolace all trace their lineage back to this union. Despite their wars and rivalries, they revere Maraudon\u2014Theradras\u2019s cavernous temple\u2014as a holy site, a place of both worship and fear. They pilgrimage here to honor their \u201Cmother,\u201D even as her corruption poisons the land.</p>

    <p>Now Maraudon stands as both a natural wonder and a cursed shrine: waterfalls and crystalline caverns tainted by Theradras\u2019s elemental decay, where centaur zealots, twisted elementals, and the princess herself guard the remains of Zaetar.</p>

    <h4>Maraudon \u2013 The Elemental Caverns</h4>

    <p>Maraudon is unique in that it feels alive: part underground wilderness, part temple, part elemental lair. Its wings reflect the dual nature of the earth\u2014life-giving and destructive.</p>

    <h4>1. The Purple Wing (Shadow and Corruption)</h4>

    <p>Dark caverns where Theradras\u2019s corruption spreads unchecked. Oozes, slimes, and shadowy elementals lurk in the depths, feeding on the dungeon\u2019s tainted energy.<br>
    Theme: Decay and corruption.<br>
    Foes: Vile slimes, corrupted elementals, centaur warlocks.</p>

    <h4>2. The Orange Wing (Earth and Stone)</h4>

    <p>Rocky halls where earth elementals and centaur guardians dwell, representing Theradras\u2019s raw, destructive power. The very stone seems hostile, as golems and guardians rise to crush intruders.<br>
    Theme: Elemental fury and centaur guardianship.<br>
    Foes: Earth elementals, stalagmites brought to life, centaur shamans.</p>

    <h4>3. The Inner Falls (The Living Grove)</h4>

    <p>Past the two wings lies a breathtaking cavern of waterfalls, crystalline lakes, and strange flora \u2014 a reminder of the wild beauty Zaetar once cherished. But even here, Theradras\u2019s corruption bleeds through, twisting plants and beasts into monstrous forms.<br>
    Theme: Natural beauty tainted by corruption.<br>
    Foes: Wildkin, lashers, corrupted dryads, crystal beasts.</p>

    <h4>4. The Inner Sanctum (Theradras\u2019s Lair)</h4>

    <p>At the very heart lies Theradras, the Earth Princess herself. Colossal and terrible, she clutches the spirit of Zaetar, her unwilling consort, whose sorrow lingers in the air. The final confrontation is both tragic and apocalyptic\u2014defeating her releases Zaetar\u2019s spirit, but also shakes the caverns with elemental fury.<br>
    Theme: A corrupted shrine to forbidden union.<br>
    Foes: Princess Theradras, avatar of decay and grief.</p>

    <h4>Why Maraudon Matters</h4>

    <p>Maraudon is not just a dungeon; it\u2019s the cradle of the centaur race and the prison of a demigod\u2019s spirit. It explains the endless wars in Desolace, the corruption seeping into the land, and the origin of one of Azeroth\u2019s most brutal peoples. To delve here is to confront the tragedy of Zaetar, the corruption of Theradras, and the savage legacy left to their children.</p>`,"Sunken Temple":`<h4>The Legacy of the Temple of Atal\u2019Hakkar</h4>

    <p>Deep within the <strong>Swamp of Sorrows</strong>, half-submerged beneath choking vines and stagnant waters, lies the <strong>Temple of Atal\u2019Hakkar</strong>\u2014a ruin steeped in both troll superstition and dark prophecy.</p>

    <p>Ages ago, the <strong>Gurubashi trolls</strong>\u2014once rulers of a vast jungle empire\u2014fell into the worship of the blood god <strong>Hakkar the Soulflayer</strong>, a being of gluttony and sacrifice who demanded the hearts of the living. The Atal\u2019ai, Hakkar\u2019s most fervent priests, were driven from Zul\u2019Gurub after the empire\u2019s collapse and built this temple in exile, vowing to summon their god into the world once more.</p>

    <p>But Hakkar\u2019s power could not be contained. His corruption seeped into the land, twisting the swamp, driving beasts mad, and summoning serpents in his image. The dragonflights themselves took notice: the <strong>Green Dragon Aspect, Ysera,</strong> dispatched her brood to contain the threat. The battle between Atal\u2019ai zealots and green dragon guardians left the temple shattered, partially sunken, and haunted by both troll priests and enraged dragon spirits.</p>

    <p>What remains today is a labyrinthine ruin\u2014part troll shrine, part dragon graveyard, and part prison for Hakkar\u2019s lingering essence. To enter is to tread on cursed ground, where ancient troll magic and dragon wrath still collide.</p>

    <h4>Temple of Atal\u2019Hakkar \u2013 The Sunken Depths</h4>

    <p>The dungeon is a blend of troll ritualism and dragon corruption:</p>
    <ul>
    <li><strong>Outer Halls</strong>: Murky corridors overrun with Atal\u2019ai priests, shadow hunters, and their serpent totems, where the walls are carved with images of Hakkar\u2019s blood rites.</li>

    <li><strong>The Pools of Vision</strong>: Stagnant waters inhabited by cursed spirits and swamp beasts, corrupted by the temple\u2019s lingering magic.</li>

    <li><strong>The Dragonkin Chambers</strong>: Tombs where the green dragonflight fell in battle\u2014now restless shades and dragonkin stalk the halls, lashing out at intruders.</li>

    <li><strong>The Inner Sanctum</strong>: The seat of the Atal\u2019ai high priests, where they conduct rituals to prepare the world for Hakkar\u2019s return.</li>

    <li><strong>The Avatar of Hakkar (Optional Encounter)</strong>: Adventurers may attempt to summon and confront a fragment of the Soulflayer himself, a vision of the blood god\u2019s hunger given form.</li>
    </ul>

    <p><strong>Theme</strong>: Forbidden blood rituals, dragon corruption, ancient ruin swallowed by swamp.
    <strong>Key foes</strong>: Atal\u2019ai priests and zealots, green dragon spirits, the Avatar of Hakkar.</p>

    <h4>Why the Temple Matters</h4>

    <p>The Temple of Atal\u2019Hakkar is not just a dungeon\u2014it is the <strong>prologue to Zul\u2019Gurub</strong>. The Atal\u2019ai cultists here are the remnants of an empire obsessed with Hakkar, and their temple is both a shrine and a laboratory for his return. By striking them down, adventurers delay the rise of the Soulflayer\u2014but the whispers of Hakkar cannot be silenced forever.</p>`,"Blackrock Depths":`<h4>The Legacy of Blackrock Depths (BRD)</h4>

    <p>At the heart of <strong>Blackrock Mountain</strong>, beyond molten rivers and endless caverns, lies <strong>Blackrock Depths</strong>, the sprawling subterranean city of the <strong>Dark Iron dwarves.</strong></p>

    <p>Centuries ago, when the Dark Iron clan warred with their Bronzebeard and Wildhammer kin, they sought to claim dominion through sorcery and greed. In desperation, their thane, <strong>Thaurissan</strong>, invoked a terrible ritual that shattered the land and summoned forth the <strong>Firelord Ragnaros</strong>. The cataclysm birthed Blackrock Mountain as a volcano and bound the Dark Irons in eternal slavery to their fiery master.</p>

    <p>From that day, the Dark Irons dwelled within the mountain\u2019s depths, carving an empire beneath molten stone. Their king, <strong>Emperor Dagran Thaurissan</strong>, rules in Ragnaros\u2019s name, served by generals, high priests, and a court steeped in cruelty. BRD is not just a dungeon \u2014 it is a city, complete with a king\u2019s throne, a temple to fire, a slave market, forges, breweries, and barracks. It is the Dark Irons\u2019 capital and the heart of Ragnaros\u2019s growing dominion.</p>

    <h4>Blackrock Depths \u2013 The Dark Iron Capital</h4>

    <p>BRD is unique among dungeons: it feels alive, a true underground kingdom of oppression, industry, and flame. Its major sections highlight the power of the Dark Irons and their fiery master:</p>

    <h4>1. The Outer Wards \u2013 The City Gates</h4>

    <p>The entry halls are patrolled by elite Dark Iron guards and constructs. Here, the scale of the city is revealed: massive gates, barracks, and armories demonstrate this is no mere outpost, but a capital.<br>
    <strong>Theme</strong>: Militarized stronghold.<br>
    <strong>Foes</strong>: Dark Iron soldiers, golems, warhounds.</p>

    <h4>2. The Detention Block and Shadowforge City</h4>

    <p>The sprawling prison of the Dark Irons, where political prisoners, criminals, and enslaved adventurers rot in chains. Beyond lies Shadowforge City itself, a bustling subterranean metropolis complete with taverns, markets, and forges.<br>
    <strong>Theme</strong>: Slavery and oppression.<br>
    <strong>Foes</strong>: Jailors, overseers, slaves driven to madness, and powerful named lieutenants.</p>

    <h4>3. The Grim Guzzler</h4>

    <p>A tavern hidden deep inside the city, where Dark Iron dwarves drink, brawl, and boast. Here, adventurers may interact with NPCs, trigger bar fights, or slip deeper into the dungeon\u2019s heart. It\u2019s one of the rare moments of levity inside the Depths, though still dangerous.<br>
    <strong>Theme</strong>: Dark Iron culture and drunken chaos.<br>
    <strong>Foes</strong>: Rowdy patrons, mercenaries, and brawlers.</p>

    <h4>4. The Black Anvil and the Forge District</h4>

    <p>The industrial heart of the Dark Irons. Here, their blacksmiths forge weapons for their armies and even construct fiery elementals. The legendary Black Anvil lies here, a forge of immense power.<br>
    <strong>Theme</strong>: Industry and elemental fire.<br>
    <strong>Foes</strong>: Master smiths, fire elementals, molten war machines.</p>

    <h4>5. The Temple of Ragnaros</h4>

    <p>A holy place for the Dark Irons, dedicated to the Firelord. Priests and summoners chant his praises, channeling his molten might. From here, the line between dwarf and elemental blurs.<br>
    <strong>Theme</strong>: Cultic devotion to Ragnaros.<br>
    <strong>Foes</strong>: Fire priests, elemental guardians, High Priestess of Thaurissan.</p>

    <h4>6. The Emperor\u2019s Throne</h4>

    <p>At the deepest heart of the Depths lies the throne of <strong>Emperor Dagran Thaurissan</strong>, seated beside <strong>Princess Moira Bronzebeard</strong>\u2014the daughter of Ironforge\u2019s king, abducted and bound to the Emperor. This final chamber is both political and personal: to slay the Emperor is to weaken the Dark Irons, but the presence of Moira complicates matters.<br>
    <strong>Theme</strong>: Tyranny and politics.<br>
    <strong>Foes</strong>: Emperor Dagran Thaurissan and his royal guard.</p>

    <h4>Why Blackrock Depths Matters</h4>

    <p>BRD is not just a dungeon; it\u2019s a <strong>capital city, a prison, a forge, a temple, and a throne room</strong>. It represents the culmination of the Dark Irons\u2019 history: their greed, their servitude to Ragnaros, and their defiance of their Bronzebeard kin. To strike here is to wound the Firelord\u2019s influence directly.</p>

    <p>For adventurers, BRD is the crucible of endgame Classic WoW \u2014 a sprawling, living dungeon where every corner tells a story, and every chamber deepens the tragedy of a people who sold their souls to flame.</p>`,"Lower Blackrock Spire":`<h4>Lower Blackrock Spire (LBRS) \u2013 The Shadow of Rend</h4>

    <p>The <strong>Lower Spire</strong> serves as the staging ground for the <strong>Blackrock clan</strong> and their allies. It is a fortress of orc warbands, trolls who revel in blood sacrifice, and ogres drawn by promises of power. Here, Rend Blackhand\u2019s forces prepare for war, seeking to claim dominance over the fractured orc clans and reestablish the Blackrock name in glory.</p>

    <p>Yet LBRS is more than a war camp\u2014it is also home to vile sorcery. Dark shamanistic rites, shadowcasters, and the machinations of the Dark Irons fuel the orc army. The halls resound with the snarls of <strong>worgs</strong>, the chants of <strong>shadow hunters</strong>, and the clash of steel as Rend\u2019s champions prove themselves in endless combat.</p>

    <p><strong>Theme</strong>: Brutal orcish war camp in the ruins of dwarven halls, strengthened by dark magic and beast allies.<br>
    <strong>Key foes</strong>: Blackrock orcs, trolls, ogres, worgs, shadowcasters.<br>
    <strong>Final confrontation:</strong> Warchief Rend Blackhand\u2019s lieutenants, preparing the way for their master above.</p>`,"Blackrock Spire Conclusion":`<h4>The Split of Blackrock Spire</h4>
    <ul>
    <li><strong>LBRS (Lower)</strong>: Orcish savagery, trolls and ogres, dark rites and beastmasters\u2014a war camp forged from dwarven ruins.</li>

    <li><strong>UBRS (Upper)</strong>: The black dragonflight\u2019s fortress, Rend Blackhand\u2019s throne, and the staging ground for Nefarian\u2019s corruption.</li>
    </ul>

    <p>Together, the two wings represent the <strong>Dark Horde\u2013Black Dragon pact</strong>, a dangerous coalition that threatens both factions of Azeroth.</p>`,"Dire Maul":`<h4>The Legacy of Dire Maul</h4>

    <p>Deep in the heart of northern Feralas lie the ancient ruins of <strong>Eldre\u2019Thalas</strong>, once the shining jewel of night elven civilization. Raised more than 10,000 years ago by the Highborne, it stood as a vast city dedicated to arcane mastery and preservation of elven lore. At its heart was an immense library and a powerful energy nexus, built to harness and safeguard magical knowledge for generations.</p>

    <p>When the <strong>War of the Ancients</strong> shattered the Well of Eternity, the Highborne of Eldre\u2019Thalas cut themselves off from the rest of their kin. Under Prince <strong>Tortheldrin</strong>, they sought to survive the Long Vigil by siphoning magic from a captured demon. This act ensured their survival but twisted their fate. Over millennia, the city fell to ruin, its noble guardians fading into corruption, its wards failing, and its sprawling districts becoming overrun by ogres, satyrs, demons, and magical anomalies.</p>

    <p>Adventurers who brave Dire Maul do not merely enter another dungeon; they step into the fractured remains of a once-glorious empire, where faded grandeur and lingering arrogance echo in every crumbling hall.</p>`,"Dire Maul West":`<h4>Dire Maul West \u2013 The Ruined Court</h4>

    <p>The western wing is the most direct remnant of Highborne hubris. Here the halls are haunted by warped guardians and bound demons. Ancient constructs patrol shattered courtyards, and the corrupted treants of Feralas have claimed sections of the once-pristine gardens. The imprisoned demon <strong>Immol\u2019thar</strong> lies at the heart of this wing, contained by magical pylons for millennia. Prince Tortheldrin himself, bitter and prideful, oversees the prison, siphoning energy from the demon to sustain himself and his followers. To free the city from its cursed heart, heroes must dismantle the pylons and confront both the demon and the mad prince.</p>

    <p><strong>Theme</strong>: Faded arcane splendor, hubris of the Highborne, demonic corruption.<br>
    <strong>Key foes</strong>: Arcane aberrations, ancient constructs, Prince Tortheldrin.</p>`,"Dire Maul North":`<h4>Dire Maul North \u2013 Gordok Commons</h4>

    <p>The northern quarter has been overrun by the brutish <strong>Gordok ogres</strong>, who seized the ruins as their stronghold. Here, massive banquet halls, courtyards, and crumbling barracks echo with the roars of ogre lords and their enslaved minions. The ogres jealously guard their new seat of power, and their king\u2014<strong>King Gordok</strong>\u2014rules with brute strength.</p>

    <p><strong>Theme</strong>: Savage strength in the halls of ancient ruins, ogre dominance.<br>
    <strong>Key foes</strong>: Gordok ogres, shamans, warlocks, beastmasters.</p>`,"Dire Maul East":`<h4>Dire Maul East \u2013 Warpwood Quarter</h4>

    <p>The eastern wing has become overgrown and wild, reclaimed by nature but twisted by unchecked magic. Massive treants, lashers, and corrupted dryads stalk the halls, led astray by satyrs who spread the taint of demonic influence. At its heart, a powerful satyr named <strong>Alzzin the Wildshaper</strong> channels the energies of the ruins to spread chaos through Feralas. The once-cultivated gardens have become a jungle of corruption, where ancient wards collapse under creeping vines and demonic whispers.</p>

    <p><strong>Theme</strong>: Arcane gardens overtaken by corrupted nature, satyr mischief.<br>
    <strong>Key foes</strong>: Lashers, satyrs, warped dryads, Alzzin the Wildshaper.</p>`,"Dire Maul Tribute":`<h4>The Gordok Tribute Run</h4>

    <p>Among adventurers, the Dire Maul North wing is infamous for the so-called <strong>\u201CTribute Run.\u201D</strong> Rather than cutting down every ogre in their path, cunning groups spare most of the chieftains and instead slay only <strong>King Gordok</strong> himself. By leaving his lieutenants alive, the victors claim the throne not as conquerors, but as successors. The ogres, bound by their crude sense of honor, shower the \u201Cnew king\u201D and his allies with riches, feasts, and rare treasures. The Tribute Run is less a test of brute strength than of restraint, planning, and guile\u2014an alternate path through Dire Maul\u2019s dangers that rewards wit as much as steel.</p>

    <p><strong>Theme</strong>: Political cunning, manipulation of ogre hierarchy.
    <strong>Key foes</strong>: King Gordok (only), with tribute rewards from spared bosses.</p>`,"Dire Maul Conclusion":"<p>Together, the three wings of Dire Maul and the alternate Tribute challenge paint a picture of one of World of Warcraft\u2019s richest dungeons: a place of <strong>ancient pride, magical corruption, and opportunistic invaders</strong>, where history itself weighs heavy on every broken column.</p>",Scholomance:`<h4>The Legacy of Scholomance</h4>

    <p>High in the wintry crags of <strong>Western Plaguelands</strong>, overlooking the ruins of Caer Darrow, stands a darkened keep that once belonged to the noble <strong>Barov family</strong>. Generations ago, the Barovs were a wealthy bloodline, owning vast tracts of land across Lordaeron. But their ambition was their undoing. When <strong>Kel\u2019Thuzad</strong> and the Cult of the Damned rose to power, the Barovs pledged themselves\u2014and their ancestral home\u2014to the service of the Lich King in exchange for the promise of eternal life.</p>

    <p>Thus, the once-proud halls of the Barovs became the necromantic academy of the Scourge, known thereafter as <strong>Scholomance</strong>. Here, Kel\u2019Thuzad\u2019s followers train new necromancers, warlocks, and deathknights, perfecting the arts of undeath. The laboratories run red with experiments in reanimation, while classrooms echo with the twisted lessons of dark magisters. Adventurers who enter Scholomance confront not just undead horrors, but the heart of the Cult of the Damned itself.</p>

    <h4>Scholomance \u2013 The Necromantic Academy</h4>

    <p>Scholomance is not a fortress of brute strength\u2014it is a school of damnation. Every chamber reveals another facet of Scourge depravity:</p>
    <ul>
    <li><strong>The Reliquary</strong>: Arcane laboratories filled with necrotic experiments, where alchemists brew plagues and dark mages twist souls.</li>

    <li><strong>The Summoning Chambers</strong>: Circles of binding and sacrifice, where warlocks summon demonic allies to bolster the Scourge.</li>

    <li><strong>The Hall of the Barovs</strong>: The corrupted remains of the Barov family themselves, turned into deathless servants of their own bargain.</li>

    <li><strong>The Headmaster\u2019s Study</strong>: Seat of <strong>Darkmaster Gandling</strong>, Kel\u2019Thuzad\u2019s favored servant in Lordaeron, who oversees the training of necromancers with cruel mastery.</li>
    </ul>
    <p><strong>Theme</strong>: Corruption of noble blood, forbidden knowledge, the cold hand of undeath.
    <strong>Key foes</strong>: Necromancers, bone golems, ghasts, death knights, Darkmaster Gandling.</p>

    <h4>Why Scholomance Matters</h4>

    <p>Scholomance is more than another Scourge dungeon\u2014it is the <strong>nerve center of their necromantic war machine in Lordaeron</strong>. From here, the Cult of the Damned disseminates its teachings, creating new generations of necromancers to fuel the Scourge\u2019s endless armies. To cut down Gandling and his pupils is not only vengeance for the Barovs\u2019 betrayal, but also a crippling blow against the Scourge\u2019s presence in the Plaguelands.</p>`,Stratholme:`<h4>The Legacy of Stratholme</h4>

    <p>Once a shining jewel of Lordaeron, <strong>Stratholme</strong> was a bustling trade hub and one of the largest human cities in the north. Its spires and marketplaces echoed with prosperity\u2014until the <strong>Scourge</strong> came.</p>

    <p>During the <strong>Third War</strong>, Prince <strong>Arthas Menethil</strong> discovered that the citizens of Stratholme had been fed grain tainted with the plague of undeath. In a moment that forever scarred his soul, Arthas ordered the <strong>Culling of Stratholme</strong>, personally leading the slaughter of its infected populace before they could rise as undead. This act, though intended to save his kingdom, marked his descent into ruthlessness and ultimately paved the way for his fall to Frostmourne.</p>

    <p>Now, Stratholme is a city divided. The western quarter, known as the <strong>Scarlet Bastion</strong>, is held by the fanatical <strong>Scarlet Crusade</strong>, who seek to purge undead at all costs\u2014but whose zeal has made them nearly as dangerous as the Scourge they fight. The eastern quarter is a ruined nightmare, crawling with <strong>undead horrors</strong> under the command of <strong>Baron Rivendare</strong>, who has turned the plague-stricken streets into his domain. To enter Stratholme is to walk into a living scar of Lordaeron\u2019s tragedy.</p>`,"Live Stratholme":`<h4>Stratholme \u2013 Scarlet Bastion (Live Side)</h4>

    <p>The so-called \u201Clive side\u201D is far from safe\u2014it is held by the zealous warriors and priests of the <strong>Scarlet Crusade</strong>. From the moment adventurers pass through the gates, they face patrols of Scarlet soldiers, crusaders, and spellcasters, all bent on purging anyone they consider heretical or infected.</p>

    <p>The <strong>Crusade\u2019s leadership in Stratholme</strong>\u2014commanders such as <strong>Cannon Master Willey</strong> and <strong>Balnazzar</strong> in disguise\u2014have turned the Bastion into a fortress of fanaticism. Though they once sought to hold back the undead tide, their madness and corruption have led them into dark pacts, leaving them blind to the true evil within their own ranks.</p>

    <p><strong>Theme</strong>: Fanatic zeal, human-on-human conflict, corrupted holy order.
    <strong>Key foes</strong>: Scarlet Crusade zealots, spellcasters, Balnazzar (a dreadlord in disguise).</p>`,"Undead Stratholme":`<h4>Stratholme \u2013 Plague Quarter (Undead Side)</h4>

    <p>The eastern half of Stratholme is a necropolis in all but name. Cobblestone streets are littered with corpses, plagued vermin scurry through the alleys, and skeletal horrors patrol under the shadow of burning towers. This wing is ruled by <strong>Baron Rivendare</strong>, the Scourge\u2019s horseman, who rides his dread steed Deathcharger through the city\u2019s blackened avenues.</p>

    <p>The undead side is crawling with abominations, banshees, gargoyles, and necromancers\u2014all remnants of Arthas\u2019 purge and later waves of Scourge corruption. Here, the tragedy of Stratholme is most vivid: homes turned into crypts, holy places into unholy shrines, the cries of the innocent replaced with the wails of the damned.</p>

    <p><strong>Theme</strong>: Undeath and despair, Scourge dominion.
    <strong>Key foes</strong>: Plague abominations, banshees, Baron Rivendare (and his Deathcharger).</p>`,"Stratholme Conclusion":`<h4>The Split of Stratholme \u2013 Live vs. Undead</h4>

    <p>Unlike many dungeons, Stratholme represents <strong>two conflicting but equally dangerous forces:</strong></p>
    <ul>
    <li>On the <strong>Scarlet Bastion side</strong>, mortals consumed by zeal and paranoia kill with fire and scripture, but are themselves manipulated by a dreadlord\u2019s shadow.</li>

    <li>On the <strong>Plague Quarter side</strong>, the Scourge marches unopposed, feeding on the corpses left behind by Arthas\u2019 infamous purge.</li>
    </ul>

    <p>Adventurers often explore both sides in separate forays, each a chapter of Lordaeron\u2019s tragic fall.</p>`,"Blackrock Spire":`<h4>The Legacy of Blackrock Spire</h4>

    <p>Carved into the fiery heart of <strong>Blackrock Mountain</strong>, Blackrock Spire was once a stronghold of the <strong>Dark Iron dwarves</strong>, who sought dominion over their kin. But the mountain\u2019s molten depths became a battlefield of greater powers. When the black dragonflight, led by <strong>Nefarian</strong>, son of Deathwing, sought a base of operations, they found willing allies among the Dark Irons and the remnants of the Blackrock orcs who had once served under <strong>Warchief Rend Blackhand.</strong></p>

    <p>Thus, the vast spire was split into layers of dominion: the <strong>Lower Spire</strong>, where orcs, trolls, ogres, and worgs marshaled their strength, and the <strong>Upper Spire</strong>, where Nefarian\u2019s black dragons and Rend\u2019s warband plotted to challenge both Horde and Alliance alike. To enter Blackrock Spire is to enter a cauldron of treachery, where fire, steel, and dragonflame rule.</p>`,"Upper Blackrock Spire":`<h4>Upper Blackrock Spire (UBRS) \u2013 Nefarian\u2019s Fortress</h4>

    <p>Atop the Spire lies the lair of <strong>General Drakkisath</strong> and the black dragonflight. Here, the alliance between <strong>Nefarian</strong> and <strong>Warchief Rend Blackhand</strong> is sealed in blood and fire. The Upper Spire is a crucible of draconic power: black dragonkin stalk the halls, flame wreathed corridors test intruders, and the banners of Rend\u2019s Dark Horde hang from the vaulted ceilings.</p>

    <p>This is no mere fortress\u2014it is <strong>Nefarian\u2019s war machine</strong>, a staging ground for his twisted experiments in draconic corruption and a seat of power for the black dragonflight. Adventurers who dare UBRS must overcome Rend\u2019s warlords, face legions of orcs and dragonkin, and ultimately confront <strong>General Drakkisath</strong>, whose mastery of flame and steel guards the way into Nefarian\u2019s true domain: Blackwing Lair.</p>

    <p><strong>Theme</strong>: Black dragonflight dominion, dark orcish power, looming threat of Nefarian.
    <strong>Key foes</strong>: Black dragonkin, Dark Horde champions, General Drakkisath.
    <strong>Final confrontation</strong>: Paves the way directly into <strong>Blackwing Lair</strong>, the next tier of the black dragonflight\u2019s schemes.</p>`};var Iw=TD(bw());var bt=(()=>{let n=class n{constructor(r){this.http=r,this.itemsMap=new Map,this.statWeights=[],this.spells=[],this.talents=[],this.dungeonBosses=[],this.dungeonUnlocks=[],this.dungeonDrops=[],this.dungeonQuests=[],this.uniqueDungeons=[],this.guildWeek=1,this.dungeonAssignments=[],this.dungeonProgress={week:0,attempts:0}}loadAllData(){return this.loadDungeonData(),ds({items:this.http.get("assets/items.csv",{responseType:"text"}),spells:this.http.get("assets/spells.csv",{responseType:"text"}),talents:this.http.get("assets/talents.csv",{responseType:"text"}),dungeonBosses:this.http.get("assets/dungeon_bosses.csv",{responseType:"text"}),dungeonUnlocks:this.http.get("assets/dungeon_unlock.csv",{responseType:"text"}),dungeonDrops:this.http.get("assets/dungeon_drops.csv",{responseType:"text"}),dungeonQuests:this.http.get("assets/dungeon_quests.csv",{responseType:"text"}),statWeights:this.http.get("assets/stat_weights.csv",{responseType:"text"})}).pipe(Ze(({items:r,spells:i,talents:o,dungeonBosses:a,dungeonUnlocks:s,dungeonDrops:l,dungeonQuests:c,statWeights:u})=>{this.parseItems(r,this.itemsMap),this.spells=this.parseCsv(i,["CLASSID","SPELLID","RACEID","SPELLTYPE","WeaponDmg","School","Dispel","Mechanic","Targets","TargetCreatureType","CastingTimeIndex","RecoveryTime","ProcCharges","MaxLevel","BaseLevel","DurationIndex","ManaCost","ManaPerSecond","PowerType","RangeIndex","Speed","EffectDieSides1","EffectRealPointsPerLevel1","EffectBasePoints1","EffectMechanic1","EffectDieSides2","EffectRealPointsPerLevel2","EffectBasePoints2","EffectMechanic2","ManaCostPercentage","StartRecoveryTime","EffectBonusCoefficient1","EffectAmplitude1","EffectApplyAuraName1","EffectBonusCoefficient2","EffectAmplitude2","EffectApplyAuraName2","EffectPointsPerComboPoint1"]),this.talents=this.parseCsv(o,["CLASSID","SPELLID","SPEC_0","SPEC_1","SPEC_2"]),this.dungeonBosses=this.parseCsv(a,["NPC_ID","LEVEL","ORDER","LOOT","SPAWN"]),this.uniqueDungeons=[...new Set(this.dungeonBosses.map(f=>f.DUNGEON))],this.dungeonUnlocks=this.parseCsv(s,["NPC_ID"]),this.dungeonDrops=this.parseCsv(l,["NPC_ID","DB_ID","LEVEL","DROP_PCT","VALUE"]),this.dungeonQuests=this.parseCsv(c,["NPC_ID","ITEM_0","ITEM_1","ITEM_2","ITEM_3","ITEM_4","ITEM_5"]),this.statWeights=this.parseCsv(u,["CLASSID","SPEC","2H_SPEED","R_DPS","MH_DPS","OH_DPS","SKILL","ARMOR","STAMINA","STRENGTH","AGILITY","INTELLIGENCE","SPIRIT","MP5","ATTACK_POWER","R_ATTACK_POWER","SPELL_DAMAGE","SPELL_HEAL","HIT_PCT","CRIT_PCT","SPELL_HIT","SPELL_CRIT","DEFENSE","DODGE_PCT","PARRY_PCT","BLOCK_PCT","BLOCK_VALUE","RESIST_FIRE","SPELL_FIRE","SPELL_SHADOW","SPELL_FROST"])}),ee(()=>{}))}loadDungeonData(){this.guildWeek=parseInt(localStorage.getItem("guildWeek")||"1",10),console.log("Loaded guild week from storage:",this.guildWeek),this.guildWeek=this.guildWeek;let r=localStorage.getItem("dungeonAssignment");r?(this.dungeonAssignments=JSON.parse(r),console.log("Loaded dungeon assignments from storage:",this.dungeonAssignments)):this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}];let i=localStorage.getItem("dungeonProgress");i?(this.dungeonProgress=JSON.parse(i),console.log("Loaded dungeon progress from storage:",this.dungeonProgress)):this.dungeonProgress={week:this.guildWeek,attempts:0}}getGuildWeek(){return this.guildWeek}setGuildWeek(r){this.guildWeek=r}getDungeonAssignments(){return this.dungeonAssignments}setDungeonAssignments(r){this.dungeonAssignments=r,localStorage.setItem("dungeonAssignment",JSON.stringify(this.dungeonAssignments))}getDungeonProgress(){return this.dungeonProgress}setDungeonProgress(r){this.dungeonProgress=r,localStorage.setItem("dungeonProgress",JSON.stringify(this.dungeonProgress))}setItemsMap(r){this.itemsMap.clear(),this.itemsMap=r}getItemsMap(){return this.itemsMap}setStatWeights(r){this.statWeights=[],this.statWeights=r}getStatWeights(){return this.statWeights}getSpells(){return this.spells}getTalents(){return this.talents}getDungeonBosses(){return this.dungeonBosses}getDungeonUnlocks(){return this.dungeonUnlocks}getDungeonDrops(){return this.dungeonDrops}getDungeonQuests(){return this.dungeonQuests}getUniqueDungeons(){return this.uniqueDungeons}parseCsv(r,i){try{return(0,Iw.parse)(r,{header:!0,skipEmptyLines:!0,transformHeader:a=>a.trim().replace(/^"|"$/g,""),transform:a=>a.trim()}).data.map(a=>(i.forEach(s=>{(!a[s]||isNaN(+a[s]))&&(a[s]="0")}),a.TOOLTIP&&(a.TOOLTIP=this.cleanTooltip(a.TOOLTIP)),a))}catch(o){return console.error("Error parsing CSV:",o),[]}}parseItems(r,i){try{this.parseCsv(r,["DB_ID","DISP_ID","EQ_TYPE","CLASS_MASK","FIERY_CORE","LAVA_CORE"]).forEach(a=>{!a.DB_ID||isNaN(+a.DB_ID)||!a.DISP_ID||isNaN(+a.DISP_ID)||!a.EQ_TYPE||isNaN(+a.EQ_TYPE)||i.set(+a.DB_ID,{disp_id:+a.DISP_ID,eq_type:+a.EQ_TYPE,sub_type:a.TYPE||`Item ${a.DB_ID}`,icon_name:a.ICON_NAME||`Item ${a.DB_ID}`,name:a.NAME||`Item ${a.DB_ID}`,tooltip:a.TOOLTIP,class_mask:a.CLASS_MASK,source:a.SOURCE,item_quality:a.ITEM_QUALITY,item_level:a.ITEM_LEVEL,bis:a.BIS,role:a.ROLE,fiery_core:a.FIERY_CORE,lava_core:a.LAVA_CORE,set_id:a.SET,min_damage:a.MIN_DAMAGE,max_damage:a.MAX_DAMAGE,speed:a.SPEED,armor:a.ARMOR,block_value:a.BLOCK_VALUE,stamina:a.STAMINA,strength:a.STRENGTH,agility:a.AGILITY,intelligence:a.INTELLIGENCE,spirit:a.SPIRIT,mp5:a.MP5,hp5:a.HP5,attack_power:a.ATTACK_POWER,attack_power_ranged:a.R_ATTACK_POWER,spell_damage:a.SPELL_DAMAGE,spell_heal:a.SPELL_HEAL,spell_frost:a.SPELL_FROST,spell_shadow:a.SPELL_SHADOW,spell_fire:a.SPELL_FIRE,spell_nature:a.SPELL_NATURE,hit_pct:a.HIT_PCT,crit_pct:a.CRIT_PCT,hit_pct_spell:a.SPELL_HIT,crit_pct_spell:a.SPELL_CRIT,parry_pct:a.PARRY_PCT,dodge_pct:a.DODGE_PCT,block_rate:a.BLOCK_PCT,defense:a.DEFENSE,resist_fire:a.RESIST_FIRE,resist_shadow:a.RESIST_SHADOW,resist_nature:a.RESIST_NATURE,resist_frost:a.RESIST_FROST,resist_arcane:a.RESIST_ARCANE,skill_dagger:a.SKILL_DAGGER,skill_sword:a.SKILL_SWORD||""})})}catch(o){console.error("Error parsing items.csv:",o)}}cleanTooltip(r){if(!r)return"";let i=r;return i=i.replace(/<!--.*?-->/gs,""),i=i.replace(/<a[^>]*>(.*?)<\/a>/gi,"$1"),i=i.replace(/Durability \d+ \/ \d+/gi,""),i=i.replace(/Requires Level \d+/gi,""),i=i.replace(/Binds when picked up/gi,""),i=i.replace(/\(0\/\d+\)/gi,""),i=i.replace(/<(div|span)[^>]*class="[^"]*(whtt-sellprice|wowhead-tooltip-requirements)[^"]*"[^>]*>.*?<\/\1>/gi,""),i=i.replace(/<div[^>]*class="[^"]*indent[^"]*"[^>]*>[\s\S]*?(?=<\/div>)/gi,""),i=i.replace(/<span class="q0">([\s\S]*?)<\/span>/gi,"$1"),i=i.replace(/<span>(\(\d+\)\s*Set\s*:[\s\S]*?)(?=\(\d+\)\s*Set\s*:|$)/gi,"$1"),i=i.replace(/<b[^>]*class="[^"]*"[^>]*>/gi,"<b>"),i=i.replace(/<\/a>/gi,""),i=i.replace(/\s+/g," ").trim(),i=i.replace(/(?:<br\s*\/?>\s*){2,}/gi,"<br>"),i}saveVariableToStorage(r,i){try{localStorage.setItem(r,JSON.stringify(i))}catch(o){console.error(`Error saving ${r} to localStorage:`,o)}}};n.\u0275fac=function(i){return new(i||n)(F(Lr))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var qn=(()=>{let n=class n{constructor(r){this.dataService=r,this.spellSchool=Wu,this.durIndex=qu}calculateStats(r,i,o,a){let s={general:{health:0,mana:0,strength:0,agility:0,stamina:0,intellect:0,spirit:0},armor:0,armorDR:0,attackPower:0,rangedAttackPower:0,attackSpeed:0,damage:{MHbase1:0,MHbase2:0,OHbase1:0,OHbase2:0,Rbase1:0,Rbase2:0,MHmin:0,MHmax:0,MHspeed:2,MHskill:300,MHtype:"",OHmin:0,OHmax:0,OHspeed:2,OHskill:300,OHtype:"",Rmin:0,Rmax:0,Rspeed:2,Rskill:300,Rtype:""},thorns:0,hitChance:0,critChance:5,dodgeChance:0,parryChance:5,blockChance:0,blockValue:0,defense:300,spellHitChance:0,spellCritChance:0,healthPer5:0,manaPer5:0,spiritTick:0,spiritCastPct:0,spellPower:{damage:0,healing:0,fire:0,shadow:0,nature:0,frost:0,arcane:0},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},pets:{},gearscore:0};if(!i)return s;let l=+i.CLASSID,c=+i.RACE,u=+i.SPEC,f=Dw.find(d=>d.CLASSID===l.toString()&&d.RACEID===c.toString())||{HP:0,MP:0,STR:0,AGI:0,STA:0,INT:0,SPI:0,ARM:0};s.general={health:+f.HP,mana:+f.MP,strength:+f.STR,agility:+f.AGI,stamina:+f.STA,intellect:+f.INT,spirit:+f.SPI},s.armor=+f.ARM;let y={},m=!1;o.forEach(d=>{if(d.dbId!==-1){let v=this.dataService.getItemsMap().get(d.dbId);v&&(s.general.stamina+=parseInt((v.stamina||0).toString()),s.general.strength+=parseInt((v.strength||0).toString()),s.general.agility+=parseInt((v.agility||0).toString()),s.general.intellect+=parseInt((v.intelligence||0).toString()),s.general.spirit+=parseInt((v.spirit||0).toString()),s.armor+=parseInt((v.armor||0).toString()),s.attackPower+=parseInt((v.attack_power||0).toString()),s.rangedAttackPower+=parseInt((v.attack_power_ranged||0).toString()),d.slot===21?(s.damage.MHmin=parseInt((v.min_damage||0).toString()),s.damage.MHmax=parseInt((v.max_damage||0).toString()),s.damage.MHbase1=s.damage.MHmin,s.damage.MHbase2=s.damage.MHmax,s.damage.MHspeed=parseFloat((v.speed||0).toString()),s.damage.MHtype=v.sub_type||""):d.slot===22?(s.damage.OHmin=parseInt((v.min_damage||0).toString()),s.damage.OHmax=parseInt((v.max_damage||0).toString()),s.damage.OHbase1=s.damage.OHmin,s.damage.OHbase2=s.damage.OHmax,s.damage.OHspeed=parseFloat((v.speed||0).toString()),s.damage.OHtype=v.sub_type||"",m=!0):d.slot===26&&(s.damage.Rmin=parseInt((v.min_damage||0).toString()),s.damage.Rmax=parseInt((v.max_damage||0).toString()),s.damage.Rbase1=s.damage.Rmin,s.damage.Rbase2=s.damage.Rmax,s.damage.Rspeed=parseFloat((v.speed||0).toString()),s.damage.Rtype=v.sub_type||""),s.hitChance+=parseInt((v.hit_pct||0).toString()),s.critChance+=parseInt((v.crit_pct||0).toString()),s.spellHitChance+=parseInt((v.hit_pct_spell||0).toString()),s.spellCritChance+=parseInt((v.crit_pct_spell||0).toString()),s.dodgeChance+=parseInt((v.dodge_pct||0).toString()),s.parryChance+=parseInt((v.parry_pct||0).toString()),s.blockChance+=parseInt((v.block_rate||0).toString()),s.blockValue+=parseInt((v.block_value||0).toString()),s.defense+=parseInt((v.defense||0).toString()),s.spellPower.damage+=parseInt((v.spell_damage||0).toString()),s.spellPower.healing+=parseInt((v.spell_heal||0).toString()),s.spellPower.fire+=parseInt((v.spell_fire||0).toString()),s.spellPower.frost+=parseInt((v.spell_frost||0).toString()),s.spellPower.shadow+=parseInt((v.spell_shadow||0).toString()),s.spellPower.nature+=parseInt((v.spell_nature||0).toString()),s.resistances.fire+=parseInt((v.resist_fire||0).toString()),s.resistances.shadow+=parseInt((v.resist_shadow||0).toString()),s.resistances.nature+=parseInt((v.resist_nature||0).toString()),s.resistances.frost+=parseInt((v.resist_frost||0).toString()),s.resistances.arcane+=parseInt((v.resist_arcane||0).toString()),s.healthPer5+=parseInt((v.hp5||0).toString()),s.manaPer5+=parseInt((v.mp5||0).toString()))}});let D=a.findIndex(d=>d.NAME===i.NAME),R=this.computeEqTypeScores(a,D);s.gearscore=this.computeGearscore(R,o);let b=s.armor-f.ARM;if((l===7&&u===2||l===2&&u===1)&&(s.armor+=.1*b),l===0&&u===1&&(s.armor+=.04*b),s.pets={},l===5?s.pets.cat={general:{health:3390,mana:100,strength:136,agility:100,stamina:296,intellect:50,spirit:80},armor:4014,armorDR:0,attackPower:252,damage:{min:55,max:72,speed:1},resistances:{fire:120,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Claw: 43-59 damage per 25 focus"]}:l===4&&(s.pets.imp={general:{health:1009,mana:1898,strength:122,agility:35,stamina:86,intellect:264,spirit:260},armor:1233,armorDR:0,attackPower:112,damage:{min:85,max:96,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Firebolt: 85-96 damage, 2 sec cast, 115 mana"]},s.pets.voidwalker={general:{health:3149,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:4915,armorDR:0,attackPower:238,damage:{min:65,max:82,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Sacrifice: 1930 shield for 30 sec"]},s.pets.succubus={general:{health:1709,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:2431,armorDR:0,attackPower:238,damage:{min:67,max:84,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:["Lash of Pain: 87 damage, 145 mana, 12 sec cd"]},s.pets.felhunter={general:{health:2320,mana:1874,strength:129,agility:85,stamina:234,intellect:70,spirit:150},armor:2487,armorDR:0,attackPower:238,damage:{min:59,max:72,speed:2},resistances:{fire:0,shadow:0,nature:0,frost:0,arcane:0},manaPer5:0,spiritTick:0,critChance:5,abilities:[]}),r){let d=1;for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==0&&(+Z.SPEC==0||+Z.SPEC==2)){d=1.35;break}}let v=12*d,E=20*d,I=285*d;if(s.general.stamina+=v,s.general.strength+=v,s.general.agility+=v,s.general.intellect+=v,s.general.spirit+=v,s.resistances.fire+=E,s.resistances.shadow+=E,s.resistances.nature+=E,s.resistances.frost+=E,s.resistances.arcane+=E,s.armor+=I,l===5||l===4)for(let T in s.pets)Object.prototype.hasOwnProperty.call(s.pets,T)&&(s.pets[T].general.stamina+=v,s.pets[T].general.strength+=v,s.pets[T].general.agility+=v,s.pets[T].general.intellect+=v,s.pets[T].general.spirit+=v,s.pets[T].resistances.fire+=E,s.pets[T].resistances.shadow+=E,s.pets[T].resistances.nature+=E,s.pets[T].resistances.frost+=E,s.pets[T].resistances.arcane+=E,s.pets[T].armor+=I,s.pets[T].general.health+=10*v,s.pets[T].armor+=2*v,l===4&&(s.pets[T].general.mana+=15*v),T==="imp"?s.attackPower+=v:s.attackPower+=2*v);let A=1;for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==2&&(+Z.SPEC==0||+Z.SPEC==2)){A=1.2;break}}if(s.attackPower+=185*A,s.manaPer5+=33*A,l===5||l===4)for(let T in s.pets)Object.prototype.hasOwnProperty.call(s.pets,T)&&(s.pets[T].attackPower+=185*A,s.pets[T].general.stamina+=54*1.3,s.pets[T].general.health+=54*1.3*10,s.pets[T].general.intellect+=31,s.pets[T].resistances.shadow+=60,T!=="cat"&&(s.pets[T].manaPer5+=33*A,s.pets[T].general.mana+=15*31));s.general.stamina+=54*1.3;for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==1&&+Z.SPEC==0){if(s.general.spirit+=40,l===5||l===4)for(let k in s.pets)Object.prototype.hasOwnProperty.call(s.pets,k)&&(s.pets[k].general.spirit+=40);break}}s.resistances.shadow+=60,s.general.intellect+=31;for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==2&&+Z.GROUP==+i.GROUP){if(s.resistances.fire+=60,l===5||l===4)for(let k in s.pets)Object.prototype.hasOwnProperty.call(s.pets,k)&&(s.pets[k].resistances.fire+=60);break}}for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==0&&+Z.SPEC==1&&+Z.GROUP==+i.GROUP){if(s.critChance+=3,l===5||l===4)for(let k in s.pets)Object.prototype.hasOwnProperty.call(s.pets,k)&&(s.pets[k].critChance+=3);break}}for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==5&&+Z.SPEC==1&&+Z.GROUP==+i.GROUP){if(s.attackPower+=100,s.rangedAttackPower+=100,l===5||l===4)for(let k in s.pets)Object.prototype.hasOwnProperty.call(s.pets,k)&&(s.pets[k].attackPower+=100);break}}let z=0;for(let T=0;T<a.length;T++){let Z=a[T];+Z.CLASSID==4&&+Z.GROUP==+i.GROUP&&+Z.SPEC!=2&&(+Z.SPEC==0&&z==0?z=42:z=42*1.3)}if(z>0&&(s.general.stamina+=z,l===5||l===4))for(let T in s.pets)Object.prototype.hasOwnProperty.call(s.pets,T)&&(s.pets[T].general.stamina+=z,s.pets[T].general.health+=10*z);for(let T=0;T<a.length;T++){let Z=a[T];if(+Z.CLASSID==2&&+Z.SPEC==0){if(s.general.stamina*=1.1,s.general.strength*=1.1,s.general.agility*=1.1,s.general.intellect*=1.1,s.general.spirit*=1.1,l===5||l===4)for(let k in s.pets)Object.prototype.hasOwnProperty.call(s.pets,k)&&(s.pets[k].general.health+=10*.1*s.pets[k].general.stamina,s.pets[k].general.mana+=15*.1*s.pets[k].general.intellect,s.pets[k].armor+=2*.1*s.pets[k].general.agility,k==="imp"?s.pets[k].attackPower+=.1*s.pets[k].general.strength:s.pets[k].attackPower+=2*.1*s.pets[k].general.strength,s.pets[k].general.stamina*=1.1,s.pets[k].general.strength*=1.1,s.pets[k].general.agility*=1.1,s.pets[k].general.intellect*=1.1,s.pets[k].general.spirit*=1.1);break}}let K=0;for(let T=0;T<a.length;T++){let Z=a[T];+Z.CLASSID==7&&+Z.GROUP==+i.GROUP&&(+Z.SPEC==1?s.attackPower+=232*1.25:+Z.SPEC==0&&K<232*1.2?K=232*1.05:K===0&&(K=232))}if(K>0&&(s.attackPower+=K,l===5||l===4))for(let T in s.pets)Object.prototype.hasOwnProperty.call(s.pets,T)&&(s.pets[T].attackPower+=K)}c===1?(s.general.spirit*=1.05,(s.damage.MHtype==="Sword"||s.damage.MHtype==="Mace")&&(s.damage.MHskill+=5),(s.damage.OHtype==="Sword"||s.damage.OHtype==="Mace")&&(s.damage.OHskill+=5)):c===7?(s.general.intellect*=1.05,s.resistances.arcane+=10):c===3?(s.resistances.frost+=10,s.damage.Rtype==="Gun"&&(s.damage.Rskill+=5)):c===4&&(s.dodgeChance+=1,s.resistances.nature+=10),s.general.health+=(s.general.stamina-f.STA)*10,s.general.mana+=(s.general.intellect-f.INT)*15,s.armor+=(s.general.agility-f.AGI)*2,l===0&&u===1&&(s.critChance+=6,s.attackPower+=90,s.general.mana+=.2*s.general.intellect*15,s.general.intellect*=1.2,s.armor+=3.6*(b*1.04),s.attackPower+=180,s.general.health+=.2*s.general.stamina*10,s.general.stamina*=1.2,s.general.health+=1240),l===1&&(s.armor+=1395,u!==2&&(s.spellCritChance+=5),u===0?s.general.mana*=1.1:u===1?(s.spellPower.damage+=.25*s.general.spirit,s.spellPower.healing+=.25*s.general.spirit):(s.damage.Rmin>0&&(s.damage.Rmin*=1.25,s.damage.Rmax*=1.25),s.spellHitChance+=10)),l===2&&(s.hitChance+=3,u!==1&&(s.general.mana+=.1*s.general.intellect*15,s.general.intellect*=1.1),u!=0&&(s.general.strength*=1.1),u===0?s.spellCritChance+=5:u===1?(s.parryChance+=4,s.defense+=10):s.critChance+=5),l===3&&(s.spellHitChance+=6,u===0?(s.general.mana*=1.1,s.armor+=.5*s.general.intellect,s.resistances.arcane+=8,s.resistances.nature+=8,s.resistances.fire+=8,s.resistances.frost+=8,s.resistances.shadow+=8,s.spellCritChance+=3):u===1?(s.resistances.arcane+=10,s.resistances.nature+=10,s.resistances.fire+=10,s.resistances.frost+=10,s.resistances.shadow+=10,s.spellCritChance+=6):(s.armor+=.5*s.general.intellect,s.resistances.arcane+=2,s.resistances.nature+=2,s.resistances.fire+=2,s.resistances.frost+=2,s.resistances.shadow+=2)),l===4&&(s.spellCritChance+=5,s.armor+=570,s.resistances.shadow+=15,s.healthPer5+=15,u===1&&(s.general.health+=.15*s.general.stamina*10,s.general.stamina*=1.15,s.general.spirit*=.95)),l===5&&(s.critChance+=5,s.rangedAttackPower+=120,s.rangedAttackPower+=14*17.5,s.attackSpeed=13,u===2&&(s.general.health*=1.1,s.armor+=.15*s.general.agility*2,s.general.agility*=1.15,s.hitChance+=3,s.critChance+=3)),l===6&&(s.hitChance+=5,s.critChance+=5,u===2&&s.damage.MHtype==="Dagger"&&(s.critChance+=5),u===1&&(s.dodgeChance+=1),u!==0&&((s.damage.MHtype==="Sword"||s.damage.MHtype==="Fist"||s.damage.MHtype==="Dagger")&&(s.damage.MHskill+=5),(s.damage.OHtype==="Sword"||s.damage.OHtype==="Fist"||s.damage.OHtype==="Dagger")&&(s.damage.OHskill+=5))),[0,2,7].includes(l)?s.attackPower+=s.general.strength*2:s.attackPower+=s.general.strength,(l===0&&u===1||l===5||l===6)&&(s.attackPower+=s.general.agility),l===5?s.rangedAttackPower+=s.general.agility*2:(l===6||l===7)&&(s.rangedAttackPower+=s.general.agility),o.some(d=>d.dbId!==-1&&this.dataService.getItemsMap().get(d.dbId)?.eq_type===14)&&[2,7].includes(l)&&(s.blockChance+=5,s.blockValue+=Math.floor(s.general.strength/20)),[0,2,7].includes(l)?s.critChance+=s.general.agility/20:l===6?s.critChance+=s.general.agility/29:l===5&&(s.critChance+=s.general.agility/53);let ce={0:.9,5:0,3:3.2,2:.7,1:3,6:0,4:2,7:0},q={0:20,5:26.5,3:19.444,2:19.767,1:20,6:14.5,4:20,7:20};s.dodgeChance+=ce[l]||0,s.dodgeChance+=s.general.agility/(q[l]||20);let N={0:3.33,3:3.7,1:2.97,4:3.18,2:3.7},H={0:59.81,3:53.77,1:59.23,4:60.5,2:53.77};if(N[l]&&(s.spellCritChance+=N[l]+s.general.intellect/H[l]),l===0&&u!==1)s.spiritCastPct+=15,s.spiritTick+=s.general.spirit/4.5+15;else if([0,5,2,4].includes(l))s.spiritTick+=s.general.spirit/5+15;else if([3,1].includes(l)){let d=15;l===3&&(u==1?d=40:u==2?d=35:d=45),s.spiritCastPct+=d,s.spiritTick+=s.general.spirit/4+12.5}if(s.damage.MHmin>0){let d=s.attackPower/14*s.damage.MHspeed;s.damage.MHmin+=d,s.damage.MHmax+=d}if(s.damage.OHmin>0){let d=s.attackPower/14*s.damage.OHspeed;s.damage.OHmin+=d,s.damage.OHmax+=d,s.damage.OHmin*=.5,s.damage.OHmax*=.5}if(s.damage.Rmin>0&&s.damage.Rtype!=="Wand"){let d=s.rangedAttackPower/14*s.damage.Rspeed;s.damage.Rmin+=d,s.damage.Rmax+=d}if(l===2&&(u===1&&m?s.damage.MHmin*=1.1:u===2&&!m&&(s.damage.MHmin*=1.06,s.damage.MHmax*=1.06)),l===4)for(let d in s.pets)Object.prototype.hasOwnProperty.call(s.pets,d)&&(s.pets[d].spiritTick+=s.pets[d].general.spirit/5+15,u===1?(s.pets[d].general.health*=1.06,s.pets[d].general.mana*=1.15,d=="succubus"?(s.pets[d].damage.min*=1.1,s.pets[d].damage.max*=1.1):d==="felhunter"&&(s.pets[d].resistances.arcane+=60,s.pets[d].resistances.fire+=60,s.pets[d].resistances.frost+=60,s.pets[d].resistances.nature+=60,s.pets[d].resistances.shadow+=60)):u===2&&(s.pets[d].general.health*=1.15),d==="imp"?u!==2&&(s.pets[d].damage.speed=1,u===1&&(s.pets[d].damage.min*=1.3,s.pets[d].damage.max*=1.3)):u===1?(s.pets[d].damage.min*=1.2,s.pets[d].damage.max*=1.2):u===2&&(s.pets[d].damage.min*=1.08,s.pets[d].damage.max*=1.08));if(l===5){u==1&&s.damage.Rmin>0&&(s.damage.Rmin*=1.05,s.damage.Rmax*=1.05);let d=(s.pets.cat.attackPower-252)/14*1.1*1.25;s.pets.cat.damage.min+=d,s.pets.cat.damage.max+=d,u!==2&&(s.pets.cat.damage.min*=1.2,s.pets.cat.damage.max*=1.2,s.pets.cat.critChance+=15,u===0?s.pets.cat.general.health*=1.12:s.pets.cat.general.health*=1.09)}if(l===6){let d=1.5;u===0&&(d=1.1),s.damage.OHmin>0&&(s.damage.OHmin*=d,s.damage.OHmax*=d)}if(l===7&&(s.critChance+=5,u===2?(s.defense+=10,s.blockChance+=5,s.parryChance+=5,s.damage.OHmin===0&&m&&(s.damage.MHmin*=1.1,s.damage.MHmax*=1.1)):u===1?s.damage.OHmin>0&&(s.damage.OHmin*=1.25,s.damage.OHmax*=1.25):m||(s.damage.MHmin*=1.03,s.damage.MHmax*=1.03)),s.general.health=Math.round(s.general.health),s.general.mana=Math.round(s.general.mana),s.general.stamina=Math.round(s.general.stamina),s.general.strength=Math.round(s.general.strength),s.general.agility=Math.round(s.general.agility),s.general.intellect=Math.round(s.general.intellect),s.general.spirit=Math.round(s.general.spirit),s.armor=Math.round(s.armor),s.armorDR=Number((100*(s.armor/(s.armor+400+85*63))).toFixed(2)),s.attackPower=Math.round(s.attackPower),s.rangedAttackPower=Math.round(s.rangedAttackPower),s.damage.MHmin=Math.round(s.damage.MHmin),s.damage.MHmax=Math.round(s.damage.MHmax),s.damage.MHspeed=Number(s.damage.MHspeed.toFixed(2)),s.damage.OHmin=Math.round(s.damage.OHmin),s.damage.OHmax=Math.round(s.damage.OHmax),s.damage.OHspeed=Number(s.damage.OHspeed.toFixed(2)),s.damage.Rmin=Math.round(s.damage.Rmin),s.damage.Rmax=Math.round(s.damage.Rmax),s.damage.Rspeed=Number(s.damage.Rspeed.toFixed(2)),s.critChance=Number(s.critChance.toFixed(2)),s.dodgeChance=Number(s.dodgeChance.toFixed(2)),s.spellCritChance=Number(s.spellCritChance.toFixed(2)),s.manaPer5=Number(s.manaPer5.toFixed(1)),s.spiritTick=Number(s.spiritTick.toFixed(1)),l===4||l===5)for(let d in s.pets)Object.prototype.hasOwnProperty.call(s.pets,d)&&(s.pets[d].general.health=Math.round(s.pets[d].general.health),s.pets[d].general.mana=Math.round(s.pets[d].general.mana),s.pets[d].general.stamina=Math.round(s.pets[d].general.stamina),s.pets[d].general.strength=Math.round(s.pets[d].general.strength),s.pets[d].general.agility=Math.round(s.pets[d].general.agility),s.pets[d].general.intellect=Math.round(s.pets[d].general.intellect),s.pets[d].general.spirit=Math.round(s.pets[d].general.spirit),s.pets[d].armor=Math.round(s.pets[d].armor),s.pets[d].armorDR=Number((100*(s.pets[d].armor/(s.pets[d].armor+400+85*63))).toFixed(2)),s.pets[d].attackPower=Math.round(s.pets[d].attackPower),s.pets[d].critChance=Number(s.pets[d].critChance.toFixed(2)),s.pets[d].damage.min=Math.round(s.pets[d].damage.min),s.pets[d].damage.max=Math.round(s.pets[d].damage.max),s.pets[d].damage.speed=Number(s.pets[d].damage.speed.toFixed(2)),s.pets[d].manaPer5=Number(s.pets[d].manaPer5.toFixed(1)),s.pets[d].spiritTick=Number(s.pets[d].spiritTick.toFixed(1)));return s}computeEqTypeScores(r,i){let o={};return i!==-1&&(r[i].INVENTORY||"").split(";").map(l=>+l.trim()).filter(l=>!isNaN(l)).forEach(l=>{let c=this.dataService.getItemsMap().get(l);if(c){let u=Number(c.item_quality)??0,f=Number(c.item_level)??0,y=1;u===3?y=1.3:u===4?y=1.6:u===5&&(y=2);let m=f*y,D=c.eq_type;o[D]||(o[D]={top:0,second:0}),m>o[D].top?(o[D].second=o[D].top,o[D].top=m):m>o[D].second&&(o[D].second=m)}}),o}computeGearscore(r,i){let o={},a=!1;i&&i.forEach(m=>{if(m.dbId!==-1){let D=this.dataService.getItemsMap().get(m.dbId);if(D){let R=Number(D.item_quality)??0,b=Number(D.item_level)??0,x=1;R===3?x=1.3:R===4?x=1.6:R===5&&(x=2),o[m.slot]=b*x,m.slot===22&&(a=!0)}}else o[m.slot]=0}),[1,2,3,5,6,7,8,9,10,16,26].forEach(m=>{o[m]=Math.max(o[m]||0,r[m]?.top||0)}),r[20]&&(o[5]=Math.max(o[5]||0,r[20].top||0)),r[28]&&(o[26]=Math.max(o[26]||0,r[28].top||0)),o[11]&&o[11]>r[11].second&&o[11]!==r[11].top&&(o[11]>r[11].top?(r[11].second=r[11].top,r[11].top=o[11]):r[11].second=o[11]),o[12]&&o[12]>r[11].second&&o[12]!==r[11].top&&(o[12]>r[11].top?(r[11].second=r[11].top,r[11].top=o[12]):r[11].second=o[12]),o[11]=r[11].top,o[12]=r[11].second,o[13]&&o[13]>r[12].second&&o[13]!==r[12].top&&(o[13]>r[12].top?(r[12].second=r[12].top,r[12].top=o[13]):r[12].second=o[13]),o[14]&&o[14]>r[12].second&&o[14]!==r[12].top&&(o[14]>r[12].top?(r[12].second=r[12].top,r[12].top=o[14]):r[12].second=o[14]),o[13]=r[12].top,o[14]=r[12].second,r[13]&&(r[21]?(r[13].second>0&&(r[21].second===0||r[13].second>r[21].second)&&(r[13].second>r[21].top?r[21]={top:r[13].top,second:r[13].second}:r[21].second=r[13].second),r[13].top>r[21].second&&(r[13].top>r[21].top?(r[21].second=r[21].top,r[21].top=r[13].top):r[21].second=r[13].top)):r[21]={top:r[13].top,second:r[13].second}),[13,14,23].forEach(m=>{r[m]&&(r[22]?(r[m].second>0&&(r[22].second===0||r[m].second>r[22].second)&&(r[m].second>r[22].top?r[22]={top:r[m].top,second:r[m].second}:r[22].second=r[m].second),r[m].top>r[22].second&&(r[m].top>r[22].top?(r[22].second=r[22].top,r[22].top=r[m].top):r[22].second=r[m].top)):r[22]={top:r[m].top,second:r[m].second})}),a?[21,22].forEach(m=>{o[m]&&(r[m]?o[m]>r[m].second&&(o[m]>r[m].top?(r[m].second=r[m].top,r[m].top=o[m]):o[m]!==r[m].top&&(r[m].second=o[m])):r[m]={top:o[m],second:0})}):o[21]&&(r[17]?o[21]>r[17].second&&(o[21]>r[17].top?(r[17].second=r[17].top,r[17].top=o[21]):o[21]!==r[17].top&&(r[17].second=o[21])):r[17]={top:o[21],second:0}),r[17]?o[17]=r[17].top:o[17]=0,r[22]?(o[21]=r[21].top,r[21].top!==r[22].top?o[22]=r[22].top:r[21].second>r[22].second?o[22]=r[21].second:o[22]=r[22].second):(o[21]=r[21].top,o[22]=0),o[21]+o[22]>o[17]?o[17]=0:(o[21]=0,o[22]=0),o[26]||(o[26]=50),[3,8,10,6].forEach(m=>{o[m]&&(o[m]*=.752)}),[11,12,13,14,2,16,9,26].forEach(m=>{o[m]&&(o[m]*=.566)}),o[17]*=2;let c=Object.values(o).reduce((m,D)=>m+D,0)/13,u=Math.abs(c-55),f=Math.pow(u,2/3);u<1&&(f=u);let y=c>=55?55+f:55-f;return Math.round(y*100)/100}getPlayerGearScore(r,i){let o=this.computeEqTypeScores(r,i);return this.computeGearscore(o,null)}calculateItemWeight(r,i,o){let a=this.dataService.getStatWeights().find(l=>+l.CLASSID===i&&+l.SPEC===o);if(!a)return 0;let s=0;if(s+=(r.stamina||0)*(a.STAMINA||0),s+=(r.strength||0)*(a.STRENGTH||0),s+=(r.agility||0)*(a.AGILITY||0),s+=(r.intelligence||0)*(a.INTELLIGENCE||0),+r.dbId==13937&&(s+=20*2*(a.INTELLIGENCE||0)),s+=(r.spirit||0)*(a.SPIRIT||0),s+=(r.mp5||0)*(a.MP5||0),+r.dbId==13143&&(s+=22*.5*(a.MP5||0)),+r.dbId==14152&&(s+=16.67*(a.MP5||0)),s+=(r.attack_power||0)*(a.ATTACK_POWER||0),s+=(r.attack_power_ranged||0)*(a.R_ATTACK_POWER||0),s+=(r.spell_damage||0)*(a.SPELL_DAMAGE||0),+r.dbId==18820&&(s+=29.17*(a.SPELL_DAMAGE||0)),+r.dbId==22268&&(s+=20*(a.SPELL_DAMAGE||0),s+=18*(a.SPELL_HEAL||0)),s+=(r.spell_heal||0)*(a.SPELL_HEAL||0),s+=(r.spell_frost||0)*(a.SPELL_FROST||0),s+=(r.spell_shadow||0)*(a.SPELL_SHADOW||0),s+=(r.spell_fire||0)*(a.SPELL_FIRE||0),s+=(r.hit_pct||0)*(a.HIT_PCT||0),+r.dbId==11815&&[1,2,6,7].includes(i)&&(s+=2*(a.HIT_PCT||0)),s+=(r.crit_pct||0)*(a.CRIT_PCT||0),s+=(r.hit_pct_spell||0)*(a.SPELL_HIT||0),s+=(r.crit_pct_spell||0)*(a.SPELL_CRIT||0),s+=(r.parry_pct||0)*(a.PARRY_PCT||0),s+=(r.dodge_pct||0)*(a.DODGE_PCT||0),s+=(r.block_rate||0)*(a.BLOCK_PCT||0),s+=(r.defense||0)*(a.DEFENSE||0),s+=(r.resist_fire||0)*(a.RESIST_FIRE||0),s+=(r.skill_dagger||0)*(a.SKILL||0),s+=(r.skill_sword||0)*(a.SKILL||0),s+=(r.armor||0)*(a.ARMOR||0),s+=(r.block_value||0)*(a.BLOCK_VALUE||0),r.speed>0){let l=((r.min_damage||0)+(r.max_damage||0))/2/r.speed,c=0;[25,26].includes(r.eq_type)?c=a.R_DPS||0:[22,23].includes(r.eq_type)?c=a.OH_DPS||0:c=a.MH_DPS||0,s+=l*c,[6,8,9,10,17].includes(r.eq_type)&&(s+=r.speed*(a["2H_SPEED"]||0))}return r.eq_type===28&&(s+=1),s}getDoTTicks(r,i,o){let a=this.durIndex[r]||0;r===553?a=16-2*(5-i):r===185&&(a=21-3*(5-i));let s=o/1e3;return a>0&&s>0?Math.floor(a/s):0}getTalentModifications(r,i){let o=this.dataService.getSpells().find(d=>+d.SPELLID===r),a={},s=o.TOOLTIP.toLowerCase().replace(/:/g,"")||"",l=this.spellSchool[+o.School||0],c=+o.RangeIndex==114||+o.RangeIndex==11,u=+o.School==0,f=+o.SPELLTYPE==2,m=[{id:19500,value:6,type:"flat",unit:"yd",appliesTo:()=>c},{id:12353,value:6,type:"flat",unit:"yd",appliesTo:()=>s.includes("fire")&&l==="fire"},{id:16757,value:10,type:"percent",appliesTo:()=>l==="frost"},{id:16758,value:20,type:"percent",appliesTo:()=>l==="frost"},{id:17918,value:20,type:"percent",appliesTo:()=>s.includes("destructive")||l==="fire"||l==="shadow"},{id:18219,value:20,type:"percent",appliesTo:()=>s.includes("affliction")||l==="shadow"},{id:16820,value:20,type:"percent",appliesTo:()=>["wrath","hurricane","roots","starfire","faerie fire"].some(d=>s.includes(d))},{id:17325,value:20,type:"percent",appliesTo:()=>l==="shadow"},{id:27789,value:10,type:"percent",appliesTo:()=>["smite","holy fire","poh","nova"].some(d=>s.includes(d))}].find(d=>i.some(v=>+v.SPELLID===d.id&&d.appliesTo()));m&&(a.rangeMod=M({type:m.type,value:m.value},m.unit&&{unit:m.unit}));let R=[{id:12519,value:15,type:"percent",power:"mana",appliesTo:()=>l==="frost"},{id:17779,value:2,type:"percent",power:"mana",appliesTo:()=>l==="fire"||l==="shadow"},{id:18710,value:40,type:"percent",power:"mana",appliesTo:()=>s.includes("summon")},{id:19420,value:10,type:"percent",power:"mana",appliesTo:()=>["shot","sting"].some(d=>s.includes(d))},{id:19575,value:40,type:"percent",power:"mana",appliesTo:()=>s.includes("revive pet")},{id:13863,value:5,type:"flat",power:"energy",appliesTo:()=>s.includes("sinister strike")},{id:12663,value:2,type:"flat",power:"rage",appliesTo:()=>s.includes("heroic strike")},{id:12664,value:3,type:"flat",power:"rage",appliesTo:()=>s.includes("heroic strike")},{id:12811,value:3,type:"flat",power:"rage",appliesTo:()=>s.includes("sunder armor")},{id:20503,value:5,type:"flat",power:"rage",appliesTo:()=>s.includes("execute")},{id:16834,value:20,type:"percent",power:"mana",appliesTo:()=>s.includes("form")},{id:16835,value:30,type:"percent",power:"mana",appliesTo:()=>s.includes("form")},{id:16847,value:18.1,type:"percent",power:"mana",appliesTo:()=>["healing touch"].some(d=>s.includes(d))},{id:16847,value:9,type:"percent",power:"mana",appliesTo:()=>["starfire","moonfire","wrath","regrowth","rejuvenation"].some(d=>s.includes(d))},{id:16938,value:5,type:"flat",power:"energy",appliesTo:()=>["rake","claw"].some(d=>s.includes(d))},{id:16938,value:5,type:"flat",power:"rage",appliesTo:()=>["maul","swipe"].some(d=>s.includes(d))},{id:16968,value:12,type:"flat",power:"energy",appliesTo:()=>s.includes("shred")},{id:24972,value:10,type:"percent",power:"mana",appliesTo:()=>["healing touch","tranquility"].some(d=>s.includes(d))},{id:14783,value:10,type:"percent",power:"mana",appliesTo:()=>s.includes("instant")},{id:15014,value:15,type:"percent",power:"mana",appliesTo:()=>[2053,6064,25314].includes(+r)},{id:20104,value:12,type:"percent",power:"mana",appliesTo:()=>["judgement","seal"].some(d=>s.includes(d))},{id:20105,value:15,type:"percent",power:"mana",appliesTo:()=>["judgement","seal"].some(d=>s.includes(d))}].find(d=>i.some(v=>+v.SPELLID===d.id&&d.appliesTo()));R&&(a.costMod={type:R.type,value:R.value});let x=[{id:18710,value:4,appliesTo:()=>s.includes("summon")},{id:19575,value:6,appliesTo:()=>s.includes("revive pet")},{id:20498,value:.4,appliesTo:()=>s.includes("slam")},{id:16818,value:.5,appliesTo:()=>s.includes("wrath")},{id:17073,value:.5,appliesTo:()=>s.includes("healing touch")},{id:18535,value:.5,appliesTo:()=>[25314,6064,10934,15261].includes(+r)},{id:12341,value:.5,appliesTo:()=>s.includes("fireball")},{id:16766,value:.5,appliesTo:()=>s.includes("frostbolt")},{id:17792,value:.5,appliesTo:()=>["shadow bolt","immolate"].some(d=>s.includes(d))},{id:17792,value:2,appliesTo:()=>["soul fire"].some(d=>s.includes(d))},{id:17814,value:2,appliesTo:()=>s.includes("corruption")},{id:18127,value:1,appliesTo:()=>s.includes("firebolt")}].find(d=>i.some(v=>+v.SPELLID===d.id&&d.appliesTo()));x&&(a.castTimeMod={value:x.value});let q=[{id:25957,value:2,appliesTo:()=>s.includes("judgement")},{id:12302,value:1,appliesTo:()=>s.includes("taunt")},{id:20175,value:120,appliesTo:()=>s.includes("blessing of protection")},{id:20235,value:1200,appliesTo:()=>s.includes("lay on hands")},{id:13872,value:90,appliesTo:()=>["sprint","evasion"].some(d=>s.includes(d))}].find(d=>i.some(v=>+v.SPELLID===d.id&&d.appliesTo()));q&&(a.cooldownMod={value:q.value});let H=[{id:14167,value:45,type:"percent",appliesTo:()=>s.includes("slice and dice")},{id:12945,value:.5,type:"flat",unit:"sec",appliesTo:()=>s.includes("shield block")},{id:15317,value:6,type:"flat",unit:"sec",appliesTo:()=>s.includes("shadow word pain")},{id:20175,value:6,type:"flat",unit:"sec",appliesTo:()=>s.includes("blessing of freedom")}].find(d=>i.some(v=>+v.SPELLID===d.id&&d.appliesTo()));return H&&(a.durationMod=M({type:H.type,value:H.value},H.unit&&{unit:H.unit})),a}calculateDamageValues(r,i,o){let a=+r.SPELLID,s=+r.School==0,l=+r.SPELLTYPE==2,c=[2,5,10,11].includes(+r.SPELLTYPE),u=r.EffectAmplitude1>0,f=r.EffectAmplitude2>0,y=(+r.EffectBasePoints1||0)+1,m=+r.EffectDieSides1||0,D=+r.EffectBonusCoefficient1||0,R=(+r.EffectBasePoints2||0)+1,b=+r.EffectDieSides2||0,x=+r.EffectBonusCoefficient2||0,ce=this.spellSchool[+r.School||0],q=+r.EffectPointsPerComboPoint1>0?5:0,N=s&&+r.WeaponDmg||0,H=+r.EffectRealPointsPerLevel1||0,d=+r.EffectRealPointsPerLevel2||0,v=+r.BaseLevel||0,E=0,I=y;m===1&&(I+=1);let A=m>0?y+m:y,z=R;b===1&&(z+=1);let K=b>0?R+b:R;v<60&&H!==0&&(I+=H*(60-v),A+=H*(60-v)),v<60&&d!==0&&(z+=d*(60-v),K+=d*(60-v)),+r.SPELLID==20569&&i.some(te=>+te.SPELLID==20496)&&(I*=2.2,A*=2.2);let T=0,Z=0;if(s){let te=3.3;a===9850||a===9908?(te=1,o.damage.MHbase1=38,o.damage.MHbase2=46):a===9881?(te=2.5,o.damage.MHbase1=128,o.damage.MHbase2=142):+r.RangeIndex==114||+r.RangeIndex==11?te=2.8:o.damage.MHtype==="dagger"?te=1.7:o.damage.OHbase1>0&&(te=2.4),E=o.attackPower*te/14;let B=0,he=1;switch(a){case 9896:B=I+(+r.EffectPointsPerComboPoint1||0)*5,T=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude1),Z=B+o.attackPower*.2/T,I=Z,A=I+(A-y);break;case 31018:B=(+r.EffectPointsPerComboPoint1||0)*5;let Q=35*2.7;I=B+Q+o.attackPower*.06*5,A=I+(A-y);break;case 11275:B=I+(+r.EffectPointsPerComboPoint1||0)*5,T=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude1),Z=B+o.attackPower*.2/T,I=Z,A=I+(A-y);break;case 31016:B=(+r.EffectPointsPerComboPoint1||0)*5,I=B+o.attackPower*.03*5,A=I+(A-y);break;case 20662:I+=21*35,A=I+(A-y);break;case 23925:z+=o.blockValue,K+=o.blockValue;break;case 23894:I=o.attackPower*.45,A=I;break;default:N>0&&(he=N/100,R>1?(I=z,A=K,z=0,K=0):y<=1&&m<=1&&(I=0,A=0),I=(o.damage.MHbase1+E+I)*he,A=(o.damage.MHbase2+E+A)*he)}}else{if(D>0){let te=0;l?te=D*(o.spellPower.healing||0):te=D*((o.spellPower[ce]||0)+(o.spellPower.damage||0)),I+=te,A+=te}if(x>0){let te=0;l?te=x*(o.spellPower.healing||0):te=x*((o.spellPower[ce]||0)+(o.spellPower.damage||0)),z+=te,K+=te}}u?(T=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude1),I*=T,A*=T):f&&(T=this.getDoTTicks(r.DurationIndex||0,5,r.EffectAmplitude2),z*=T,K*=T);let k=this.getTalentMultiplier(a,i);return I*=k,A*=k,z*=k,K*=k,{minDmg1:I,maxDmg1:A,minDmg2:z,maxDmg2:K,ticks:T}}getTalentMultiplier(r,i,o=!0){let a=1,s=this.dataService.getSpells().find(l=>+l.SPELLID===r);return i.forEach(l=>{let c=l.TOOLTIP.toLowerCase().replace(/:/g,""),u=l.SPELLNAME,f=this.dataService.getSpells().find(y=>+y.SPELLID==+l.SPELLID);if(!f||+f.RecoveryTime<=5e3){let y=c.match(/increas(?:es|ing) (?:the |your )?(?:effect of |duration |damage |healing |critical effect chance of |damage you deal with [a-z\s-]+ )?(?:by |of )?(?:your )?(?:[a-z\s,]+?by )?(\d+)\s?(%|sec|seconds)/i),m=/\brange\b/i.test(c),D=/\bcritical (strike|effect)? chance\b/i.test(c),R=/\bcritical strike damage bonus\b/i.test(c),b=+l.SPELLID==19552||+l.SPELLID==20496||+l.SPELLID==12571||+l.SPELLID==19556,x=!o&&(+l.SPELLID==15334||+l.SPELLID==12873||+l.SPELLID==28595),ce=(u.startsWith("One-Handed")||u.startsWith("Two-Handed"))&&this.spellSchool[+s.School]==="physical";if(y&&s&&!m&&!D&&!R&&!b&&!x){let q=parseInt(y[1])/100;(+l.SPELLID==15334||+l.SPELLID==12873)&&(q=.15),+l.SPELLID==28595&&(q=.1),+l.SPELLID==15317&&(q=1/3),(c.includes(s.SPELLNAME.toLowerCase().replace(/:/g,""))&&r!==6064||this.spellSchool[+s.School]==="nature"&&c.includes("nature")&&!c.includes("nature's grasp")&&+l.SPELLID!=24946||this.spellSchool[+s.School]==="shadow"&&c.includes("shadow")&&+l.SPELLID!=15317||this.spellSchool[+s.School]==="fire"&&c.includes("fire")||this.spellSchool[+s.School]==="frost"&&c.includes("frost")||this.spellSchool[+s.School]==="arcane"&&c.includes("arcane")&&+l.SPELLID!=12503||this.spellSchool[+s.School]==="holy"&&c.includes("holy")&&+l.SPELLID!=15473&&+l.SPELLID!=20239&&+l.SPELLID!=20337||Ew[s.SPELLTYPE]==="Heal"&&c.includes("healing")&&!c.includes("mana cost")&&+l.SPELLID!=20239||this.spellSchool[+s.School]==="physical"&&c.includes("physical")||c.includes("all")&&+l.SPELLID!=16906&&+l.SPELLID!=24946&&+l.SPELLID!=28595||s.SPELLNAME.toLowerCase()==="regrowth"&&c.includes("critical effect chance")&&l.SPELLNAME.toLowerCase()==="improved regrowth"||ce)&&(a*=1+q,console.log(`Applying talent ${u} (ID: ${l.SPELLID}) to ${s.SPELLNAME} (ID: ${r}): x${a.toFixed(2)}`))}}}),a}getResistTable(r){let i=["fire","shadow","nature","frost","arcane"],o=["No Resist","Resist 25%","Resist 50%","Resist 75%","Full Resist","Binary Resist"],a=[],s=[];return i.forEach(l=>{let u=((r.resistances[l]||0)-15)/4;u=Math.max(0,Math.min(75,u)),s.push(u);let f=15,y=Math.floor(u/f),m=y<5?(u-y*f)/f:0,D=Sw.map(b=>{let x=y<5?b[y]*(1-m)+b[y+1]*m:b[5];return Math.max(0,Math.round(x*100)/100)}),R=D.reduce((b,x)=>b+x,0);Math.abs(R-100)>.01&&(D[0]+=100-R),a.push(D)}),o.map((l,c)=>l==="Binary Resist"?{label:l,fire:s[0]===100?`${s[0].toFixed(0)}%`:`${s[0].toFixed(1)}%`,shadow:s[1]===100?`${s[1].toFixed(0)}%`:`${s[1].toFixed(1)}%`,nature:s[2]===100?`${s[2].toFixed(0)}%`:`${s[2].toFixed(1)}%`,frost:s[3]===100?`${s[3].toFixed(0)}%`:`${s[3].toFixed(1)}%`,arcane:s[4]===100?`${s[4].toFixed(0)}%`:`${s[4].toFixed(1)}%`}:{label:l,fire:a[0][c]===100?`${a[0][c].toFixed(0)}%`:`${a[0][c].toFixed(1)}%`,shadow:a[1][c]===100?`${a[1][c].toFixed(0)}%`:`${a[1][c].toFixed(1)}%`,nature:a[2][c]===100?`${a[2][c].toFixed(0)}%`:`${a[2][c].toFixed(1)}%`,frost:a[3][c]===100?`${a[3][c].toFixed(0)}%`:`${a[3][c].toFixed(1)}%`,arcane:a[4][c]===100?`${a[4][c].toFixed(0)}%`:`${a[4][c].toFixed(1)}%`})}getCombatTable(r,i,o){let s=i.critChance||0,l=200;o==="spell"&&(s=i.spellCritChance||0,l=150);let c=5,u=$t[r.CLASSID]?.[r.SPEC]?.role==="tank"?14:0,f=5,y=i.damage.MHskill||300;o==="ranged"?(y=i.damage.Rskill||300,l=230):r&&(+r.CLASSID==4||+r.CLASSID==3&&+r.SPEC!=1)?l=200:r&&+r.CLASSID==7&&+r.SPEC!=2&&(l=220);let m=Math.max(0,315-y);m>10?f+=m*.2:f+=m*.1,c+=m*.1;let D,R=100;switch(m>5&&(R-=(m-5)*3),o){case"dual-wield":f=f*.8+20-i.hitChance,D=40;break;case"melee":f=Math.max(0,f-i.hitChance),D=40;break;case"ranged":f=Math.max(0,f-i.hitChance),D=0,c=0;break;case"spell":f=Math.max(0,17-i.spellHitChance),$t[r.CLASSID]?.[r.SPEC]?.role==="heal"&&(f=0),s*=(100-f)/100,D=0,c=0;break;default:f=8,D=40}o!=="spell"&&(s=Math.max(s-4.8,0));let b=100-f-c-u-D-s;return[{label:"Miss",value:`${f.toFixed(2)}%`,damage:"0%"},{label:"Dodge",value:`${c.toFixed(2)}%`,damage:"0%"},{label:"Parry",value:`${u.toFixed(2)}%`,damage:"0%"},{label:"Glancing",value:`${D.toFixed(2)}%`,damage:`${R.toFixed(0)}%`},{label:"Crit",value:`${s.toFixed(2)}%`,damage:`${l.toFixed(0)}%`},{label:"Hit",value:`${Math.max(b,0).toFixed(2)}%`,damage:"100%"}].filter(x=>parseFloat(x.value)>0)}};n.\u0275fac=function(i){return new(i||n)(F(bt))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var nn=(()=>{let n=class n{constructor(r){this.dataService=r}getClassName(r=7){return{0:"Druid",1:"Priest",2:"Paladin",3:"Mage",4:"Warlock",5:"Hunter",6:"Rogue",7:"Warrior"}[r]||"warrior"}getColor(r){return{0:"#FF7D0A",1:"#FFFFFF",2:"#F58CBA",3:"#69CCF0",4:"#9482C9",5:"#ABD473",6:"#FFF569",7:"#C79C6E"}[r]||"gray"}getRaceName(r){let i=Wn.find(o=>o.RACEID===r);return i?i.RACE.replace(" ",""):"human"}getTalentName(r,i){return!r||!r.CLASSID||r.CLASSID==null||i==null?"":$t[r.CLASSID]?.[i].name??""}getTalentIcon(r,i){return!r||!r.CLASSID||r.CLASSID==null?"default":$t[r.CLASSID]?.[i].icon??""}getRoleIcon(r,i){return"assets/icons/role_"+this.getRole(r,i)+"2.png"}getRole(r,i){return $t[r][i].role}getSlotName(r){let i=Ri.find(o=>o.slot===r);return i?i.name:`Slot ${r}`}getSlotSide(r){let i=Ri.find(o=>o.slot===r);return i?i.side:"left"}getItemIcon(r){let i=this.dataService.getItemsMap().get(r);return i?`/assets/icons/${i.icon_name}.jpg`:"/assets/icons/default.jpg"}getItemTooltip(r,i){let o=this.dataService.getItemsMap().get(r);return o?o.tooltip?o.tooltip:i?`Name: ${o.name||"Unknown"}
Slot: ${this.getSlotName(i.find(a=>a.dbId===r)?.slot||0)}
DB_ID: ${r}
DISP_ID: ${o.disp_id}
EQ_TYPE: ${o.eq_type}`:`Name: ${o.name||"Unknown"}`:`Unknown Item (DB_ID: ${r})`}isPhysicalDps(r,i){return[5,6,7].includes(r)||r===2&&i===2||r===0&&i===1}};n.\u0275fac=function(i){return new(i||n)(F(bt))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Qo=(()=>{let n=class n{constructor(r,i,o){this.dataService=r,this.statsService=i,this.utilityService=o}getFilteredInventoryItems(r,i,o,a){if(!i)return[];if(o==="equipment")return a.find(c=>c.slot===r)?.dbIds.filter(c=>{let u=this.dataService.getItemsMap().get(c);return u?u.eq_type===r&&![11,12,13,14,22].includes(r)||r===5&&u.eq_type===20||r===21&&[13,17,21].includes(u.eq_type)||r===22&&([14,23].includes(u.eq_type)||[13,22].includes(u.eq_type)&&[5,6,7].includes(+i.CLASSID))||r===26&&u.eq_type===28||[11,12].includes(r)&&u.eq_type===11||[13,14].includes(r)&&u.eq_type===12:!1})||[];let s=1<<+i.CLASSID,l=Array.from(this.dataService.getItemsMap().keys()).filter(c=>{let u=this.dataService.getItemsMap().get(c);if(!u||!u.class_mask||!u.source||isNaN(+u.class_mask))return!1;let f=(+u.class_mask&s)!==0,y=u.eq_type===r&&![11,12,13,14,22].includes(r)||r===5&&u.eq_type===20||r===21&&[13,17,21].includes(u.eq_type)||r===22&&([14,23].includes(u.eq_type)||[13,22].includes(u.eq_type)&&[5,6,7].includes(+i.CLASSID))||r===26&&u.eq_type===28||[11,12].includes(r)&&u.eq_type===11||[13,14].includes(r)&&u.eq_type===12;return o==="crafted"?f&&u.source==="Crafted"&&y:o==="mcquest"?f&&["MC","QUEST"].includes(u.source)&&y:o==="dungeon"?f&&["Dungeon"].includes(u.source)&&y:!1});return l=l.sort((c,u)=>{let f=this.dataService.getItemsMap().get(c),y=this.dataService.getItemsMap().get(u);return y.bis!==f.bis?(y.bis??0)-(f.bis??0):(y.item_level??0)-(f.item_level??0)}).slice(0,18),l}isItemOwned(r,i,o){return i.some(a=>a.dbIds.includes(r))||o.some(a=>a.dbId===r)}canAffordItem(r,i){let o=this.dataService.getItemsMap().get(r);if(!o)return!1;let a=parseInt(o.fiery_core)||0,s=parseInt(o.lava_core)||0;return i.fieryCores>=a&&i.lavaCores>=s}buyItem(r,i,o,a,s,l){let c=this.dataService.getItemsMap().get(r);if(!c||this.isItemOwned(r,s,[])||!this.canAffordItem(r,a))return;let u=parseInt(c.fiery_core)||0,f=parseInt(c.lava_core)||0;a.fieryCores-=u,a.lavaCores-=f;let m={17:21,21:21,14:22,23:22,13:23,12:13,20:5}[c.eq_type]??c.eq_type;if(({23:[21,22],13:[13,14],11:[11,12]}[m]||[m]).forEach(b=>{let x=s.find(ce=>ce.slot===b);x||(x={slot:b,dbIds:[]},s.push(x)),x.dbIds.push(r)}),o!==-1){let b=l[o].INVENTORY?l[o].INVENTORY.split(";").map(x=>+x.trim()):[];b.push(r),l[o].INVENTORY=b.join(";")}}swapItem(r,i,o,a,s,l,c){if(!o)return;let u=s.findIndex(m=>m.slot===r);if(u===-1)return;let f=r,y=i?this.dataService.getItemsMap().get(i):null;try{if(i===null)s[u].dbId=-1,c&&(l[a][`SLOT_${r}`]="");else{if(s[u].dbId=i,c&&(l[a][`SLOT_${r}`]=i.toString()),y&&y.eq_type===17){let m=s.findIndex(D=>D.slot===22);m!==-1&&s[m].dbId!==-1&&(s[m].dbId=-1,c&&(l[a].SLOT_22=""))}if(f===22){let m=s.findIndex(D=>D.slot===21);if(m!==-1){let D=this.dataService.getItemsMap().get(s[m].dbId);D&&D.eq_type===17&&(s[m].dbId=-1,c&&(l[a].SLOT_21=""))}}}}catch(m){console.error(`Error updating model viewer for slot ${r}:`,m)}}optimizeGear(r){r.forEach((i,o)=>{let a=Number(i.CLASSID),s=Number(i.SPEC),l=i.INVENTORY||"",c=this.utilityService.getRole(a,s),u=l?l.split(";").map(Number).filter(E=>this.dataService.getItemsMap().get(E)):[],f=new Map;u.forEach(E=>{let I=this.dataService.getItemsMap().get(E);if(I?.eq_type){let A=this.statsService.calculateItemWeight(I,a,s);c==="tank"&&I.eq_type===14&&(A*=1e4),f.has(I.eq_type)||f.set(I.eq_type,[]),f.get(I.eq_type).push({id:E,weight:A})}}),f.forEach(E=>E.sort((I,A)=>A.weight-I.weight));let y=E=>{let I=null;return E.forEach(A=>{let z=f.get(A)?.[0];z&&(!I||z.weight>I.weight)&&(I=z)}),I},m=E=>E.flatMap(A=>f.get(A)||[]).sort((A,z)=>z.weight-A.weight).slice(0,2);[1,2,3,6,7,8,9,10,16,26].forEach(E=>{let I=f.get(E)?.[0];I&&(i[`SLOT_${E}`]=I.id.toString())});let R=y([5,20]);if(R&&(i.SLOT_5=R.id.toString()),(f.get(11)?.slice(0,2)||[]).forEach((E,I)=>{i[`SLOT_${11+I}`]=E.id.toString()}),(f.get(12)?.slice(0,2)||[]).forEach((E,I)=>{i[`SLOT_${13+I}`]=E.id.toString()}),a===0||a===2){let E=f.get(28)?.[0];E&&(i.SLOT_26=E.id.toString())}else{let E=f.get(26)?.[0];E&&(i.SLOT_26=E.id.toString())}let ce=m([13,21]),N=m(a===5||a===6||a===7?[13,14,22]:[14,23]),H=ce[0]||null,d=N[0]||null;if(H&&d&&H.id===d.id&&N.length>1&&(d=N[1]),H&&(i.SLOT_21=H.id.toString()),d&&(i.SLOT_22=d.id.toString()),!(a===2&&s===1||a===7&&(s===1||s===2)||a===6)){let E=f.get(17)?.[0];if(E&&H&&d){let I=H.weight+d.weight;E.weight>I&&(i.SLOT_21=E.id.toString(),i.SLOT_22="")}}})}getEquippedItemsForPlayer(r,i){let o=i[r];return Ri.map(a=>({slot:a.slot,dbId:Number(o[`SLOT_${a.slot}`])||-1}))}};n.\u0275fac=function(i){return new(i||n)(F(bt),F(qn),F(nn))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Yu=(()=>{let n=class n{constructor(r,i,o,a){this.statsService=r,this.dataService=i,this.utilityService=o,this.gearService=a,this.statWeights=[],this.tankClasses=new Set([0,2,7]),this.healerClasses=new Set([0,1,2]),this.guildWeek=1,this.dungeonAssignments=[],this.dungeonProgress={week:0,attempts:0}}getGuildWeek(){return this.dataService.getGuildWeek()}setGuildWeek(r){this.dataService.setGuildWeek(r)}getDungeonAssignments(){return this.dataService.getDungeonAssignments()}setDungeonAssignments(r){this.dataService.setDungeonAssignments(r)}getDungeonProgress(){return this.dataService.getDungeonProgress()}setDungeonProgress(r){this.dataService.setDungeonProgress(r)}getDungeonSummary(r){return r.startsWith("Dire")?tn["Dire Maul"]+(tn[r]||"")+tn["Dire Maul Conclusion"]:r.endsWith("Stratholme")?tn.Stratholme+(tn[r]||"")+tn["Stratholme Conclusion"]:r.endsWith("Spire")?tn["Blackrock Spire"]+(tn[r]||"")+tn["Blackrock Spire Conclusion"]:tn[r]?tn[r]:"No summary available"}getDungeonImage(r){return r==="Blackrock Depths"?"/assets/images/Blackrock_Depths_loading_screen.jpg":["Upper Blackrock Spire","Lower Blackrock Spire"].includes(r)?"/assets/images/Blackrock_Spire_loading_screen.jpg":["Dire Maul East","Dire Maul West","Dire Maul North","Dire Maul Tribute"].includes(r)?"/assets/images/Dire_Maul_loading_screen.jpg":r==="Scholomance"?"/assets/images/Scholomance_old_loading_screen.jpg":["Live Stratholme","Undead Stratholme"].includes(r)?"/assets/images/Stratholme_loading_screen.jpg":r==="Sunken Temple"?"/assets/images/Temple_of_Atal'Hakkar_loading_screen.jpg":r==="Maraudon"?"/assets/images/Maraudon_loading_screen.jpg":"/assets/images/Molten_Core_loading_screen.jpg"}getDungeonLevel(r){let i=this.dataService.getDungeonBosses().filter(l=>l.DUNGEON===r);if(!i.length)return"(?)";let o=i.map(l=>Number(l.LEVEL)),a=Math.min(...o),s=Math.max(...o);return a===s?`(${a})`:`(${a} - ${s})`}isDungeonAvailable(r,i){if(!i)return!0;let o=this.dataService.getDungeonUnlocks().find(s=>s.UNLOCK===i),a=o?o.NPC_ID:null;return a?this.getBossKills(r,+a)>=1:!0}isDungeonAvailableForGroup(r,i){if(r.length===0)return!1;let o=this.dataService.getDungeonUnlocks().find(s=>s.UNLOCK===i),a=o?o.NPC_ID:null;return r.every(s=>a?this.getBossKills(s,+a)>=1:!0)}getBossKills(r,i){if(!r.DUNGEON_EXP)return 0;let o=new Map;return r.DUNGEON_EXP.split(";").forEach(a=>{if(a){let[s,l]=a.split(":"),c=parseInt(s,10),u=parseInt(l,10);!isNaN(c)&&!isNaN(u)&&o.set(c,u)}}),o.get(i)||0}getCompositionPenalty(r,i){let f=Uu[r];if(!f)return 0;let y=q=>{let[N,H]=q.split(":");return{role:N,className:H}},m=f.map(q=>{let N=(Array.isArray(q)?q:[q]).map(y),H=N[0].role,d=Array.from(new Set(N.map(v=>v.className)));return{alts:N,role:H,classes:d}}),D=i.map(q=>({role:this.utilityService.getRole(+q.CLASSID,+q.SPEC),classId:+q.CLASSID,className:this.utilityService.getClassName(q.CLASSID)})),R=0,b=new Set;m.forEach(q=>{let N=D.findIndex((H,d)=>!b.has(d)&&q.alts.some(v=>v.role===H.role&&v.className===H.className));N>=0&&(b.add(N),q.matched=!0)}),m.forEach(q=>{if(!q.matched){if(q.role==="heal"){let N=D.findIndex((d,v)=>!b.has(v)&&this.healerClasses.has(d.classId)),H=D.findIndex((d,v)=>!b.has(v)&&this.healerClasses.has(d.classId)&&d.role==="heal");H>=0?(b.add(H),q.matched=!0):N>=0?(R+=2,b.add(N),q.matched=!0):R+=5}else if(q.role==="tank"){let N=D.findIndex((d,v)=>!b.has(v)&&this.tankClasses.has(d.classId)),H=D.findIndex((d,v)=>!b.has(v)&&this.tankClasses.has(d.classId)&&d.role==="tank");H>=0?(b.add(H),q.matched=!0):N>=0?(R+=3,b.add(N),q.matched=!0):R+=7}}});let x=m.filter(q=>!q.matched&&q.role==="damage").length;x>0&&(R+=x*0);let ce=new Map;return D.forEach(q=>ce.set(q.className,1+(ce.get(q.className)??0))),m.forEach(q=>{q.classes.some(H=>ce.has(H))||(R+=2)}),R}simulateDungeonRun(r,i,o,a,s){let l=[];o[r].bosses=[];let c=o[r].players.flat().filter(N=>N),u=c.map(N=>a.findIndex(H=>H.NAME===N.NAME)),f=u.map(N=>this.statsService.getPlayerGearScore(a,N)),y=o[r].penalty,m=this.dataService.getDungeonBosses().filter(N=>N.DUNGEON===i).sort((N,H)=>N.ORDER-H.ORDER),D=!1,R=0,b=s.gold,x=Math.floor(Math.random()*6)+9027;for(let N of m){if([9027,9028,9029,9030,9031,9032].includes(+N.NPC_ID)){if(+N.NPC_ID!==x)continue}else if(+N.SPAWN<1&&Math.random()>+N.SPAWN)continue;let H=0,d="";for(;!D;){let v=u.map(z=>Math.min(this.getBossKills(a[z],+N.NPC_ID),5)),E=u.map((z,K)=>f[K]+v[K]),I=E.reduce((z,K)=>z+K,0)/E.length,A=this.successRate(I-y,+N.LEVEL);if(Math.random()<A){if(u.forEach((z,K)=>{let T=a[z],Z=new Map;T.DUNGEON_EXP&&T.DUNGEON_EXP.split(";").forEach(k=>{if(k){let[te,B]=k.split(":");Z.set(parseInt(te,10),parseInt(B,10))}}),v[K]===0&&this.dataService.getDungeonQuests().forEach(k=>{if(+k.NPC_ID==+N.NPC_ID&&Number(k.CLASS_MASK)&1<<Number(T.CLASSID)){let B=(T.INVENTORY||"").split(";").filter(Q=>Q),he=!1;for(let Q=0;Q<=5;Q++){let ie=`ITEM_${Q}`,W=k[ie];if(W){let Se=this.dataService.getItemsMap().get(+W);Se&&Number(Se.class_mask)&1<<Number(T.CLASSID)&&(he=!0,B.push(W.toString()),l.push({itemId:Number(W),playerName:T.NAME,playerClass:T.CLASSID}))}}he&&(a[z].INVENTORY=B.join(";"))}}),Z.set(N.NPC_ID,v[K]+1),T.DUNGEON_EXP=Array.from(Z.entries()).map(([k,te])=>`${k}:${te}`).join(";")}),d+="\u2713",o[r].bosses.push({bossName:N.NAME,results:d}),+N.LOOT==1){let z=this.dataService.getDungeonDrops().filter(K=>K.NPC_ID===N.NPC_ID);for(let K of z)if(Math.random()<+K.DROP_PCT){let T=this.dataService.getItemsMap().get(+K.DB_ID);if(!T)continue;+K.DB_ID==22397&&console.log("idol of ferocity dropped");let Z=c.filter(B=>(Number(T.class_mask)&1<<Number(B.CLASSID))!==0?!new Set((B.INVENTORY||"").split(";").filter(ie=>ie)).has(K.DB_ID.toString()):!1);if(Z.length===0){s.gold+=Number(K.VALUE);continue}let k=[],te=new Map;for(let B of Z){let he=u.find(oe=>a[oe].NAME===B.NAME),Q=this.statsService.calculateItemWeight(T,Number(B.CLASSID),Number(B.SPEC)),W=this.gearService.getEquippedItemsForPlayer(he,a).filter(oe=>oe.dbId!==-1&&this.dataService.getItemsMap().get(oe.dbId)?.eq_type===T.eq_type).map(oe=>oe.dbId),Se=a[he].INVENTORY||"",qe=Se?Se.split(";").map(Number).filter(oe=>this.dataService.getItemsMap().get(oe)?.eq_type===T.eq_type):[],Xe=[...new Set([...W,...qe])],rt=0;Xe.forEach(oe=>{let De=this.dataService.getItemsMap().get(oe);if(De){let Ve=this.statsService.calculateItemWeight(De,Number(B.CLASSID),Number(B.SPEC));rt=Math.max(rt,Ve)}}),te.set(B.NAME,rt),Q>rt&&k.push({player:B,playerIndex:he,improvement:Q-rt})}if(k.length>0){let B=k.filter(Se=>this.matchRole(Number(Se.player.CLASSID),Number(Se.player.SPEC),T.role||"")),he=B.length>0?B:k,Q=he[Math.floor(Math.random()*he.length)],W=(a[Q.playerIndex].INVENTORY||"").split(";").filter(Se=>Se);W.includes(K.DB_ID.toString())?s.gold+=Number(K.VALUE):(W.push(K.DB_ID.toString()),a[Q.playerIndex].INVENTORY=W.join(";"),l.push({itemId:K.DB_ID,playerName:Q.player.NAME,playerClass:Number(Q.player.CLASSID)}))}else{let B=[];for(let he of Z){let Q=u.find(Se=>a[Se].NAME===he.NAME),ie=this.statsService.calculateItemWeight(T,Number(he.CLASSID),Number(he.SPEC)),W=te.get(he.NAME)??0;ie>W*.9&&B.push({player:he,playerIndex:Q})}if(B.length>0){let he=B[Math.floor(Math.random()*B.length)],ie=(a[he.playerIndex].INVENTORY||"").split(";").filter(W=>W);ie.includes(K.DB_ID.toString())?s.gold+=Number(K.VALUE):(ie.push(K.DB_ID.toString()),a[he.playerIndex].INVENTORY=ie.join(";"),l.push({itemId:K.DB_ID,playerName:he.player.NAME,playerClass:Number(he.player.CLASSID)}))}else s.gold+=Number(K.VALUE)}}}break}else if(d+="X",H++,R++,Math.random()<R*.05){D=!0,o[r].bosses.push({bossName:N.NAME,results:d});break}}}let ce=o[r].bosses.filter(N=>N.results.endsWith("\u2713")).length,q=o[r].bosses.length;return o[r].progress=D?`Abandoned after ${q-1} boss(es)`:`Completed ${ce} / ${q} bosses`,i==="Upper Blackrock Spire"?!D&&s.gold-b<50&&(s.gold=b+50):!D&&s.gold-b<25&&(s.gold=b+25),l}successRate(r,i){let o=r-i,a=Math.max(-8,Math.min(8,o)),s=Math.log(1e3)/8;return 1/(1+Math.exp(-s*a))}matchRole(r,i,o){let a=this.utilityService.getRole(r,i);return!!(a==="tank"&&o.toUpperCase()==="TANK"||a==="heal"&&o.toUpperCase()==="HEAL"||a==="damage"&&(o.toUpperCase()==="PHYS"&&this.utilityService.isPhysicalDps(r,i)||o.toUpperCase()==="MAGI"&&!this.utilityService.isPhysicalDps(r,i)))}};n.\u0275fac=function(i){return new(i||n)(F(qn),F(bt),F(nn),F(Qo))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var bR=()=>({"margin-right.px":20}),IR=()=>({"margin-left.px":50}),TR=e=>({"active-slot":e});function xR(e,n){if(e&1){let t=we();Rr(0),g(1,"button",9),$("click",function(){L(t);let i=C().$implicit,o=C(3);return V(o.handlePlayerClick(i))}),g(2,"div",17),_(3),h(),_(4),h(),G(5,"img",18),Ar()}if(e&2){let t=C().$implicit,r=C(3);p(),w("ngStyle",r.getCellStyle(t)),p(2),ue(" ",r.getGearScore(t.NAME).toFixed(1)," "),p(),ue(" ",t.NAME," "),p(),w("src","assets/icons/role_"+r.utilityService.getRole(t.CLASSID,t.SPEC)+"2.png",Re)}}function MR(e,n){if(e&1&&(g(0,"td",16),j(1,xR,6,4,"ng-container",4),h()),e&2){let t=n.$implicit;p(),w("ngIf",t)}}function RR(e,n){if(e&1&&(g(0,"tr"),j(1,MR,2,1,"td",15),h()),e&2){let t=n.$implicit;p(),w("ngForOf",t)}}function AR(e,n){if(e&1&&(g(0,"div")(1,"table"),j(2,RR,2,1,"tr",14),h()()),e&2){let t=C();p(2),w("ngForOf",t.grid)}}function PR(e,n){if(e&1&&(g(0,"option",27),_(1),h()),e&2){let t=n.$implicit;w("ngValue",t),p(),ue(" ",t," ")}}function NR(e,n){if(e&1){let t=we();g(0,"button",28),$("click",function(){L(t);let i=C(2);return V(i.addDungeonRowClicked())}),_(1," Add Dungeon "),h()}}function OR(e,n){if(e&1&&(g(0,"div",30),_(1),h()),e&2){let t=n.$implicit,r=C(3);p(),jn(" ",t.bossName," (",r.getBossLevel(t.bossName),"): ",t.results," ")}}function kR(e,n){if(e&1&&(g(0,"details")(1,"summary"),_(2),h(),j(3,OR,2,3,"div",29),h()),e&2){let t=C().index,r=C();p(2),J(r.dungeonAssignments[t].progress),p(),w("ngForOf",r.dungeonAssignments[t].bosses)}}function FR(e,n){if(e&1&&(g(0,"div",30),_(1),h()),e&2){let t=n.$implicit;p(),ue(" ",t," ")}}function LR(e,n){if(e&1&&(g(0,"details")(1,"summary"),_(2),h(),j(3,FR,2,1,"div",29),h()),e&2){let t=C().index,r=C();p(2),ue("Composition Penalty: -",r.dungeonAssignments[t].penalty),p(),w("ngForOf",r.dungeonCompositions[r.dungeonAssignments[t].dungeon||""])}}function VR(e,n){if(e&1&&G(0,"img",18),e&2){let t=C().$implicit,r=C(3);w("src","assets/icons/role_"+r.utilityService.getRole(t.CLASSID,t.SPEC)+"2.png",Re)}}function jR(e,n){if(e&1&&(g(0,"div",37)(1,"div",38),_(2),h(),g(3,"div",39),_(4),h()()),e&2){let t=C().$implicit,r=C(3);p(),Do("color",r.getColor(t.CLASSID)),p(),ue(" ",t.NAME," "),p(2),Ks(" ",r.getClassName(t.CLASSID)," ",r.getGearScore(t.NAME).toFixed(1)," ")}}function HR(e,n){if(e&1&&(g(0,"span"),_(1),h()),e&2){let t=C().index;p(),ue("Slot ",t+1)}}function BR(e,n){if(e&1){let t=we();g(0,"div",33)(1,"button",34),$("click",function(){let i=L(t).index,o=C().index,a=C().index,s=C();return V(s.setActiveSlotClicked(a,o,i))}),j(2,VR,1,1,"img",35)(3,jR,5,5,"div",36)(4,HR,2,1,"span",4),h()()}if(e&2){let t=n.$implicit,r=n.index,i=C().index,o=C().index,a=C();p(),w("ngClass",gt(4,TR,a.activeSlot&&a.activeSlot.group===o&&a.activeSlot.row===i&&a.activeSlot.slot===r)),p(),w("ngIf",t),p(),w("ngIf",t),p(),w("ngIf",!t)}}function UR(e,n){if(e&1&&(g(0,"div",31),j(1,BR,5,6,"div",32),h()),e&2){let t=n.$implicit;p(),w("ngForOf",t)}}function $R(e,n){if(e&1){let t=we();g(0,"div",19)(1,"div",20)(2,"select",21),jt("ngModelChange",function(i){let o=L(t).index,a=C();return Xt(a.dungeonAssignments[o].dungeon,i)||(a.dungeonAssignments[o].dungeon=i),V(i)}),$("change",function(){let i=L(t).index,o=C();return V(o.onDungeonChange(i))}),g(3,"option",22),_(4,"Select Dungeon"),h(),j(5,PR,2,2,"option",23),h(),g(6,"span",24),_(7),h(),j(8,NR,2,0,"button",25),h(),j(9,kR,4,2,"details",4)(10,LR,4,2,"details",4)(11,UR,2,1,"div",26),h()}if(e&2){let t=n.$implicit,r=n.index,i=C();p(2),Vt("ngModel",i.dungeonAssignments[r].dungeon),p(),w("ngValue",null),p(2),w("ngForOf",i.dataService.getUniqueDungeons()),p(2),J(i.getDungeonLevel(i.dungeonAssignments[r].dungeon||"")),p(),w("ngIf",r===i.dungeonAssignments.length-1&&t.dungeon),p(),w("ngIf",i.dungeonAssignments[r].progress),p(),w("ngIf",i.dungeonAssignments[r].penalty>0),p(),w("ngForOf",t.players)}}function zR(e,n){if(e&1&&(g(0,"tr")(1,"td",42),G(2,"img",43),h(),g(3,"td",44)(4,"span"),_(5),h()(),g(6,"td",45),G(7,"div",46),h()()),e&2){let t=n.$implicit,r=C(2);p(2),w("src",r.getItemIcon(+t.itemId),Re),p(2),Do("color",r.getColor(t.playerClass)),p(),J(t.playerName),p(),w("innerHTML",r.utilityService.getItemTooltip(+t.itemId,null),St),p(),w("innerHTML",r.utilityService.getItemTooltip(+t.itemId,null),St)}}function GR(e,n){if(e&1&&(g(0,"div",40)(1,"h2"),_(2,"Dungeon Loot"),h(),g(3,"table",41),j(4,zR,8,6,"tr",14),h()()),e&2){let t=C();p(4),w("ngForOf",t.dungeonUpgrades)}}function WR(e,n){if(e&1&&(g(0,"details",47)(1,"summary"),_(2),h(),g(3,"div",48),G(4,"img",49),g(5,"div",50),G(6,"p",51),h()()()),e&2){let t=n.$implicit,r=C();p(2),J(t),p(2),w("alt",Dp("",t," background"))("src",r.getDungeonImage(t),Re),p(2),w("innerHTML",r.getDungeonSummary(t),St)}}function qR(e,n){if(e&1&&(g(0,"li"),_(1),h()),e&2){let t=n.$implicit;p(),ue(" ",t.NAME," ")}}function YR(e,n){if(e&1&&(g(0,"details")(1,"summary"),_(2),h(),g(3,"ul"),j(4,qR,2,1,"li",14),h()()),e&2){let t=C().$implicit,r=C();p(2),ue("Missing Unlock (",r.getLockedPlayers(t).length,")"),p(2),w("ngForOf",r.getLockedPlayers(t))}}function KR(e,n){if(e&1&&(g(0,"div",47)(1,"strong"),_(2),h(),_(3),j(4,YR,5,2,"details",4),h()),e&2){let t=n.$implicit,r=C();p(2),J(t.UNLOCK),p(),jn(": ",r.getUnlockedPlayerCount(t),"/",r.players.length," - Kill: ",r.getBossName(+t.NPC_ID)||"NPC ID "+t.NPC_ID," "),p(),w("ngIf",r.getLockedPlayers(t).length>0)}}var Jo=(()=>{let n=class n{constructor(r,i,o,a){this.dungeonService=r,this.utilityService=i,this.dataService=o,this.statsService=a,this.grid=[],this.players=[],this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.playerGearScores=new Map,this.dungeonCompositions=Uu,this.dungeonUpgrades=[],this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}],this.guildWeek=1,this.dungeonProgress={week:this.guildWeek,attempts:0},this.activeSlot=null}calcAllGearScores(){this.playerGearScores.clear(),this.players.forEach((r,i)=>{let o=this.statsService.getPlayerGearScore(this.players,i);this.playerGearScores.set(r.NAME,o)})}syncDataFromService(){this.dungeonAssignments=this.dungeonService.getDungeonAssignments(),this.dungeonProgress=this.dungeonService.getDungeonProgress(),this.guildWeek=this.dungeonService.getGuildWeek(),this.calcAllGearScores()}syncDataToService(){this.dungeonService.setDungeonAssignments(this.dungeonAssignments),this.dungeonService.setDungeonProgress(this.dungeonProgress||{week:this.guildWeek,attempts:0}),this.dungeonService.setGuildWeek(this.guildWeek)}getGearScore(r){return this.playerGearScores.get(r)??0}getDungeonImage(r){return this.dungeonService.getDungeonImage(r)}getDungeonSummary(r){return this.dungeonService.getDungeonSummary(r)}getDungeonLevel(r){return this.dungeonService.getDungeonLevel(r)}getCompositionPenalty(r,i){return this.dungeonService.getCompositionPenalty(r,i)}getBossName(r){let i=this.dataService.getDungeonBosses().find(o=>+o.NPC_ID===r);return i?i.NAME:null}getBossLevel(r){let i=this.dataService.getDungeonBosses().find(o=>o.NAME===r);return i?i.LEVEL:null}getDungeonUnlocks(){return this.dataService.getDungeonUnlocks()}getUnlockedPlayerCount(r){return r.NPC_ID?this.players.filter(i=>this.dungeonService.getBossKills(i,+r.NPC_ID)>=1).length:this.players.length}getLockedPlayers(r){return r.NPC_ID?this.players.filter(i=>this.dungeonService.getBossKills(i,+r.NPC_ID)<1):[]}getLockedPlayersNames(r){return this.getLockedPlayers(r).map(i=>i.NAME).join(", ")}isDungeonAvailableForGroup(r,i){let o=this.dungeonAssignments[r].players.flat().filter(a=>a);return this.dungeonService.isDungeonAvailableForGroup(o,i)}isRunDungeonDisabled(){return!!(!this.dungeonAssignments.some(r=>r.dungeon!==null)||this.dungeonProgress&&this.dungeonProgress.attempts>=10)}getCellStyle(r){if(!r)return{"background-color":"#d3d3d3",color:"black"};let i=this.dungeonAssignments.some(s=>s.players.some(l=>l.some(c=>c&&c.NAME===r.NAME))),o=this.activeSlot&&!this.dungeonService.isDungeonAvailable(r,this.activeSlot?this.dungeonAssignments[this.activeSlot.group]?.dungeon:null);return{"background-color":this.activeSlot&&(i||o)?"#d3d3d3":this.utilityService.getColor(r.CLASSID),color:"black",border:this.activeSlot&&this.activeSlot.group===r.GROUP&&this.activeSlot.slot===r.POSITION?"2px solid red":"1px solid black"}}getRoleIcon(r,i){return this.utilityService.getRoleIcon?.(r,i)||`/assets/icons/role-${r}.png`}getItemIcon(r){return this.utilityService.getItemIcon?.(r)||`/assets/icons/item-${r}.png`}getItemTooltip(r,i){return this.utilityService.getItemTooltip?.(r,i)||`Item ID: ${r}`}onDungeonChange(r){let i=this.dungeonAssignments[r].dungeon;i==="Upper Blackrock Spire"?this.dungeonAssignments[r].players=[Array(5).fill(null),Array(5).fill(null)]:this.isDungeonAvailableForGroup(r,i||"")||(this.dungeonAssignments[r].players=[Array(5).fill(null)]),this.dungeonAssignments[r].bosses=[],this.dungeonAssignments[r].progress="",this.dungeonAssignments[r].penalty=0,this.updateGroupPenalty(r)}addDungeonRowClicked(){this.addDungeonRow()}addDungeonRow(){this.dungeonAssignments.push({dungeon:null,players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0})}runDungeonsClicked(){this.runDungeons()}runDungeons(){this.dungeonUpgrades=[];for(let r=0;r<this.dungeonAssignments.length;r++){let i=this.dungeonAssignments[r],o=i.players.flat().every(s=>s!==null),a=Number(this.dungeonProgress?.attempts||0);(a<10&&i.dungeon!=="Upper Blackrock Spire"||a<9)&&i.dungeon&&o&&this.isDungeonAvailableForGroup(r,i.dungeon)&&this.simulateDungeonRun(r,i.dungeon)}this.calcAllGearScores(),this.savePlayersToStorage(),this.saveBankToStorage(),this.saveAssignmentsToStorage(),this.syncDataToService()}simulateDungeonRun(r,i){let o=this.dungeonService.simulateDungeonRun(r,i,this.dungeonAssignments,this.players,this.guildBank);this.dungeonUpgrades.push(...o),this.updateDungeonProgress(!0),i==="Upper Blackrock Spire"&&this.updateDungeonProgress(!0)}updateDungeonProgress(r=!0){r?this.dungeonProgress&&this.dungeonProgress.attempts++:this.dungeonProgress={week:this.guildWeek,attempts:0};try{localStorage.setItem("dungeonProgress",JSON.stringify(this.dungeonProgress))}catch(i){console.error("Error saving dungeonProgress to localStorage:",i)}}clearAssignmentsClicked(){this.clearAssignments()}clearAssignments(){this.dungeonAssignments=[{dungeon:"Blackrock Depths",players:[Array(5).fill(null)],bosses:[],progress:null,penalty:0}],this.dungeonUpgrades=[]}setActiveSlotClicked(r,i,o){this.setActiveSlot(r,i,o)}setActiveSlot(r,i,o){this.activeSlot&&this.activeSlot.group===r&&this.activeSlot.row===i&&this.activeSlot.slot===o?this.activeSlot=null:this.activeSlot={group:r,row:i,slot:o}}handlePlayerClick(r){this.activeSlot&&this.assignPlayerToSlot(r,this.activeSlot.group,this.activeSlot.row,this.activeSlot.slot)}assignPlayerToSlot(r,i,o,a){!this.dungeonAssignments.some(l=>l.players.some(c=>c.some(u=>u&&u.NAME===r.NAME)))&&this.dungeonService.isDungeonAvailable(r,this.dungeonAssignments[i].dungeon)&&(this.dungeonAssignments[i].players[o][a]=r,this.activeSlot=null,this.updateGroupPenalty(i))}updateGroupPenalty(r){let o=this.dungeonAssignments[r].players.flat().every(a=>a!==null);if(console.log("dungeon filled:",o),o&&this.dungeonAssignments[r].dungeon){console.log("checking dungeon");let a=this.dungeonAssignments[r].players.flat().filter(s=>s);this.dungeonAssignments[r].penalty=this.getCompositionPenalty(this.dungeonAssignments[r].dungeon,a)}}nextWeekClicked(){this.nextWeek()}nextWeek(){this.guildWeek++,localStorage.setItem("guildWeek",this.guildWeek.toString()),this.updateDungeonProgress(!1)}getColor(r){return this.utilityService.getColor(r)}getClassName(r){return this.utilityService.getClassName(r)}saveAssignmentsToStorage(){this.dataService.saveVariableToStorage("dungeonAssignment",this.dungeonAssignments)}savePlayersToStorage(){this.dataService.saveVariableToStorage("players",this.players)}saveBankToStorage(){this.dataService.saveVariableToStorage("guildBank",this.guildBank)}};n.\u0275fac=function(i){return new(i||n)(Y(Yu),Y(nn),Y(bt),Y(qn))},n.\u0275cmp=Nt({type:n,selectors:[["app-dungeon"]],inputs:{grid:"grid",players:"players",guildBank:"guildBank",playerGearScores:"playerGearScores"},decls:31,vars:14,consts:[[1,"maincontainer"],[1,"guild-bank-bar2"],[1,"guild-bank-item"],["src","/assets/icons/ui_plundercoins.jpg","alt","Gold",1,"bank-icon"],[4,"ngIf"],[1,"dungeon-assignment"],[3,"ngStyle"],[3,"click","disabled"],["class","dungeon-group",4,"ngFor","ngForOf"],[3,"click","ngStyle"],["class","upgrades-section",4,"ngIf"],[1,"dungeon-info"],[1,"dungeon-list"],["class","dungeon-detail",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","player-cell",4,"ngFor","ngForOf"],[1,"player-cell"],[1,"player-gearscore"],["alt","role icon",1,"role-icon",3,"src"],[1,"dungeon-group"],[1,"dungeon-selector"],[3,"ngModelChange","change","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"dungeon-level"],[3,"click",4,"ngIf"],["class","player-slots",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"click"],["class","boss-detail",4,"ngFor","ngForOf"],[1,"boss-detail"],[1,"player-slots"],["class","slot-button",4,"ngFor","ngForOf"],[1,"slot-button"],[3,"click","ngClass"],["class","role-icon","alt","role icon",3,"src",4,"ngIf"],["class","assigned-player-card",4,"ngIf"],[1,"assigned-player-card"],[1,"player-name"],[1,"player-details"],[1,"upgrades-section"],[1,"upgrades-table"],[1,"upgrade-icon"],["alt","item icon",3,"src"],[1,"upgrade-player"],[1,"upgrade-tooltip",3,"innerHTML"],[1,"tooltip-content",3,"innerHTML"],[1,"dungeon-detail"],[1,"dungeon-image-container"],[1,"dungeon-image",3,"src","alt"],[1,"dungeon-overlay"],[1,"dungeon-summary",3,"innerHTML"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),G(3,"img",3),g(4,"span"),_(5),h()()(),j(6,AR,3,1,"div",4),g(7,"div",5)(8,"h2"),_(9,"Dungeon Assignments"),h(),g(10,"div")(11,"span",6),_(12),h(),g(13,"button",7),$("click",function(){return o.nextWeekClicked()}),_(14,"Next Week"),h()(),j(15,$R,12,8,"div",8),g(16,"button",7),$("click",function(){return o.runDungeonsClicked()}),_(17,"Run Dungeons"),h(),g(18,"button",9),$("click",function(){return o.clearAssignmentsClicked()}),_(19,"Clear Players"),h()(),j(20,GR,5,1,"div",10),g(21,"details",11)(22,"summary"),_(23,"Dungeon Info"),h(),g(24,"div",12),j(25,WR,7,5,"details",13),h()(),g(26,"details",11)(27,"summary"),_(28,"Unlocks"),h(),g(29,"div",12),j(30,KR,5,5,"div",13),h()()()),i&2&&(p(5),ue("x",o.guildBank.gold.toFixed(2)),p(),w("ngIf",o.activeSlot),p(5),w("ngStyle",Hn(12,bR)),p(),Ks("Current Week: ",o.guildWeek,"; Attempts: ",o.dungeonProgress==null?null:o.dungeonProgress.attempts,"/10"),p(),w("disabled",o.dungeonProgress&&o.dungeonProgress.attempts<10),p(2),w("ngForOf",o.dungeonAssignments),p(),w("disabled",o.isRunDungeonDisabled()),p(2),w("ngStyle",Hn(13,IR)),p(2),w("ngIf",o.dungeonUpgrades.length>0),p(5),w("ngForOf",o.dataService.getUniqueDungeons()),p(5),w("ngForOf",o.getDungeonUnlocks()))},dependencies:[fr,yi,kr,Ci,wi,Oo,du,fu,No,cu,ga],styles:[".maincontainer[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;padding:20px;box-sizing:border-box;min-width:100vw;overflow-x:auto}.guild-bank-item[_ngcontent-%COMP%]{display:flex;width:100%;gap:5px}.bank-icon[_ngcontent-%COMP%]{width:100%;height:20px}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%]{width:100px;height:50px;padding:0;text-align:center;vertical-align:middle}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,100px);gap:10px;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:contents}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:50px;cursor:pointer}.player-gearscore[_ngcontent-%COMP%]{font-size:.75em;color:#000;margin-top:0}.player-cell[_ngcontent-%COMP%]{position:relative}.role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;height:22px;pointer-events:none;z-index:1000}details[_ngcontent-%COMP%]{margin-bottom:1rem}summary[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.dungeon-assignment[_ngcontent-%COMP%]{margin-top:0;padding-left:10px;padding-right:10px;box-sizing:border-box;width:100%;max-width:100vw;margin-bottom:20px}.dungeon-assignment[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]{margin-bottom:15px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px;padding-left:5px;box-sizing:border-box;width:100%;align-items:flex-end}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px;padding:5px;font-size:1em}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:36px;margin-top:20px;padding:10 10px;cursor:pointer;display:flex;align-items:center;justify-content:center}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .dungeon-selector[_ngcontent-%COMP%]   .dungeon-level[_ngcontent-%COMP%]{margin-bottom:5px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]{display:flex;gap:5px}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;width:75px;height:50px;display:flex;align-items:center;justify-content:center;border:1px solid white;background:#363636;cursor:pointer;box-sizing:border-box}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button.active-slot[_ngcontent-%COMP%]{border:2px solid red;background:#363636}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]{text-align:center;padding:10px;transform:scale(.67);transform-origin:center;width:100%;box-sizing:border-box}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{font-weight:700}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .assigned-player-card[_ngcontent-%COMP%]   .player-details[_ngcontent-%COMP%]{font-size:1em;color:#fff}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .slot-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em}.dungeon-assignment[_ngcontent-%COMP%]   .dungeon-group[_ngcontent-%COMP%]   .player-slots[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:14px;height:14px;pointer-events:none;z-index:10}.upgrades-section[_ngcontent-%COMP%]{margin-top:20px}.upgrades-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   td.upgrade-tooltip[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid gray}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-icon[_ngcontent-%COMP%]{width:20%;padding:5px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:56px;height:56px;border:1px solid gray}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-player[_ngcontent-%COMP%]{width:30%;padding:5px;font-weight:700}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .tooltip-content[_ngcontent-%COMP%]{display:inline-block;max-width:300px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]{padding:5px}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.upgrades-section[_ngcontent-%COMP%]   .upgrades-table[_ngcontent-%COMP%]   .upgrade-tooltip[_ngcontent-%COMP%]    {color:#fff;background:#1a1a1a;border:1px solid #444;padding:8px;font-size:.9em}.dungeon-info[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}.dungeon-info[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.dungeon-list[_ngcontent-%COMP%]{padding:10px}.dungeon-list[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-size:1em;font-weight:700}.dungeon-detail[_ngcontent-%COMP%]{margin:10px 0}.dungeon-image-container[_ngcontent-%COMP%]{position:relative;width:100%}.dungeon-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.dungeon-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;max-height:100%;background-color:#000000b3;display:flex;align-items:flex-start;padding:20px;box-sizing:border-box;overflow-y:auto}.dungeon-summary[_ngcontent-%COMP%]{color:#fff;font-size:16px;margin:0;text-align:left}.dungeon-summary[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.dungeon-summary[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.settings-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin-top:20px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{padding:14px 28px;font-size:1.1rem;font-weight:700;border-radius:10px;border:none;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;cursor:pointer;box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease;width:auto;min-width:200px;max-width:280px}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:disabled{background:#666;cursor:not-allowed}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.settings-buttons[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 3px 8px #0003}"]});let e=n;return e})();var zg="Service workers are disabled or not supported by this browser",Xo=class{serviceWorker;worker;registration;events;constructor(n,t){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new re(r=>r.error(new O(5601,!1)));else{let r=null,i=new se;this.worker=new re(c=>(r!==null&&c.next(r),i.subscribe(u=>c.next(u))));let o=()=>{let{controller:c}=n;c!==null&&(r=c,i.next(r))};n.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe($e(()=>n.getRegistration().then(c=>{if(!c)throw new O(5601,!1);return c})));let a=new se;this.events=a.asObservable();let s=c=>{let{data:u}=c;u?.type&&a.next(u)};n.addEventListener("message",s),t?.get(dt,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",o),n.removeEventListener("message",s)})}}postMessage(n,t){return new Promise(r=>{this.worker.pipe(wt(1)).subscribe(i=>{i.postMessage(M({action:n},t)),r()})})}postMessageWithOperation(n,t,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(n,t);return Promise.all([o,i]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let t;return typeof n=="string"?t=r=>r.type===n:t=r=>n.includes(r.type),this.events.pipe(Je(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(wt(1))}waitForOperationCompleted(n){return new Promise((t,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Je(i=>i.nonce===n),wt(1),ee(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:r})})}get isEnabled(){return!!this.serviceWorker}},Mw=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new se;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Qn,this.notificationClicks=Qn,this.notificationCloses=Qn,this.pushSubscriptionChanges=Qn,this.subscription=Qn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ee(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ee(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ee(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ee(i=>i.data)),this.pushManager=this.sw.registration.pipe(ee(i=>i.pushManager));let r=this.pushManager.pipe($e(i=>i.getSubscription()));this.subscription=new re(i=>{let o=r.subscribe(i),a=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),a.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(zg));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return r.applicationServerKey=o,new Promise((a,s)=>{this.pushManager.pipe($e(l=>l.subscribe(r)),wt(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),a(l)},error:s})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(zg));let t=r=>{if(r===null)throw new O(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new O(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(wt(1),$e(t)).subscribe({next:r,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||e)(F(Xo))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})(),Ku=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Qn,this.unrecoverable=Qn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zg));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new O(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||e)(F(Xo))};static \u0275prov=P({token:e,factory:e.\u0275fac})}return e})();var Rw=new U("");function QR(){let e=S(ka);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=S(Rw),t=S(Ee),r=S(dt);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:o}=e;if(typeof o=="function")i=new Promise(a=>o().subscribe(()=>a()));else{let[a,...s]=(o||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=xw(+s[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),xw(+s[0])]);break;default:throw new O(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error(an(5604,!1)))})})}function xw(e){return new Promise(n=>setTimeout(n,e))}function JR(e,n){return new Xo(e.enabled!==!1?navigator.serviceWorker:void 0,n)}var ka=class{enabled;scope;registrationStrategy};function XR(e,n={}){return ir([Mw,Ku,{provide:Rw,useValue:e},{provide:ka,useValue:n},{provide:Xo,useFactory:JR,deps:[ka,Fe]},yo(QR)])}var Aw=(()=>{class e{static register(t,r={}){return{ngModule:e,providers:[XR(t,r)]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({providers:[Mw,Ku]})}return e})();var es=(()=>{let n=class n{constructor(){this.lastAnimation=null,this.animationTimeout=null,this.animations=["Stand","Walk","Run","Stop","Death","StandWound","CombatWound","CombatCritical","ShuffleLeft","ShuffleRight","Walkbackwards","Stun","HandsClosed","AttackUnarmed","Attack1H","Attack2H","Attack2HL","ParryUnarmed","Parry1H","Parry2H","Parry2HL","ShieldBlock","ReadyUnarmed","Ready1H","Ready2H","Ready2HL","ReadyBow","Dodge","JumpStart","Jump","JumpEnd","Fall","SwimIdle","Swim","SwimLeft","SwimRight","SwimBackwards","AttackBow","ReadyRifle","AttackRifle","Loot","ReadySpellDirected","ReadySpellOmni","SpellCastDirected","SpellCastOmni","BattleRoar","Special1H","Special2H","ShieldBash","EmoteTalk","EmoteEat","EmoteWork","EmoteUseStanding","EmoteTalkExclamation","EmoteTalkQuestion","EmoteBow","EmoteWave","EmoteCheer","EmoteDance","EmoteLaugh","EmoteRude","EmoteRoar","EmoteKneel","EmoteKiss","EmoteCry","EmoteChicken","EmoteBeg","EmoteApplaud","EmoteShout","EmoteFlex","EmoteShy","EmotePoint","Attack1HPierce","AttackOff","AttackOffPierce","Sheath","HipSheath","Kick","SitGroundDown","SitGround","SleepDown","Sleep","SleepUp","LoadBow","LoadRifle","AttackThrown","ReadyThrown","HoldBow","HoldRifle","HoldThrown","LoadThrown","EmoteSalute","KneelStart","KneelLoop","KneelEnd","SpecialUnarmed","StealthWalk","StealthStand","Knockdown","UseStandingLoop","ChannelCastDirected","ChannelCastOmni","Whirlwind","UseStandingStart","UseStandingEnd","Drown","Drowned","FishingCast","FishingLoop","EmoteWorkNoSheathe","EmoteStunNoSheathe","EmoteUseStandingNoSheathe"],this.animationConfig={Stand:{duration:null,followup:"Stand"},Walk:{duration:null,followup:"Stand"},Run:{duration:null,followup:"Stand"},Stop:{duration:null,followup:"Stand"},Death:{duration:1600,followup:"Sleep"},StandWound:{duration:333,followup:"Stand"},CombatWound:{duration:400,followup:"StandWound"},CombatCritical:{duration:800,followup:"StandWound"},AttackUnarmed:{duration:1e3,followup:"ReadyUnarmed"},Attack1H:{duration:800,followup:"Ready1H"},Attack2H:{duration:800,followup:"Ready2H"},Attack2HL:{duration:800,followup:"Ready2HL"},ParryUnarmed:{duration:800,followup:"ReadyUnarmed"},Parry1H:{duration:800,followup:"Ready1H"},Parry2H:{duration:800,followup:"Ready2H"},Parry2HL:{duration:800,followup:"Ready2HL"},ShieldBlock:{duration:800,followup:"Stand"},AttackBow:{duration:400,followup:"ReadyBow"},AttackRifle:{duration:800,followup:"ReadyRifle"},Attack1HPierce:{duration:800,followup:"Ready1H"},AttackOff:{duration:800,followup:"Ready1H"},AttackOffPierce:{duration:800,followup:"Ready1H"},Special1H:{duration:800,followup:"Ready1H"},Special2H:{duration:1200,followup:"Ready2H"},ShieldBash:{duration:800,followup:"Stand"},SpecialUnarmed:{duration:800,followup:"ReadyUnarmed"},Kick:{duration:800,followup:"Stand"},Whirlwind:{duration:800,followup:"Stand"},ShuffleLeft:{duration:500,followup:"Stand"},ShuffleRight:{duration:500,followup:"Stand"},Walkbackwards:{duration:800,followup:"Stand"},Stun:{duration:800,followup:"Stand"},Dodge:{duration:800,followup:"Stand"},JumpStart:{duration:800,followup:"Jump"},Jump:{duration:1e3,followup:"JumpEnd"},JumpEnd:{duration:800,followup:"Stand"},Fall:{duration:2e3,followup:"Stand"},SwimIdle:{duration:null,followup:"Stand"},Swim:{duration:null,followup:"Stand"},SwimLeft:{duration:null,followup:"Stand"},SwimRight:{duration:null,followup:"Stand"},SwimBackwards:{duration:null,followup:"Stand"},HandsClosed:{duration:2e3,followup:"Stand"},ReadyUnarmed:{duration:2e3,followup:"Stand"},Ready1H:{duration:2e3,followup:"Stand"},Ready2H:{duration:2e3,followup:"Stand"},Ready2HL:{duration:2e3,followup:"Stand"},ReadyBow:{duration:2e3,followup:"Stand"},ReadyRifle:{duration:2e3,followup:"Stand"},ReadyThrown:{duration:2e3,followup:"Stand"},HoldBow:{duration:2e3,followup:"Stand"},HoldRifle:{duration:2e3,followup:"Stand"},HoldThrown:{duration:2e3,followup:"Stand"},ReadySpellDirected:{duration:800,followup:"Stand"},ReadySpellOmni:{duration:800,followup:"Stand"},SpellCastDirected:{duration:800,followup:"Stand"},SpellCastOmni:{duration:800,followup:"Stand"},ChannelCastDirected:{duration:3e3,followup:"Stand"},ChannelCastOmni:{duration:3e3,followup:"Stand"},EmoteTalk:{duration:3e3,followup:"Stand"},EmoteEat:{duration:2500,followup:"Stand"},EmoteWork:{duration:1500,followup:"Stand"},EmoteUseStanding:{duration:5e3,followup:"Stand"},EmoteTalkExclamation:{duration:5e3,followup:"Stand"},EmoteTalkQuestion:{duration:1500,followup:"Stand"},EmoteBow:{duration:2500,followup:"Stand"},EmoteWave:{duration:2500,followup:"Stand"},EmoteCheer:{duration:1800,followup:"Stand"},EmoteDance:{duration:3e4,followup:"Stand"},EmoteLaugh:{duration:3e3,followup:"Stand"},EmoteRude:{duration:2e3,followup:"Stand"},EmoteRoar:{duration:2500,followup:"Stand"},EmoteKneel:{duration:3e3,followup:"Stand"},EmoteKiss:{duration:2500,followup:"Stand"},EmoteCry:{duration:5e3,followup:"Stand"},EmoteChicken:{duration:3e3,followup:"Stand"},EmoteBeg:{duration:4e3,followup:"Stand"},EmoteApplaud:{duration:3e3,followup:"Stand"},EmoteShout:{duration:1800,followup:"Stand"},EmoteFlex:{duration:2500,followup:"Stand"},EmoteShy:{duration:1800,followup:"Stand"},EmotePoint:{duration:1800,followup:"Stand"},EmoteSalute:{duration:1800,followup:"Stand"},BattleRoar:{duration:900,followup:"Stand"},Sheath:{duration:2e3,followup:"Stand"},HipSheath:{duration:2e3,followup:"Stand"},SitGroundDown:{duration:2e3,followup:"SitGround"},SitGround:{duration:null,followup:"SitGround"},SleepDown:{duration:2e3,followup:"Sleep"},Sleep:{duration:null,followup:"Sleep"},SleepUp:{duration:2e3,followup:"Stand"},LoadBow:{duration:2e3,followup:"ReadyBow"},LoadRifle:{duration:2e3,followup:"ReadyRifle"},LoadThrown:{duration:2e3,followup:"ReadyThrown"},AttackThrown:{duration:2e3,followup:"ReadyThrown"},KneelStart:{duration:2e3,followup:"KneelLoop"},KneelLoop:{duration:null,followup:"KneelLoop"},KneelEnd:{duration:2e3,followup:"Stand"},StealthWalk:{duration:null,followup:"StealthStand"},StealthStand:{duration:null,followup:"StealthStand"},Loot:{duration:3e3,followup:"Stand"},Knockdown:{duration:3e3,followup:"Stand"},UseStandingLoop:{duration:null,followup:"UseStandingLoop"},UseStandingStart:{duration:2e3,followup:"UseStandingLoop"},UseStandingEnd:{duration:2e3,followup:"Stand"},Drown:{duration:3e3,followup:"Drowned"},Drowned:{duration:null,followup:"Drowned"},FishingCast:{duration:3e3,followup:"FishingLoop"},FishingLoop:{duration:null,followup:"FishingLoop"},EmoteWorkNoSheathe:{duration:5e3,followup:"Stand"},EmoteStunNoSheathe:{duration:3e3,followup:"Stand"},EmoteUseStandingNoSheathe:{duration:5e3,followup:"Stand"}}}updateAnimation(r,i){return ft(this,null,function*(){this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationTimeout=null);let o=i.target.value;if(o===this.lastAnimation)return;if(this.lastAnimation=o,!r){console.warn("modelViewer not initialized in updateAnimation");return}let a=(l,c=20,u=500)=>{if(c<=0){console.warn(`Failed to set animation ${l}: renderer not ready after retries`);return}try{typeof r.setAnimation=="function"&&r.renderer?.actors?.[0]?(r.setAnimation(l),typeof r.setAnimPaused=="function"&&r.setAnimPaused(!1)):(console.warn(`setAnimation not available or renderer.actors[0] undefined for ${l}, retrying...`),setTimeout(()=>a(l,c-1,u),u))}catch(f){console.warn(`Error setting animation ${l}, retrying (${c} attempts left):`,f),setTimeout(()=>a(l,c-1,u),u)}};a(o);let s=this.animationConfig[o];s&&s.duration!==null&&(this.animationTimeout=setTimeout(()=>{this.lastAnimation=s.followup,a(s.followup)},s.duration))})}updateAnimation2(r,i){return ft(this,null,function*(){if(this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationTimeout=null),i===this.lastAnimation)return;if(this.lastAnimation=i,!r){console.warn("modelViewer not initialized in updateAnimation");return}let o=(s,l=20,c=500)=>{if(l<=0){console.warn(`Failed to set animation ${s}: renderer not ready after retries`);return}try{typeof r.setAnimation=="function"&&r.renderer?.actors?.[0]?(r.setAnimation(s),typeof r.setAnimPaused=="function"&&r.setAnimPaused(!1)):(console.warn(`setAnimation not available or renderer.actors[0] undefined for ${s}, retrying...`),setTimeout(()=>o(s,l-1,c),c))}catch(u){console.warn(`Error setting animation ${s}, retrying (${l} attempts left):`,u),setTimeout(()=>o(s,l-1,c),c)}};o(i);let a=this.animationConfig[i];a&&a.duration!==null&&(this.animationTimeout=setTimeout(()=>{this.lastAnimation=a.followup,o(a.followup)},a.duration))})}getAnimations(){return this.animations}setAnimations(r){this.animations=r}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Zu=(()=>{let n=class n{constructor(r){this.utilityService=r}getHelpPlayer(r,i,o,a,s,l,c){if(!r)return"<p>No player selected. Click a player in the grid to view or edit their details.</p>";let u=`
      <h3>Main Tabs (Bottom Row)</h3>
      <ul>
        <li>
          <img src="/assets/icons/inv_chest_chain.jpg" alt="Gear Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Gear</strong>: View and equip items, customize appearance, or purchase crafted gear.
        </li>
        <li>
          <img src="/assets/icons/inv_misc_note_01.jpg" alt="Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Stats</strong>: Check base or buffed stats, including combat and resistance details.
        </li>
        <li>
          <img src="/assets/icons/inv_misc_book_11.jpg" alt="Spells Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Spells</strong>: View class-specific spells or racial abilities.
        </li>
        <li>
          <img src="/assets/icons/inv_7xp_inscription_talenttome02.jpg" alt="Spec Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Spec</strong>: Explore talent builds and specializations.
        </li>
        <li>
          <img src="/assets/icons/trade_engineering.jpg" alt="Gambits Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Gambits</strong>: Configure custom strategies or abilities (details coming soon).
        </li>
        <li>
          <img src="/assets/icons/achievement_bg_returnxflags_def_wsg.jpg" alt="Back Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
          <strong>Back</strong>: Return to the raid group grid.
        </li>
      </ul>
    `,f="";return i==="spec"?f=`
        <h3>Spec Sub-Tabs (Row Above)</h3>
        <p>Current Spec Tab: ${this.utilityService.getTalentName(r,o)}</p>
        <ul>
          ${c.map(y=>`
            <li>
              <img src="/assets/icons/${this.utilityService.getTalentIcon(r,+y)}.jpg" alt="Talent Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
              <strong>${$t[r.CLASSID]?.[+y].name}</strong>: ${o===y?"View and edit talents for this specialization.":"Switch to this specialization to view talents."}
            </li>
          `).join("")}
        </ul>
      `:i==="gear"?f=`
        <p>Current Gear Sub-Tab: ${s}</p>
        <ul>
          <li>
            <img src="/assets/icons/inv_misc_bag_08.jpg" alt="Equipment Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Equipment</strong>: View and swap equipped items from inventory.
          </li>
          <li>
            <img src="/assets/icons/vas_racechange.jpg" alt="Customization Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Customization</strong>: Adjust race, gender, and appearance (skin, face, hair, etc.).
          </li>
          <li>
            <img src="/assets/icons/inv_misc_coin_02.jpg" alt="Crafted Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Crafted</strong>: Purchase crafted items using guild bank resources.
          </li>
          <li>
            <img src="/assets/icons/spell_nature_astralrecalgroup.jpg" alt="Dungeon Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Dungeon</strong>: View items obtained from dungeon runs.
          </li>
          <li>
            <img src="/assets/icons/achievement_boss_ragnaros.jpg" alt="MC Quest Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>MC Quest</strong>: View items from Molten Core quests.
          </li>
        </ul>
      `:i==="spells"?f=`
        <h3>Spells Sub-Tabs (Row Above)</h3>
        <p>Current Spell Tab: ${a==="class"?this.utilityService.getClassName(r.CLASSID)+" Spells":this.utilityService.getRaceName(r.RACE)+" Skills"}</p>
        <ul>
          <li>
            <img src="/assets/icons/class_${this.utilityService.getClassName(r.CLASSID).toLowerCase()}.jpg" alt="Class Spells Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Class Spells</strong>: ${a==="class"?"View available class-specific spells.":"Switch to view class-specific spells."}
          </li>
          <li>
            <img src="/assets/icons/achievement_character_${this.utilityService.getRaceName(r.RACE).toLowerCase()}_${r.GENDER==0?"male":"female"}.jpg" alt="Racial Skills Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Racial Skills</strong>: ${a==="racial"?"View racial abilities.":"Switch to view racial abilities."}
          </li>
        </ul>
      `:i==="stats"?f=`
        <h3>Stats Sub-Tabs (Row Above)</h3>
        <p>Current Stats Sub-Tab: ${l==="base"?"Base Stats":"Buffed Stats"}</p>
        <ul>
          <li>
            <img src="/assets/icons/spell_holy_blessingofstrength.jpg" alt="Base Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Base Stats</strong>: ${l==="base"?"View unbuffed character stats.":"Switch to view unbuffed character stats."}
          </li>
          <li>
            <img src="/assets/icons/spell_nature_strength.jpg" alt="Buffed Stats Icon" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;">
            <strong>Buffed Stats</strong>: ${l==="buffed"?"View stats with active buffs applied.":"Switch to view stats with active buffs."}
          </li>
        </ul>
      `:i==="gambits"&&(f=`
        <h3>Gambits Sub-Tabs (Row Above)</h3>
        <p>No sub-tabs available for Gambits.</p>
        <p>Configure custom strategies or abilities for ${r.NAME}. (Details coming soon.)</p>
      `),`
      <h2>Player Configuration: ${r.NAME}</h2>
      <p>Customize and view details for the selected player.</p>
      ${u}
      ${f}
    `}getHelpContent(r){switch(r){case"home":return`
          <h2>Welcome to MC Raiders</h2>
          <p>This is the main menu. Select an option to get started:</p>
          <ul>
            <li><strong>MC Raiders</strong>: Watch the iconic video by MyndFlame.</li>
            <li><strong>TGIF</strong>: View guild achievements and quotes.</li>
            <li><strong>Molten Core</strong>: Access the Molten Core raid (coming soon).</li>
            <li><strong>Dungeons</strong>: Assign players to dungeons to earn loot, gold and unlock more content.</li>
            <li><strong>Raid Setup</strong>: Configure raid groups and optimize gear, spec, and rotations.</li>
            <li><strong>Settings</strong>: Adjust preferences or reset progress.</li>
          </ul>
        `;case"mcr":return`
          <h2>MCR Raiders</h2>
          <p>Enjoy the music video by MyndFlame from Illegal Danish.</p>
          <p>Goal: Help the TGIF guild gear up and progress through Molten Core. Stay tuned for the raid simulation feature!</p>
        `;case"tgif":return`
          <h2>TGIF Guild</h2>
          <p>Explore the guild's history with images and memorable quotes from members.</p>
          <p>Click the return button to go back to the main menu.</p>
        `;case"mc":return`
          <h2>Molten Core</h2>
          <p>This feature is coming soon! It will allow you to simulate raids in Molten Core.</p>
        `;case"dungeon":return`
          <h2>Dungeon Assignments</h2>
          <p>Assign players to dungeon groups:</p>
          <ul>
            <li>Select a dungeon from the dropdown.</li>
            <li>Click player slots to assign or swap players.</li>
            <li>Click Run Dungeons to earn loot, gold, and unlock more content.</li>
            <ul>
              <li>Dungeon progress depends on party gear, spec, and composition relative to boss levels in the dungeon.</li>
              <li>Up to 10 dungeons can be run per week (using any mix of players).</li>
              <li>Click on composition penalty for more details of what class/spec required for best odds of success.</li>
              <li>Click on completion/abandon message to view detailed results per boss.</li>
            </ul>
            <li>Clear Players will clear all dungeon assignments.
            <li>Click Next Week after consuming all dungeon attempts and after attempting Molten Core (once added).
            <li>Check the Dungeon Info for background lore on each dungeon.</li>
            <li>Unlocks shows progress per player at unlocking higher-level content.</li>
          </ul>
        `;case"raidConfig":return`
          <h2>Raid Setup</h2>
          <p>Manage your raid group:</p>
          <ul>
            <li>Click a player to view or edit their details (gear, stats, spells, talents).</li>
            <li>Use Swap Mode to rearrange players in the grid.</li>
            <li>Optimize Gear to automatically equip the best items for selected players.</li>
          </ul>
        `;case"settings":return`
          <h2>Settings</h2>
          <p>Customize your experience:</p>
          <ul>
            <li><strong>Profanity Filter</strong>: Toggle to filter explicit content in videos.</li>
            <li><strong>Reset Progress</strong>: Hold to reset gear, dungeon and raid progress.</li>
            <li><strong>Reset Storage</strong>: Hold to clear all saved data.</li>
            <li><strong>Show Help Button</strong>: Toggle the help button visibility.</li>
          </ul>
        `;default:return"<p>Help information is not available for this section.</p>"}}};n.\u0275fac=function(i){return new(i||n)(F(nn))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Nw=(()=>{let n=class n{constructor(r){this.dungeonService=r}};n.\u0275fac=function(i){return new(i||n)(Y(Yu))},n.\u0275cmp=Nt({type:n,selectors:[["app-moltencore"]],decls:4,vars:1,consts:[["alt","Molten Core load screen",1,"dungeon-image",3,"src"]],template:function(i,o){i&1&&(Gs(0,"img",0),_(1," Coming soon"),Co(2,"sup"),_(3,"\u2122"),wo()),i&2&&Lc("src",o.dungeonService.getDungeonImage("Molten Core"),Re)},styles:[".dungeon-image-container[_ngcontent-%COMP%]{position:relative;width:100%}.dungeon-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]});let e=n;return e})();var Ow=(()=>{let n=class n{transform(r,i){return r.filter(o=>Ri.find(a=>a.slot===o.slot)?.side===i)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=mi({name:"filterBySide",type:n,pure:!0});let e=n;return e})();var kw=(()=>{let n=class n{constructor(){this.linkedSlots={11:12,12:11,13:14,14:13,21:22,22:21}}transform(r,i){if(!r||!i?.equippedItems)return r;let o=i.equippedItems.find(l=>l.slot===i.slot)?.dbId,a=this.linkedSlots[i.slot],s=a?i.equippedItems.find(l=>l.slot===a)?.dbId:null;return r.filter(l=>l!==o&&l!==s)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=mi({name:"filterEquip",type:n,pure:!0});let e=n;return e})(),Qu=(()=>{let n=class n{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustHtml(r||"")}};n.\u0275fac=function(i){return new(i||n)(Y(og,16))},n.\u0275pipe=mi({name:"safeHtml",type:n,pure:!0});let e=n;return e})();window.CONTENT_PATH||(window.CONTENT_PATH="http://localhost:3001/modelviewer/live/");window.WOTLK_TO_RETAIL_DISPLAY_ID_API||(window.WOTLK_TO_RETAIL_DISPLAY_ID_API="https://wotlk.murlocvillage.com/api/items");var Wg=class{getImageExtension(){return".webp"}};window.WH||(window.WH={},window.WH.debug=function(...e){},window.WH.defaultAnimation="Stand",window.WH.WebP=new Wg,window.WH.Wow={Item:{INVENTORY_TYPE_HEAD:1,INVENTORY_TYPE_NECK:2,INVENTORY_TYPE_SHOULDERS:3,INVENTORY_TYPE_SHIRT:4,INVENTORY_TYPE_CHEST:5,INVENTORY_TYPE_WAIST:6,INVENTORY_TYPE_LEGS:7,INVENTORY_TYPE_FEET:8,INVENTORY_TYPE_WRISTS:9,INVENTORY_TYPE_HANDS:10,INVENTORY_TYPE_FINGER:11,INVENTORY_TYPE_TRINKET:12,INVENTORY_TYPE_ONE_HAND:13,INVENTORY_TYPE_SHIELD:14,INVENTORY_TYPE_RANGED:15,INVENTORY_TYPE_BACK:16,INVENTORY_TYPE_TWO_HAND:17,INVENTORY_TYPE_BAG:18,INVENTORY_TYPE_TABARD:19,INVENTORY_TYPE_ROBE:20,INVENTORY_TYPE_MAIN_HAND:21,INVENTORY_TYPE_OFF_HAND:22,INVENTORY_TYPE_HELD_IN_OFF_HAND:23,INVENTORY_TYPE_PROJECTILE:24,INVENTORY_TYPE_THROWN:25,INVENTORY_TYPE_RANGED_RIGHT:26,INVENTORY_TYPE_QUIVER:27,INVENTORY_TYPE_RELIC:28,INVENTORY_TYPE_PROFESSION_TOOL:29,INVENTORY_TYPE_PROFESSION_ACCESSORY:30}});var F6=window.WH;var rA=[2,11,12,13,14],Fw={ARMOR:128,CHARACTER:16,COLLECTION:1024,HELM:2,HUMANOIDNPC:32,ITEM:1,ITEMVISUAL:512,NPC:8,OBJECT:64,PATH:256,SHOULDER:4},Ju=()=>({Face:"face","Skin Color":"skin","Hair Style":"hairStyle","Hair Color":"hairColor","Facial Hair":"facialStyle",Mustache:"facialStyle",Beard:"facialStyle",Sideburns:"facialStyle","Face Shape":"facialStyle",Eyebrow:"facialStyle","Jaw Features":void 0,"Face Features":void 0,"Skin Type":void 0,Ears:window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"ears","Fur Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"furColor",Snout:"snout",Blindfold:void 0,Tattoo:void 0,"Eye Color":void 0,"Tattoo Color":void 0,Armbands:void 0,"Jewelry Color":void 0,Bracelets:void 0,Necklace:void 0,Earring:void 0,"Primary Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"primaryColor","Secondary Color Strength":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"secondaryColorStrength","Secondary Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"secondaryColor","Horn Color":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"hornColor",Horns:window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"horns","Body Size":window.WOTLK_TO_RETAIL_DISPLAY_ID_API?void 0:"bodySize"});function iA(e){return e?e.Id:void 0}function qg(e,n){let t=n.Options,r=[],i=[];for(let o in Ju()){let a=t.find(l=>l.Name===o);if(!a)continue;let s={optionId:a.Id,choiceId:Ju()[o]?iA(a.Choices[e[Ju()[o]]]):a.Choices[0].Id};s.choiceId===void 0&&r.push(Ju()[o]),i.push(s)}return console.warn("In character: ",e,"the following options are missing",r),i}function Lw(e,n){let{race:t,gender:r}=e,i=e.items?e.items.filter(l=>!rA.includes(l[0])):[],a={options:qg(e,n)},s={items:i,models:{id:t*2-1+r,type:Fw.CHARACTER}};return e.noCharCustomization||(s.charCustomization=a),s}function Vw(e,n){return ft(this,null,function*(){let t=e*2-1+n,r=yield fetch(`${window.CONTENT_PATH}meta/charactercustomization/${t}.json`).then(i=>i.json());return r.data?r.data:r})}var Yn=class extends ZamModelViewer{getListAnimations(){return[...new Set(this.renderer.actors[0].d.c.y.map(n=>n.g))]}setDistance(n){this.renderer.distance=n}setSheath(n){this.renderer.actors[0].setSheath(n)}setAnimation(n){this.renderer.actors[0].setAnimation(n)}setAnimPaused(n){this.renderer.actors[0].setAnimPaused(n)}setAzimuth(n){this.renderer.azimuth=n}setZenith(n){this.renderer.zenith=n}getAzimuth(){return this.renderer.azimuth}getZenith(){return this.renderer.zenith}updateItemViewer(n,t,r){let i=window.WH.Wow.Item;i.INVENTORY_TYPE_SHOULDERS;let o=n===i.INVENTORY_TYPE_ROBE?i.INVENTORY_TYPE_CHEST:n;window.WH.debug("Clearing model viewer slot:",o.toString()),this.method("clearSlots",n.toString()),t&&(window.WH.debug("Attaching to model viewer slot:",n.toString(),"Display ID:",t,"Enchant Visual:",r),this.method("setItems",[[{slot:n,display:t,visual:r||0}]]))}setNewAppearance(n){if(!this.currentCharacterOptions)throw Error("Character options are not set");let t=qg(n,this.currentCharacterOptions),r=this.characterRace,i=this.characterGender;this.method("setAppearance",{race:r,gender:i,options:t})}};Yn.prototype._currentCharacterOptions=0;Yn.prototype._characterGender=null;Yn.prototype._characterRace=null;Object.defineProperty(Yn.prototype,"currentCharacterOptions",{get:function(){return this._currentCharacterOptions},set:function(e){this._currentCharacterOptions=e}});Object.defineProperty(Yn.prototype,"characterGender",{get:function(){return this._characterGender},set:function(e){this._characterGender=e}});Object.defineProperty(Yn.prototype,"characterRace",{get:function(){return this._characterRace},set:function(e){this._characterRace=e}});function jw(e,n,t,r="live"){return ft(this,null,function*(){let i,o;if(t.id&&t.type){let{id:l,type:c}=t;i={models:{id:l,type:c}}}else{let{race:l,gender:c}=t;o=yield Vw(l,c),i=Lw(t,o)}r==="classic"?i=M({dataEnv:"classic",env:"classic",gameDataEnv:"classic",hd:!1},i):i=M({hd:!0},i);let a=M({type:2,contentPath:window.CONTENT_PATH,container:jQuery(n),aspect:e},i),s=yield new Yn(a);return o&&(s.currentCharacterOptions=o,s.characterGender=t.gender,s.characterRace=t.race),s})}var Hw=(()=>{let n=class n{constructor(r,i){this.animationService=r,this.dataService=i,this.modelViewer=null}loadModel(r,i,o="model-viewer"){return ft(this,null,function*(){let a=document.getElementById(o);if(!a){console.warn(`No #${o} element found`);return}let s={race:isNaN(+r.RACE)?1:+r.RACE,gender:isNaN(+r.GENDER)?0:+r.GENDER,skin:isNaN(+r.SKIN)?0:+r.SKIN,face:isNaN(+r.FACE)?0:+r.FACE,hairStyle:isNaN(+r.HAIRSTYLE)?0:+r.HAIRSTYLE,hairColor:isNaN(+r.HAIRCOLOR)?0:+r.HAIRCOLOR,facialStyle:isNaN(+r.FACIALSTYLE)?0:+r.FACIALSTYLE,items:[]};i.forEach(l=>{let c=l.dbId;if(c!==-1){let u=this.dataService.getItemsMap().get(c);if(u){let f=l.slot;l.slot===5&&u.eq_type===20&&(f=20),s.items.push([f,u.disp_id])}}}),+r.CLASSID!=5?s.items=s.items.filter(l=>l[0]!==26):i.find(c=>c.slot===26)?.dbId!==-1&&(s.items=s.items.filter(c=>c[0]!==21&&c[0]!==22));try{let l=yield jw(1,`#${o}`,s);this.modelViewer=l,a.modelViewer=l,this.animationService.updateAnimation(l,{target:{value:"Stand"}})}catch(l){console.error("Error generating model for player:",r.NAME,l)}})}destroyModelViewer(r="model-viewer"){let i=document.getElementById(r);if(i){if(this.modelViewer&&typeof this.modelViewer.destroy=="function")try{this.modelViewer.destroy()}catch(o){console.error("Error destroying model viewer:",o)}this.modelViewer=null,i.modelViewer=null,i.innerHTML=""}}updateAppearance(r){this.modelViewer&&this.modelViewer.setNewAppearance({skin:+r.SKIN,face:+r.FACE,hairStyle:+r.HAIRSTYLE,hairColor:+r.HAIRCOLOR,facialStyle:+r.FACIALSTYLE})}getModelViewer(){return this.modelViewer}};n.\u0275fac=function(i){return new(i||n)(F(es),F(bt))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var sA=e=>({"top-left":e}),aA=e=>({"background-color":e,color:"black"}),Xu=e=>({"compact-tooltip":e}),Uw=e=>({"bottom-up":e}),$w=(e,n)=>({equippedItems:e,slot:n}),lA=()=>[6,7],Bw=()=>[5,6,7],cA=()=>[2,5,6,7],uA=()=>[4,5];function dA(e,n){if(e&1){let t=we();g(0,"button",15),$("click",function(){L(t);let i=C();return V(i.toggleHelpOverlay())}),G(1,"img",16),h()}if(e&2){let t=C();w("ngClass",gt(1,sA,t.currentPlayer))}}function fA(e,n){if(e&1){let t=we();g(0,"div",17),G(1,"div",18),en(2,"safeHtml"),g(3,"button",19),$("click",function(){L(t);let i=C();return V(i.toggleHelpOverlay())}),_(4,"OK"),h()()}if(e&2){let t=C();p(),w("innerHTML",Nr(2,1,t.getHelpContent()),St)}}function hA(e,n){if(e&1){let t=we();g(0,"div",20),$("click",function(){L(t);let i=C();return V(i.toggleNameEdit())}),_(1),h()}if(e&2){let t=C();w("ngStyle",gt(2,aA,t.getColor(t.currentPlayer.CLASSID))),p(),ue(" ",t.currentPlayer.NAME," ")}}function pA(e,n){if(e&1){let t=we();g(0,"input",21),jt("ngModelChange",function(i){L(t);let o=C();return Xt(o.newPlayerName,i)||(o.newPlayerName=i),V(i)}),$("blur",function(){L(t);let i=C();return V(i.savePlayerName())})("keyup.enter",function(){L(t);let i=C();return V(i.savePlayerName())}),h()}if(e&2){let t=C();Vt("ngModel",t.newPlayerName)}}function gA(e,n){e&1&&(g(0,"button",39),_(1," OWNED "),h())}function mA(e,n){if(e&1){let t=we();g(0,"button",40),$("pointerdown",function(){L(t);let i=C(3);return V(i.selectedTooltip&&i.startBuyItem(i.selectedTooltip.dbId))})("pointerup",function(){L(t);let i=C(3);return V(i.cancelBuyItem())})("pointerleave",function(){L(t);let i=C(3);return V(i.cancelBuyItem())}),_(1," HOLD TO BUY... "),G(2,"img",41),g(3,"span"),_(4),h(),G(5,"img",42),g(6,"span"),_(7),h()()}if(e&2){let t,r,i=C(3);Me("can-afford",i.selectedTooltip&&i.canAffordItem(i.selectedTooltip.dbId))("cannot-afford",i.selectedTooltip&&!i.canAffordItem(i.selectedTooltip.dbId))("buying",i.isBuying),p(4),J(i.selectedTooltip&&(((t=i.getItems().get(i.selectedTooltip.dbId))==null?null:t.fiery_core)||0)),p(3),J(i.selectedTooltip&&(((r=i.getItems().get(i.selectedTooltip.dbId))==null?null:r.lava_core)||0))}}function vA(e,n){if(e&1&&(g(0,"div",36),j(1,gA,2,0,"button",37)(2,mA,8,8,"button",38),h()),e&2){let t=C(2);p(),w("ngIf",t.selectedTooltip&&t.isItemOwned(t.selectedTooltip.dbId)),p(),w("ngIf",t.selectedTooltip&&!t.isItemOwned(t.selectedTooltip.dbId))}}function _A(e,n){if(e&1&&(g(0,"div",43)(1,"div",44),G(2,"img",45),g(3,"span"),_(4),h()(),g(5,"div",44),G(6,"img",41),g(7,"span"),_(8),h()(),g(9,"div",44),G(10,"img",42),g(11,"span"),_(12),h()()()),e&2){let t=C(2);p(4),ue("x",t.guildBank.gold.toFixed(2)),p(4),ue("x",t.guildBank.fieryCores),p(4),ue("x",t.guildBank.lavaCores)}}function yA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t),p(),ue(" ",t," ")}}function CA(e,n){if(e&1){let t=we();g(0,"div",46)(1,"select",47),$("change",function(i){L(t);let o=C(2);return V(o.onAnimationChange(i))}),j(2,yA,2,2,"option",48),h()()}if(e&2){let t=C(2);p(2),w("ngForOf",t.animationService.getAnimations())}}function wA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t.RACEID),p(),J(t.RACE)}}function DA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t),p(),J(t)}}function EA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t),p(),J(t)}}function SA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t),p(),J(t)}}function bA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t),p(),J(t)}}function IA(e,n){if(e&1&&(g(0,"option",49),_(1),h()),e&2){let t=n.$implicit;w("value",t),p(),J(t)}}function TA(e,n){if(e&1){let t=we();g(0,"div",50)(1,"div",51)(2,"label"),_(3,"Race"),h(),g(4,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.selectedRaceId,i)||(o.selectedRaceId=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateRaceGender(i.selectedRaceId,i.selectedGender))}),j(5,wA,2,2,"option",48),h()(),g(6,"div",51)(7,"label"),_(8,"Gender"),h(),g(9,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.selectedGender,i)||(o.selectedGender=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateRaceGender(i.selectedRaceId,i.selectedGender))}),g(10,"option",49),_(11,"Male"),h(),g(12,"option",49),_(13,"Female"),h()()(),g(14,"div",51)(15,"div",53)(16,"button",54),$("pointerdown",function(){L(t);let i=C(2);return V(i.startRandomizing())})("pointerup",function(){L(t);let i=C(2);return V(i.stopRandomizing())})("pointerleave",function(){L(t);let i=C(2);return V(i.stopRandomizing())})("click",function(){L(t);let i=C(2);return V(i.randomizeCustomization())}),G(17,"img",55),h()()(),g(18,"div",51)(19,"label"),_(20,"Skin"),h(),g(21,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.currentPlayer.SKIN,i)||(o.currentPlayer.SKIN=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateCustomization("SKIN",i.currentPlayer.SKIN))}),j(22,DA,2,2,"option",48),h()(),g(23,"div",51)(24,"label"),_(25,"Face"),h(),g(26,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.currentPlayer.FACE,i)||(o.currentPlayer.FACE=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateCustomization("FACE",i.currentPlayer.FACE))}),j(27,EA,2,2,"option",48),h()(),g(28,"div",51)(29,"label"),_(30,"Hairstyle"),h(),g(31,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.currentPlayer.HAIRSTYLE,i)||(o.currentPlayer.HAIRSTYLE=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateCustomization("HAIRSTYLE",i.currentPlayer.HAIRSTYLE))}),j(32,SA,2,2,"option",48),h()(),g(33,"div",51)(34,"label"),_(35,"Hair Color"),h(),g(36,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.currentPlayer.HAIRCOLOR,i)||(o.currentPlayer.HAIRCOLOR=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateCustomization("HAIRCOLOR",i.currentPlayer.HAIRCOLOR))}),j(37,bA,2,2,"option",48),h()(),g(38,"div",51)(39,"label"),_(40,"Facial Style"),h(),g(41,"select",52),jt("ngModelChange",function(i){L(t);let o=C(2);return Xt(o.currentPlayer.FACIALSTYLE,i)||(o.currentPlayer.FACIALSTYLE=i),V(i)}),$("change",function(){L(t);let i=C(2);return V(i.updateCustomization("FACIALSTYLE",i.currentPlayer.FACIALSTYLE))}),j(42,IA,2,2,"option",48),h()()()}if(e&2){let t=C(2);p(4),Vt("ngModel",t.selectedRaceId),p(),w("ngForOf",t.getAvailableRaces()),p(4),Vt("ngModel",t.selectedGender),p(),w("value",0),p(2),w("value",1),p(9),Vt("ngModel",t.currentPlayer.SKIN),p(),w("ngForOf",t.getRange(t.availableOptions.SKIN)),p(4),Vt("ngModel",t.currentPlayer.FACE),p(),w("ngForOf",t.getRange(t.availableOptions.FACE)),p(4),Vt("ngModel",t.currentPlayer.HAIRSTYLE),p(),w("ngForOf",t.getRange(t.availableOptions.HAIRSTYLE)),p(4),Vt("ngModel",t.currentPlayer.HAIRCOLOR),p(),w("ngForOf",t.getRange(t.availableOptions.HAIRCOLOR)),p(4),Vt("ngModel",t.currentPlayer.FACIALSTYLE),p(),w("ngForOf",t.getRange(t.availableOptions.FACIALSTYLE))}}function xA(e,n){if(e&1&&G(0,"div",64),e&2){let t=C().$implicit,r=C(3);w("ngClass",gt(2,Xu,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t.dbId),St)}}function MA(e,n){if(e&1&&G(0,"div",64),e&2){let t=C().$implicit,r=C(5);w("ngClass",gt(2,Xu,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t),St)}}function RA(e,n){if(e&1){let t=we();g(0,"div",68)(1,"img",70),$("click",function(i){let o=L(t).$implicit,a=C(2).$implicit,s=C(3);return V(s.toggleItemTooltip(a.slot,o,!0,i))}),h(),j(2,MA,1,4,"div",62),h()}if(e&2){let t=n.$implicit,r=C(2).$implicit,i=C(3);Vn("data-quality",i.getItemQuality(t)),p(),Me("selected",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory)),w("src",i.getItemIcon(t),Re),p(),w("ngIf",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory))}}function AA(e,n){if(e&1){let t=we();g(0,"div",65)(1,"div",66),j(2,RA,3,5,"div",67),en(3,"filterEquip"),h(),g(4,"div",68)(5,"button",69),$("click",function(){L(t);let i=C().$implicit,o=C(3);return V(o.swapItem(i.slot,null))}),_(6," Unequip "),h()()()}if(e&2){let t=C().$implicit,r=C(3);w("ngClass",gt(5,Uw,r.isBottomUpSlot(t.slot))),p(2),w("ngForOf",So(3,2,r.getFilteredInventoryItems(t.slot),Eo(7,$w,r.equippedItems,t.slot)))}}function PA(e,n){if(e&1){let t=we();g(0,"div",60)(1,"img",61),$("click",function(i){let o=L(t).$implicit,a=C(3);return V(a.toggleItemTooltip(o.slot,o.dbId,!1,i))}),h(),j(2,xA,1,4,"div",62)(3,AA,7,10,"div",63),h()}if(e&2){let t=n.$implicit,r=C(3);Vn("data-quality",r.getItemQuality(t.dbId)),p(),Me("selected",(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot||r.selectedInventorySlot===t.slot),w("src",r.getItemIcon(t.dbId),Re),p(),w("ngIf",r.selectedTooltip&&(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot&&(r.selectedTooltip==null?null:r.selectedTooltip.dbId)===t.dbId&&!r.selectedTooltip.isInventory),p(),w("ngIf",r.selectedInventorySlot===t.slot)}}function NA(e,n){if(e&1&&G(0,"div",64),e&2){let t=C().$implicit,r=C(3);w("ngClass",gt(2,Xu,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t.dbId),St)}}function OA(e,n){if(e&1&&G(0,"div",64),e&2){let t=C().$implicit,r=C(5);w("ngClass",gt(2,Xu,r.useCompactTooltips))("innerHTML",r.getItemTooltip(t),St)}}function kA(e,n){if(e&1){let t=we();g(0,"div",68)(1,"img",70),$("click",function(i){let o=L(t).$implicit,a=C(2).$implicit,s=C(3);return V(s.toggleItemTooltip(a.slot,o,!0,i))}),h(),j(2,OA,1,4,"div",62),h()}if(e&2){let t=n.$implicit,r=C(2).$implicit,i=C(3);Vn("data-quality",i.getItemQuality(t)),p(),Me("selected",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory)),w("src",i.getItemIcon(t),Re),p(),w("ngIf",(i.selectedTooltip==null?null:i.selectedTooltip.slot)===r.slot&&(i.selectedTooltip==null?null:i.selectedTooltip.dbId)===t&&(i.selectedTooltip==null?null:i.selectedTooltip.isInventory))}}function FA(e,n){if(e&1){let t=we();g(0,"div",65)(1,"div",71),j(2,kA,3,5,"div",67),en(3,"filterEquip"),h(),g(4,"div",68)(5,"button",69),$("click",function(){L(t);let i=C().$implicit,o=C(3);return V(o.swapItem(i.slot,null))}),_(6," Unequip "),h()()()}if(e&2){let t=C().$implicit,r=C(3);w("ngClass",gt(5,Uw,r.isBottomUpSlot(t.slot))),p(2),w("ngForOf",So(3,2,r.getFilteredInventoryItems(t.slot),Eo(7,$w,r.equippedItems,t.slot)))}}function LA(e,n){if(e&1){let t=we();g(0,"div",60)(1,"img",61),$("click",function(i){let o=L(t).$implicit,a=C(3);return V(a.toggleItemTooltip(o.slot,o.dbId,!1,i))}),h(),j(2,NA,1,4,"div",62)(3,FA,7,10,"div",63),h()}if(e&2){let t=n.$implicit,r=C(3);Vn("data-quality",r.getItemQuality(t.dbId)),p(),Me("selected",(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot||r.selectedInventorySlot===t.slot),w("src",r.getItemIcon(t.dbId),Re),p(),w("ngIf",r.selectedTooltip&&(r.selectedTooltip==null?null:r.selectedTooltip.slot)===t.slot&&(r.selectedTooltip==null?null:r.selectedTooltip.dbId)===t.dbId&&!r.selectedTooltip.isInventory),p(),w("ngIf",r.selectedInventorySlot===t.slot)}}function VA(e,n){if(e&1&&(g(0,"div",56)(1,"div",57),j(2,PA,4,6,"div",58),en(3,"filterBySide"),h(),g(4,"div",59),j(5,LA,4,6,"div",58),en(6,"filterBySide"),h()()),e&2){let t=C(2);p(2),w("ngForOf",So(3,2,t.equippedItems,"left")),p(3),w("ngForOf",So(6,5,t.equippedItems,"right"))}}function jA(e,n){if(e&1){let t=we();g(0,"div",22),j(1,vA,3,2,"div",23)(2,_A,13,3,"div",24),g(3,"div",25)(4,"button",13),$("click",function(){L(t);let i=C();return V(i.setGearSubTab("equipment"))}),G(5,"img",26),h(),g(6,"button",13),$("click",function(){L(t);let i=C();return V(i.setGearSubTab("customization"))}),G(7,"img",27),h(),g(8,"button",13),$("click",function(){L(t);let i=C();return V(i.setGearSubTab("crafted"))}),G(9,"img",28),h(),g(10,"button",13),$("click",function(){L(t);let i=C();return V(i.setGearSubTab("dungeon"))}),G(11,"img",29),h(),g(12,"button",13),$("click",function(){L(t);let i=C();return V(i.setGearSubTab("mcquest"))}),G(13,"img",30),h()(),G(14,"div",31),j(15,CA,3,1,"div",32)(16,TA,43,15,"div",33)(17,VA,7,8,"div",34),G(18,"div",35),h()}if(e&2){let t=C();p(),w("ngIf",t.selectedGearSubTab==="crafted"&&t.selectedTooltip),p(),w("ngIf",t.selectedGearSubTab==="crafted"),p(2),Me("active",t.selectedGearSubTab==="equipment"),p(2),Me("active",t.selectedGearSubTab==="customization"),p(2),Me("active",t.selectedGearSubTab==="crafted"),p(2),Me("active",t.selectedGearSubTab==="dungeon"),p(2),Me("active",t.selectedGearSubTab==="mcquest"),p(3),w("ngIf",t.selectedGearSubTab==="customization"),p(),w("ngIf",t.selectedGearSubTab==="customization"),p(),w("ngIf",t.selectedGearSubTab!=="customization")}}function HA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=n.$implicit,r=C(2);p(2),ue("",t.label,":"),p(2),J(r.cachedStats.general[t.key])}}function BA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Mana:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),J(t.cachedStats.general.mana)}}function UA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Ranged Attack Power:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),J(t.cachedStats.rangedAttackPower)}}function $A(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(2),ue("Melee Damage OH (",t.cachedStats.damage.OHskill,"):"),p(2),jn("",t.cachedStats.damage.OHmin," - ",t.cachedStats.damage.OHmax," / ",t.cachedStats.damage.OHspeed,"s")}}function zA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(2),ue("Ranged Damage (",t.cachedStats.damage.Rskill,"):"),p(2),jn("",t.cachedStats.damage.Rmin," - ",t.cachedStats.damage.Rmax," / ",(t.cachedStats.damage.Rspeed/(1+t.cachedStats.attackSpeed)).toFixed(2),"s")}}function GA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Attack Speed:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),ue("",t.cachedStats.attackSpeed,"%")}}function WA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Melee Hit:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),ue("",t.cachedStats.hitChance,"%")}}function qA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Parry Chance:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),ue("",t.cachedStats.parryChance,"%")}}function YA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Block Chance:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),ue("",t.cachedStats.blockChance,"%")}}function KA(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Block Value:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(2);p(4),J(t.cachedStats.blockValue)}}function ZA(e,n){if(e&1&&(g(0,"div",100)(1,"span",101),_(2),h(),g(3,"span",102),_(4),h(),g(5,"span",102),_(6),h()()),e&2){let t=n.$implicit;p(2),J(t.label),p(2),J(t.value),p(2),J(t.damage)}}function QA(e,n){if(e&1&&(g(0,"div",88)(1,"h3"),_(2,"Dual-Wield Combat Table"),h(),g(3,"div",98)(4,"div",90),_(5,"Outcome"),h(),g(6,"div",90),_(7,"Chance"),h(),g(8,"div",90),_(9,"Damage"),h(),j(10,ZA,7,3,"div",99),h()()),e&2){let t=C(2);p(10),w("ngForOf",t.getCombatTable("dual-wield"))}}function JA(e,n){if(e&1&&(g(0,"div",100)(1,"span",101),_(2),h(),g(3,"span",102),_(4),h(),g(5,"span",102),_(6),h()()),e&2){let t=n.$implicit;p(2),J(t.label),p(2),J(t.value),p(2),J(t.damage)}}function XA(e,n){if(e&1&&(g(0,"div",88)(1,"h3"),_(2,"Melee Combat Table"),h(),g(3,"div",98)(4,"div",90),_(5,"Outcome"),h(),g(6,"div",90),_(7,"Chance"),h(),g(8,"div",90),_(9,"Damage"),h(),j(10,JA,7,3,"div",99),h()()),e&2){let t=C(2);p(10),w("ngForOf",t.getCombatTable("melee"))}}function eP(e,n){if(e&1&&(g(0,"div",100)(1,"span",101),_(2),h(),g(3,"span",102),_(4),h(),g(5,"span",102),_(6),h()()),e&2){let t=n.$implicit;p(2),J(t.label),p(2),J(t.value),p(2),J(t.damage)}}function tP(e,n){if(e&1&&(g(0,"div",88)(1,"h3"),_(2,"Ranged Combat Table"),h(),g(3,"div",98)(4,"div",90),_(5,"Outcome"),h(),g(6,"div",90),_(7,"Chance"),h(),g(8,"div",90),_(9,"Damage"),h(),j(10,eP,7,3,"div",99),h()()),e&2){let t=C(2);p(10),w("ngForOf",t.getCombatTable("ranged"))}}function nP(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Spell Hit:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C(3);p(4),ue("",t.cachedStats.spellHitChance,"%")}}function rP(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=n.$implicit,r=C(3);p(2),ue("",t.label,":"),p(2),J(r.cachedStats.spellPower[t.key])}}function iP(e,n){if(e&1&&(g(0,"div",100)(1,"span",101),_(2),h(),g(3,"span",102),_(4),h(),g(5,"span",102),_(6),h()()),e&2){let t=n.$implicit;p(2),J(t.label),p(2),J(t.value),p(2),J(t.damage)}}function oP(e,n){if(e&1&&(g(0,"details",82)(1,"summary",79),_(2,"Spell Stats"),h(),j(3,nP,5,1,"div",81),g(4,"div",83)(5,"span",84),_(6,"Spell Critical:"),h(),g(7,"span",85),_(8),h()(),g(9,"div",83)(10,"span",84),_(11,"Mana Regen - Idle:"),h(),g(12,"span",85),_(13),h()(),g(14,"div",83)(15,"span",84),_(16,"Mana Regen - Casting:"),h(),g(17,"span",85),_(18),h()(),j(19,rP,5,2,"div",80),g(20,"div",88)(21,"h3"),_(22,"Spell Combat Table"),h(),g(23,"div",98)(24,"div",90),_(25,"Outcome"),h(),g(26,"div",90),_(27,"Chance"),h(),g(28,"div",90),_(29,"Damage"),h(),j(30,iP,7,3,"div",99),h()()()),e&2){let t=C(2);p(3),w("ngIf",t.cachedStats.spellHitChance>0),p(5),ue("",t.cachedStats.spellCritChance,"%"),p(5),J((t.cachedStats.manaPer5*.4+t.cachedStats.spiritTick).toFixed(1)),p(5),J((t.cachedStats.manaPer5*.4+t.cachedStats.spiritTick*t.cachedStats.spiritCastPct/100).toFixed(1)),p(),w("ngForOf",t.spellPowerStats),p(11),w("ngForOf",t.getCombatTable("spell"))}}function sP(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=n.$implicit,r=C(2);p(2),ue("",t.label,":"),p(2),J(r.cachedStats.resistances[t.key])}}function aP(e,n){if(e&1&&(Rr(0),g(1,"div",100)(2,"span",101),_(3),h(),g(4,"span",102),_(5),h(),g(6,"span",102),_(7),h(),g(8,"span",102),_(9),h(),g(10,"span",102),_(11),h(),g(12,"span",102),_(13),h()(),Ar()),e&2){let t=n.$implicit;p(3),J(t.label),p(2),J(t.fire),p(2),J(t.shadow),p(2),J(t.nature),p(2),J(t.frost),p(2),J(t.arcane)}}function lP(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=n.$implicit,r=C().$implicit,i=C(3);p(2),ue("",t.label,":"),p(2),J(i.cachedStats.pets[r].general[t.key])}}function cP(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2),h(),g(3,"span",85),_(4),h()()),e&2){let t=n.$implicit,r=C().$implicit,i=C(3);p(2),ue("",t.label,":"),p(2),J(i.cachedStats.pets[r].resistances[t.key])}}function uP(e,n){if(e&1&&(g(0,"div",83)(1,"span",84),_(2,"Abilities:"),h(),g(3,"span",85),_(4),h()()),e&2){let t=C().$implicit,r=C(3);p(4),J(r.cachedStats.pets[t].abilities.join(", "))}}function dP(e,n){if(e&1&&(g(0,"div",104)(1,"h3",105),_(2),en(3,"titlecase"),h(),j(4,lP,5,2,"div",80),g(5,"div",83)(6,"span",84),_(7,"Armor:"),h(),g(8,"span",85),_(9),h()(),g(10,"div",83)(11,"span",84),_(12,"Attack Power:"),h(),g(13,"span",85),_(14),h()(),g(15,"div",83)(16,"span",84),_(17,"Damage:"),h(),g(18,"span",85),_(19),h()(),g(20,"div",83)(21,"span",84),_(22,"Defense:"),h(),g(23,"span",85),_(24),h()(),j(25,cP,5,2,"div",80)(26,uP,5,1,"div",81),h()),e&2){let t=n.$implicit,r=C(3);p(2),J(Nr(3,10,t)),p(2),w("ngForOf",r.generalStats),p(5),J(r.cachedStats.pets[t].armor),p(5),J(r.cachedStats.pets[t].attackPower),p(5),jn("",r.cachedStats.pets[t].damage.min," - ",r.cachedStats.pets[t].damage.max," / ",r.cachedStats.pets[t].damage.speed,"s"),p(5),J(r.cachedStats.pets[t].defense),p(),w("ngForOf",r.resistanceStats),p(),w("ngIf",r.cachedStats.pets[t].abilities.length>0)}}function fP(e,n){if(e&1&&(g(0,"details",82)(1,"summary",79),_(2,"Pet Stats"),h(),j(3,dP,27,12,"div",103),h()),e&2){let t=C(2);p(3),w("ngForOf",t.petNames)}}function hP(e,n){if(e&1&&(g(0,"div",106),G(1,"img",107)(2,"span",108),h()),e&2){let t=n.$implicit;p(),w("alt",Zs(t.name))("src","/assets/icons/"+t.icon+".jpg",Re),p(),w("innerHTML",t.updatedTooltip,St)}}function pP(e,n){if(e&1){let t=we();g(0,"div",72)(1,"div",73)(2,"button",13),$("click",function(){L(t);let i=C();return V(i.setStatsSubTab("base"))}),G(3,"img",74),h(),g(4,"button",13),$("click",function(){L(t);let i=C();return V(i.setStatsSubTab("buffed"))}),G(5,"img",75),h()(),g(6,"div",76)(7,"div",77)(8,"h3"),_(9),h(),g(10,"details",78)(11,"summary",79),_(12,"General Stats"),h(),j(13,HA,5,2,"div",80)(14,BA,5,1,"div",81),h(),g(15,"details",82)(16,"summary",79),_(17,"Combat Stats"),h(),g(18,"div",83)(19,"span",84),_(20,"Armor:"),h(),g(21,"span",85),_(22),h()(),g(23,"div",83)(24,"span",84),_(25,"Armor %:"),h(),g(26,"span",85),_(27),h()(),g(28,"div",83)(29,"span",84),_(30,"Attack Power:"),h(),g(31,"span",85),_(32),h()(),j(33,UA,5,1,"div",81),g(34,"div",83)(35,"span",84),_(36),h(),g(37,"span",85),_(38),h()(),j(39,$A,5,4,"div",81)(40,zA,5,4,"div",81)(41,GA,5,1,"div",81)(42,WA,5,1,"div",81),g(43,"div",83)(44,"span",84),_(45,"Critical Strike:"),h(),g(46,"span",85),_(47),h()(),g(48,"div",83)(49,"span",84),_(50,"Dodge Chance:"),h(),g(51,"span",85),_(52),h()(),j(53,qA,5,1,"div",81)(54,YA,5,1,"div",81)(55,KA,5,1,"div",81),g(56,"div",83)(57,"span",84),_(58,"Defense:"),h(),g(59,"span",85),_(60),h()(),j(61,QA,11,1,"div",86)(62,XA,11,1,"div",86)(63,tP,11,1,"div",86),h(),j(64,oP,31,6,"details",87),g(65,"details",82)(66,"summary",79),_(67,"Resistances"),h(),j(68,sP,5,2,"div",80),g(69,"div",88)(70,"h3"),_(71,"Resistance Table"),h(),g(72,"div",89)(73,"div",90),_(74,"Result"),h(),g(75,"div",90),G(76,"img",91),h(),g(77,"div",90),G(78,"img",92),h(),g(79,"div",90),G(80,"img",93),h(),g(81,"div",90),G(82,"img",94),h(),g(83,"div",90),G(84,"img",95),h(),j(85,aP,14,6,"ng-container",96),h()()(),j(86,fP,4,1,"details",87),h(),j(87,hP,3,4,"div",97),h()()}if(e&2){let t=C();p(2),Me("active",t.selectedStatsSubTab==="base"),p(2),Me("active",t.selectedStatsSubTab==="buffed"),p(5),ue("Gear Score: ",t.cachedStats.gearscore),p(4),w("ngForOf",t.generalStats),p(),w("ngIf",!Hn(33,lA).includes(+t.currentPlayer.CLASSID)),p(8),J(t.cachedStats.armor),p(5),J(t.cachedStats.armorDR),p(5),J(t.cachedStats.attackPower),p(),w("ngIf",Hn(34,Bw).includes(+t.currentPlayer.CLASSID)),p(3),ue("Melee Damage (",t.cachedStats.damage.MHskill,"):"),p(2),jn("",t.cachedStats.damage.MHmin," - ",t.cachedStats.damage.MHmax," / ",t.cachedStats.damage.MHspeed,"s"),p(),w("ngIf",t.cachedStats.damage.OHmin>0),p(),w("ngIf",t.cachedStats.damage.Rmin>0),p(),w("ngIf",t.cachedStats.attackSpeed),p(),w("ngIf",t.cachedStats.hitChance),p(5),ue("",t.cachedStats.critChance,"%"),p(5),ue("",t.cachedStats.dodgeChance,"%"),p(),w("ngIf",Hn(35,cA).includes(+t.currentPlayer.CLASSID)),p(),w("ngIf",t.cachedStats.blockValue>0),p(),w("ngIf",t.cachedStats.blockValue>0),p(5),J(t.cachedStats.defense),p(),w("ngIf",t.showDualWieldTable()),p(),w("ngIf",t.showMeleeTable()),p(),w("ngIf",t.showRangedTable()),p(),w("ngIf",!Hn(36,Bw).includes(+t.currentPlayer.CLASSID)),p(4),w("ngForOf",t.resistanceStats),p(17),w("ngForOf",t.getResistTable()),p(),w("ngIf",Hn(37,uA).includes(+t.currentPlayer.CLASSID)&&t.petNames.length>0),p(),w("ngForOf",t.spellTooltips)}}function gP(e,n){if(e&1&&(g(0,"h2"),_(1),h()),e&2){let t=C(2);p(),J(t.getClassName(t.currentPlayer.CLASSID))}}function mP(e,n){if(e&1&&(g(0,"h2"),_(1),h()),e&2){let t=C(2);p(),ue("",t.getRaceName(+t.currentPlayer.RACE)," Skills")}}function vP(e,n){if(e&1&&(g(0,"tr")(1,"td"),G(2,"img",107),h(),G(3,"td",113),en(4,"safeHtml"),h()),e&2){let t=n.$implicit;p(2),w("alt",Zs(t.SPELLNAME))("src","/assets/icons/"+t.ICON_NAME+".jpg",Re),p(),w("innerHTML",Nr(4,4,t.TOOLTIP),St)}}function _P(e,n){if(e&1&&(g(0,"div",112)(1,"table"),j(2,vP,5,6,"tr",96),h()()),e&2){let t=C(2);p(2),w("ngForOf",t.getSpells(t.selectedSpellTab))}}function yP(e,n){if(e&1){let t=we();g(0,"div",109),j(1,gP,2,1,"h2",110)(2,mP,2,1,"h2",110),g(3,"div",73)(4,"button",13),$("click",function(){L(t);let i=C();return V(i.setSpellTab("class"))}),G(5,"img",14),h(),g(6,"button",13),$("click",function(){L(t);let i=C();return V(i.setSpellTab("racial"))}),G(7,"img",14),h()(),j(8,_P,3,1,"div",111),h()}if(e&2){let t=C();p(),w("ngIf",t.selectedSpellTab==="class"),p(),w("ngIf",t.selectedSpellTab!=="class"),p(2),Me("active",t.selectedSpellTab==="class"),p(),w("src","/assets/icons/class_"+t.getClassName(t.currentPlayer.CLASSID).toLowerCase()+".jpg",Re),p(),Me("active",t.selectedSpellTab==="racial"),p(),w("src","/assets/icons/achievement_character_"+t.getRaceName(+t.currentPlayer.RACE).toLowerCase()+"_"+(t.currentPlayer.GENDER==0?"male":"female")+".jpg",Re),p(),w("ngIf",t.selectedSpellTab)}}function CP(e,n){if(e&1&&(g(0,"h2"),_(1),h()),e&2){let t=C(2);p(),J(t.getTalentName())}}function wP(e,n){if(e&1){let t=we();g(0,"button",13),$("click",function(){let i=L(t).$implicit,o=C(2);return V(o.setSpecTab(i))}),G(1,"img",14),h()}if(e&2){let t=n.$implicit,r=C(2);Me("active",r.selectedSpecTab===t),p(),w("src","/assets/icons/"+r.getTalentIcon(+t)+".jpg",Re)}}function DP(e,n){if(e&1&&(g(0,"tr")(1,"td"),G(2,"img",117),h(),G(3,"td",113),en(4,"safeHtml"),h()),e&2){let t=n.$implicit;p(2),w("alt",Zs(t.SPELLNAME))("src","/assets/icons/"+t.ICON_NAME+".jpg",Re),p(),w("innerHTML",Nr(4,4,t.TOOLTIP),St)}}function EP(e,n){if(e&1&&(g(0,"div",114),j(1,CP,2,1,"h2",110),g(2,"div",73),j(3,wP,2,3,"button",115),h(),g(4,"div",116)(5,"table"),j(6,DP,5,6,"tr",96),h()()()),e&2){let t=C();p(),w("ngIf",t.currentPlayer),p(2),w("ngForOf",t.talentBuilds),p(3),w("ngForOf",t.getTalents(t.selectedSpecTab))}}var ed=(()=>{let n=class n{constructor(r,i,o,a,s,l,c,u){this.http=r,this.animationService=i,this.statsService=o,this.dataService=a,this.utilityService=s,this.modelViewerService=l,this.gearService=c,this.helpService=u,this.currentPlayer=null,this.players=[],this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.backToGridEvent=new Ye,this.playerIndex=-1,this.origSpec=-1,this.equippedItems=[],this.inventoryItems=[],this.selectedTooltip=null,this.selectedInventorySlot=null,this.selectedTab="gear",this.selectedSpecTab=0,this.selectedSpellTab="class",this.selectedGearSubTab="equipment",this.selectedStatsSubTab="base",this.talentBuilds=[0,1,2],this.cachedStats=null,this.spellTooltips=null,this.selectedRaceId=1,this.selectedGender=0,this.availableOptions=Wn[0].options,this.isEditingName=!1,this.newPlayerName="",this.useCompactTooltips=!1,this.clickX=null,this.clickY=null,this.isBuying=!1,this.buyTimer=null,this.generalStats=$u,this.resistanceStats=Gu,this.spellPowerStats=zu,this.spellSchool=Wu,this.durIndex=qu,this.showHelpButton=!0,this.showHelpOverlay=!1}ngOnInit(){let r=localStorage.getItem("useCompactTooltips");r!==null&&(this.useCompactTooltips=r.toLowerCase()==="true"),this.useCompactTooltips&&document.body.classList.add("compact-tooltip"),this.currentPlayer&&this.viewPlayer(this.currentPlayer)}ngOnDestroy(){this.modelViewerService.destroyModelViewer(),this.stopRandomizing(),this.cancelBuyItem()}getColor(r){return this.utilityService.getColor(r)}getHelpContent(){return this.helpService.getHelpPlayer(this.currentPlayer,this.selectedTab,this.selectedSpecTab,this.selectedSpellTab,this.selectedGearSubTab,this.selectedStatsSubTab,this.talentBuilds)}toggleHelpOverlay(){this.showHelpOverlay=!this.showHelpOverlay}viewPlayer(r){if(this.currentPlayer=M({},r),!this.currentPlayer)return;this.playerIndex=this.players.findIndex(a=>a.NAME===this.currentPlayer.NAME),this.selectedTab="gear";let i=this.currentPlayer.SPEC;if(this.origSpec=i,this.selectedRaceId=+this.currentPlayer.RACE,this.selectedGender=+this.currentPlayer.GENDER,this.updateAvailableOptions(),this.selectedSpecTab=this.talentBuilds[i]||0,this.equippedItems=[],this.inventoryItems=[],this.selectedTooltip=null,this.selectedInventorySlot=null,[1,2,3,5,6,7,8,9,10,11,12,13,14,16,21,22,26].forEach(a=>{let s=r[`SLOT_${a}`];s&&!isNaN(+s)?this.equippedItems.push({slot:a,dbId:+s}):this.equippedItems.push({slot:a,dbId:-1})}),r.INVENTORY){let a=new Map;r.INVENTORY.split(";").map(l=>+l.trim()).filter(l=>!isNaN(l)).forEach(l=>{let c=this.dataService.getItemsMap().get(l);if(c){let f={17:21,21:21,14:22,23:22,13:23,12:13,20:5,28:26}[c.eq_type]??c.eq_type;if(f!==-1){let m={23:[21,22],13:[13,14],11:[11,12]}[f]||[f];for(let D of m){let R=a.get(D)||[];R.push(l),a.set(D,R)}}}}),a.forEach((l,c)=>{this.inventoryItems.push({slot:c,dbIds:l})})}this.recalculateStats(),this.destroyModelViewer(),setTimeout(()=>{this.currentPlayer&&this.loadModel(this.currentPlayer)},0)}recalculateStats(){this.cachedStats=this.statsService.calculateStats(this.selectedStatsSubTab!=="base",this.currentPlayer,this.equippedItems,this.players),this.spellTooltips=this.calculateSpellTooltips()}updateAvailableOptions(){let r=Wn.find(i=>i.RACEID===+this.selectedRaceId&&i.GENDER===+this.selectedGender);this.availableOptions=r?r.options:Wn[0].options}updateCustomization(r,i){this.currentPlayer&&(this.currentPlayer=ae(M({},this.currentPlayer),{[r]:i}),this.players[this.playerIndex][r]=i,this.modelViewerService.updateAppearance(this.currentPlayer),this.dataService.saveVariableToStorage("players",this.players))}updateRaceGender(r,i){this.selectedRaceId=r,this.selectedGender=i,this.updateAvailableOptions(),this.currentPlayer&&(this.currentPlayer=ae(M({},this.currentPlayer),{RACE:r,GENDER:i,SKIN:0,FACE:0,HAIRSTYLE:0,HAIRCOLOR:0,FACIALSTYLE:0}),this.players[this.playerIndex].RACE=r,this.players[this.playerIndex].GENDER=i,this.modelViewerService.destroyModelViewer(),this.loadModel(this.currentPlayer),this.dataService.saveVariableToStorage("players",this.players))}randomizeCustomization(){if(!this.currentPlayer||!this.availableOptions)return;["SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE"].forEach(i=>{let o=this.availableOptions[i]||0;if(o>0){let a=Math.floor(Math.random()*o);this.updateCustomization(i,a)}})}startRandomizing(){this.stopRandomizing(),this.randomizeTimeout=setTimeout(()=>{this.randomizeCustomization(),this.randomizeInterval=setInterval(()=>{this.randomizeCustomization()},25)},500)}stopRandomizing(){this.randomizeTimeout&&(clearTimeout(this.randomizeTimeout),this.randomizeTimeout=null),this.randomizeInterval&&(clearInterval(this.randomizeInterval),this.randomizeInterval=null)}setTab(r){this.selectedTab=r,r==="gear"&&this.currentPlayer&&setTimeout(()=>{this.modelViewerService.destroyModelViewer(),this.currentPlayer&&this.loadModel(this.currentPlayer)},0),(r==="spec"||r==="spells"||r==="stats")&&setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setSpecTab(r){this.selectedSpecTab=r,this.currentPlayer&&(this.currentPlayer.SPEC=r,this.players[this.playerIndex].SPEC=r,this.recalculateStats(),this.dataService.saveVariableToStorage("players",this.players),setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0))}setSpellTab(r){this.selectedSpellTab=r,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setGearSubTab(r){this.selectedGearSubTab=r,this.selectedTooltip=null,this.selectedInventorySlot=null,setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}setStatsSubTab(r){this.selectedStatsSubTab=r,this.recalculateStats(),setTimeout(()=>{let i=document.querySelector(".content-area");i&&(i.scrollTop=0)},0)}getFilteredInventoryItems(r){return this.gearService.getFilteredInventoryItems(r,this.currentPlayer,this.selectedGearSubTab,this.inventoryItems)}isItemOwned(r){return this.gearService.isItemOwned(r,this.inventoryItems,this.equippedItems)}canAffordItem(r){return this.gearService.canAffordItem(r,this.guildBank)}startBuyItem(r){this.isItemOwned(r)||!this.canAffordItem(r)||(this.isBuying=!0,this.buyTimer=setTimeout(()=>{this.buyItem(r),this.isBuying=!1},2e3))}cancelBuyItem(){this.buyTimer&&(clearTimeout(this.buyTimer),this.buyTimer=null,this.isBuying=!1)}buyItem(r){this.gearService.buyItem(r,this.currentPlayer,this.playerIndex,this.guildBank,this.inventoryItems,this.players),this.selectedTooltip=null,this.selectedInventorySlot=null,this.dataService.saveVariableToStorage("players",this.players),this.dataService.saveVariableToStorage("guildBank",this.guildBank)}get petNames(){return this.cachedStats.pets?Object.keys(this.cachedStats.pets):[]}getSlotName(r){return this.utilityService.getSlotName(r)}getSlotSide(r){return this.utilityService.getSlotSide(r)}getItemIcon(r){return this.utilityService.getItemIcon(r)}getItemTooltip(r){return this.utilityService.getItemTooltip(r,this.equippedItems)}getItemQuality(r){if(r!==-1){let i=this.dataService.getItemsMap().get(r);if(i&&i.item_quality)return+i.item_quality||0}return 2}toggleItemTooltip(r,i,o=!1,a){let s=this.selectedTooltip&&this.selectedTooltip.slot===r&&this.selectedTooltip.dbId===i&&this.selectedTooltip.isInventory===o,l=this.selectedTooltip&&this.selectedTooltip.slot===r||this.selectedInventorySlot&&this.selectedInventorySlot==r;s?o&&this.selectedInventorySlot===r?(this.swapItem(r,i),this.selectedTooltip=null,this.selectedInventorySlot=null):o||(this.selectedInventorySlot?(this.selectedTooltip=null,this.selectedInventorySlot=null):(this.selectedTooltip=null,this.selectedInventorySlot=r)):l&&!o?(this.selectedTooltip=null,this.selectedInventorySlot=null):(this.selectedTooltip={slot:r,dbId:i,isInventory:o},o?this.selectedInventorySlot=r:this.selectedInventorySlot=null);let c=document.querySelector(".content-area"),u=c.getBoundingClientRect();this.clickX=a.clientX-u.left,this.clickY=a.clientY-u.top+c.scrollTop,setTimeout(()=>{let f=document.querySelector(".tooltip");if(f){let y=f.getBoundingClientRect(),m=u.height,D=y.height,R=(m-D)/2;this.clickY!==null&&(R-=this.clickY),f.style.top=`${R}px`}},0)}swapItem(r,i){if(!this.currentPlayer)return;let o=this.selectedGearSubTab==="equipment";this.gearService.swapItem(r,i,this.currentPlayer,this.playerIndex,this.equippedItems,this.players,o),[2,11,12,13,14].includes(r)||(this.modelViewerService.destroyModelViewer(),this.loadModel(this.currentPlayer)),this.dataService.saveVariableToStorage("players",this.players),this.recalculateStats(),this.selectedTooltip=null,this.selectedInventorySlot=null}loadModel(r){return ft(this,null,function*(){yield this.modelViewerService.loadModel(r,this.equippedItems)})}onAnimationChange(r){let i=r.target;this.animationService.updateAnimation2(this.modelViewerService.getModelViewer(),i.value)}toggleNameEdit(){this.currentPlayer&&(this.isEditingName=!this.isEditingName,this.isEditingName&&(this.newPlayerName=this.currentPlayer.NAME))}savePlayerName(){if(!this.newPlayerName||this.newPlayerName.trim()===""||!this.currentPlayer){this.isEditingName=!1;return}if(this.players.some((i,o)=>o!==this.playerIndex&&i.NAME.toLowerCase()===this.newPlayerName.trim().toLowerCase())){console.warn("Name already exists:",this.newPlayerName),this.isEditingName=!1;return}this.players[this.playerIndex].NAME=this.newPlayerName.trim(),this.currentPlayer.NAME=this.newPlayerName.trim(),this.isEditingName=!1,this.dataService.saveVariableToStorage("players",this.players)}destroyModelViewer(){this.modelViewerService.destroyModelViewer()}getPlayerSpells(){if(!this.currentPlayer)return[];let r=this.currentPlayer.CLASSID,i=this.currentPlayer.SPEC,o=$t[r]?.[i]?.spellList||[];return this.dataService.getSpells().filter(a=>o.includes(+a.SPELLID))}getSpells(r){return r==="class"?this.dataService.getSpells().filter(i=>{if(Number(i.CLASSID)!==Number(this.currentPlayer.CLASSID)||Number(i.RACEID)!==0)return!1;if(i.SOURCE==="Talent"){let o=this.currentPlayer?.SPEC??0,a=["SPEC_0","SPEC_1","SPEC_2"][o];return this.dataService.getTalents().some(s=>Number(s.CLASSID)===Number(this.currentPlayer?.CLASSID)&&+s.SPELLID==+i.SPELLID&&+s[a]==1)}return!0}):r==="racial"?this.dataService.getSpells().filter(i=>(Number(i.CLASSID)===Number(this.currentPlayer?.CLASSID)||+i.CLASSID==-1)&&+i.RACEID===Number(this.currentPlayer?.RACE)):[]}getTalents(r){let o=["SPEC_0","SPEC_1","SPEC_2"][r];return this.dataService.getTalents().filter(a=>Number(a.CLASSID)===Number(this.currentPlayer?.CLASSID)&&+a[o]==1)}getTalentName(){return!this.currentPlayer||this.selectedSpecTab===null?"":this.utilityService.getTalentName(this.currentPlayer,this.selectedSpecTab)}getTalentIcon(r){return this.currentPlayer?this.utilityService.getTalentIcon(this.currentPlayer,r):""}getRole(r,i){return this.utilityService.getRole(r,i)}getClassName(r=7){return this.utilityService.getClassName(r)}getRaceName(r){return this.utilityService.getRaceName(r)}getAvailableRaces(){if(!this.currentPlayer||!this.currentPlayer.CLASSID)return Array.from(new Map(Wn.map(a=>[a.RACEID,a])).values());let r=ww[+this.currentPlayer.CLASSID]||[];return Wn.filter(o=>r.includes(o.RACEID)).reduce((o,a)=>(o.some(s=>s.RACEID===a.RACEID)||o.push(a),o),[])}isBottomUpSlot(r){return[21,22,26,7,8,9].includes(r)}getRange(r){return Array.from({length:r},(i,o)=>o)}getItems(){return this.dataService.getItemsMap()}calculateSpellTooltips(){let r=this.dataService.getSpells(),i=this.dataService.getTalents();if(!this.currentPlayer||!this.cachedStats||!r||!i)return console.warn("Missing required data for tooltip calculation"),[];let o=+this.currentPlayer.CLASSID,a=+this.currentPlayer.SPEC,s=$t[o]?.[a]?.spellList||[],l=i.filter(c=>+c[`SPEC_${a}`]==1&&+c.CLASSID===o);return s.map(c=>{let u=r.find(D=>+D.SPELLID===c);if(!u)return console.warn(`Spell ID ${c} not found`),null;let f=u.TOOLTIP,y=this.statsService.getTalentModifications(c,l);if(f=this.updateTooltipSections(f,y),c===27871&&(u=r.find(D=>+D.SPELLID==27874)),[2,5,10,11].includes(+u.SPELLTYPE)||+u.SPELLID==10901){let D=this.statsService.calculateDamageValues(u,l,this.cachedStats),{minDmg1:R,maxDmg1:b,minDmg2:x,maxDmg2:ce,ticks:q}=D,N=f.match(/<div class="q">(.*?)<\/div>/s);if(N){let H=N[1],d="";if(x>2&&+u.WeaponDmg==0)R>2?b-R<=1?d=`(${Math.round(b)} + ${Math.round(ce)})`:ce-x<=1?d=`(${Math.round(R)}-${Math.round(b)} + ${Math.round(ce)})`:d=`(${Math.round(R)}-${Math.round(b)} + ${Math.round(x)}-${Math.round(ce)})`:ce-x<=1?d=`(${Math.round(ce)})`:d=`(${Math.round(x)}-${Math.round(ce)})`;else{let v=+u.EffectPointsPerComboPoint1>0?5:0;b-R<=1?d=v>0?`(Max 5 CP: ${Math.round(R)})`:`(${Math.round(R)})`:d=v>0?`(Max 5 CP: ${Math.round(R)}-${Math.round(b)})`:`(${Math.round(R)}-${Math.round(b)})`}H=`${H} ${d}`,f=f.replace(N[0],`<div class="q">${H}</div>`)}else console.warn(`No description found for ${u.SPELLNAME} (ID: ${c})`)}return{spellId:c,name:u.SPELLNAME,icon:u.ICON_NAME,updatedTooltip:f}}).filter(c=>c!==null)}updateTooltipSections(r,i){let o=r;if(i.rangeMod){let a=o.match(/(?:(\d+(?:\.\d+)?)\s*-\s*)?(\d+(?:\.\d+)?)\s*yd(?:\s*range)?/i);if(a){let s=a[1]?parseFloat(a[1]):null,l=parseFloat(a[2]);i.rangeMod.type==="percent"?l*=1+i.rangeMod.value/100:l+=i.rangeMod.value;let c=s!==null?`${s} - ${a[2]} (${Math.round(l)}) yd range`:`${a[2]} (${Math.round(l)}) yd range`;o=o.replace(a[0],c)}else if(o.includes("melee range")){let s=`Melee range (${i.rangeMod.value} yd)`;o=o.replace("melee range",s)}}if(i.costMod){let a=o.match(/(\d+)\s*(mana|energy|rage)/i);if(a){let l=parseInt(a[1]);i.costMod.type==="percent"?l*=1-i.costMod.value/100:l-=i.costMod.value;let c=`${a[1]} (${Math.round(l)}) ${a[2]}`;o=o.replace(a[0],c)}let s=o.match(/(\d+)% of base mana/i);if(s){let l=parseInt(s[1]);i.costMod.type==="percent"?l*=1-i.costMod.value/100:l-=i.costMod.value;let c=`${s[1]} (${l.toFixed(1)})% of base mana`;o=o.replace(s[0],c)}}if(i.castTimeMod){let a=o.match(/(\d+(?:\.\d+)?)\s*sec\s*cast/i);if(a){let s=parseFloat(a[1]),l=Math.max(0,s-i.castTimeMod.value),c=`${a[1]} (${l.toFixed(1)}) sec cast`;o=o.replace(a[0],c)}}if(i.cooldownMod){let a=o.match(/(\d+(?:\.\d+)?)\s*sec\s*cooldown/i);if(a){let c=parseFloat(a[1]),u=Math.max(0,c-i.cooldownMod.value),f=`${a[1]} (${u.toFixed(1)}) sec cooldown`;o=o.replace(a[0],f)}let s=o.match(/(\d+(?:\.\d+)?)\s*min\s*cooldown/i);if(s){let c=parseFloat(s[1]),u=Math.max(0,c-i.cooldownMod.value/60),f=`${s[1]} (${u.toFixed(2)}) min cooldown`;o=o.replace(s[0],f)}let l=o.match(/(\d+(?:\.\d+)?)\s*hour\s*cooldown/i);if(l){let c=parseFloat(l[1]),u=Math.max(0,c-i.cooldownMod.value/3600),f=`${l[1]} (${u.toFixed(2)}) hr cooldown`;o=o.replace(l[0],f)}}if(i.durationMod){let a=o.match(/over\s+(\d+(?:\.\d+)?)\s*(?:sec|seconds)/i);if(a){let s=parseFloat(a[1]);i.durationMod.type==="percent"?s*=1+i.durationMod.value/100:s+=i.durationMod.value;let l=`over ${a[1]} (${Math.round(s)}) sec`;o=o.replace(a[0],l)}}return o}getResistTable(){return this.statsService.getResistTable(this.cachedStats)}getCombatTable(r){return this.currentPlayer?this.statsService.getCombatTable(this.currentPlayer,this.cachedStats,r):[]}showDualWieldTable(){return this.cachedStats.damage.OHmin>0}showMeleeTable(){return this.currentPlayer?[2,6,7].includes(+this.currentPlayer.CLASSID)||$t[this.currentPlayer.CLASSID]?.[this.currentPlayer.SPEC]?.role==="tank":!1}showRangedTable(){return Number(this.currentPlayer?.CLASSID)===5}backToGrid(){console.log("Back to grid clicked",this.playerIndex,this.currentPlayer,this.players,this.guildBank),this.playerIndex!==-1&&this.currentPlayer&&this.origSpec!==this.currentPlayer.SPEC&&(this.players[this.playerIndex].SPEC=this.currentPlayer.SPEC,this.guildBank.gold>500?this.guildBank.gold-=50:this.guildBank.gold*=.9,this.dataService.saveVariableToStorage("guildBank",this.guildBank),this.dataService.saveVariableToStorage("players",this.players)),this.stopRandomizing(),this.cancelBuyItem(),this.destroyModelViewer(),this.backToGridEvent.emit()}};n.\u0275fac=function(i){return new(i||n)(Y(Lr),Y(es),Y(qn),Y(bt),Y(nn),Y(Hw),Y(Qo),Y(Zu))},n.\u0275cmp=Nt({type:n,selectors:[["app-player-view"]],inputs:{currentPlayer:"currentPlayer",players:"players",guildBank:"guildBank"},outputs:{backToGridEvent:"backToGridEvent"},decls:26,vars:25,consts:[["class","help-button",3,"ngClass","click",4,"ngIf"],["class","help-overlay",4,"ngIf"],[1,"player-view"],[1,"player-header"],["class","player-name",3,"ngStyle","click",4,"ngIf"],["class","player-name-input",3,"ngModel","ngModelChange","blur","keyup.enter",4,"ngIf"],["alt","role icon",1,"role-icon2",3,"src"],[1,"content-area"],["class","model-wrapper",4,"ngIf"],["class","stats-tab-content",4,"ngIf"],["class","spells",4,"ngIf"],["class","spec",4,"ngIf"],[1,"tab-buttons"],[3,"click"],[3,"src"],[1,"help-button",3,"click","ngClass"],["src","/assets/icons/inv_misc_questionmark.jpg","alt","Help"],[1,"help-overlay"],[1,"help-content",3,"innerHTML"],[1,"help-close-btn",3,"click"],[1,"player-name",3,"click","ngStyle"],[1,"player-name-input",3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"model-wrapper"],["class","buy-button-container",4,"ngIf"],["class","guild-bank-bar",4,"ngIf"],[1,"spec-tabs","gear-sub-tabs"],["src","/assets/icons/inv_misc_bag_08.jpg"],["src","/assets/icons/vas_racechange.jpg"],["src","/assets/icons/inv_misc_coin_02.jpg"],["src","/assets/icons/spell_nature_astralrecalgroup.jpg"],["src","/assets/icons/achievement_boss_ragnaros.jpg"],["id","model-viewer"],["class","select-wrapper",4,"ngIf"],["class","customization-form",4,"ngIf"],["class","item-columns-container",4,"ngIf"],[2,"height","127px"],[1,"buy-button-container"],["class","buy-button owned","disabled","",4,"ngIf"],["class","buy-button",3,"can-afford","cannot-afford","buying","pointerdown","pointerup","pointerleave",4,"ngIf"],["disabled","",1,"buy-button","owned"],[1,"buy-button",3,"pointerdown","pointerup","pointerleave"],["src","/assets/icons/spell_fire_flamebolt.jpg","alt","Fiery Core",1,"bank-icon"],["src","/assets/icons/spell_nature_earthquake.jpg","alt","Lava Core",1,"bank-icon"],[1,"guild-bank-bar"],[1,"guild-bank-item"],["src","/assets/icons/ui_plundercoins.jpg","alt","Gold",1,"bank-icon"],[1,"select-wrapper"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"customization-form"],[1,"form-group"],[3,"ngModelChange","change","ngModel"],[1,"centered-button"],[1,"toggle-customization",3,"pointerdown","pointerup","pointerleave","click"],["src","/assets/icons/inv_misc_dice_01.jpg"],[1,"item-columns-container"],[1,"item-column","left"],["class","item-slot",4,"ngFor","ngForOf"],[1,"item-column","right"],[1,"item-slot"],["alt","Item icon",1,"item-icon",3,"click","src"],["class","tooltip",3,"ngClass","innerHTML",4,"ngIf"],["class","inventory-list",3,"ngClass",4,"ngIf"],[1,"tooltip",3,"ngClass","innerHTML"],[1,"inventory-list",3,"ngClass"],[1,"inventory-grid"],["class","inventory-item",4,"ngFor","ngForOf"],[1,"inventory-item"],[1,"unequip-button",3,"click"],["alt","Inventory item",1,"item-icon",3,"click","src"],[1,"inventory-grid","right"],[1,"stats-tab-content"],[1,"spec-tabs"],["src","assets/icons/spell_holy_blessingofstrength.jpg","alt","Base Stats"],["src","assets/icons/spell_nature_strength.jpg","alt","Buffed Stats"],[1,"stats-grid"],[1,"stats-content"],["open",""],[1,"section-title"],["class","stat-item",4,"ngFor","ngForOf"],["class","stat-item",4,"ngIf"],["close",""],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],["class","combat-table",4,"ngIf"],["close","",4,"ngIf"],[1,"combat-table"],[1,"table-grid2"],[1,"table-header"],["src","/assets/icons/spell_fire_flamebolt.jpg","alt","Fire icon","title","Fire",1,"spell-icon"],["src","/assets/icons/spell_shadow_shadowbolt.jpg","alt","Shadow icon","title","Shadow",1,"spell-icon"],["src","/assets/icons/spell_nature_resistnature.jpg","alt","Nature icon","title","Nature",1,"spell-icon"],["src","/assets/icons/spell_frost_frostbolt02.jpg","alt","Frost icon","title","Frost",1,"spell-icon"],["src","/assets/icons/spell_nature_starfall.jpg","alt","Arcane icon","title","Arcane",1,"spell-icon"],[4,"ngFor","ngForOf"],["class","spell-item",4,"ngFor","ngForOf"],[1,"table-grid"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-label"],[1,"table-value"],["class","pet-section",4,"ngFor","ngForOf"],[1,"pet-section"],[1,"pet-title"],[1,"spell-item"],[1,"spell-icon",3,"src","alt"],[1,"spell-tooltip",3,"innerHTML"],[1,"spells"],[4,"ngIf"],["class","spells-content",4,"ngIf"],[1,"spells-content"],[3,"innerHTML"],[1,"spec"],[3,"active","click",4,"ngFor","ngForOf"],[1,"talents"],[1,"talent-icon",3,"src","alt"]],template:function(i,o){i&1&&(j(0,dA,2,3,"button",0)(1,fA,5,3,"div",1),g(2,"div",2)(3,"div",3),j(4,hA,2,4,"div",4)(5,pA,1,1,"input",5),G(6,"img",6),h(),g(7,"div",7),j(8,jA,19,15,"div",8),g(9,"div",7),j(10,pP,88,38,"div",9)(11,yP,9,9,"div",10)(12,EP,7,3,"div",11),h(),g(13,"div",12)(14,"button",13),$("click",function(){return o.setTab("gear")}),G(15,"img",14),h(),g(16,"button",13),$("click",function(){return o.setTab("stats")}),G(17,"img",14),h(),g(18,"button",13),$("click",function(){return o.setTab("spells")}),G(19,"img",14),h(),g(20,"button",13),$("click",function(){return o.setTab("spec")}),G(21,"img",14),h(),g(22,"button",13),$("click",function(){return o.setTab("gambits")}),G(23,"img",14),h(),g(24,"button",13),$("click",function(){return o.backToGrid()}),G(25,"img",14),h()()()()),i&2&&(w("ngIf",o.showHelpButton),p(),w("ngIf",o.showHelpOverlay),p(3),w("ngIf",!o.isEditingName),p(),w("ngIf",o.isEditingName),p(),w("src","assets/icons/role_"+o.getRole(o.currentPlayer.CLASSID,o.currentPlayer.SPEC)+"2.png",Re),p(2),w("ngIf",o.selectedTab=="gear"),p(2),w("ngIf",o.selectedTab=="stats"),p(),w("ngIf",o.selectedTab==="spells"),p(),w("ngIf",o.selectedTab==="spec"),p(2),Me("active",o.selectedTab==="gear"),p(),w("src","/assets/icons/inv_chest_chain.jpg",Re),p(),Me("active",o.selectedTab==="stats"),p(),w("src","/assets/icons/inv_misc_note_01.jpg",Re),p(),Me("active",o.selectedTab==="spells"),p(),w("src","/assets/icons/inv_misc_book_11.jpg",Re),p(),Me("active",o.selectedTab==="spec"),p(),w("src","/assets/icons/inv_7xp_inscription_talenttome02.jpg",Re),p(),Me("active",o.selectedTab==="gambits"),p(),w("src","/assets/icons/trade_engineering.jpg",Re),p(2),w("src","/assets/icons/achievement_bg_returnxflags_def_wsg.jpg",Re))},dependencies:[fr,yi,kr,Ci,wi,Oo,du,fu,lu,No,cu,ga,Vp,Qu,Ow,kw],styles:['.player-view[_ngcontent-%COMP%]{background-color:#000;width:100%;max-width:800px;min-height:600px;position:relative;margin:0 auto}.model-wrapper[_ngcontent-%COMP%]{min-height:600px;max-width:400px;width:100%;margin:0 auto;position:relative}.select-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.item-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:2px;width:60px;pointer-events:auto}.item-columns-container[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;justify-content:space-between;z-index:10;pointer-events:none}.inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,50px);gap:5px}.inventory-grid.right[_ngcontent-%COMP%]{direction:rtl;justify-content:end}.inventory-list.bottom-up[_ngcontent-%COMP%]{transform:translateY(calc(-100% + 50px))}.item-column.left[_ngcontent-%COMP%]{align-items:flex-end}.item-column.right[_ngcontent-%COMP%]{align-items:flex-start}.tooltip[_ngcontent-%COMP%]{position:absolute;background:#222;color:#fff;padding:10px;border-radius:5px;white-space:pre-wrap;z-index:100;top:0;left:80px;width:150px;font-size:12px}[_nghost-%COMP%]     body.compact-tooltip .tooltip{width:125px!important;min-width:125px!important;font-size:10px!important}.tooltip.compact-tooltip[_ngcontent-%COMP%]{width:125px!important;min-width:125px!important;font-size:10px!important}.item-column.right[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{left:auto;right:80px}.item-column.right[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(3n)   .tooltip[_ngcontent-%COMP%]{left:auto;right:25px}.item-column.left[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]   .inventory-item[_ngcontent-%COMP%]:nth-child(3n)   .tooltip[_ngcontent-%COMP%]{left:25px;right:auto}.inventory-list[_ngcontent-%COMP%]{position:absolute;background:#333;padding:10px;border-radius:5px;z-index:100;top:0;left:60px;display:flex;flex-direction:column;gap:5px}.item-column.right[_ngcontent-%COMP%]   .inventory-list[_ngcontent-%COMP%]{left:auto;right:60px}.inventory-item[_ngcontent-%COMP%]{position:relative;direction:ltr}.item-slot[_ngcontent-%COMP%]{position:relative}.item-icon[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid #333;cursor:pointer}.item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff}.item-slot[data-quality="2"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #00ff00}.item-slot[data-quality="3"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff}.item-slot[data-quality="4"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #800080}.item-slot[data-quality="5"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #ffa500}.inventory-item[data-quality="2"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #00ff00!important}.inventory-item[data-quality="3"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #007bff!important}.inventory-item[data-quality="4"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #800080!important}.inventory-item[data-quality="5"][_ngcontent-%COMP%]   .item-icon.selected[_ngcontent-%COMP%]{border:2px solid #ffa500!important}select[_ngcontent-%COMP%]{margin-top:20px;padding:5px}#model-viewer[_ngcontent-%COMP%]{width:400px;height:600px;position:relative;z-index:0;margin-bottom:20px}.content-area[_ngcontent-%COMP%]{flex:1 1 auto;overflow-y:auto;max-height:calc(100vh - 191px);display:flex;flex-direction:column;gap:10px}.spells[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.spells[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;vertical-align:top}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:20%;text-align:center}.spells[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), .spec[_ngcontent-%COMP%]   .talents[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:80%}.spell-icon[_ngcontent-%COMP%], .talent-icon[_ngcontent-%COMP%]{width:56px;height:56px}.spec-tabs[_ngcontent-%COMP%]{position:fixed;bottom:54px;left:50%;transform:translate(-50%);width:100%;max-width:400px;display:flex;justify-content:center;gap:20px;background:#222;z-index:1001}.spec-tabs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;width:auto;height:auto;display:block}.spec-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px}.spec-tabs[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:10px;width:100%;max-width:400px}.stats-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 10px 5px 0}.stat-label[_ngcontent-%COMP%]{font-weight:700}.stat-value[_ngcontent-%COMP%]{color:gold}.section-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;cursor:pointer;padding:.5rem;border-radius:4px}.pet-section[_ngcontent-%COMP%]{margin-top:1rem;padding-left:1rem;border-left:2px solid #ccc}.pet-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:.5rem;text-transform:capitalize}details[_ngcontent-%COMP%]{margin-bottom:1rem}summary[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.tab-buttons[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;display:flex;justify-content:center;background:transparent;padding:0;z-index:1000}.tab-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:48px;max-height:48px;width:auto;height:auto;display:block}.tab-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.tab-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007bff;color:#fff}.unequip-button[_ngcontent-%COMP%]{padding:5px 10px;background:#444;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:12px}.unequip-button[_ngcontent-%COMP%]:hover{background:#666}.player-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:200px;height:36px;margin:0 auto 20px;position:sticky;top:0;background:#fff;z-index:10;padding:0;cursor:pointer}.player-name[_ngcontent-%COMP%]{flex:1;padding:0;border:none;border-radius:0;text-align:center;font-size:16px;height:100%;display:flex;align-items:center;justify-content:center}.player-name-input[_ngcontent-%COMP%]{flex:1;padding:0 8px;border:1px solid #ccc;border-radius:4px;text-align:center;font-size:16px;height:100%;box-sizing:border-box}.role-icon2[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:30px;height:30px;pointer-events:none}.customization-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:5px;border-radius:4px;border:1px solid #ccc;min-width:120px}.centered-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:16px 0}.help-button[_ngcontent-%COMP%]{position:fixed;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006;z-index:1000}.help-button.top-left[_ngcontent-%COMP%]{top:10px;left:10px}.help-button.bottom-left[_ngcontent-%COMP%]{bottom:10px;left:10px}.help-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.help-overlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background:#000c;border-radius:10px;display:flex;flex-direction:column;z-index:2000;padding:20px;box-sizing:border-box}.help-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;color:#fff;font-size:16px;padding:10px}.help-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:1.5em}.help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.help-close-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;margin-top:10px;align-self:center}.help-close-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6b8cff,#3a5ed6)}.guild-bank-bar[_ngcontent-%COMP%]{position:fixed;bottom:127px;left:50%;transform:translate(-50%);width:100%;max-width:300px;display:flex;justify-content:center;gap:20px;background:#222;padding:5px;max-height:20px;z-index:1002}.guild-bank-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.bank-icon[_ngcontent-%COMP%]{width:20px;height:20px}.buy-button-container[_ngcontent-%COMP%]{position:fixed;bottom:160px;left:50%;transform:translate(-50%);width:100%;max-width:300px;display:flex;justify-content:center;z-index:1003}.buy-button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:5px;color:#fff;font-size:14px;cursor:pointer;width:100%;max-width:250px;transition:background .2s;display:flex;align-items:center;justify-content:center;gap:5px}.buy-button.can-afford[_ngcontent-%COMP%]{background:linear-gradient(to right,#00d4ff,#0057b8 0% 100%);transition:background .1s linear}.buy-button.cannot-afford[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff4500,#ff8c00)}.buy-button.owned[_ngcontent-%COMP%]{background:linear-gradient(45deg,#666,#999);cursor:not-allowed}.buy-button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}@keyframes _ngcontent-%COMP%_blueShift{0%{background:linear-gradient(to right,#00d4ff 0% 0%,#0057b8 0% 100%)}10%{background:linear-gradient(to right,#00d4ff 0% 10%,#0057b8 10% 100%)}20%{background:linear-gradient(to right,#00d4ff 0% 20%,#0057b8 20% 100%)}30%{background:linear-gradient(to right,#00d4ff 0% 30%,#0057b8 30% 100%)}40%{background:linear-gradient(to right,#00d4ff 0% 40%,#0057b8 40% 100%)}50%{background:linear-gradient(to right,#00d4ff 0% 50%,#0057b8 50% 100%)}60%{background:linear-gradient(to right,#00d4ff 0% 60%,#0057b8 60% 100%)}70%{background:linear-gradient(to right,#00d4ff 0% 70%,#0057b8 70% 100%)}80%{background:linear-gradient(to right,#00d4ff 0% 80%,#0057b8 80% 100%)}90%{background:linear-gradient(to right,#00d4ff 0% 90%,#0057b8 90% 100%)}to{background:linear-gradient(to right,#00d4ff 0% 100%,#0057b8 100% 100%)}}.spell-list[_ngcontent-%COMP%]{margin-top:20px}.spell-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.spell-icon[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:10px}.spell-name[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.spell-tooltip[_ngcontent-%COMP%]{font-size:.9em;color:#e0dbdb}.combat-tables[_ngcontent-%COMP%]{margin-bottom:20px}.combat-table[_ngcontent-%COMP%]{margin-bottom:15px}.table-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px}.table-grid2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr;gap:5px}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#08014e;padding:5px;border:1px solid #ccc}.table-row[_ngcontent-%COMP%]{display:contents}.table-label[_ngcontent-%COMP%], .table-value[_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc}.table-label[_ngcontent-%COMP%]{font-weight:700}']});let e=n;return e})();var bP=(e,n)=>({"top-left":e,"bottom-left":n}),td=e=>({"active-swap":e});function IP(e,n){if(e&1){let t=we();g(0,"button",9),$("click",function(){L(t);let i=C();return V(i.toggleHelpOverlay())}),G(1,"img",10),h()}if(e&2){let t=C();w("ngClass",Eo(1,bP,t.menuSelected==="raidConfig"&&t.currentPlayer,!(t.menuSelected==="raidConfig"&&t.currentPlayer)))}}function TP(e,n){if(e&1){let t=we();g(0,"div",11),G(1,"div",12),en(2,"safeHtml"),g(3,"button",13),$("click",function(){L(t);let i=C();return V(i.toggleHelpOverlay())}),_(4,"OK"),h()()}if(e&2){let t=C();p(),w("innerHTML",Nr(2,1,t.getHelpContent()),St)}}function xP(e,n){if(e&1){let t=we();g(0,"div",14)(1,"button",15),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("mcr"))}),_(2,"MC Raiders"),h(),g(3,"button",15),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("tgif"))}),_(4,"TGIF"),h(),g(5,"button",15),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("mc"))}),_(6,"Molten Core"),h(),g(7,"button",15),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("dungeon"))}),_(8,"Dungeons"),h(),g(9,"button",15),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("raidConfig"))}),_(10,"Raid Setup"),h(),g(11,"button",15),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("settings"))}),_(12,"Settings"),h()()}}function MP(e,n){e&1&&(g(0,"video",18),G(1,"source",19),_(2," Your browser does not support the video tag. "),h())}function RP(e,n){e&1&&(g(0,"video",18),G(1,"source",20),_(2," Your browser does not support the video tag. "),h())}function AP(e,n){if(e&1&&(g(0,"div")(1,"div",16)(2,"h2"),_(3,"MCR Raiders"),h(),j(4,MP,3,0,"video",17)(5,RP,3,0,"video",17),_(6," (Music video by MyndFlame from Illegal Danish) "),G(7,"br")(8,"br"),_(9," Help dad-guild TGIF gear up and progress through Molten Core raid. How many weeks will it take you to down Rag? (coming soon"),g(10,"sup"),_(11,"\u2122"),h(),_(12,") "),h()()),e&2){let t=C();p(4),w("ngIf",!t.profanityFilter),p(),w("ngIf",t.profanityFilter)}}function PP(e,n){e&1&&(g(0,"div",21),G(1,"img",22),_(2,"Well met! 6/2/19 "),G(3,"img",23),_(4,"NAXX OUT! 12/20/20 "),G(5,"img",24),_(6,"For the Alliance! 2/21/21 "),G(7,"img",25),_(8,"RIP Elfenrir 3/22/21 "),G(9,"img",26),_(10,"RIP Skriblius 1/3/23 "),g(11,"h4"),_(12,"Quotes"),h(),g(13,"p"),_(14,'"Gault down!" - Gault'),h(),g(15,"p"),_(16,'"I would say 87% of my frustration basically is from Molten Core. Not even joking. That place is literal hell." - Halador'),h(),g(17,"p"),_(18,'"TGIF is LFM 7 more hunters to round out our raid group. 500g to each hunter who joins" - Secant'),h(),g(19,"p"),_(20,`"Hey! We don't play with doors." - Cosine`),h()())}function NP(e,n){e&1&&(g(0,"div"),G(1,"app-moltencore"),h())}function OP(e,n){if(e&1){let t=we();Rr(0),g(1,"button",30),$("click",function(){L(t);let i=C().$implicit,o=C(3);return V(o.handlePlayerClick(i))}),g(2,"div",31),_(3),h(),_(4),h(),G(5,"img",32),Ar()}if(e&2){let t=C().$implicit,r=C(3);p(),w("ngStyle",r.getCellStyle(t)),p(2),ue(" ",r.getGearScore(t.NAME).toFixed(1)," "),p(),ue(" ",t.NAME," "),p(),w("src","assets/icons/role_"+r.getRole(t.CLASSID,t.SPEC)+"2.png",Re)}}function kP(e,n){if(e&1&&(g(0,"td",29),j(1,OP,6,4,"ng-container",4),h()),e&2){let t=n.$implicit;p(),w("ngIf",t)}}function FP(e,n){if(e&1&&(g(0,"tr"),j(1,kP,2,1,"td",28),h()),e&2){let t=n.$implicit;p(),w("ngForOf",t)}}function LP(e,n){if(e&1){let t=we();g(0,"div",33)(1,"button",34),$("click",function(){L(t);let i=C(2);return V(i.toggleSwapMode())}),_(2," Swap Mode "),h(),g(3,"button",35),$("click",function(){L(t);let i=C(2);return V(i.optimizeGear())}),_(4,"Optimize Gear"),h()()}if(e&2){let t=C(2);p(),w("ngClass",gt(1,td,t.swapMode))}}function VP(e,n){if(e&1&&(g(0,"div")(1,"table"),j(2,FP,2,1,"tr",27),h(),j(3,LP,5,3,"div",7),h()),e&2){let t=C();p(2),w("ngForOf",t.grid),p(),w("ngIf",t.menuSelected==="raidConfig")}}function jP(e,n){if(e&1&&(g(0,"div",36),G(1,"app-dungeon",37),h()),e&2){let t=C();p(),w("players",t.players)("grid",t.grid)("guildBank",t.guildBank)("playerGearScores",t.playerGearScores)}}function HP(e,n){if(e&1){let t=we();g(0,"app-player-view",39),$("backToGridEvent",function(){L(t);let i=C(2);return V(i.backToGrid())}),h()}if(e&2){let t=C(2);w("currentPlayer",t.currentPlayer)("players",t.players)("guildBank",t.guildBank)}}function BP(e,n){if(e&1&&(g(0,"div"),j(1,HP,1,3,"app-player-view",38),h()),e&2){let t=C();p(),w("ngIf",t.currentPlayer)}}function UP(e,n){if(e&1){let t=we();g(0,"div",33)(1,"button",34),$("click",function(){L(t);let i=C();return V(i.toggleHelpButton())}),_(2),h(),g(3,"button",34),$("click",function(){L(t);let i=C();return V(i.toggleCompactTooltips())}),_(4),h(),g(5,"button",34),$("click",function(){L(t);let i=C();return V(i.toggleProfanity())}),_(6),h(),g(7,"button",40),$("pointerdown",function(){L(t);let i=C();return V(i.startResetProgress())})("pointerup",function(){L(t);let i=C();return V(i.cancelResetProgress())})("pointerleave",function(){L(t);let i=C();return V(i.cancelResetProgress())}),_(8," Reset Progress "),h(),g(9,"button",40),$("pointerdown",function(){L(t);let i=C();return V(i.startResetAll())})("pointerup",function(){L(t);let i=C();return V(i.cancelResetAll())})("pointerleave",function(){L(t);let i=C();return V(i.cancelResetAll())}),_(10," Reset Storage "),h()()}if(e&2){let t=C();p(),w("ngClass",gt(10,td,!t.showHelpButton)),p(),ue(" Help: ",t.showHelpButton?"On":"Off"," "),p(),w("ngClass",gt(12,td,t.useCompactTooltips)),p(),ue(" Tooltips: ",t.useCompactTooltips?"Small":"Normal"," "),p(),w("ngClass",gt(14,td,!t.profanityFilter)),p(),ue(" Profanity: ",t.profanityFilter?"Off":"On"," "),p(),Me("buying",t.isResettingP),p(2),Me("buying",t.isResettingA)}}function $P(e,n){if(e&1){let t=we();g(0,"button",41),$("click",function(){L(t);let i=C();return V(i.setMenuLevel("home"))}),G(1,"img",42),h()}e&2&&(p(),w("src","/assets/icons/achievement_bg_returnxflags_def_wsg.jpg",Re))}function zP(e,n){if(e&1){let t=we();g(0,"button",45),$("click",function(){L(t);let i=C(2);return V(i.forceUpdate())}),_(1,"Update"),h()}}function GP(e,n){if(e&1){let t=we();g(0,"button",15),$("click",function(){L(t);let i=C(2);return V(i.promptInstall())}),_(1,"Install"),h()}}function WP(e,n){if(e&1){let t=we();g(0,"button",45),$("click",function(){L(t);let i=C(2);return V(i.forceUpdate())}),_(1,"Reload"),h()}}function qP(e,n){e&1&&(g(0,"p"),_(1,"To install on iOS, share and choose 'Add to Home Screen'."),h())}function YP(e,n){if(e&1&&(g(0,"div"),_(1," Version 0.1.7 "),j(2,zP,2,0,"button",43)(3,GP,2,0,"button",44)(4,WP,2,0,"button",43)(5,qP,2,0,"p",4),h()),e&2){let t=C();p(2),w("ngIf",t.updateAvailable&&!t.showInstall),p(),w("ngIf",t.showInstall),p(),w("ngIf",!t.updateAvailable&&!t.showInstall),p(),w("ngIf",!t.isInstalled&&!t.showInstall&&t.onIOS)}}var zw=(()=>{let n=class n{constructor(r,i,o,a,s,l,c,u,f){this.http=i,this.swUpdate=o,this.animationService=a,this.statsService=s,this.dataService=l,this.utilityService=c,this.helpService=u,this.gearService=f,this.players=[],this.generalStats=$u,this.resistanceStats=Gu,this.spellPowerStats=zu,this.menuSelected="home",this.cachedStats=null,this.grid=[],this.currentPlayer=null,this.playerIndex=-1,this.guildBank={gold:0,fieryCores:0,lavaCores:0},this.isResettingA=!1,this.resetTimerA=null,this.isResettingP=!1,this.resetTimerP=null,this.showHelpButton=!0,this.showHelpOverlay=!1,this.useCompactTooltips=!1,this.clickX=null,this.clickY=null,this.playerGearScores=new Map,this.profanityFilter=!0,this.updateAvailable=!1,this.showInstall=!1,this.isInstalled=!1,this.swapMode=!1,this.firstSwapPlayer=null}ngOnInit(){window.CONTENT_PATH="/assets/modelviewer/classic/";let r=localStorage.getItem("players");if(r)try{this.players=JSON.parse(r),console.log("Loaded players from localStorage:",this.players),this.initPlayerDungeons(),this.loadAdditionalData()}catch(s){console.error("Error parsing saved players from localStorage:",s),this.loadFromCsv()}else this.loadFromCsv();let i=localStorage.getItem("guildBank");i?this.guildBank=JSON.parse(i):this.guildBank={gold:0,fieryCores:0,lavaCores:0};let o=localStorage.getItem("showHelpButton");o!==null&&o.toLowerCase()==="false"&&(this.showHelpButton=!1);let a=localStorage.getItem("useCompactTooltips");a!==null&&a.toLowerCase()==="true"&&(this.useCompactTooltips=!0),this.useCompactTooltips&&document.body.classList.add("compact-tooltip"),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.subscribe(s=>{s.type==="VERSION_READY"&&(console.log("New version available:",s),confirm("A new version is available. Reload now?")&&window.location.reload())}),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),this.installPromptEvent=s,this.showInstall=!0,console.log("PWA install prompt available")}),this.isInstalled=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),this.installPromptEvent=s,this.showInstallButton()}),window.addEventListener("appinstalled",s=>{console.log("The app was installed"),this.isInstalled=!0})}promptInstall(){this.installPromptEvent&&(this.installPromptEvent.prompt(),this.installPromptEvent.userChoice.then(r=>{r.outcome==="accepted"?(console.log("User accepted the install prompt"),this.showInstall=!1):console.log("User dismissed the install prompt"),this.installPromptEvent=null}))}onIOS(){let r=window.navigator;return"standalone"in r&&!r.standalone}forceUpdate(){this.updateAvailable?this.swUpdate.activateUpdate().then(()=>document.location.reload()):window.location.reload(!0)}showInstallButton(){this.showInstall=!0}hideInstallButton(){this.showInstall=!1}initPlayerDungeons(){this.players.forEach((r,i)=>{r.DUNGEON_EXP===void 0&&(r.DUNGEON_EXP=""),this.players[i]=M({},r)})}loadFromCsv(){this.http.get("assets/players.csv",{responseType:"text"}).subscribe({next:r=>{this.players=this.dataService.parseCsv(r,["RACE","GENDER","SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE","GROUP","POSITION","CLASSID","SPEC"]),this.players.forEach((i,o)=>{let a=Wn.find(s=>s.RACEID===+i.RACE&&s.GENDER===+i.GENDER);if(a){let s=a.options;i.SKIN=Math.floor(Math.random()*s.SKIN),i.FACE=Math.floor(Math.random()*s.FACE),i.HAIRSTYLE=Math.floor(Math.random()*s.HAIRSTYLE),i.HAIRCOLOR=Math.floor(Math.random()*s.HAIRCOLOR),i.FACIALSTYLE=Math.floor(Math.random()*s.FACIALSTYLE),this.players[o]=M({},i)}}),console.log("Randomized players:",this.players),this.initPlayerDungeons(),this.savePlayersToStorage(),this.loadAdditionalData()},error:r=>console.error("Failed to load players.csv:",r)})}loadAdditionalData(){this.dataService.loadAllData().subscribe({next:()=>{this.buildGrid()},error:r=>console.error("Failed to load additional data:",r)})}savePlayersToStorage(){this.dataService.saveVariableToStorage("players",this.players)}setMenuLevel(r){this.menuSelected==="dungeon"&&this.dungeonComponent.syncDataToService(),this.menuSelected=r,r==="home"?this.stopAllVideos():r==="raidConfig"?this.calcAllGearScores():r==="dungeon"&&setTimeout(()=>{this.dungeonComponent.syncDataFromService()},100)}toggleHelpOverlay(){this.showHelpOverlay=!this.showHelpOverlay}toggleHelpButton(){this.showHelpButton=!this.showHelpButton,localStorage.setItem("showHelpButton",`${this.showHelpButton}`)}toggleCompactTooltips(){this.useCompactTooltips=!this.useCompactTooltips,localStorage.setItem("useCompactTooltips",`${this.useCompactTooltips}`),this.useCompactTooltips?document.body.classList.add("compact-tooltip"):document.body.classList.remove("compact-tooltip")}getHelpContent(){return this.helpService.getHelpContent(this.menuSelected)}stopAllVideos(){document.querySelectorAll("video").forEach(i=>{i.pause(),i.currentTime=0})}buildGrid(){this.grid=Array.from({length:8},()=>Array(5).fill(null)),this.players.forEach((r,i)=>{let o=+r.GROUP-1,a=+r.POSITION-1;o>=0&&o<8&&a>=0&&a<5&&(this.grid[o][a]=r)})}getColor(r){return this.utilityService.getColor(r)}toggleProfanity(){this.profanityFilter=!this.profanityFilter}backToGrid(){this.currentPlayer=null,this.calcAllGearScores()}getRole(r,i){return this.utilityService.getRole(r,i)}startResetAll(){this.isResettingA=!0,this.resetTimerA=setTimeout(()=>{this.resetStorage(),this.isResettingA=!1},2e3)}cancelResetAll(){this.resetTimerA&&(clearTimeout(this.resetTimerA),this.resetTimerA=null,this.isResettingA=!1)}startResetProgress(){this.isResettingP=!0,this.resetTimerP=setTimeout(()=>{this.resetProgress(),this.isResettingP=!1},2e3)}cancelResetProgress(){this.resetTimerP&&(clearTimeout(this.resetTimerP),this.resetTimerP=null,this.isResettingP=!1)}viewPlayer(r){r&&(this.currentPlayer=M({},r))}calcAllGearScores(){this.playerGearScores.clear(),this.players.forEach((r,i)=>{let o=this.statsService.getPlayerGearScore(this.players,i);this.playerGearScores.set(r.NAME,o)})}getGearScore(r){return this.playerGearScores.get(r)??0}toggleSwapMode(){this.swapMode?(this.swapMode=!1,this.firstSwapPlayer=null):this.swapMode=!0}handlePlayerClick(r){if(!this.swapMode)return this.viewPlayer(r);if(r.GROUP&&r.POSITION){let i={name:r.NAME,group:+r.GROUP,pos:+r.POSITION};if(console.log(i),!this.firstSwapPlayer)this.firstSwapPlayer=i;else{if(this.firstSwapPlayer.group===i.group&&this.firstSwapPlayer.pos===i.pos){this.firstSwapPlayer=null,this.swapMode=!1;return}let a=this.grid.flat().filter(s=>s&&s.GROUP!=null&&s.POSITION!=null).find(s=>+s.GROUP===this.firstSwapPlayer.group&&+s.POSITION===this.firstSwapPlayer.pos);if(!a){console.warn("No matching player found for swap"),this.firstSwapPlayer=null,this.swapMode=!1;return}if(console.log("found both players"),this.firstSwapPlayer?.name){let s=this.players.findIndex(f=>f.NAME===(this.firstSwapPlayer?.name||"")),l=this.players.findIndex(f=>f.NAME===r.NAME),c=+r.GROUP,u=+r.POSITION;this.players[l].GROUP=+a.GROUP,this.players[l].POSITION=+a.POSITION,this.players[s].GROUP=c,this.players[s].POSITION=u,this.firstSwapPlayer=null,this.swapMode=!1,this.buildGrid(),this.savePlayersToStorage()}}}}updatePlayerGroups(){this.grid.forEach((r,i)=>{r.forEach((o,a)=>{if(o){let s=this.players.findIndex(l=>l.NAME===o.NAME);s!==-1&&(this.players[s].GROUP=i+1,this.players[s].POSITION=a+1)}})}),this.savePlayersToStorage()}getCellStyle(r){let i={"background-color":this.getColor(r.CLASSID),color:"black"};if(this.swapMode&&this.firstSwapPlayer)+r.GROUP===this.firstSwapPlayer.group&&+r.POSITION===this.firstSwapPlayer.pos?i.border="2px solid red":i.border="1px solid black";else return{"background-color":this.getColor(r.CLASSID),color:"black"};return i}onPlayerUpdated(r){console.log("Players updated:",r),this.players=r}onGuildBankUpdated(r){console.log("Guild bank updated:",r),this.guildBank=r}optimizeGear(){this.gearService.optimizeGear(this.players),this.savePlayersToStorage()}resetStorage(){localStorage.removeItem("players"),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()}resetProgress(){let r=[...this.players];this.http.get("assets/players.csv",{responseType:"text"}).subscribe({next:i=>{let o=this.dataService.parseCsv(i,["RACE","GENDER","SKIN","FACE","HAIRSTYLE","HAIRCOLOR","FACIALSTYLE","GROUP","POSITION","CLASSID","SPEC"]);this.players=o.map((a,s)=>{let l=r[s]||{};return ae(M({},a),{GROUP:l.GROUP||a.GROUP,POSITION:l.POSITION||a.POSITION,NAME:l.NAME||a.NAME,PET:l.PET||a.PET,CLASSID:l.CLASSID||a.CLASSID,SPEC:l.SPEC||a.SPEC,RACE:l.RACE||a.RACE,GENDER:l.GENDER||a.GENDER,SKIN:l.SKIN||a.SKIN,FACE:l.FACE||a.FACE,HAIRSTYLE:l.HAIRSTYLE||a.HAIRSTYLE,HAIRCOLOR:l.HAIRCOLOR||a.HAIRCOLOR,FACIALSTYLE:l.FACIALSTYLE||a.FACIALSTYLE})}),this.savePlayersToStorage(),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()},error:i=>{console.error("Failed to load players.csv:",i),this.savePlayersToStorage(),localStorage.removeItem("guildWeek"),localStorage.removeItem("guildBank"),localStorage.removeItem("dungeonAssignment"),localStorage.removeItem("dungeonProgress"),location.reload()}})}};n.\u0275fac=function(i){return new(i||n)(Y(Fe),Y(Lr),Y(Ku),Y(es),Y(qn),Y(bt),Y(nn),Y(Zu),Y(Qo))},n.\u0275cmp=Nt({type:n,selectors:[["app-root"]],viewQuery:function(i,o){if(i&1&&Vc(Jo,5),i&2){let a;qs(a=Ys())&&(o.dungeonComponent=a.first)}},standalone:!1,decls:14,vars:12,consts:[[1,"maincontainer"],["class","help-button",3,"ngClass","click",4,"ngIf"],["class","help-overlay",4,"ngIf"],["class","menu-buttons",4,"ngIf"],[4,"ngIf"],["class","tgif-section",4,"ngIf"],["class","dungeon-content",4,"ngIf"],["class","settings-buttons",4,"ngIf"],["class","return-home-btn",3,"click",4,"ngIf"],[1,"help-button",3,"click","ngClass"],["src","/assets/icons/inv_misc_questionmark.jpg","alt","Help"],[1,"help-overlay"],[1,"help-content",3,"innerHTML"],[1,"help-close-btn",3,"click"],[1,"menu-buttons"],[1,"menu-btn",3,"click"],[1,"mcr-video-section"],["class","mcr-video","controls","",4,"ngIf"],["controls","",1,"mcr-video"],["src","/assets/video/MCRaiders.mp4","type","video/mp4"],["src","/assets/video/MCRaiders_edit.mp4","type","video/mp4"],[1,"tgif-section"],["src","/assets/images/tabard.png","alt","TGIF success"],["src","/assets/images/kelthuzad.jpg","alt","Naxx done"],["src","/assets/images/tgif_shield.jpg","alt","TGIF success"],["src","/assets/images/elfenrir.png","alt",""],["src","/assets/images/skriblius.jpg","alt","RIP Skriblius"],[4,"ngFor","ngForOf"],["class","player-cell",4,"ngFor","ngForOf"],[1,"player-cell"],[3,"click","ngStyle"],[1,"player-gearscore"],["alt","role icon",1,"role-icon",3,"src"],[1,"settings-buttons"],[3,"click","ngClass"],[3,"click"],[1,"dungeon-content"],[3,"players","grid","guildBank","playerGearScores"],[3,"currentPlayer","players","guildBank","backToGridEvent",4,"ngIf"],[3,"backToGridEvent","currentPlayer","players","guildBank"],[3,"pointerdown","pointerup","pointerleave"],[1,"return-home-btn",3,"click"],[3,"src"],["nbButton","","outline","","status","danger","style","margin:0px 5px;","size","large","title","Force Update to Latest Version",3,"click",4,"ngIf"],["class","menu-btn",3,"click",4,"ngIf"],["nbButton","","outline","","status","danger","size","large","title","Force Update to Latest Version",2,"margin","0px 5px",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0),j(1,IP,2,4,"button",1)(2,TP,5,3,"div",2)(3,xP,13,0,"div",3)(4,AP,13,2,"div",4)(5,PP,21,0,"div",5)(6,NP,2,0,"div",4)(7,VP,4,2,"div",4)(8,jP,2,4,"div",6)(9,BP,2,1,"div",4)(10,UP,11,16,"div",7)(11,$P,2,1,"button",8)(12,YP,6,4,"div",4),h(),G(13,"router-outlet")),i&2&&(p(),w("ngIf",!o.currentPlayer&&o.showHelpButton),p(),w("ngIf",!o.currentPlayer&&o.showHelpOverlay),p(),w("ngIf",o.menuSelected==="home"),p(),w("ngIf",o.menuSelected==="mcr"),p(),w("ngIf",o.menuSelected==="tgif"),p(),w("ngIf",o.menuSelected==="mc"),p(),w("ngIf",!o.currentPlayer&&o.menuSelected==="raidConfig"),p(),w("ngIf",o.menuSelected==="dungeon"),p(),w("ngIf",o.menuSelected==="raidConfig"&&o.currentPlayer),p(),w("ngIf",o.menuSelected==="settings"),p(),w("ngIf",o.menuSelected!=="home"&&(o.menuSelected!=="raidConfig"||!o.currentPlayer)),p(),w("ngIf",o.menuSelected==="home"))},dependencies:[yi,kr,Ci,wi,Ma,Jo,Nw,ed,Qu],styles:[".maincontainer[_ngcontent-%COMP%]{background-color:#000;color:#fff;display:flex;flex-direction:column;align-items:center;padding:20px;box-sizing:border-box;min-width:100vw;overflow-x:auto}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%]{width:100px;height:50px;padding:0;text-align:center;vertical-align:middle}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,100px);gap:10px;margin-bottom:20px}.row[_ngcontent-%COMP%]{display:contents}.cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px;height:50px;cursor:pointer}.return-home-btn[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006}.settings-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin-top:20px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-touch-callout:none}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:14px 28px;font-size:1.1rem;font-weight:700;border-radius:10px;border:none;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;cursor:pointer;box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease;width:auto;min-width:200px;max-width:280px}.settings-buttons[_ngcontent-%COMP%]   button.active-swap[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff4e50,#f9d423);color:#fff;box-shadow:0 4px 10px #ff4e5080}.settings-buttons[_ngcontent-%COMP%]   button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.settings-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 3px 8px #0003}.return-home-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.player-cell[_ngcontent-%COMP%]{position:relative}.role-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;height:22px;pointer-events:none}.player-gearscore[_ngcontent-%COMP%]{font-size:.75em;color:#000;margin-top:0}.role-icon2[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:30px;height:30px;pointer-events:none}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;margin:20px auto}.menu-btn[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:16px 24px;border:none;border-radius:12px;font-size:1.2rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;cursor:pointer;color:#fff;background:linear-gradient(135deg,#ff6b6b,#f94d6a);box-shadow:0 4px 10px #00000040;transition:transform .15s ease,box-shadow .15s ease}.menu-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 14px #0000004d}.menu-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 3px 8px #0003}.mcr-video-section[_ngcontent-%COMP%]{margin-bottom:20px}.mcr-video[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.tgif-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;width:100%;height:auto;display:block;margin-bottom:10px}.help-button[_ngcontent-%COMP%]{position:fixed;width:36px;height:36px;border:none;background:#1a1a1a;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;box-shadow:0 2px 8px #0006;z-index:1000}.help-button.top-left[_ngcontent-%COMP%]{top:10px;left:10px}.help-button.bottom-left[_ngcontent-%COMP%]{bottom:10px;left:10px}.help-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.help-overlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:80%;background:#000c;border-radius:10px;display:flex;flex-direction:column;z-index:2000;padding:20px;box-sizing:border-box}.help-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;color:#fff;font-size:16px;padding:10px}.help-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:1.5em}.help-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px;margin:10px 0}.help-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.help-close-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background:linear-gradient(135deg,#4e73df,#224abe);color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;margin-top:10px;align-self:center}.help-close-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6b8cff,#3a5ed6)}.buy-button.buying[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blueShift 2s linear forwards}@keyframes _ngcontent-%COMP%_blueShift{0%{background:linear-gradient(to right,#00d4ff 0% 0%,#0057b8 0% 100%)}10%{background:linear-gradient(to right,#00d4ff 0% 10%,#0057b8 10% 100%)}20%{background:linear-gradient(to right,#00d4ff 0% 20%,#0057b8 20% 100%)}30%{background:linear-gradient(to right,#00d4ff 0% 30%,#0057b8 30% 100%)}40%{background:linear-gradient(to right,#00d4ff 0% 40%,#0057b8 40% 100%)}50%{background:linear-gradient(to right,#00d4ff 0% 50%,#0057b8 50% 100%)}60%{background:linear-gradient(to right,#00d4ff 0% 60%,#0057b8 60% 100%)}70%{background:linear-gradient(to right,#00d4ff 0% 70%,#0057b8 70% 100%)}80%{background:linear-gradient(to right,#00d4ff 0% 80%,#0057b8 80% 100%)}90%{background:linear-gradient(to right,#00d4ff 0% 90%,#0057b8 90% 100%)}to{background:linear-gradient(to right,#00d4ff 0% 100%,#0057b8 100% 100%)}}"]});let e=n;return e})();var Yg;function KP(){if(Yg==null){let e=typeof document<"u"?document.head:null;Yg=!!(e&&(e.createShadowRoot||e.attachShadow))}return Yg}function nd(e){if(KP()){let n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Fa(e){return e.composedPath?e.composedPath()[0]:e.target}function Gw(e){return e.buttons===0||e.detail===0}function Ww(e){let n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function zr(e){return e instanceof tt?e.nativeElement:e}var rd=new WeakMap,qw=(()=>{class e{_appRef;_injector=S(Fe);_environmentInjector=S(We);load(t){let r=this._appRef=this._appRef||this._injector.get(dt),i=rd.get(r);i||(i={loaders:new Set,refs:[]},rd.set(r,i),r.onDestroy(()=>{rd.get(r)?.refs.forEach(o=>o.destroy()),rd.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(_y(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Kg;try{Kg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Kg=!1}var Yw=(()=>{class e{_platformId=S(xr);isBrowser=this._platformId?xy(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Kg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ZP=20,Kw=(()=>{class e{_platform=S(Yw);_listeners;_viewportSize;_change=new se;_document=S(Ne);constructor(){let t=S(Ee),r=S(Qt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),a=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(t=ZP){return t>0?this._change.pipe(Rd(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({})}return e})();function Jg(e){let n=e.cloneNode(!0),t=n.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();n.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?Xw(e,n):(r==="input"||r==="select"||r==="textarea")&&Jw(e,n),Qw("canvas",e,n,Xw),Qw("input, textarea, select",e,n,Jw),n}function Qw(e,n,t,r){let i=n.querySelectorAll(e);if(i.length){let o=t.querySelectorAll(e);for(let a=0;a<i.length;a++)r(i[a],o[a])}}var QP=0;function Jw(e,n){n.type!=="file"&&(n.value=e.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${QP++}`)}function Xw(e,n){let t=n.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}function im(e){let n=e.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function Xg(e,n,t){let{top:r,bottom:i,left:o,right:a}=e;return t>=r&&t<=i&&n>=o&&n<=a}function JP(e,n){let t=n.left<e.left,r=n.left+n.width>e.right,i=n.top<e.top,o=n.top+n.height>e.bottom;return t||r||i||o}function ja(e,n,t){e.top+=n,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function eD(e,n,t,r){let{top:i,right:o,bottom:a,left:s,width:l,height:c}=e,u=l*n,f=c*n;return r>i-f&&r<a+f&&t>s-u&&t<o+u}var id=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:im(t)})})}handleScroll(n){let t=Fa(n),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,o,a;if(t===this._document){let c=this.getViewportScrollPosition();o=c.top,a=c.left}else o=t.scrollTop,a=t.scrollLeft;let s=i.top-o,l=i.left-a;return this.positions.forEach((c,u)=>{c.clientRect&&t!==u&&t.contains(u)&&ja(c.clientRect,s,l)}),i.top=o,i.left=a,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function dD(e,n){let t=e.rootNodes;if(t.length===1&&t[0].nodeType===n.ELEMENT_NODE)return t[0];let r=n.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function om(e,n,t){for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];i?e.setProperty(r,i,t?.has(r)?"important":""):e.removeProperty(r)}return e}function ts(e,n){let t=n?"":"none";om(e.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function tD(e,n,t){om(e.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function od(e,n){return n&&n!="none"?e+" "+n:e}function nD(e,n){e.style.width=`${n.width}px`,e.style.height=`${n.height}px`,e.style.transform=Ha(n.left,n.top)}function Ha(e,n){return`translate3d(${Math.round(e)}px, ${Math.round(n)}px, 0)`}function rD(e){let n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function XP(e){let n=getComputedStyle(e),t=Zg(n,"transition-property"),r=t.find(s=>s==="transform"||s==="all");if(!r)return 0;let i=t.indexOf(r),o=Zg(n,"transition-duration"),a=Zg(n,"transition-delay");return rD(o[i])+rD(a[i])}function Zg(e,n){return e.getPropertyValue(n).split(",").map(r=>r.trim())}var eN=new Set(["position"]),em=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,t,r,i,o,a,s,l,c,u){this._document=n,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=u}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),iD(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return XP(this._preview)}addEventListener(n,t){return this._renderer.listen(this._preview,n,t)}_createPreview(){let n=this._previewTemplate,t=this._previewClass,r=n?n.template:null,i;if(r&&n){let o=n.matchSize?this._initialDomRect:null,a=n.viewContainer.createEmbeddedView(r,n.context);a.detectChanges(),i=dD(a,this._document),this._previewEmbeddedView=a,n.matchSize?nD(i,o):i.style.transform=Ha(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Jg(this._rootElement),nD(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return om(i.style,{"pointer-events":"none",margin:iD(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},eN),ts(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}};function iD(e){return"showPopover"in e}var tN={passive:!0},oD={passive:!1},nN={passive:!1,capture:!0},rN=800,sD="cdk-drag-placeholder",aD=new Set(["position"]),tm=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=dn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new se;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=be.EMPTY;_pointerUpSubscription=be.EMPTY;_scrollSubscription=be.EMPTY;_resizeSubscription=be.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ts(t,n)))}_disabled=!1;beforeStarted=new se;started=new se;released=new se;ended=new se;entered=new se;exited=new se;dropped=new se;moved=this._moveEvents;data;constrainPosition;constructor(n,t,r,i,o,a,s){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new id(r),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(r=>zr(r)),this._handles.forEach(r=>ts(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let t=zr(n);if(t!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(t,"mousedown",this._pointerDown,oD),r.listen(t,"touchstart",this._pointerDown,tN),r.listen(t,"dragstart",this._nativeDragStart,oD)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?zr(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&JP(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let n=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),r=0,i=0;t.left<n.left?r=n.left-t.left:t.right>n.right&&(r=n.right-t.right),t.top<n.top?i=n.top-t.top:t.bottom>n.bottom&&(i=n.bottom-t.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+r,l=a+i;this._rootElement.style.transform=Ha(s,l),this._activeTransform={x:s,y:l},this._passiveTransform={x:s,y:l}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),ts(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),ts(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let t=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!s){this._endDragSequence(n);return}(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:n,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){La(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",iN,nN)}),r){let i=this._rootElement,o=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=new em(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),tD(i,!1,aD),this._document.body.appendChild(o.replaceChild(a,i)),this.started.next({source:this,event:n}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=La(t),o=!i&&t.button!==0,a=this._rootElement,s=Fa(t),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+rN>Date.now(),c=i?Ww(t):Gw(t);if(s&&s.draggable&&t.type==="mousedown"&&t.preventDefault(),r||o||l||c)return;if(this._handles.length){let y=a.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=im(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,t);let f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){tD(this._rootElement,!0,aD),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(n),o=this._getDragDistance(i),a=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:n}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:i,event:n}),t.drop(this,r,this._initialIndex,this._initialContainer,a,o,i,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,n,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,t):this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=s=>{(!s||this._preview&&Fa(s)===this._preview.element&&s.propertyName==="transform")&&(a(),r(),clearTimeout(o))},o=setTimeout(i,t*1.5),a=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,t=n?n.template:null,r;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),r=dD(this._placeholderRef,this._document)):r=Jg(this._rootElement),r.style.pointerEvents="none",r.classList.add(sD),r}_getPointerPositionInElement(n,t,r){let i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():n,a=La(r)?r.targetTouches[0]:r,s=this._getViewportScrollPosition(),l=a.pageX-o.left-s.left,c=a.pageY-o.top-s.top;return{x:o.left-n.left+l,y:o.top-n.top+c}}_getPointerPositionOnPage(n){let t=this._getViewportScrollPosition(),r=La(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=i,s.y=o,s.matrixTransform(a.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(n){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=s.top+a,f=s.bottom-(c-a),y=s.left+o,m=s.right-(l-o);r=lD(r,y,m),i=lD(i,u,f)}return{x:r,y:i}}_updatePointerDirectionDelta(n){let{x:t,y:r}=n,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-o.x),s=Math.abs(r-o.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),s>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,ts(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,t){let r=1/this.scale,i=Ha(n*r,t*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=od(i,this._initialTransform)}_applyPreviewTransform(n,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=Ha(n,t);this._preview.setTransform(od(i,r))}_getDragDistance(n){let t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(n===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,a=r.right-i.right,s=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(o>0&&(n+=o),a>0&&(n-=a)):n=0,i.height>r.height?(s>0&&(t+=s),l>0&&(t-=l)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){let t=this.dragStartDelay;return typeof t=="number"?t:La(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){let t=this._parentPositions.handleScroll(n);if(t){let r=Fa(n);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ja(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=nd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){let r=this._previewContainer||"global";if(r==="parent")return n;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return zr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let t=this._getTargetHandle(n);t&&!this._disabledHandles.has(t)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(t=>n.target&&(n.target===t||t.contains(n.target)))}_conditionallyInsertAnchor(n,t,r){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){let i=this._anchor??=Jg(this._placeholder);i.classList.remove(sD),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):zr(t.element).appendChild(i)}}};function lD(e,n,t){return Math.max(n,Math.min(t,e))}function La(e){return e.type[0]==="t"}function iN(e){e.preventDefault()}function fD(e,n,t){let r=cD(n,e.length-1),i=cD(t,e.length-1);if(r===i)return;let o=e[r],a=i<r?-1:1;for(let s=r;s!==i;s+=a)e[s]=e[s+a];e[i]=o}function cD(e,n){return Math.max(0,Math.min(n,e))}var sd=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,t,r,i){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,t,r,i);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",l=o.findIndex(b=>b.drag===n),c=o[a],u=o[l].clientRect,f=c.clientRect,y=l>a?1:-1,m=this._getItemOffsetPx(u,f,y),D=this._getSiblingOffsetPx(l,o,y),R=o.slice();return fD(o,l,a),o.forEach((b,x)=>{if(R[x]===b)return;let ce=b.drag===n,q=ce?m:D,N=ce?n.getPlaceholderElement():b.drag.getRootElement();b.offset+=q;let H=Math.round(b.offset*(1/b.drag.scale));s?(N.style.transform=od(`translate3d(${H}px, 0, 0)`,b.initialTransform),ja(b.clientRect,0,q)):(N.style.transform=od(`translate3d(0, ${H}px, 0)`,b.initialTransform),ja(b.clientRect,q,0))}),this._previousSwap.overlaps=Xg(f,t,r),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?i.x:i.y,{previousIndex:l,currentIndex:a}}enter(n,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(n,t,r):i,a=this._activeDraggables,s=a.indexOf(n),l=n.getPlaceholderElement(),c=a[o];if(c===n&&(c=a[o+1]),!c&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(c=a[0]),s>-1&&a.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let u=c.getRootElement();u.parentElement.insertBefore(l,u),a.splice(o,0,n)}else this._element.appendChild(l),a.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let t=n.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===n)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(t=>t.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,t){this._itemPositions.forEach(({clientRect:r})=>{ja(r,n,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:im(r)}}).sort((t,r)=>n?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,t,r){let i=this.orientation==="horizontal",o=i?t.left-n.left:t.top-n.top;return r===-1&&(o+=i?t.width-n.width:t.height-n.height),o}_getSiblingOffsetPx(n,t,r){let i=this.orientation==="horizontal",o=t[n].clientRect,a=t[n+r*-1],s=o[i?"width":"height"]*r;if(a){let l=i?"left":"top",c=i?"right":"bottom";r===-1?s-=a.clientRect[l]-o[c]:s+=o[l]-a.clientRect[c]}return s}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let a=r[r.length-1].clientRect;return i?n>=a.right:t>=a.bottom}else{let a=r[0].clientRect;return i?n<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(n,t,r,i){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===n)return!1;if(i){let c=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?t>=Math.floor(l.left)&&t<Math.floor(l.right):r>=Math.floor(l.top)&&r<Math.floor(l.bottom)});return a===-1||!this._sortPredicate(a,n)?-1:a}},nm=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,t){this._document=n,this._dragDropRegistry=t}start(n){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(n)}sort(n,t,r,i){let o=this._getItemIndexFromPointerPosition(n,t,r),a=this._previousSwap;if(o===-1||this._activeItems[o]===n)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===i.x&&a.deltaY===i.y)return null;let l=this.getItemIndex(n),c=n.getPlaceholderElement(),u=s.getRootElement();o>l?u.after(c):u.before(c),fD(this._activeItems,l,o);let f=this._getRootNode().elementFromPoint(t,r);return a.deltaX=i.x,a.deltaY=i.y,a.drag=s,a.overlaps=u===f||u.contains(f),{previousIndex:l,currentIndex:o}}enter(n,t,r,i){let o=this._activeItems.indexOf(n);o>-1&&this._activeItems.splice(o,1);let a=i==null||i<0?this._getItemIndexFromPointerPosition(n,t,r):i;a===-1&&(a=this._getClosestItemIndexToPointer(n,t,r));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,n),s.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===n&&i.nextSibling!==o&&(o===null?n.appendChild(i):o.parentNode===n&&n.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),o=i?this._activeItems.findIndex(a=>{let s=a.getRootElement();return i===s||s.contains(i)}):-1;return o===-1||!this._sortPredicate(o,n)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=nd(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==n){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),u=Math.hypot(t-l,r-c);u<i&&(i=u,o=a)}}return o}},uD=.05,hD=.05,rn=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(rn||{}),Rt=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(Rt||{}),rm=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new se;entered=new se;exited=new se;dropped=new se;sorted=new se;receivingStarted=new se;receivingStopped=new se;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=be.EMPTY;_verticalScrollDirection=rn.NONE;_horizontalScrollDirection=Rt.NONE;_scrollNode;_stopScrollTimers=new se;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o;let a=this.element=zr(n);this._document=r,this.withOrientation("vertical").withElementContainer(a),t.registerDropContainer(this),this._parentPositions=new id(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(n)),this._sortStrategy.enter(n,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,r,i,o,a,s,l={}){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:a,dropPoint:s,event:l})}withItems(n){let t=this._draggables;return this._draggables=n,n.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>n.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof sd&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new nm(this._document,this._dragDropRegistry);else{let t=new sd(this._dragDropRegistry);t.direction=this._direction,t.orientation=n,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(n){let t=this._container;return this._scrollableElements=n.indexOf(t)===-1?[t,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let t=zr(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(n);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,r,i){if(this.sortingDisabled||!this._domRect||!eD(this._domRect,uD,t,r))return;let o=this._sortStrategy.sort(n,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let r,i=rn.NONE,o=Rt.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||r||eD(a.clientRect,uD,n,t)&&([i,o]=oN(s,a.clientRect,this._direction,n,t),(i||o)&&(r=s))}),!i&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),l={width:a,height:s,top:0,right:a,bottom:s,left:0};i=pD(l,t),o=gD(l,n),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),xd(0,sl).pipe(Jr(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===rn.UP?n.scrollBy(0,-t):this._verticalScrollDirection===rn.DOWN&&n.scrollBy(0,t),this._horizontalScrollDirection===Rt.LEFT?n.scrollBy(-t,0):this._horizontalScrollDirection===Rt.RIGHT&&n.scrollBy(t,0)})};_isOverContainer(n,t){return this._domRect!=null&&Xg(this._domRect,n,t)}_getSiblingContainerFromPosition(n,t,r){return this._siblings.find(i=>i._canReceive(n,t,r))}_canReceive(n,t,r){if(!this._domRect||!Xg(this._domRect,t,r)||!this.enterPredicate(n,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(n,t){let r=this._activeSiblings;!r.has(n)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:t}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(n);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=nd(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}};function pD(e,n){let{top:t,bottom:r,height:i}=e,o=i*hD;return n>=t-o&&n<=t+o?rn.UP:n>=r-o&&n<=r+o?rn.DOWN:rn.NONE}function gD(e,n){let{left:t,right:r,width:i}=e,o=i*hD;return n>=t-o&&n<=t+o?Rt.LEFT:n>=r-o&&n<=r+o?Rt.RIGHT:Rt.NONE}function oN(e,n,t,r,i){let o=pD(n,i),a=gD(n,r),s=rn.NONE,l=Rt.NONE;if(o){let c=e.scrollTop;o===rn.UP?c>0&&(s=rn.UP):e.scrollHeight-c>e.clientHeight&&(s=rn.DOWN)}if(a){let c=e.scrollLeft;t==="rtl"?a===Rt.RIGHT?c<0&&(l=Rt.RIGHT):e.scrollWidth+c>e.clientWidth&&(l=Rt.LEFT):a===Rt.LEFT?c>0&&(l=Rt.LEFT):e.scrollWidth-c>e.clientWidth&&(l=Rt.RIGHT)}return[s,l]}var Va={capture:!0},Qg={passive:!1,capture:!0},sN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Nt({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return e})(),aN=(()=>{class e{_ngZone=S(Ee);_document=S(Ne);_styleLoader=S(qw);_renderer=S(Qt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new se;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=dn([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new se;pointerUp=new se;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,Qg)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(sN),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),Va],["selectstart",this._preventDefaultWhileDragging,Qg]];i?a.push(["touchend",o,Va],["touchcancel",o,Va]):a.push(["mouseup",o,Va]),i||a.push(["mousemove",s=>this.pointerMove.next(s),Qg]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,l,c])=>this._renderer.listen(this._document,s,l,c))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this._scroll];return t&&t!==this._document&&r.push(new re(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(t,"scroll",a=>{this._activeDragInstances().length&&i.next(a)},Va);return()=>{o()}}))),Md(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lN={dragStartThreshold:5,pointerDirectionChangeThreshold:5},cN=(()=>{class e{_document=S(Ne);_ngZone=S(Ee);_viewportRuler=S(Kw);_dragDropRegistry=S(aN);_renderer=S(Qt).createRenderer(null,null);constructor(){}createDrag(t,r=lN){return new tm(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new rm(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ge({type:e});static \u0275inj=Le({providers:[cN],imports:[Zw]})}return e})();var vD=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=Ge({type:n,bootstrap:[zw]}),n.\u0275inj=Le({imports:[Qp,fr,Oo,Cw,rg,mD,Jo,ed,Aw.register("ngsw-worker.js",{enabled:!gy(),registrationStrategy:"registerWhenStable:30000"})]});let e=n;return e})();Zp().bootstrapModule(vD).catch(e=>console.error(e));
